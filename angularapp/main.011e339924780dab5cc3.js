(self.webpackChunkclinica_tp=self.webpackChunkclinica_tp||[]).push([[179],{8255:Xe=>{function Te(V){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+V+"'");throw f.code="MODULE_NOT_FOUND",f})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Xe.exports=Te},3018:(Xe,Te,V)=>{"use strict";V.d(Te,{deG:()=>ca,tb:()=>Dw,AFp:()=>SD,ip1:()=>bw,CZH:()=>Uc,hGG:()=>$g,z2F:()=>U_,sBO:()=>gI,Sil:()=>Bc,_Vd:()=>Jh,EJc:()=>RD,SBq:()=>Mo,qLn:()=>_e,vpe:()=>Lo,gxx:()=>Th,tBr:()=>ac,XFs:()=>Re,OlP:()=>vn,zs3:()=>kn,ZZ4:()=>Un,aQg:()=>In,soG:()=>Cf,YKP:()=>vI,v3s:()=>Cx,h0i:()=>cd,PXZ:()=>vx,R0b:()=>qr,FiY:()=>Ri,Lbi:()=>R_,g9A:()=>Iw,Qsj:()=>lS,FYo:()=>e_,JOm:()=>ya,Tiy:()=>I0,q3G:()=>pn,tp0:()=>ga,EAV:()=>ZD,Rgc:()=>tf,dDg:()=>BD,DyG:()=>sc,q4F:()=>n_,GfV:()=>D0,s_b:()=>Xn,ifc:()=>dn,eFA:()=>kw,G48:()=>$D,Gpc:()=>de,X6Q:()=>k_,_c5:()=>z_,VLi:()=>mx,c2e:()=>xD,zSh:()=>Tp,wAp:()=>ot,vHH:()=>he,EiD:()=>tp,mCW:()=>ou,qzn:()=>hi,JVY:()=>fm,pB0:()=>gm,eBb:()=>Jf,L6k:()=>pm,LAX:()=>lc,cg1:()=>s0,Tjo:()=>Hw,kL8:()=>Vr,yhl:()=>ma,dqk:()=>j,sIi:()=>Rp,CqO:()=>ql,QGY:()=>Sy,F4k:()=>SC,RDi:()=>ji,AaK:()=>Z,z3N:()=>Ni,qOj:()=>Sp,TTD:()=>el,_Bn:()=>Qh,xp6:()=>xb,uIk:()=>Np,ekj:()=>Oy,Suo:()=>v_,Xpm:()=>Uo,lG2:()=>Of,Yz7:()=>rn,cJS:()=>wi,oAB:()=>ka,Yjl:()=>Fu,Y36:()=>Lh,_UZ:()=>xE,qZA:()=>Gl,TgZ:()=>Vh,EpF:()=>NE,n5z:()=>rc,Ikx:()=>n0,LFG:()=>Pn,$8M:()=>zi,NdJ:()=>xy,CRH:()=>Au,oxw:()=>Ny,Q6J:()=>Lp,s9C:()=>My,iGM:()=>uw,CHM:()=>nl,LSH:()=>Ji,kYT:()=>Os,YNc:()=>pE,_uU:()=>$E,hij:()=>Yp});var f=V(9765),ee=V(5319),F=V(7574),ce=V(6682),te=V(2441);var le=V(1307);function W(){return new f.xQ}function L(r){for(let i in r)if(r[i]===L)return i;throw Error("Could not find renamed property on target object.")}function Q(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Z(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Z).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function re(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const we=L({__forward_ref__:L});function de(r){return r.__forward_ref__=de,r.toString=function(){return Z(this())},r}function q(r){return ye(r)?r():r}function ye(r){return"function"==typeof r&&r.hasOwnProperty(we)&&r.__forward_ref__===de}class he extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Le(r){return"string"==typeof r?r:null==r?"":String(r)}function mt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Le(r)}function oe(r,i){const o=i?` in ${i}`:"";throw new he("201",`No provider for ${mt(r)} found${o}`)}function cn(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function rn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function wi(r){return{providers:r.providers||[],imports:r.imports||[]}}function xr(r){return si(r,wn)||si(r,oo)}function si(r,i){return r.hasOwnProperty(i)?r[i]:null}function oi(r){return r&&(r.hasOwnProperty(yr)||r.hasOwnProperty(it))?r[yr]:null}const wn=L({\u0275prov:L}),yr=L({\u0275inj:L}),oo=L({ngInjectableDef:L}),it=L({ngInjectorDef:L});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Bt;function ln(r){const i=Bt;return Bt=r,i}function Pt(r,i,o){const u=xr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Re.Optional?null:void 0!==i?i:void oe(Z(r),"Injector")}function Qe(r){return{toString:r}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),dn=(()=>((dn=dn||{})[dn.Emulated=0]="Emulated",dn[dn.None=2]="None",dn[dn.ShadowDom=3]="ShadowDom",dn))();const Rr="undefined"!=typeof globalThis&&globalThis,ao="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=Rr||"undefined"!=typeof global&&global||ao||$,qe={},$e=[],kt=L({\u0275cmp:L}),Qt=L({\u0275dir:L}),Kt=L({\u0275pipe:L}),Zr=L({\u0275mod:L}),Dt=L({\u0275loc:L}),Jt=L({\u0275fac:L}),nr=L({__NG_ELEMENT_ID__:L});let Pu=0;function Uo(r){return Qe(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||$e,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||dn.Emulated,id:"c",styles:r.styles||$e,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,m=r.pipes;return u.id+=Pu++,u.inputs=Ci(r.inputs,o),u.outputs=Ci(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Pa):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(ku):null,u})}function Pa(r){return rr(r)||function(r){return r[Qt]||null}(r)}function ku(r){return function(r){return r[Kt]||null}(r)}const Ms={};function ka(r){return Qe(()=>{const i={type:r.type,bootstrap:r.bootstrap||$e,declarations:r.declarations||$e,imports:r.imports||$e,exports:r.exports||$e,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Ms[r.id]=r.type),i})}function Os(r,i){return Qe(()=>{const o=$n(r,!0);o.declarations=i.declarations||$e,o.imports=i.imports||$e,o.exports=i.exports||$e})}function Ci(r,i){if(null==r)return qe;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const Of=Uo;function Fu(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function rr(r){return r[kt]||null}function $n(r,i){const o=r[Zr]||null;if(!o&&!0===i)throw new Error(`Type ${Z(r)} does not have '\u0275mod' property.`);return o}function Yr(r){return Array.isArray(r)&&"object"==typeof r[1]}function $t(r){return Array.isArray(r)&&!0===r[1]}function Va(r){return 0!=(8&r.flags)}function Vu(r){return 2==(2&r.flags)}function Qr(r){return 1==(1&r.flags)}function Di(r){return null!==r.template}function Qc(r){return 0!=(512&r[2])}function Nr(r,i){return r.hasOwnProperty(Jt)?r[Jt]:null}class Ti{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function el(){return po}function po(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ld),Ai}function Ai(){const r=go(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===qe)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Ld(r,i,o,u){const c=go(r)||function(r,i){return r[kf]=i}(r,{previous:qe,current:null}),d=c.current||(c.current={}),m=c.previous,y=this.declaredInputs[o],w=m[y];d[y]=new Ti(w&&w.currentValue,i,m===qe),r[u]=i}el.ngInherit=!0;const kf="__ngSimpleChanges__";function go(r){return r[kf]||null}let Ls;function ji(r){Ls=r}function sn(r){return!!r.listen}const Zo={createRenderer:(r,i)=>void 0!==Ls?Ls:"undefined"!=typeof document?document:void 0};function bt(r){for(;Array.isArray(r);)r=r[0];return r}function ja(r,i){return bt(i[r])}function vr(r,i){return bt(i[r.index])}function $i(r,i){return r.data[i]}function qn(r,i){const o=i[r];return Yr(o)?o:o[0]}function _o(r){return 4==(4&r[2])}function Ko(r){return 128==(128&r[2])}function Vs(r,i){return null==i?null:r[i]}function Yo(r){r[18]=0}function qu(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ut={lFrame:Ku(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tl(){return ut.bindingsEnabled}function Se(){return ut.lFrame.lView}function Tt(){return ut.lFrame.tView}function nl(r){return ut.lFrame.contextLView=r,r[8]}function _n(){let r=jd();for(;null!==r&&64===r.type;)r=r.parent;return r}function jd(){return ut.lFrame.currentTNode}function ai(r,i){const o=ut.lFrame;o.currentTNode=r,o.isParent=i}function Ha(){return ut.lFrame.isParent}function Xo(){return ut.isInCheckNoChangesMode}function Hi(r){ut.isInCheckNoChangesMode=r}function Gi(){return ut.lFrame.bindingIndex++}function rl(r,i){const o=ut.lFrame;o.bindingIndex=o.bindingRootIndex=r,ea(i)}function ea(r){ut.lFrame.currentDirectiveIndex=r}function Eo(){return ut.lFrame.currentQueryIndex}function il(r){ut.lFrame.currentQueryIndex=r}function Lf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Gd(r,i,o){if(o&Re.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Re.Host||(c=Lf(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=ut.lFrame=qd();return u.currentTNode=i,u.lView=r,!0}function wo(r){const i=qd(),o=r[1];ut.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function qd(){const r=ut.lFrame,i=null===r?null:r.child;return null===i?Ku(r):i}function Ku(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Wd(){const r=ut.lFrame;return ut.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const uv=Wd;function Vf(){const r=Wd();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Jr(){return ut.lFrame.selectedIndex}function qi(r){ut.lFrame.selectedIndex=r}function on(){const r=ut.lFrame;return $i(r.tView,r.selectedIndex)}function ta(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:T}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),w&&(r.viewHooks||(r.viewHooks=[])).push(-o,w),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=T&&(r.destroyHooks||(r.destroyHooks=[])).push(o,T)}}function na(r,i,o){ul(r,i,3,o)}function al(r,i,o,u){(3&r[2])===o&&ul(r,i,o,u)}function bo(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function ul(r,i,o,u){const d=null!=u?u:-1,m=i.length-1;let y=0;for(let w=void 0!==u?65535&r[18]:0;w<m;w++)if("number"==typeof i[w+1]){if(y=i[w],null!=u&&y>=u)break}else i[w]<0&&(r[18]+=65536),(y<d||-1==d)&&(cl(r,o,i,w),r[18]=(4294901760&r[18])+w+2),w++}function cl(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class Wa{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function an(r,i,o){const u=sn(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],y=o[c++],w=o[c++];u?r.setAttribute(i,y,w,m):i.setAttributeNS(m,y,w)}else{const m=d,y=o[++c];Qu(m)?u&&r.setProperty(i,m,y):u?r.setAttribute(i,m,y):i.setAttribute(m,y),c++}}return c}function Za(r){return 3===r||4===r||6===r}function Qu(r){return 64===r.charCodeAt(0)}function Ka(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Ju(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Ju(r,i,o,u,c){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function Xu(r){return-1!==r}function Ya(r){return 32767&r}function Qa(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Ja=!0;function ra(r){const i=Ja;return Ja=r,i}let Je=0;function vs(r,i){const o=Co(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,or(u.data,r),or(i,null),or(u.blueprint,null));const c=$s(r,i),d=r.injectorIndex;if(Xu(c)){const m=Ya(c),y=Qa(c,i),w=y[1].data;for(let I=0;I<8;I++)i[d+I]=y[m+I]|w[m+I]}return i[d+8]=c,d}function or(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Co(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function $s(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Fn(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(nr)&&(u=o[nr]),null==u&&(u=o[nr]=Je++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function im(r,i,o){if(o&Re.Optional)return r;oe(i,"NodeInjector")}function sa(r,i,o,u){if(o&Re.Optional&&void 0===u&&(u=null),0==(o&(Re.Self|Re.Host))){const c=r[9],d=ln(void 0);try{return c?c.get(i,u,o&Re.Optional):Pt(i,u,o&Re.Optional)}finally{ln(d)}}return im(u,i,o)}function ui(r,i,o,u=Re.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(nr)?r[nr]:void 0;return"number"==typeof i?i>=0?255&i:dl:i}(o);if("function"==typeof d){if(!Gd(i,r,u))return u&Re.Host?im(c,o,u):sa(i,o,u,c);try{const m=d(u);if(null!=m||u&Re.Optional)return m;oe(o)}finally{uv()}}else if("number"==typeof d){let m=null,y=Co(r,i),w=-1,I=u&Re.Host?i[16][6]:null;for((-1===y||u&Re.SkipSelf)&&(w=-1===y?$s(r,i):i[y+8],-1!==w&&Io(u,!1)?(m=i[1],y=Ya(w),i=Qa(w,i)):y=-1);-1!==y;){const T=i[1];if(jf(d,y,T.data)){const R=tc(y,i,o,m,u,I);if(R!==Yd)return R}w=i[y+8],-1!==w&&Io(u,i[1].data[y+8]===I)&&jf(d,y,i)?(m=T,y=Ya(w),i=Qa(w,i)):y=-1}}}return sa(i,o,u,c)}const Yd={};function dl(){return new ci(_n(),Se())}function tc(r,i,o,u,c,d){const m=i[1],y=m.data[r+8],T=oa(y,m,o,null==u?Vu(y)&&Ja:u!=m&&0!=(3&y.type),c&Re.Host&&d===y);return null!==T?aa(i,m,T,y):Yd}function oa(r,i,o,u,c){const d=r.providerIndexes,m=i.data,y=1048575&d,w=r.directiveStart,T=d>>20,O=c?y+T:r.directiveEnd;for(let B=u?y:y+T;B<O;B++){const H=m[B];if(B<w&&o===H||B>=w&&H.type===o)return B}if(c){const B=m[w];if(B&&Di(B)&&B.type===o)return w}return null}function aa(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof Wa}(c)){const m=c;m.resolving&&function(r,i){throw new he("200",`Circular dependency in DI detected for ${r}`)}(mt(d[o]));const y=ra(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?ln(m.injectImpl):null;Gd(r,u,Re.Default);try{c=r[o]=m.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const m=po(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==w&&ln(w),ra(y),m.resolving=!1,uv()}}return c}function jf(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Io(r,i){return!(r&Re.Self||r&Re.Host&&i)}class ci{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return ui(this._tNode,this._lView,i,void 0,o)}}function rc(r){return Qe(()=>{const i=r.prototype.constructor,o=i[Jt]||ic(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[Jt]||ic(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function ic(r){return ye(r)?()=>{const i=ic(q(r));return i&&i()}:Nr(r)}function zi(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(Za(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(_n(),r)}const Hs="__parameters__";function ua(r,i,o){return Qe(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return y.annotation=m,y;function y(w,I,T){const R=w.hasOwnProperty(Hs)?w[Hs]:Object.defineProperty(w,Hs,{value:[]})[Hs];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(m),w}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class vn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ca=new vn("AnalyzeForEntryComponents"),sc=Function;function li(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),li(u,i)):i!==r&&i.push(u)}return i}function Xr(r,i){r.forEach(o=>Array.isArray(o)?Xr(o,i):i(o))}function Ki(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function bs(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function C(r,i,o){let u=x(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function D(r,i){const o=x(r,i);if(o>=0)return r[1|o]}function x(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=r[d<<o];if(i===m)return d<<o;m>i?c=d:u=d+1}return~(c<<o)}(r,i,1)}const Yi={},eu="__NG_DI_FLAG__",di="ngTempTokenPath",Cs=/\n/gm,yl="__source",vl=L({provide:String,useValue:L});let fa;function tu(r){const i=fa;return fa=r,i}function lv(r,i=Re.Default){if(void 0===fa)throw new Error("inject() must be called from an injection context");return null===fa?Pt(r,void 0,i):fa.get(r,i&Re.Optional?null:void 0,i)}function Pn(r,i=Re.Default){return(Bt||lv)(q(r),i)}function pa(r){const i=[];for(let o=0;o<r.length;o++){const u=q(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Re.Default;for(let m=0;m<u.length;m++){const y=u[m],w=am(y);"number"==typeof w?-1===w?c=y.token:d|=w:c=y}i.push(Pn(c,d))}else i.push(Pn(u))}return i}function oc(r,i){return r[eu]=i,r.prototype[eu]=i,r}function am(r){return r[eu]}function ur(r,i,o,u){const c=r[di];throw i[yl]&&c.unshift(i[yl]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=Z(i);if(Array.isArray(i))c=i.map(Z).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):Z(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Cs,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[di]=null,r}const ac=oc(ua("Inject",r=>({token:r})),-1),Ri=oc(ua("Optional"),8),ga=oc(ua("SkipSelf"),4);let To;function zs(r){var i;return(null===(i=function(){if(void 0===To&&(To=null,j.trustedTypes))try{To=j.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return To}())||void 0===i?void 0:i.createHTML(r))||r}class iu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class pv extends iu{getTypeName(){return"HTML"}}class cb extends iu{getTypeName(){return"Style"}}class su extends iu{getTypeName(){return"Script"}}class hm extends iu{getTypeName(){return"URL"}}class Qf extends iu{getTypeName(){return"ResourceURL"}}function Ni(r){return r instanceof iu?r.changingThisBreaksApplicationSecurity:r}function hi(r,i){const o=ma(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function ma(r){return r instanceof iu&&r.getTypeName()||null}function fm(r){return new pv(r)}function pm(r){return new cb(r)}function Jf(r){return new su(r)}function lc(r){return new hm(r)}function gm(r){return new Qf(r)}class oh{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(zs(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class mm{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=zs(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=zs(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const ym=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ah=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ou(r){return(r=String(r)).match(ym)||r.match(ah)?r:"unsafe:"+r}function Ds(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function au(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const uh=Ds("area,br,col,hr,img,wbr"),vm=Ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tl=Ds("rp,rt"),ch=au(uh,au(vm,Ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),au(Tl,Ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),au(Tl,vm)),lh=Ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Al=Ds("srcset"),wm=au(lh,Al,Ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sl=Ds("script,style,template");class dh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!ch.hasOwnProperty(o))return this.sanitizedSomething=!0,!Sl.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,y=m.toLowerCase();if(!wm.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=d.value;lh[y]&&(w=ou(w)),Al[y]&&(r=w,w=(r=String(r)).split(",").map(i=>ou(i.trim())).join(", ")),this.buf.push(" ",m,'="',Cm(w),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();ch.hasOwnProperty(o)&&!uh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Cm(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const bm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ep=/([^\#-~ |!])/g;function Cm(r){return r.replace(/&/g,"&amp;").replace(bm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(ep,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xl;function tp(r,i){let o=null;try{xl=xl||function(r){const i=new mm(r);return function(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch(r){return!1}}()?new oh(i):i}(r);let u=i?String(i):"";o=xl.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=xl.getInertBodyElement(u)}while(u!==d);return zs((new dh).sanitizeChildren(hh(o)||o))}finally{if(o){const u=hh(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function hh(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function Ji(r){const i=function(){const r=Se();return r&&r[12]}();return i?i.sanitize(pn.URL,r)||"":hi(r,"URL")?Ni(r):ou(Le(r))}const gh="__ngContext__";function en(r,i){r[gh]=i}function br(r){const i=function(r){return r[gh]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function A(r){return r.ngOriginalError}function z(r,...i){r.error(...i)}class _e{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||z;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(A(i)):null}_findOriginalError(i){let o=i&&A(i);for(;o&&A(o);)o=A(o);return o||null}}const lp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Xi(r){return r instanceof Function?r():r}var ya=(()=>((ya=ya||{})[ya.Important=1]="Important",ya[ya.DashCase=2]="DashCase",ya))();function _v(r,i){return undefined(r,i)}function yh(r){const i=r[3];return $t(i)?i[3]:i}function Om(r){return gb(r[13])}function wv(r){return gb(r[4])}function gb(r){for(;null!==r&&!$t(r);)r=r[4];return r}function _h(r,i,o,u,c){if(null!=u){let d,m=!1;$t(u)?d=u:Yr(u)&&(m=!0,u=u[0]);const y=bt(u);0===r&&null!==o?null==c?Fm(i,o,y):_a(i,o,y,c||null,!0):1===r&&null!==o?_a(i,o,y,c||null,!0):2===r?function(r,i,o){const u=Vm(r,i);u&&function(r,i,o,u){sn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==bt(o)&&_h(i,r,u,d,c);for(let y=10;y<o.length;y++){const w=o[y];fp(w[1],w,r,i,u,d)}}(i,r,d,o,c)}}function Cv(r,i,o){return sn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function yb(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,qu(c,-1)),o.splice(u,1)}function Dv(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&yb(c,u),i>0&&(r[o-1][4]=u[4]);const d=bs(r,10+i);!function(r,i){fp(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function _b(r,i){if(!(256&i[2])){const o=i[11];sn(o)&&o.destroyNode&&fp(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return km(r[1],r);for(;i;){let o=null;if(Yr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Yr(i)&&km(i[1],i),i=i[3];null===i&&(i=r),Yr(i)&&km(i[1],i),o=i&&i[4]}i=o}}(i)}}function km(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Wa)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=c[d[m]],w=d[m+1];try{w.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],y="function"==typeof m?m(i):bt(i[m]),w=u[c=o[d+2]],I=o[d+3];"boolean"==typeof I?y.removeEventListener(o[d],w,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&sn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&$t(i[3])){o!==i[3]&&yb(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Mi(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===dn.None||c===dn.Emulated)return null}return vr(u,o)}(r,i.parent,o)}function _a(r,i,o,u,c){sn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function Fm(r,i,o){sn(r)?r.appendChild(i,o):i.appendChild(o)}function Lm(r,i,o,u,c){null!==u?_a(r,i,o,u,c):Fm(r,i,o)}function Vm(r,i){return sn(r)?r.parentNode(i):i.parentNode}let Tv=function(r,i,o){return 40&r.type?vr(r,o):null};function hp(r,i,o,u){const c=Mi(r,u,i),d=i[11],y=function(r,i,o){return Tv(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let w=0;w<o.length;w++)Lm(d,c,o[w],y,!1);else Lm(d,c,o,y,!1)}function wh(r,i){if(null!==i){const o=i.type;if(3&o)return vr(i,r);if(4&o)return lu(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return wh(r,u);{const c=r[i.index];return $t(c)?lu(-1,c):bt(c)}}if(32&o)return _v(i,r)()||bt(r[i.index]);{const u=OT(r,i);return null!==u?Array.isArray(u)?u[0]:wh(yh(r[16]),u):wh(r,i.next)}}return null}function OT(r,i){return null!==i?r[16][6].projection[i.projection]:null}function lu(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return wh(u,c)}return i[7]}function Rv(r,i,o,u,c,d,m){for(;null!=o;){const y=u[o.index],w=o.type;if(m&&0===i&&(y&&en(bt(y),u),o.flags|=4),64!=(64&o.flags))if(8&w)Rv(r,i,o.child,u,c,d,!1),_h(i,r,c,y,d);else if(32&w){const I=_v(o,u);let T;for(;T=I();)_h(i,r,c,T,d);_h(i,r,c,y,d)}else 16&w?Nv(r,i,u,o,c,d):_h(i,r,c,y,d);o=m?o.projectionNext:o.next}}function fp(r,i,o,u,c,d){Rv(o,u,r.firstChild,i,c,d,!1)}function Nv(r,i,o,u,c,d){const m=o[16],w=m[6].projection[u.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)_h(i,r,c,w[I],d);else Rv(r,i,w,m[3],c,d,!0)}function wb(r,i,o){sn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Bm(r,i,o){sn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function bb(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const Cb="ng-template";function Mv(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==bb(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Ib(r){return 4===r.type&&r.value!==Cb}function LT(r,i,o){return i===(4!==r.type||o?r.value:Cb)}function Db(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(Za(r[i]))return i;return r.length}(c);let m=!1;for(let y=0;y<i.length;y++){const w=i[y];if("number"!=typeof w){if(!m)if(4&u){if(u=2|1&u,""!==w&&!LT(r,w,o)||""===w&&1===i.length){if(So(u))return!1;m=!0}}else{const I=8&u?w:i[++y];if(8&u&&null!==r.attrs){if(!Mv(r.attrs,I,o)){if(So(u))return!1;m=!0}continue}const R=dR(8&u?"class":w,c,Ib(r),o);if(-1===R){if(So(u))return!1;m=!0;continue}if(""!==I){let O;O=R>d?"":c[R+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==bb(B,I,0)||2&u&&I!==O){if(So(u))return!1;m=!0}}}}else{if(!m&&!So(u)&&!So(w))return!1;if(m&&So(w))continue;m=!1,u=w|1&u}}return So(u)||m}function So(r){return 0==(1&r)}function dR(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function Tb(r,i,o=!1){for(let u=0;u<i.length;u++)if(Db(r,i[u],o))return!0;return!1}function vc(r,i){return r?":not("+i.trim()+")":i}function va(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const y=r[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!So(m)&&(i+=vc(d,c),c=""),u=m,d=d||!So(u);o++}return""!==c&&(i+=vc(d,c)),i}const vt={};function xb(r){Rb(Tt(),Se(),Jr()+r,Xo())}function Rb(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&na(i,d,o)}else{const d=r.preOrderHooks;null!==d&&al(i,d,0,o)}qi(o)}function Ml(r,i){return r<<17|i<<2}function kr(r){return r>>17&32767}function Ea(r){return 2|r}function du(r){return(131068&r)>>2}function ei(r,i){return-131069&r|i<<2}function $m(r){return 1|r}function tA(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];il(c),m.contentQueries(2,i[d],d)}}}function hu(r,i,o,u,c,d,m,y,w,I){const T=i.blueprint.slice();return T[0]=c,T[2]=140|u,Yo(T),T[3]=T[15]=r,T[8]=o,T[10]=m||r&&r[10],T[11]=y||r&&r[11],T[12]=w||r&&r[12]||null,T[9]=I||r&&r[9]||null,T[6]=d,T[16]=2==i.type?r[16]:T,T}function fu(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=jd(),m=Ha(),w=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=w),null!==d&&(m?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(r,i,o,u,c),ut.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const r=ut.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ai(d,!0),d}function Ch(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function kl(r,i,o){wo(i);try{const u=r.viewQuery;null!==u&&Dh(1,u,o);const c=r.template;null!==c&&Lb(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&tA(r,i),r.staticViewQueries&&Dh(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)_R(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Vf()}}function pu(r,i,o,u){const c=i[2];if(256==(256&c))return;wo(i);const d=Xo();try{Yo(i),function(r){ut.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Lb(r,i,o,2,u);const m=3==(3&c);if(!d)if(m){const I=r.preOrderCheckHooks;null!==I&&na(i,I,null)}else{const I=r.preOrderHooks;null!==I&&al(i,I,0,null),bo(i,0)}if(function(r){for(let i=Om(r);null!==i;i=wv(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&qu(d,1),c[2]|=1024}}}(i),function(r){for(let i=Om(r);null!==i;i=wv(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Ko(u)&&pu(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&tA(r,i),!d)if(m){const I=r.contentCheckHooks;null!==I&&na(i,I)}else{const I=r.contentHooks;null!==I&&al(i,I,1),bo(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)qi(~c);else{const d=c,m=o[++u],y=o[++u];rl(m,d),y(2,i[d])}}}finally{qi(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)Zv(r,i[o])}(i,y);const w=r.viewQuery;if(null!==w&&Dh(2,w,u),!d)if(m){const I=r.viewCheckHooks;null!==I&&na(i,I)}else{const I=r.viewHooks;null!==I&&al(i,I,2),bo(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,qu(i[3],-1))}finally{Vf()}}function rA(r,i,o,u){const c=i[10],d=!Xo(),m=_o(i);try{d&&!m&&c.begin&&c.begin(),m&&kl(r,i,u),pu(r,i,o,u)}finally{d&&!m&&c.end&&c.end()}}function Lb(r,i,o,u,c){const d=Jr(),m=2&u;try{qi(-1),m&&i.length>20&&Rb(r,i,20,Xo()),o(u,c)}finally{qi(d)}}function $v(r,i,o){!tl()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||vs(o,i),en(u,i);const m=o.initialInputs;for(let y=c;y<d;y++){const w=r.data[y],I=Di(w);I&&mR(i,o,w);const T=aa(i,r,y,o);en(T,i),null!==m&&fA(0,y-c,T,w,0,m),I&&(qn(o.index,i)[8]=T)}}(r,i,o,vr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,y=ut.lFrame.currentDirectiveIndex;try{qi(m);for(let w=u;w<c;w++){const I=r.data[w],T=i[w];ea(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&lA(I,T)}}finally{qi(-1),ea(y)}}(r,i,o))}function Wm(r,i,o=vr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],y=-1===m?o(i,r):r[m];r[c++]=y}}}function Vb(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Hv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Hv(r,i,o,u,c,d,m,y,w,I){const T=20+u,R=T+c,O=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:vt);return o}(T,R),B="function"==typeof I?I():I;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:y,declTNode:i,data:O.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:B,incompleteFirstPass:!1}}function Zm(r,i,o,u){const c=Gb(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&ry(r).push(u,c.length-1))}function sA(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function Fr(r,i,o,u,c,d,m,y){const w=vr(i,o);let T,I=i.inputs;!y&&null!=I&&(T=I[u])?(iy(r,o,T,u,c),Vu(i)&&function(r,i){const o=qn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,i.value||"",u):c,sn(d)?d.setProperty(w,u,c):Qu(u)||(w.setProperty?w.setProperty(u,c):w[u]=c))}function wp(r,i,o,u){let c=!1;if(tl()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];Tb(o,m.selectors,!1)&&(c||(c=[]),Fn(vs(o,i),r,m.type),Di(m)?(Ih(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===u?null:{"":-1};if(null!==d){c=!0,dA(o,r.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,I=Ch(r,i,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];o.mergedAttrs=Ka(o.mergedAttrs,R.hostAttrs),hA(r,o,i,I,R),gR(I,R,m),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const O=R.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!w&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),w=!0),I++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,m=[];let y=null,w=null;for(let I=i.directiveStart;I<u;I++){const T=c[I],R=T.inputs,O=null===d||Ib(i)?null:yR(R,d);m.push(O),y=sA(R,I,y),w=sA(T.outputs,I,w)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=w}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new he("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,m)}return o.mergedAttrs=Ka(o.mergedAttrs,o.attrs),c}function Fl(r,i,o,u,c,d){const m=d.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const w=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=w&&y.push(w),y.push(u,c,m)}}function lA(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Ih(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function gR(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;Di(i)&&(o[""]=r)}}function dA(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function hA(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=Nr(c.type)),m=new Wa(d,Di(c),null);r.blueprint[u]=m,o[u]=m,Fl(r,i,0,u,Ch(r,o,c.hostVars,vt),c)}function mR(r,i,o){const u=vr(i,r),c=Vb(o),d=r[10],m=ey(r,hu(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=m}function Ca(r,i,o,u,c,d){const m=vr(r,i);!function(r,i,o,u,c,d,m){if(null==d)sn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==m?Le(d):m(d,u||"",c);sn(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],m,d,r.value,o,u,c)}function fA(r,i,o,u,c,d){const m=d[i];if(null!==m){const y=u.setInput;for(let w=0;w<m.length;){const I=m[w++],T=m[w++],R=m[w++];null!==y?u.setInput(o,R,I,T):o[T]=R}}}function yR(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Xm(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Zv(r,i){const o=qn(i,r);if(Ko(o)){const u=o[1];80&o[2]?pu(u,o,u.template,o[8]):o[5]>0&&Kv(o)}}function Kv(r){for(let u=Om(r);null!==u;u=wv(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];pu(m,d,m.template,d[8])}else d[5]>0&&Kv(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=qn(o[u],r);Ko(c)&&c[5]>0&&Kv(c)}}function _R(r,i){const o=qn(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),kl(u,o,o[8])}function ey(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function ty(r){for(;r;){r[2]|=64;const i=yh(r);if(Qc(r)&&!i)return r;r=i}return null}function Ip(r,i,o){const u=i[10];u.begin&&u.begin();try{pu(r,i,r.template,o)}catch(c){throw qb(i,c),c}finally{u.end&&u.end()}}function $b(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=br(o),c=u[1];rA(c,u,c.template,o)}}(r[8])}function Dh(r,i,o){il(0),i(r,o)}const Yv=(()=>Promise.resolve(null))();function Gb(r){return r[7]||(r[7]=[])}function ry(r){return r.cleanup||(r.cleanup=[])}function qb(r,i){const o=r[9],u=o?o.get(_e,null):null;u&&u.handleError(i)}function iy(r,i,o,u,c){for(let d=0;d<o.length;){const m=o[d++],y=o[d++],w=i[m],I=r.data[m];null!==I.setInput?I.setInput(w,c,u,y):w[y]=c}}function gu(r,i,o){const u=ja(i,r);!function(r,i,o){sn(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function Dp(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?d=y:1==d?c=re(c,y):2==d&&(u=re(u,y+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const Th=new vn("INJECTOR",-1);class Jv{get(i,o=Yi){if(o===Yi){const u=new Error(`NullInjectorError: No provider for ${Z(i)}!`);throw u.name="NullInjectorError",u}return o}}const Tp=new vn("Set Injector scope."),oy={},Xv={};let ay;function eE(){return void 0===ay&&(ay=new Jv),ay}function zb(r,i=null,o=null,u){return new Zb(r,o,i||eE(),u)}class Zb{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&Xr(o,y=>this.processProvider(y,i,o)),Xr([i],y=>this.processInjectorType(y,[],d)),this.records.set(Th,wc(void 0,this));const m=this.records.get(Tp);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:Z(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Yi,u=Re.Default){this.assertNotDestroyed();const c=tu(this),d=ln(void 0);try{if(!(u&Re.SkipSelf)){let y=this.records.get(i);if(void 0===y){const w=("function"==typeof(r=i)||"object"==typeof r&&r instanceof vn)&&xr(i);y=w&&this.injectableDefInScope(w)?wc(tE(i),oy):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Re.Self?eE():this.parent).get(i,o=u&Re.Optional&&o===Yi?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[di]=m[di]||[]).unshift(Z(i)),c)throw m;return ur(m,i,"R3InjectorError",this.source)}throw m}finally{ln(d),tu(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(Z(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=q(i)))return!1;let c=oi(i);const d=null==c&&i.ngModule||void 0,m=void 0===d?i:d,y=-1!==u.indexOf(m);if(void 0!==d&&(c=oi(d)),null==c)return!1;if(null!=c.imports&&!y){let T;u.push(m);try{Xr(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:O,providers:B}=T[R];Xr(B,H=>this.processProvider(H,O,B||$e))}}this.injectorDefTypes.add(m);const w=Nr(m)||(()=>new m);this.records.set(m,wc(w,oy));const I=c.providers;if(null!=I&&!y){const T=i;Xr(I,R=>this.processProvider(R,T,I))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=Ah(i=q(i))?i:q(i&&i.provide);const d=nE(r=i)?wc(void 0,r.useValue):wc(Yb(r),oy);var r;if(Ah(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=wc(void 0,oy,!0),m.factory=()=>pa(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===oy&&(o.value=Xv,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=q(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function tE(r){const i=xr(r),o=null!==i?i.factory:Nr(r);if(null!==o)return o;if(r instanceof vn)throw new Error(`Token ${Z(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${Z(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[wn]||r[oo]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function Yb(r,i,o){let u;if(Ah(r)){const c=q(r);return Nr(c)||tE(c)}if(nE(r))u=()=>q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...pa(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Pn(q(r.useExisting));else{const c=q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Nr(c)||tE(c);u=()=>new c(...pa(r.deps))}return u}function wc(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function nE(r){return null!==r&&"object"==typeof r&&vl in r}function Ah(r){return"function"==typeof r}const DA=function(r,i,o){return function(r,i=null,o=null,u){const c=zb(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let kn=(()=>{class r{static create(o,u){return Array.isArray(o)?DA(o,u,""):DA(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Yi,r.NULL=new Jv,r.\u0275prov=rn({token:r,providedIn:"any",factory:()=>Pn(Th)}),r.__NG_ELEMENT_ID__=-1,r})();function uC(r,i){ta(br(r)[1],_n())}function Sp(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(Di(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const m=r;m.inputs=gy(r.inputs),m.declaredInputs=gy(r.declaredInputs),m.outputs=gy(r.outputs);const y=c.hostBindings;y&&Pi(r,y);const w=c.viewQuery,I=c.contentQueries;if(w&&Oi(r,w),I&&lE(r,I),Q(r.inputs,c.inputs),Q(r.declaredInputs,c.declaredInputs),Q(r.outputs,c.outputs),Di(c)&&c.data.animation){const T=r.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(r),y===Sp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Ka(c.hostAttrs,o=Ka(o,c.hostAttrs))}}(u)}function gy(r){return r===qe?{}:r===$e?[]:r}function Oi(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function lE(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function Pi(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let xp=null;function Vl(){if(!xp){const r=j.Symbol;if(r&&r.iterator)xp=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(xp=u)}}}return xp}function Rp(r){return!!my(r)&&(Array.isArray(r)||!(r instanceof Map)&&Vl()in r)}function my(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function yi(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Np(r,i,o,u){const c=Se();return yi(c,Gi(),i)&&(Tt(),Ca(on(),c,r,i,o,u)),Np}function Rh(r,i,o,u){return yi(r,Gi(),o)?i+Le(o)+u:vt}function pE(r,i,o,u,c,d,m,y){const w=Se(),I=Tt(),T=r+20,R=I.firstCreatePass?function(r,i,o,u,c,d,m,y,w){const I=i.consts,T=fu(i,r,4,m||null,Vs(I,y));wp(i,o,T,Vs(I,w)),ta(i,T);const R=T.tViews=Hv(2,T,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,T),R.queries=i.queries.embeddedTView(T)),T}(T,I,w,i,o,u,c,d,m):I.data[T];ai(R,!1);const O=w[11].createComment("");hp(I,w,O,R),en(O,w),ey(w,w[T]=Xm(O,w,O,R)),Qr(R)&&$v(I,w,R),null!=m&&Wm(w,R,y)}function Lh(r,i=Re.Default){const o=Se();return null===o?Pn(r,i):ui(_n(),o,q(r),i)}function Lp(r,i,o){const u=Se();return yi(u,Gi(),i)&&Fr(Tt(),on(),u,r,i,u[11],o,!1),Lp}function Vp(r,i,o,u,c){const m=c?"class":"style";iy(r,o,i.inputs[m],m,u)}function Vh(r,i,o,u){const c=Se(),d=Tt(),m=20+r,y=c[11],w=c[m]=Cv(y,i,ut.lFrame.currentNamespace),I=d.firstCreatePass?function(r,i,o,u,c,d,m){const y=i.consts,I=fu(i,r,2,c,Vs(y,d));return wp(i,o,I,Vs(y,m)),null!==I.attrs&&Dp(I,I.attrs,!1),null!==I.mergedAttrs&&Dp(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(m,d,c,0,i,o,u):d.data[m];ai(I,!0);const T=I.mergedAttrs;null!==T&&an(y,w,T);const R=I.classes;null!==R&&Bm(y,w,R);const O=I.styles;null!==O&&wb(y,w,O),64!=(64&I.flags)&&hp(d,c,w,I),0===ut.lFrame.elementDepthCount&&en(w,c),ut.lFrame.elementDepthCount++,Qr(I)&&($v(d,c,I),function(r,i,o){if(Va(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,I,c)),null!==u&&Wm(c,I)}function Gl(){let r=_n();Ha()?ut.lFrame.isParent=!1:(r=r.parent,ai(r,!1));const i=r;ut.lFrame.elementDepthCount--;const o=Tt();o.firstCreatePass&&(ta(o,r),Va(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Vp(o,i,Se(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Vp(o,i,Se(),i.stylesWithoutHost,!1)}function xE(r,i,o,u){Vh(r,i,o,u),Gl()}function NE(){return Se()}function Sy(r){return!!r&&"function"==typeof r.then}function SC(r){return!!r&&"function"==typeof r.subscribe}const ql=SC;function xy(r,i,o,u){const c=Se(),d=Tt(),m=_n();return function(r,i,o,u,c,d,m,y){const w=Qr(u),T=r.firstCreatePass&&ry(r),R=i[8],O=Gb(i);let B=!0;if(3&u.type||y){const X=vr(u,i),ke=y?y(X):X,Ce=O.length,nt=y?ht=>y(bt(ht[u.index])):u.index;if(sn(o)){let ht=null;if(!y&&w&&(ht=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const y=i[7],w=c[d+2];return y.length>w?y[w]:null}"string"==typeof m&&(d+=2)}return null}(r,i,c,u.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=d,ht.__ngLastListenerFn__=d,B=!1;else{d=ME(u,i,R,d,!1);const St=o.listen(ke,c,d);O.push(d,St),T&&T.push(c,nt,Ce,Ce+1)}}else d=ME(u,i,R,d,!0),ke.addEventListener(c,d,m),O.push(d),T&&T.push(c,nt,Ce,m)}else d=ME(u,i,R,d,!1);const H=u.outputs;let ae;if(B&&null!==H&&(ae=H[c])){const X=ae.length;if(X)for(let ke=0;ke<X;ke+=2){const pr=i[ae[ke]][ae[ke+1]].subscribe(d),as=O.length;O.push(d,pr),T&&T.push(c,u.index,as,-(as+1))}}}(d,c,c[11],m,r,i,!!o,u),xy}function Ry(r,i,o,u){try{return!1!==o(u)}catch(c){return qb(r,c),!1}}function ME(r,i,o,u,c){return function d(m){if(m===Function)return u;const y=2&r.flags?qn(r.index,i):i;0==(32&i[2])&&ty(y);let w=Ry(i,0,u,m),I=d.__ngNextListenerFn__;for(;I;)w=Ry(i,0,I,m)&&w,I=I.__ngNextListenerFn__;return c&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Ny(r=1){return function(r){return(ut.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,ut.lFrame.contextLView))[8]}(r)}function My(r,i,o){return PE(r,"",i,"",o),My}function PE(r,i,o,u,c){const d=Se(),m=Rh(d,i,o,u);return m!==vt&&Fr(Tt(),on(),d,r,m,d[11],c,!1),PE}function Bh(r,i,o,u,c){const d=r[o+1],m=null===i;let y=u?kr(d):du(d),w=!1;for(;0!==y&&(!1===w||m);){const T=r[y+1];UA(r[y],i)&&(w=!0,r[y+1]=u?$m(T):Ea(T)),y=u?kr(T):du(T)}w&&(r[o+1]=u?Ea(d):$m(d))}function UA(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&x(r,i)>=0}function Oy(r,i){return function(r,i,o,u){const c=Se(),d=Tt(),m=function(r){const i=ut.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);d.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const d=c[Jr()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ut.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=yu(o=Fy(null,r,i,o,u),i.attrs,u),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=Fy(c,r,i,o,u),null===d){let w=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==du(u))return r[kr(u)]}(r,i,u);void 0!==w&&Array.isArray(w)&&(w=Fy(null,r,i,w[1],u),w=yu(w,i.attrs,u),function(r,i,o,u){r[kr(o?i.classBindings:i.styleBindings)]=u}(r,i,u,w))}else d=function(r,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=yu(u,r[d].hostAttrs,o);return yu(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function(r,i,o,u,c,d){let m=d?i.classBindings:i.styleBindings,y=kr(m),w=du(m);r[u]=o;let T,I=!1;if(Array.isArray(o)){const R=o;T=R[1],(null===T||x(R,T)>0)&&(I=!0)}else T=o;if(c)if(0!==w){const O=kr(r[y+1]);r[u+1]=Ml(O,y),0!==O&&(r[O+1]=ei(r[O+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=Ml(y,0),0!==y&&(r[y+1]=ei(r[y+1],u)),y=u;else r[u+1]=Ml(w,0),0===y?y=u:r[w+1]=ei(r[w+1],u),w=u;I&&(r[u+1]=Ea(r[u+1])),Bh(r,T,u,!0),Bh(r,T,u,!1),function(r,i,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&x(d,i)>=0&&(o[u+1]=$m(o[u+1]))}(i,T,r,u,d),m=Ml(y,w),d?i.classBindings=m:i.styleBindings=m}(c,d,i,o,m,u)}}(d,r,m,u),i!==vt&&yi(c,m,i)&&function(r,i,o,u,c,d,m,y){if(!(3&i.type))return;const w=r.data,I=w[y+1];Ly(function(r){return 1==(1&r)}(I)?LC(w,i,o,c,du(I),m):void 0)||(Ly(d)||function(r){return 2==(2&r)}(I)&&(d=LC(w,null,o,c,y,m)),function(r,i,o,u,c){const d=sn(r);if(i)c?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:ya.DashCase;if(null==c)d?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),m|=ya.Important),d?r.setStyle(o,u,c,m):o.style.setProperty(u,c,y?"important":"")}}}(u,m,ja(Jr(),o),c,d))}(d,d.data[Jr()],c,c[11],r,c[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Z(Ni(r)))),r}(i,o),u,m)}(r,i,null,!0),Oy}function Fy(r,i,o,u,c){let d=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(d=i[y],u=yu(u,d.hostAttrs,c),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function yu(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?c=m:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),C(r,m,!!o||i[++d]))}return void 0===r?null:r}function LC(r,i,o,u,c,d){const m=null===i;let y;for(;c>0;){const w=r[c],I=Array.isArray(w),T=I?w[1]:w,R=null===T;let O=o[c+1];O===vt&&(O=R?$e:void 0);let B=R?D(O,u):T===u?O:void 0;if(I&&!Ly(B)&&(B=D(w,u)),Ly(B)&&(y=B,m))return y;const H=r[c+1];c=m?kr(H):du(H)}if(null!==i){let w=d?i.residualClasses:i.residualStyles;null!=w&&(y=D(w,u))}return y}function Ly(r){return void 0!==r}function $E(r,i=""){const o=Se(),u=Tt(),c=r+20,d=u.firstCreatePass?fu(u,c,1,i,null):u.data[c],m=o[c]=function(r,i){return sn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);hp(u,o,m,d),ai(d,!1)}function Yp(r,i,o){const u=Se(),c=Rh(u,r,i,o);return c!==vt&&gu(u,Jr(),c),Yp}function n0(r,i,o){const u=Se();return yi(u,Gi(),i)&&Fr(Tt(),on(),u,r,i,u[11],o,!0),n0}const Yl=void 0;var KC=["en",[["a","p"],["AM","PM"],Yl],[["AM","PM"],Yl,Yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yl,"{1} 'at' {0}",Yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Hh={};function s0(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Ql(i);if(o)return o;const u=i.split("-")[0];if(o=Ql(u),o)return o;if("en"===u)return KC;throw new Error(`Missing locale data for the locale "${r}".`)}function Vr(r){return s0(r)[ot.PluralCase]}function Ql(r){return r in Hh||(Hh[r]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[r]),Hh[r]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const xc="en-US";let me=xc;function Me(r){cn(r,"Expected localeId to be defined"),"string"==typeof r&&(me=r.toLowerCase().replace(/_/g,"-"))}function ag(r,i,o,u,c){if(r=q(r),Array.isArray(r))for(let d=0;d<r.length;d++)ag(r[d],i,o,u,c);else{const d=Tt(),m=Se();let y=Ah(r)?r:q(r.provide),w=Yb(r);const I=_n(),T=1048575&I.providerIndexes,R=I.directiveStart,O=I.providerIndexes>>20;if(Ah(r)||!r.multi){const B=new Wa(w,c,Lh),H=rs(y,i,c?T:T+O,R);-1===H?(Fn(vs(I,m),d,y),ug(d,r,i.length),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(B),m.push(B)):(o[H]=B,m[H]=B)}else{const B=rs(y,i,T+O,R),H=rs(y,i,T,T+O),ae=B>=0&&o[B],X=H>=0&&o[H];if(c&&!X||!c&&!ae){Fn(vs(I,m),d,y);const ke=function(r,i,o,u,c){const d=new Wa(r,o,Lh);return d.multi=[],d.index=i,d.componentProviders=0,sd(d,c,u&&!o),d}(c?cg:aI,o.length,c,u,w);!c&&X&&(o[H].providerFactory=ke),ug(d,r,i.length,0),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(ke),m.push(ke)}else ug(d,r,B>-1?B:H,sd(o[c?H:B],w,!c&&u));!c&&u&&X&&o[H].componentProviders++}}}function ug(r,i,o,u){const c=Ah(i);if(c||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const w=y.indexOf(o);-1===w?y.push(o,[u,m]):y[w+1].push(u,m)}else y.push(o,m)}}}function sd(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function rs(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function aI(r,i,o,u){return Yy(this.multi,[])}function cg(r,i,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=aa(o,o[1],this.providerFactory.index,u);d=y.slice(0,m),Yy(c,d);for(let w=m;w<y.length;w++)d.push(y[w])}else d=[],Yy(c,d);return d}function Yy(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Qh(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=Tt();if(u.firstCreatePass){const c=Di(r);ag(o,u.data,u.blueprint,c,!0),ag(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class cI{}const E0="ngComponent";class Qy{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Z(r)}. Did you add it to @NgModule.entryComponents?`);return i[E0]=r,i}(i)}}let Jh=(()=>{class r{}return r.NULL=new Qy,r})();function bu(...r){}function ad(r,i){return new Mo(vr(r,i))}const Xh=function(){return ad(_n(),Se())};let Mo=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Xh,r})();function w0(r){return r instanceof Mo?r.nativeElement:r}class e_{}let lS=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>t_(),r})();const t_=function(){const r=Se(),o=qn(_n().index,r);return function(r){return r[11]}(Yr(o)?o:r)};let I0=(()=>{class r{}return r.\u0275prov=rn({token:r,providedIn:"root",factory:()=>null}),r})();class D0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const n_=new D0("12.2.10");class ef{constructor(){}supports(i){return Rp(i)}create(i){return new lI(i)}}const Rc=(r,i)=>i;class lI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Rc}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<hI(u,c,d)?o:u,y=hI(m,c,d),w=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const I=y-c,T=w-c;if(I!=T){for(let O=0;O<I;O++){const B=O<d.length?d[O]:d[O]=0,H=B+O;T<=H&&H<I&&(d[O]=B+1)}d[m.previousIndex]=T-I}}y!==w&&i(m,y,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Rp(i))throw new Error(`Error trying to diff '${Z(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],m=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Vl()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new dI(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new r_),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new r_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class dI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lg{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class r_{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new lg,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hI(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class Jn{constructor(){}supports(i){return i instanceof Map||my(i)}create(){return new Lt}}class Lt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||my(i)))throw new Error(`Error trying to diff '${Z(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new fI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class fI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T0(){return new Un([new ef])}let Un=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||T0()),deps:[[r,new ga,new Ri]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=rn({token:r,providedIn:"root",factory:T0}),r})();function Br(){return new In([new Jn])}let In=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Br()),deps:[[r,new ga,new Ri]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=rn({token:r,providedIn:"root",factory:Br}),r})();function dg(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(bt(d)),$t(d))for(let y=10;y<d.length;y++){const w=d[y],I=w[1].firstChild;null!==I&&dg(w[1],w,I,u)}const m=o.type;if(8&m)dg(r,i,o.child,u);else if(32&m){const y=_v(o,i);let w;for(;w=y();)u.push(w)}else if(16&m){const y=OT(i,o);if(Array.isArray(y))u.push(...y);else{const w=yh(i[16]);dg(w[1],w,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class hg{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return dg(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if($t(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Dv(i,u),bs(o,u))}this._attachedToViewContainer=!1}_b(this._lView[1],this._lView)}onDestroy(i){Zm(this._lView[1],this._lView,null,i)}markForCheck(){ty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ip(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Hi(!0);try{Ip(r,i,o)}finally{Hi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,fp(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class Ys extends hg{constructor(i){super(i),this._view=i}detectChanges(){$b(this._view)}checkNoChanges(){!function(r){Hi(!0);try{$b(r)}finally{Hi(!1)}}(this._view)}get context(){return null}}const pS=function(r){return function(r,i,o){if(Vu(r)&&!o){const u=qn(r.index,i);return new hg(u,u)}return 47&r.type?new hg(i[16],i):null}(_n(),Se(),16==(16&r))};let gI=(()=>{class r{}return r.__NG_ELEMENT_ID__=pS,r})();const mS=[new Jn],fg=new Un([new ef]),pg=new In(mS),mI=function(){return a_(_n(),Se())};let tf=(()=>{class r{}return r.__NG_ELEMENT_ID__=mI,r})();const _S=tf,yI=class extends _S{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=hu(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),kl(o,u,i),new hg(u)}};function a_(r,i){return 4&r.type?new yI(i,r,ad(r,i)):null}class cd{}class vI{}const ES=function(){return S0(_n(),Se())};let Xn=(()=>{class r{}return r.__NG_ELEMENT_ID__=ES,r})();const EI=Xn,nf=class extends EI{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return ad(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){const i=$s(this._hostTNode,this._hostLView);if(Xu(i)){const o=Qa(i,this._hostLView),u=Ya(i);return new ci(o[1].data[u+8],o)}return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Oo(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const w=m.get(cd,null);w&&(d=w)}const y=i.create(m,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if($t(u[3])){const T=this.indexOf(i);if(-1!==T)this.detach(T);else{const R=u[3],O=new nf(R,R[6],R[3]);O.detach(O.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],Ki(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,m,d);const y=lu(d,m),w=u[11],I=Vm(w,m[7]);return null!==I&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,fp(r,u,o,1,c,d)}(c,m[6],w,u,I,y),i.attachToViewContainerRef(),Ki(mg(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Oo(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Dv(this._lContainer,o);u&&(bs(mg(this._lContainer),o),_b(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Dv(this._lContainer,o);return u&&null!=bs(mg(this._lContainer),o)?new hg(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Oo(r){return r[8]}function mg(r){return r[8]||(r[8]=[])}function S0(r,i){let o;const u=i[r.index];if($t(u))o=u;else{let c;if(8&r.type)c=bt(u);else{const d=i[11];c=d.createComment("");const m=vr(r,i);_a(d,Vm(d,m),c,function(r,i){return sn(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=Xm(u,i,c,r),ey(i,o)}return new nf(o,r,i)}const Tu={};class H0 extends Jh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=rr(i);return new ZI(o,this.ngModule)}}function G0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const OS=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lp});class ZI extends cI{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(va).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return G0(this.componentDef.inputs)}get outputs(){return G0(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,Tu,c);return d!==Tu||u===Tu?d:i.get(o,u,c)}}}(i,c.injector):i,m=d.get(e_,Zo),y=d.get(I0,null),w=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",T=u?function(r,i,o){if(sn(r))return r.selectRootElement(i,o===dn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(w,u,this.componentDef.encapsulation):Cv(m.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),R=this.componentDef.onPush?576:528,O=function(r,i){return{components:[],scheduler:r||lp,clean:Yv,playerHandler:i||null,flags:0}}(),B=Hv(0,null,null,1,0,null,null,null,null,null),H=hu(null,B,O,R,null,null,m,w,y,d);let ae,X;wo(H);try{const ke=function(r,i,o,u,c,d){const m=o[1];o[20]=r;const w=fu(m,20,2,"#host",null),I=w.mergedAttrs=i.hostAttrs;null!==I&&(Dp(w,I,!0),null!==r&&(an(c,r,I),null!==w.classes&&Bm(c,r,w.classes),null!==w.styles&&wb(c,r,w.styles)));const T=u.createRenderer(r,i),R=hu(o,Vb(i),null,i.onPush?64:16,o[20],w,u,T,d||null,null);return m.firstCreatePass&&(Fn(vs(w,o),m,i.type),Ih(m,w),dA(w,o.length,1)),ey(o,R),o[20]=R}(T,this.componentDef,H,m,w);if(T)if(u)an(w,T,["ng-version",n_.full]);else{const{attrs:Ce,classes:nt}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!So(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ce&&an(w,T,Ce),nt&&nt.length>0&&Bm(w,T,nt.join(" "))}if(X=$i(B,20),void 0!==o){const Ce=X.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const ht=o[nt];Ce.push(null!=ht?Array.from(ht):null)}}ae=function(r,i,o,u,c){const d=o[1],m=function(r,i,o){const u=_n();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),hA(r,u,i,Ch(r,i,1,null),o));const c=aa(i,r,u.directiveStart,u);en(c,i);const d=vr(u,i);return d&&en(d,i),c}(d,o,i);if(u.components.push(m),r[8]=m,c&&c.forEach(w=>w(m,i)),i.contentQueries){const w=_n();i.contentQueries(1,m,w.directiveStart)}const y=_n();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(qi(y.index),Fl(o[1],y,0,y.directiveStart,y.directiveEnd,i),lA(i,m)),m}(ke,this.componentDef,H,O,[uC]),kl(B,H,null)}finally{Vf()}return new pf(this.componentType,ae,ad(X,H),H,X)}}class pf extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new Ys(c),this.componentType=i}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Pc=new Map;class PS extends cd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new H0(this);const u=$n(i),c=i[Dt]||null;c&&Me(c),this._bootstrapComponents=Xi(u.bootstrap),this._r3Injector=zb(i,o,[{provide:cd,useValue:this},{provide:Jh,useValue:this.componentFactoryResolver}],Z(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=kn.THROW_IF_NOT_FOUND,u=Re.Default){return i===kn||i===cd||i===Th?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Sg extends vI{constructor(i){super(),this.moduleType=i,null!==$n(i)&&function(r){const i=new Set;!function o(u){const c=$n(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Z(i)} vs ${Z(i.name)}`)}(d,Pc.get(d),u),Pc.set(d,u));const m=Xi(c.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new PS(this.moduleType,i)}}function tw(r){return i=>{setTimeout(r,void 0,i)}}const Lo=class extends f.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,m;let y=i,w=o||(()=>null),I=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),w=null===(d=R.error)||void 0===d?void 0:d.bind(R),I=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(w=tw(w),y&&(y=tw(y)),I&&(I=tw(I)));const T=super.subscribe({next:y,error:w,complete:I});return i instanceof ee.w&&i.add(T),T}};function y_(){return this._results[Vl()]()}class kc{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Vl(),u=kc.prototype;u[o]||(u[o]=y_)}get changes(){return this._changes||(this._changes=new Lo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=li(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class rw{constructor(i){this.queryList=i,this.matches=null}clone(){return new rw(this.queryList)}setDirty(){this.queryList.setDirty()}}class iw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new iw(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==w_(i,o).matches&&this.queries[o].setDirty()}}class XI{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class sw{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new sw(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class md{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new md(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,ow(o,d)),this.matchTNodeWithReadOption(i,o,oa(o,i,d,!1,!1))}else u===tf?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,oa(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Mo||c===Xn||c===tf&&4&o.type)this.addMatch(o.index,-2);else{const d=oa(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function ow(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function aw(r,i,o,u){return-1===o?function(r,i){return 11&r.type?ad(r,i):4&r.type?a_(r,i):null}(i,r):-2===o?function(r,i,o){return o===Mo?ad(i,r):o===tf?a_(i,r):o===Xn?S0(i,r):void 0}(r,i,u):aa(r,r[1],o,i)}function _f(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,m=o.matches,y=[];for(let w=0;w<m.length;w+=2){const I=m[w];y.push(I<0?null:aw(i,d[I],m[w+1],o.metadata.read))}c.matches=y}return c.matches}function Og(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const m=_f(r,i,c,o);for(let y=0;y<d.length;y+=2){const w=d[y];if(w>0)u.push(m[y/2]);else{const I=d[y+1],T=i[-w];for(let R=10;R<T.length;R++){const O=T[R];O[17]===O[3]&&Og(O[1],O,I,u)}if(null!==T[9]){const R=T[9];for(let O=0;O<R.length;O++){const B=R[O];Og(B[1],B,I,u)}}}}}return u}function uw(r){const i=Se(),o=Tt(),u=Eo();il(u+1);const c=w_(o,u);if(r.dirty&&_o(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?Og(o,i,u,[]):_f(o,i,c,u);r.reset(d,w0),r.notifyOnChanges()}return!0}return!1}function v_(r,i,o,u){const c=Tt();if(c.firstCreatePass){const d=_n();(function(r,i,o){null===r.queries&&(r.queries=new sw),r.queries.track(new md(i,o))})(c,new XI(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new kc(4==(4&o));Zm(r,i,u,u.destroy),null===i[19]&&(i[19]=new iw),i[19].queries.push(new rw(u))}(c,Se(),o)}function Au(){return r=Se(),i=Eo(),r[19].queries[i].queryList;var r,i}function w_(r,i){return r.queries.getByIndex(i)}const bw=new vn("Application Initializer");let Uc=(()=>{class r{constructor(o){this.appInits=o,this.resolve=bu,this.reject=bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Sy(d))o.push(d);else if(ql(d)){const m=new Promise((y,w)=>{d.subscribe({complete:y,error:w})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Pn(bw,8))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const SD=new vn("AppId"),ix={provide:SD,useFactory:function(){return`${Vg()}${Vg()}${Vg()}`},deps:[]};function Vg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new vn("Platform Initializer"),R_=new vn("Platform ID"),Dw=new vn("appBootstrapListener");let xD=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const Cf=new vn("LocaleId"),RD=new vn("DefaultCurrencyCode");class ax{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const If=function(r){return new Sg(r)},cx=If,lx=function(r){return Promise.resolve(If(r))},N_=function(r){const i=If(r),u=Xi($n(r).declarations).reduce((c,d)=>{const m=rr(d);return m&&c.push(new ZI(m)),c},[]);return new ax(i,u)},kD=N_,Tw=function(r){return Promise.resolve(N_(r))};let Bc=(()=>{class r{constructor(){this.compileModuleSync=cx,this.compileModuleAsync=lx,this.compileModuleAndAllComponentsSync=kD,this.compileModuleAndAllComponentsAsync=Tw}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const Sw=(()=>Promise.resolve(0))();function M_(r){"undefined"==typeof Zone?Sw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class qr{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lo(!1),this.onMicrotaskEmpty=new Lo(!1),this.onStable=new Lo(!1),this.onError=new Lo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=j.requestAnimationFrame,i=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(j,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,O_(r),r.isCheckStableRunning=!0,Nw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),O_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,y)=>{try{return UD(r),o.invokeTask(c,d,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),Mw(r)}},onInvoke:(o,u,c,d,m,y,w)=>{try{return UD(r),o.invoke(c,d,m,y,w)}finally{r.shouldCoalesceRunChangeDetection&&i(),Mw(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,O_(r),Nw(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,i,Rw,bu,bu);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const Rw={};function Nw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function O_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function UD(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Mw(r){r._nesting--,Nw(r)}class px{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lo,this.onMicrotaskEmpty=new Lo,this.onStable=new Lo,this.onError=new Lo}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let BD=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qr.assertNotInAngularZone(),M_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())M_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Pn(qr))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})(),jD=(()=>{class r{constructor(){this._applications=new Map,jc.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return jc.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();class gx{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function mx(r){jc=r}let jc=new gx,Ow=!0,P_=!1;function k_(){return P_=!0,Ow}function $D(){if(P_)throw new Error("Cannot enable prod mode after platform setup.");Ow=!1}let no;const Pw=new vn("AllowMultipleToken");class vx{constructor(i,o){this.name=i,this.token=o}}function kw(r,i,o=[]){const u=`Platform: ${i}`,c=new vn(u);return(d=[])=>{let m=V_();if(!m||m.injector.get(Pw,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:Tp,useValue:"platform"});!function(r){if(no&&!no.destroyed&&!no.injector.get(Pw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");no=r.get(qD);const i=r.get(Iw,null);i&&i.forEach(o=>o())}(kn.create({providers:y,name:u}))}return function(r){const i=V_();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function V_(){return no&&!no.destroyed?no:null}let qD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new px:("zone.js"===r?void 0:r)||new qr({enableLongStackTrace:k_(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:qr,useValue:y}];return y.run(()=>{const I=kn.create({providers:w,parent:this.injector,name:o.moduleType.name}),T=o.create(I),R=T.injector.get(_e,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:B=>{R.handleError(B)}});T.onDestroy(()=>{tr(this._modules,T),O.unsubscribe()})}),function(r,i,o){try{const u=o();return Sy(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const O=T.injector.get(Uc);return O.runInitializers(),O.donePromise.then(()=>(Me(T.injector.get(Cf,xc)||xc),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=wx({},u);return function(r,i,o){const u=new Sg(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(U_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Z(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Pn(kn))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function wx(r,i){return Array.isArray(i)?i.reduce(wx,r):Object.assign(Object.assign({},r),i)}let U_=(()=>{class r{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new F.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{qr.assertNotInAngularZone(),M_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{qr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe(r=>(0,le.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,te.N);return d.source=u,d.subjectFactory=c,d}}(W)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof cI?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(cd),y=c.create(kn.NULL,[],u||c.selector,d),w=y.location.nativeElement,I=y.injector.get(BD,null),T=I&&y.injector.get(jD);return I&&T&&T.registerApplication(w,I),y.onDestroy(()=>{this.detachView(y.hostView),tr(this.components,y),T&&T.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;tr(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Dw,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Pn(qr),Pn(kn),Pn(_e),Pn(Jh),Pn(Uc))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function tr(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Cx{}class Dx{}const Tx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ZD=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||Tx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),V(8255)(u).then(d=>d[c]).then(d=>Ma(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+d]).then(m=>Ma(m,u,c))}}return r.\u0275fac=function(o){return new(o||r)(Pn(Bc),Pn(Dx,8))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function Ma(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const Hw=function(r){return null},z_=kw(null,"core",[{provide:R_,useValue:"unknown"},{provide:qD,deps:[kn]},{provide:jD,deps:[]},{provide:xD,deps:[]}]),KD=[{provide:U_,useClass:U_,deps:[qr,kn,_e,Jh,Uc]},{provide:OS,deps:[qr],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Uc,useClass:Uc,deps:[[new Ri,bw]]},{provide:Bc,useClass:Bc,deps:[]},ix,{provide:Un,useFactory:function(){return fg},deps:[]},{provide:In,useFactory:function(){return pg},deps:[]},{provide:Cf,useFactory:function(r){return Me(r=r||"undefined"!=typeof $localize&&$localize.locale||xc),r},deps:[[new ac(Cf),new Ri,new ga]]},{provide:RD,useValue:"USD"}];let $g=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Pn(U_))},r.\u0275mod=ka({type:r}),r.\u0275inj=wi({providers:KD}),r})()},8939:(Xe,Te,V)=>{"use strict";V.d(Te,{hO:()=>Z,xv:()=>W,Dh:()=>le,GT:()=>ie,cc:()=>re,on:()=>k,pX:()=>te});var f=V(3018),ee=V(7841),F=V(6643);Xe=V.hmd(Xe);const ce=["ngOnDestroy"],te=(ye,ve,he,Ie={})=>new Proxy(ye,{get:(Fe,Le)=>he.runOutsideAngular(()=>{var mt;if(ye[Le])return(null===(mt=null==Ie?void 0:Ie.spy)||void 0===mt?void 0:mt.get)&&Ie.spy.get(Le,ye[Le]),ye[Le];if(ce.indexOf(Le)>-1)return()=>{};const ft=ve.toPromise().then(De=>{const ne=De&&De[Le];return"function"==typeof ne?ne.bind(De):ne&&ne.then?ne.then(oe=>he.run(()=>oe)):he.run(()=>ne)});return new Proxy(()=>{},{get:(De,ne)=>ft[ne],apply:(De,ne,oe)=>ft.then(fe=>{var ue;const Pe=fe&&fe(...oe);return(null===(ue=null==Ie?void 0:Ie.spy)||void 0===ue?void 0:ue.apply)&&Ie.spy.apply(Le,oe,Pe),Pe})})})}),ie=(ye,ve)=>{ve.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Ie=>{Object.defineProperty(ye.prototype,Ie,Object.getOwnPropertyDescriptor(he.prototype||he,Ie))})})};class Ee{constructor(ve){return ve}}const le=new f.OlP("angularfire2.app.options"),W=new f.OlP("angularfire2.app.name");function k(ye,ve,he){const Fe="object"==typeof he&&he||{};Fe.name=Fe.name||"string"==typeof he&&he||"[DEFAULT]";const mt=ee.Z.apps.filter(ft=>ft&&ft.name===Fe.name)[0]||ve.runOutsideAngular(()=>ee.Z.initializeApp(ye,Fe));try{JSON.stringify(ye)!==JSON.stringify(mt.options)&&L("error",`${mt.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ft){}return new Ee(mt)}const L=(ye,...ve)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ye](...ve)},Q={provide:Ee,useFactory:k,deps:[le,f.R0b,[new f.FiY,W]]};let Z=(()=>{class ye{constructor(he){ee.Z.registerVersion("angularfire",F.q4.full,"core"),ee.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ee.Z.registerVersion("angular",f.q4F.full,he.toString())}static initializeApp(he,Ie){return{ngModule:ye,providers:[{provide:le,useValue:he},{provide:W,useValue:Ie}]}}}return ye.\u0275fac=function(he){return new(he||ye)(f.LFG(f.Lbi))},ye.\u0275mod=f.oAB({type:ye}),ye.\u0275inj=f.cJS({providers:[Q]}),ye})();function re(ye,ve,he,Ie,Fe){const[,Le,mt]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===ye)||[];if(Le)return function(ye,ve){try{return ye.toString()===ve.toString()}catch(he){return ye===ve}}(Fe,mt)||(q("error",`${ve} was already initialized on the ${he} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Fe,was:mt})),Le;{const ft=Ie();return globalThis.\u0275AngularfireInstanceCache.push([ye,ft,Fe]),ft}}const de=!!Xe.hot,q=(ye,...ve)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ye](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Xe,Te,V)=>{"use strict";V.d(Te,{q4:()=>om,iC:()=>Pr,HU:()=>Xr,vb:()=>Do,JM:()=>sc});var f=V(3018),ee=V(2329),F=V(8239),ce=V(5452),te=V(3854),ie=V(6034),Ee=V(5601),le=V(6676);const W="@firebase/installations",k="0.5.2",Q=`w:${k}`,Z="FIS_v2",ve=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(C){return C instanceof te.ZR&&C.code.includes("request-failed")}function Ie({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Fe(C){return{token:C.token,requestStatus:2,expiresIn:fe(C.expiresIn),creationTime:Date.now()}}function Le(C,D){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*(C,D){const U=(yield D.json()).error;return ve.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ft({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function De(C,{refreshToken:D}){const x=ft(C);return x.append("Authorization",function(C){return`${Z} ${C}`}(D)),x}function ne(C){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function fe(C){return Number(C.replace("s","000"))}function Pe(C,D){return ge.apply(this,arguments)}function ge(){return(ge=(0,F.Z)(function*(C,{fid:D}){const x=Ie(C),pe={method:"POST",headers:ft(C),body:JSON.stringify({fid:D,authVersion:Z,appId:C.appId,sdkVersion:Q})},Oe=yield ne(()=>fetch(x,pe));if(Oe.ok){const We=yield Oe.json();return{fid:We.fid||D,registrationStatus:2,refreshToken:We.refreshToken,authToken:Fe(We.authToken)}}throw yield Le("Create Installation",Oe)})).apply(this,arguments)}function rt(C){return new Promise(D=>{setTimeout(D,C)})}const Mn=/^[cdef][\w-]{21}$/;function Ht(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Mn.test(x)?x:""}catch(C){return""}}function qt(C){return`${C.appName}!${C.appId}`}const jn=new Map;function zr(C,D){const x=qt(C);xt(x,D),function(C,D){const x=(!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=C=>{xt(C.data.key,C.data.fid)}),mr);x&&x.postMessage({key:C,fid:D}),0===jn.size&&mr&&(mr.close(),mr=null)}(x,D)}function xt(C,D){const x=jn.get(C);if(x)for(const U of x)U(D)}let mr=null;const si="firebase-installations-store";let Bi=null;function us(){return Bi||(Bi=(0,le.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(si)}})),Bi}function oi(C,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,F.Z)(function*(C,D){const x=qt(C),Y=(yield us()).transaction(si,"readwrite"),pe=Y.objectStore(si),Oe=yield pe.get(x);return yield pe.put(D,x),yield Y.complete,(!Oe||Oe.fid!==D.fid)&&zr(C,D.fid),D})).apply(this,arguments)}function yr(C){return oo.apply(this,arguments)}function oo(){return(oo=(0,F.Z)(function*(C){const D=qt(C),U=(yield us()).transaction(si,"readwrite");yield U.objectStore(si).delete(D),yield U.complete})).apply(this,arguments)}function it(C,D){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(C,D){const x=qt(C),Y=(yield us()).transaction(si,"readwrite"),pe=Y.objectStore(si),Oe=yield pe.get(x),We=D(Oe);return void 0===We?yield pe.delete(x):yield pe.put(We,x),yield Y.complete,We&&(!Oe||Oe.fid!==We.fid)&&zr(C,We.fid),We})).apply(this,arguments)}function Bt(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,F.Z)(function*(C){let D;const x=yield it(C,U=>{const Y=ln(U),pe=Pt(C,Y);return D=pe.registrationPromise,pe.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function ln(C){return dn(C||{fid:Ht(),registrationStatus:0})}function Pt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ve.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,D){return Qe.apply(this,arguments)}(C,x)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:yn(C)}:{installationEntry:D}}function Qe(){return(Qe=(0,F.Z)(function*(C,D){try{return oi(C,yield Pe(C,D))}catch(x){throw he(x)&&409===x.customData.serverCode?yield yr(C):yield oi(C,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function yn(C){return cs.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(C){let D=yield bi(C);for(;1===D.registrationStatus;)yield rt(100),D=yield bi(C);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield Bt(C);return U||x}return D})).apply(this,arguments)}function bi(C){return it(C,D=>{if(!D)throw ve.create("installation-not-found");return dn(D)})}function dn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function ao(C,D){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:C,platformLoggerProvider:D},x){const U=G(C,x),Y=De(C,x),pe=D.getImmediate({optional:!0});pe&&Y.append("x-firebase-client",pe.getPlatformInfoString());const We={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Q}})},Ge=yield ne(()=>fetch(U,We));if(Ge.ok)return Fe(yield Ge.json());throw yield Le("Generate Auth Token",Ge)})).apply(this,arguments)}function G(C,{fid:D}){return`${Ie(C)}/${D}/authTokens:generate`}function j(C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,F.Z)(function*(C,D=!1){let x;const U=yield it(C.appConfig,pe=>{if(!Kt(pe))throw ve.create("not-registered");const Oe=pe.authToken;if(!D&&Zr(Oe))return pe;if(1===Oe.requestStatus)return x=se(C,D),pe;{if(!navigator.onLine)throw ve.create("app-offline");const We=Jt(pe);return x=kt(C,We),We}});return x?yield x:U.authToken})).apply(this,arguments)}function se(C,D){return qe.apply(this,arguments)}function qe(){return(qe=(0,F.Z)(function*(C,D){let x=yield $e(C.appConfig);for(;1===x.authToken.requestStatus;)yield rt(100),x=yield $e(C.appConfig);const U=x.authToken;return 0===U.requestStatus?j(C,D):U})).apply(this,arguments)}function $e(C){return it(C,D=>{if(!Kt(D))throw ve.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function kt(C,D){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,F.Z)(function*(C,D){try{const x=yield ao(C,D),U=Object.assign(Object.assign({},D),{authToken:x});return yield oi(C.appConfig,U),x}catch(x){if(!he(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield oi(C.appConfig,U)}else yield yr(C.appConfig);throw x}})).apply(this,arguments)}function Kt(C){return void 0!==C&&2===C.registrationStatus}function Zr(C){return 2===C.requestStatus&&!function(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Jt(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function Uo(){return(Uo=(0,F.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:U}=yield Bt(D.appConfig);return U?U.catch(console.error):j(D).catch(console.error),x.fid})).apply(this,arguments)}function Pa(){return(Pa=(0,F.Z)(function*(C,D=!1){const x=C;return yield ku(x.appConfig),(yield j(x,D)).token})).apply(this,arguments)}function ku(C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*(C){const{registrationPromise:D}=yield Bt(C);D&&(yield D)})).apply(this,arguments)}function $n(C){return ve.create("missing-app-config-values",{valueName:C})}const Md="installations";(0,ce._registerComponent)(new ie.wA(Md,C=>{const D=C.getProvider("app").getImmediate();return{app:D,appConfig:function(C){if(!C||!C.options)throw $n("App Configuration");if(!C.name)throw $n("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw $n(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D),platformLoggerProvider:(0,ce._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("installations-internal",C=>{const D=C.getProvider("app").getImmediate(),x=(0,ce._getProvider)(D,Md).getImmediate();return{getId:()=>function(C){return Uo.apply(this,arguments)}(x),getToken:Y=>function(C){return Pa.apply(this,arguments)}(x,Y)}},"PRIVATE")),(0,ce.registerVersion)(W,k),(0,ce.registerVersion)(W,k,"esm2017");const _r="@firebase/remote-config",An=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yc{constructor(D,x,U,Y){this.client=D,this.storage=x,this.storageCache=U,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,Y=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,U))return Y;D.eTag=Y&&Y.eTag;const pe=yield x.client.fetch(D),Oe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Oe.push(x.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Oe),pe})()}}function Yr(C=navigator){return C.languages&&C.languages[0]||C.language}class $t{constructor(D,x,U,Y,pe,Oe){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=U,this.projectId=Y,this.apiKey=pe,this.appId=Oe}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ge={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:Y,app_id:x.appId,language_code:Yr()},Nt={method:"POST",headers:We,body:JSON.stringify(Ge)},Ft=fetch(Oe,Nt),Zn=new Promise((Qi,Cs)=>{D.signal.addEventListener(()=>{const Ct=new Error("The operation was aborted.");Ct.name="AbortError",Cs(Ct)})});let ar;try{yield Promise.race([Ft,Zn]),ar=yield Ft}catch(Qi){let Cs="fetch-client-network";throw"AbortError"===Qi.name&&(Cs="fetch-timeout"),An.create(Cs,{originalErrorMessage:Qi.message})}let Kn=ar.status;const Yi=ar.headers.get("ETag")||void 0;let eu,di;if(200===ar.status){let Qi;try{Qi=yield ar.json()}catch(Cs){throw An.create("fetch-client-parse",{originalErrorMessage:Cs.message})}eu=Qi.entries,di=Qi.state}if("INSTANCE_STATE_UNSPECIFIED"===di?Kn=500:"NO_CHANGE"===di?Kn=304:("NO_TEMPLATE"===di||"EMPTY_CONFIG"===di)&&(eu={}),304!==Kn&&200!==Kn)throw An.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:Yi,config:eu}})()}}class Qr{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,F.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:U}){var Y=this;return(0,F.Z)(function*(){yield function(C,D){return new Promise((x,U)=>{const Y=Math.max(D-Date.now(),0),pe=setTimeout(x,Y);C.addEventListener(()=>{clearTimeout(pe),U(An.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const pe=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(pe))throw pe;const Oe={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield Y.storage.setThrottleMetadata(Oe),Y.attemptFetch(D,Oe)}})()}}class Qg{constructor(D,x,U,Y,pe){this.app=D,this._client=x,this._storageCache=U,this._storage=Y,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jo(C,D){const x=C.target.error||void 0;return An.create(D,{originalErrorMessage:x&&x.message})}const ho="app_namespace_store";class Fd{constructor(D,x,U,Y=function(){return new Promise((C,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{D(jo(U,"storage-open"))},x.onsuccess=U=>{C(U.target.result)},x.onupgradeneeded=U=>{const Y=U.target.result;switch(U.oldVersion){case 0:Y.createObjectStore(ho,{keyPath:"compositeKey"})}}}catch(x){D(An.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=D,this.appName=x,this.namespace=U,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,pe)=>{const We=U.transaction([ho],"readonly").objectStore(ho),Ge=x.createCompositeKey(D);try{const Nt=We.get(Ge);Nt.onerror=Ft=>{pe(jo(Ft,"storage-get"))},Nt.onsuccess=Ft=>{const Zn=Ft.target.result;Y(Zn?Zn.value:void 0)}}catch(Nt){pe(An.create("storage-get",{originalErrorMessage:Nt&&Nt.message}))}})})()}set(D,x){var U=this;return(0,F.Z)(function*(){const Y=yield U.openDbPromise;return new Promise((pe,Oe)=>{const Ge=Y.transaction([ho],"readwrite").objectStore(ho),Nt=U.createCompositeKey(D);try{const Ft=Ge.put({compositeKey:Nt,value:x});Ft.onerror=Zn=>{Oe(jo(Zn,"storage-set"))},Ft.onsuccess=()=>{pe()}}catch(Ft){Oe(An.create("storage-set",{originalErrorMessage:Ft&&Ft.message}))}})})()}delete(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,pe)=>{const We=U.transaction([ho],"readwrite").objectStore(ho),Ge=x.createCompositeKey(D);try{const Nt=We.delete(Ge);Nt.onerror=Ft=>{pe(jo(Ft,"storage-delete"))},Nt.onsuccess=()=>{Y()}}catch(Nt){pe(An.create("storage-delete",{originalErrorMessage:Nt&&Nt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class $o{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const x=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),pe=yield x;pe&&(D.lastFetchStatus=pe);const Oe=yield U;Oe&&(D.lastSuccessfulFetchTimestampMillis=Oe);const We=yield Y;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function tm(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,F.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("remote-config",function(D,{instanceIdentifier:x}){const U=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,te.hl)())throw An.create("indexed-db-unavailable");const{projectId:pe,apiKey:Oe,appId:We}=U.options;if(!pe)throw An.create("registration-project-id");if(!Oe)throw An.create("registration-api-key");if(!We)throw An.create("registration-app-id");const Ge=new Fd(We,U.name,x=x||"firebase"),Nt=new $o(Ge),Ft=new Ee.Yd(_r);Ft.logLevel=Ee.in.ERROR;const Zn=new $t(Y,ce.SDK_VERSION,x,pe,Oe,We),ar=new Qr(Zn,Ge),Kn=new Yc(ar,Ge,Nt,Ft),Yi=new Qg(U,Kn,Nt,Ge,Ft);return function(C){const D=(0,te.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Yi),Yi},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(_r,"0.3.1"),(0,ce.registerVersion)(_r,"0.3.1","esm2017");const fo="/firebase-messaging-sw.js",Ua="/firebase-cloud-messaging-push-scope",Fs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bu="google.c.a.c_id",Xc="google.c.a.c_l",Pf="google.c.a.ts",Go="google.c.a.e";var Nr=(()=>{return(C=Nr||(Nr={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Nr;var C})();function Ti(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function el(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),Y=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)Y[pe]=U.charCodeAt(pe);return Y}const po="fcm_token_details_db",Ld="fcm_token_object_Store";function kf(C){return go.apply(this,arguments)}function go(){return(go=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(po))return null;let D=null;return(yield(0,le.openDb)(po,5,function(){var U=(0,F.Z)(function*(Y){var pe;if(Y.oldVersion<2||!Y.objectStoreNames.contains(Ld))return;const Oe=Y.transaction.objectStore(Ld),We=yield Oe.index("fcmSenderId").get(C);if(yield Oe.clear(),We)if(2===Y.oldVersion){const Ge=We;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;D={token:Ge.fcmToken,createTime:null!==(pe=Ge.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Ti(Ge.vapidKey)}}}else if(3===Y.oldVersion){const Ge=We;D={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ti(Ge.auth),p256dh:Ti(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ti(Ge.vapidKey)}}}else if(4===Y.oldVersion){const Ge=We;D={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ti(Ge.auth),p256dh:Ti(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ti(Ge.vapidKey)}}}});return function(Y){return U.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(po),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),ju(D)?D:null})).apply(this,arguments)}function ju(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Gn="firebase-messaging-store";let qo=null;function Wo(){return qo||(qo=(0,le.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Gn)}})),qo}function Ls(C){return ji.apply(this,arguments)}function ji(){return(ji=(0,F.Z)(function*(C){const D=Zo(C),U=yield(yield Wo()).transaction(Gn).objectStore(Gn).get(D);if(U)return U;{const Y=yield kf(C.appConfig.senderId);if(Y)return yield mo(C,Y),Y}})).apply(this,arguments)}function mo(C,D){return zo.apply(this,arguments)}function zo(){return(zo=(0,F.Z)(function*(C,D){const x=Zo(C),Y=(yield Wo()).transaction(Gn,"readwrite");return yield Y.objectStore(Gn).put(D,x),yield Y.complete,D})).apply(this,arguments)}function sn(C){return $u.apply(this,arguments)}function $u(){return($u=(0,F.Z)(function*(C){const D=Zo(C),U=(yield Wo()).transaction(Gn,"readwrite");yield U.objectStore(Gn).delete(D),yield U.complete})).apply(this,arguments)}function Zo({appConfig:C}){return C.appId}const bt=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ud(C,D){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,F.Z)(function*(C,D){const x=yield qn(C),U=Ko(D),Y={method:"POST",headers:x,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(yo(C.appConfig),Y)).json()}catch(Oe){throw bt.create("token-subscribe-failed",{errorInfo:Oe})}if(pe.error)throw bt.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw bt.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function ja(C,D){return vr.apply(this,arguments)}function vr(){return(vr=(0,F.Z)(function*(C,D){const x=yield qn(C),U=Ko(D.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${yo(C.appConfig)}/${D.token}`,Y)).json()}catch(Oe){throw bt.create("token-update-failed",{errorInfo:Oe})}if(pe.error)throw bt.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw bt.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Ff(C,D){return $i.apply(this,arguments)}function $i(){return($i=(0,F.Z)(function*(C,D){const U={method:"DELETE",headers:yield qn(C)};try{const pe=yield(yield fetch(`${yo(C.appConfig)}/${D}`,U)).json();if(pe.error)throw bt.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(Y){throw bt.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function yo({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function qn(C){return _o.apply(this,arguments)}function _o(){return(_o=(0,F.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Ko({p256dh:C,auth:D,endpoint:x,vapidKey:U}){const Y={web:{endpoint:x,auth:D,p256dh:C}};return U!==Fs&&(Y.web.applicationPubKey=U),Y}const $a=6048e5;function Vs(C){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,F.Z)(function*(C){const D=yield tl(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Ti(D.getKey("auth")),p256dh:Ti(D.getKey("p256dh"))},U=yield Ls(C.firebaseDependencies);if(U){if(Bd(U.subscriptionOptions,x))return Date.now()>=U.createTime+$a?nm(C,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield Ff(C.firebaseDependencies,U.token)}catch(Y){console.warn(Y)}return Qo(C.firebaseDependencies,x)}return Qo(C.firebaseDependencies,x)})).apply(this,arguments)}function qu(C){return ut.apply(this,arguments)}function ut(){return(ut=(0,F.Z)(function*(C){const D=yield Ls(C.firebaseDependencies);D&&(yield Ff(C.firebaseDependencies,D.token),yield sn(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function nm(C,D){return ps.apply(this,arguments)}function ps(){return(ps=(0,F.Z)(function*(C,D){try{const x=yield ja(C.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield mo(C.firebaseDependencies,U),x}catch(x){throw yield qu(C),x}})).apply(this,arguments)}function Qo(C,D){return vo.apply(this,arguments)}function vo(){return(vo=(0,F.Z)(function*(C,D){const U={token:yield Ud(C,D),createTime:Date.now(),subscriptionOptions:D};return yield mo(C,U),U.token})).apply(this,arguments)}function tl(C,D){return gs.apply(this,arguments)}function gs(){return(gs=(0,F.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:el(D)})})).apply(this,arguments)}function Bd(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Se(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const U=D.notification.body;U&&(C.notification.body=U);const Y=D.notification.image;Y&&(C.notification.image=Y)}(D,C),function(C,D){!D.data||(C.data=D.data)}(D,C),function(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const x=D.fcmOptions.link;x&&(C.fcmOptions.link=x);const U=D.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(D,C),D}function jd(C){return"object"==typeof C&&!!C&&Bu in C}function Jo(C,D){const x=[];for(let U=0;U<C.length;U++)x.push(C.charAt(U)),U<D.length&&x.push(D.charAt(U));return x.join("")}function Ha(C){return bt.create("missing-app-config-values",{valueName:C})}Jo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Us{constructor(D,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function(C){if(!C||!C.options)throw Ha("App Configuration Object");if(!C.name)throw Ha("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const U of D)if(!x[U])throw Ha(U);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function $d(C){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,F.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(fo,{scope:Ua}),C.swRegistration.update().catch(()=>{})}catch(D){throw bt.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Xo(C,D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,F.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield $d(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Mr(C,D){return Or.apply(this,arguments)}function Or(){return(Or=(0,F.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Fs)})).apply(this,arguments)}function Gi(){return(Gi=(0,F.Z)(function*(C,D){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield Mr(C,null==D?void 0:D.vapidKey),yield Xo(C,null==D?void 0:D.serviceWorkerRegistration),Vs(C)})).apply(this,arguments)}function ms(C,D,x){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,F.Z)(function*(C,D,x){const U=Hd(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Bu],message_name:x[Xc],message_time:x[Pf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hd(C){switch(C){case Nr.NOTIFICATION_CLICKED:return"notification_open";case Nr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qa(){return(qa=(0,F.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Nr.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Se(x)):C.onMessageHandler.next(Se(x)));const U=x.data;jd(U)&&"1"===U[Go]&&(yield ms(C,x.messageType,U))})).apply(this,arguments)}const ea="@firebase/messaging";function Gd(){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("messaging",C=>{const D=new Us(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,D){return qa.apply(this,arguments)}(D,x)),D},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("messaging-internal",C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,D){return Gi.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,ce.registerVersion)(ea,"0.9.2"),(0,ce.registerVersion)(ea,"0.9.2","esm2017");const qi="analytics",on="firebase_id",ol="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zd="https://www.googletagmanager.com/gtag/js",Wn=new Ee.Yd("@firebase/analytics");function Zd(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function ta(C,D){const x=document.createElement("script");x.src=`${zd}?l=${C}&id=${D}`,x.async=!0,document.head.appendChild(x)}function al(C,D,x,U,Y,pe){return bo.apply(this,arguments)}function bo(){return(bo=(0,F.Z)(function*(C,D,x,U,Y,pe){const Oe=U[Y];try{if(Oe)yield D[Oe];else{const Ge=(yield Zd(x)).find(Nt=>Nt.measurementId===Y);Ge&&(yield D[Ge.appId])}}catch(We){Wn.error(We)}C("config",Y,pe)})).apply(this,arguments)}function ul(C,D,x,U,Y){return cl.apply(this,arguments)}function cl(){return(cl=(0,F.Z)(function*(C,D,x,U,Y){try{let pe=[];if(Y&&Y.send_to){let Oe=Y.send_to;Array.isArray(Oe)||(Oe=[Oe]);const We=yield Zd(x);for(const Ge of Oe){const Nt=We.find(Zn=>Zn.measurementId===Ge),Ft=Nt&&D[Nt.appId];if(!Ft){pe=[];break}pe.push(Ft)}}0===pe.length&&(pe=Object.values(D)),yield Promise.all(pe),C("event",U,Y||{})}catch(pe){Wn.error(pe)}})).apply(this,arguments)}function cv(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(zd))return D;return null}const Er=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),za=new class{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function rm(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function an(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,F.Z)(function*(C){var D;const{appId:x,apiKey:U}=C,Y={method:"GET",headers:rm(U)},pe=ol.replace("{app-id}",x),Oe=yield fetch(pe,Y);if(200!==Oe.status&&304!==Oe.status){let We="";try{const Ge=yield Oe.json();(null===(D=Ge.error)||void 0===D?void 0:D.message)&&(We=Ge.error.message)}catch(Ge){}throw Er.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:We})}return Oe.json()})).apply(this,arguments)}function Qu(C){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,F.Z)(function*(C,D=za,x){const{appId:U,apiKey:Y,measurementId:pe}=C.options;if(!U)throw Er.create("no-app-id");if(!Y){if(pe)return{measurementId:pe,appId:U};throw Er.create("no-api-key")}const Oe=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Qa;return setTimeout((0,F.Z)(function*(){We.abort()}),void 0!==x?x:6e4),Ju({appId:U,apiKey:Y,measurementId:pe},Oe,We,D)})).apply(this,arguments)}function Ju(C,D,x){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,F.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},U,Y=za){const{appId:pe,measurementId:Oe}=C;try{yield Ya(U,D)}catch(We){if(Oe)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:pe,measurementId:Oe};throw We}try{const We=yield an(C);return Y.deleteThrottleMetadata(pe),We}catch(We){if(!Kd(We)){if(Y.deleteThrottleMetadata(pe),Oe)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:pe,measurementId:Oe};throw We}const Ge=503===Number(We.customData.httpStatus)?(0,te.$s)(x,Y.intervalMillis,30):(0,te.$s)(x,Y.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:x+1};return Y.setThrottleMetadata(pe,Nt),Wn.debug(`Calling attemptFetch again in ${Ge} millis`),Ju(C,Nt,U,Y)}})).apply(this,arguments)}function Ya(C,D){return new Promise((x,U)=>{const Y=Math.max(D-Date.now(),0),pe=setTimeout(x,Y);C.addEventListener(()=>{clearTimeout(pe),U(Er.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Kd(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Qa{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Ja(){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(){if(!(0,te.hl)())return Wn.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(C){return Wn.warn(Er.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ia(){return(ia=(0,F.Z)(function*(C,D,x,U,Y,pe,Oe){var We;const Ge=Qu(C);Ge.then(Kn=>{x[Kn.measurementId]=Kn.appId,C.options.measurementId&&Kn.measurementId!==C.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>Wn.error(Kn)),D.push(Ge);const Nt=Ja().then(Kn=>{if(Kn)return U.getId()}),[Ft,Zn]=yield Promise.all([Ge,Nt]);cv()||ta(pe,Ft.measurementId),Y("js",new Date);const ar=null!==(We=null==Oe?void 0:Oe.config)&&void 0!==We?We:{};return ar.origin="firebase",ar.update=!0,null!=Zn&&(ar[on]=Zn),Y("config",Ft.measurementId,ar),Ft.measurementId})).apply(this,arguments)}class fn{constructor(D){this.app=D}_delete(){return delete Je[this.app.options.appId],Promise.resolve()}}let Je={},Wi=[];const vs={};let $s,Fn,or="dataLayer",ll=!1;function ui(C,D,x){!function(){const C=[];if((0,te.ru)()&&C.push("This is a browser extension environment."),(0,te.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((U,Y)=>`(${Y+1}) ${U}`).join(" "),x=Er.create("invalid-analytics-context",{errorInfo:D});Wn.warn(x.message)}}();const U=C.options.appId;if(!U)throw Er.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Er.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Je[U])throw Er.create("already-exists",{id:U});if(!ll){!function(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(or);const{wrappedGtag:pe,gtagCore:Oe}=function(C,D,x,U,Y){let pe=function(...Oe){window[U].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(pe=window[Y]),window[Y]=function(C,D,x,U){function pe(){return(pe=(0,F.Z)(function*(Oe,We,Ge){try{"event"===Oe?yield ul(C,D,x,We,Ge):"config"===Oe?yield al(C,D,x,U,We,Ge):C("set",We)}catch(Nt){Wn.error(Nt)}})).apply(this,arguments)}return function(Oe,We,Ge){return pe.apply(this,arguments)}}(pe,C,D,x),{gtagCore:pe,wrappedGtag:window[Y]}}(Je,Wi,vs,or,"gtag");Fn=pe,$s=Oe,ll=!0}return Je[U]=function(C,D,x,U,Y,pe,Oe){return ia.apply(this,arguments)}(C,Wi,vs,D,$s,or,x),new fn(C)}function dl(){return(dl=(0,F.Z)(function*(C,D,x,U,Y){if(Y&&Y.global)C("event",x,U);else{const pe=yield D;C("event",x,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function Es(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,F.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}const sm="@firebase/analytics";(0,ce._registerComponent)(new ie.wA(qi,(D,{options:x})=>ui(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ie.wA("analytics-internal",function(D){try{const x=D.getProvider(qi).getImmediate();return{logEvent:(U,Y,pe)=>function(C,D,x,U){C=(0,te.m9)(C),function(C,D,x,U,Y){return dl.apply(this,arguments)}(Fn,Je[C.app.options.appId],D,x,U).catch(Y=>Wn.error(Y))}(x,U,Y,pe)}}catch(x){throw Er.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(sm,"0.7.2"),(0,ce.registerVersion)(sm,"0.7.2","esm2017");var fl=V(7771),vn=V(3637),ca=V(3342),la=V(3101),Jd=V(309);const om=new f.GfV("7.1.1"),Xa="__angularfire_symbol__analyticsIsSupported",Gs="__angularfire_symbol__remoteConfigIsSupported",da="__angularfire_symbol__messagingIsSupported";function sc(C,D,x){if(D){if(1===D.length)return D[0];const pe=D.filter(Oe=>Oe.app===x);if(1===pe.length)return pe[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Xa]||(globalThis[Xa]=Es().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[da]||(globalThis[da]=Gd().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Gs]||(globalThis[Gs]=tm().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Do=(C,D)=>{const x=D?[D]:(0,ee.C6)(),U=[];return x.forEach(Y=>{Y.container.getProvider(C).instances.forEach(Oe=>{U.includes(Oe)||U.push(Oe)})}),U};function ha(){}class Xd{constructor(D,x=fl.N){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,U){const Y=this.zone;return this.delegate.schedule(function(Oe){Y.runGuarded(()=>{D.apply(this,[Oe])})},x,U)}}class li{constructor(D){this.zone=D,this.task=null}call(D,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)),x.pipe((0,ca.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xr=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Xd(Zone.current)),this.insideAngular=x.run(()=>new Xd(Zone.current,vn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ki(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Pr(C){return Ki(),function(C){return function(x){return(x=x.lift(new li(C.ngZone))).pipe((0,la.R)(C.outsideAngular),(0,Jd.QV)(C.insideAngular))}}(Ki())(C)}},4486:(Xe,Te,V)=>{"use strict";V.d(Te,{Z:()=>we});var f=V(3854),ee=V(6034),F=V(5452),ce=V(5601);class te{constructor(q,ye){this._delegate=q,this.firebase=ye,(0,F._addComponent)(q,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(q,ye=F._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const he=this._delegate.container.getProvider(q);return!he.isInitialized()&&"EXPLICIT"===(null===(ve=he.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&he.initialize(),he.getImmediate({identifier:ye})}_removeServiceInstance(q,ye=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(ye)}_addComponent(q){(0,F._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,F._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function W(){const de=function(de){const q={},ye={__esModule:!0,initializeApp:function(ft,De={}){const ne=F.initializeApp(ft,De);if((0,f.r3)(q,ne.name))return q[ne.name];const oe=new de(ne,ye);return q[ne.name]=oe,oe},app:he,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(ft){const De=ft.name,ne=De.replace("-compat","");if(F._registerComponent(ft)&&"PUBLIC"===ft.type){const oe=(fe=he())=>{if("function"!=typeof fe[ne])throw Ee.create("invalid-app-argument",{appName:De});return fe[ne]()};void 0!==ft.serviceProps&&(0,f.ZB)(oe,ft.serviceProps),ye[ne]=oe,de.prototype[ne]=function(...fe){return this._getService.bind(this,De).apply(this,ft.multipleInstances?fe:[])}}return"PUBLIC"===ft.type?ye[ne]:null},removeApp:function(ft){delete q[ft]},useAsService:function(ft,De){return"serverAuth"===De?null:De},modularAPIs:F}};function he(ft){if(!(0,f.r3)(q,ft=ft||F._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:ft});return q[ft]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function(){return Object.keys(q).map(ft=>q[ft])}}),he.App=de,ye}(te);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(ye){(0,f.ZB)(de,ye)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),de}(),L=new ce.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=k;(0,F.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Xe,Te,V)=>{"use strict";V.r(Te),V.d(Te,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>qt,_addOrOverwriteComponent:()=>jn,_apps:()=>Ht,_clearComponents:()=>xt,_components:()=>On,_getProvider:()=>cn,_registerComponent:()=>zr,_removeServiceInstance:()=>at,deleteApp:()=>Bi,getApp:()=>xr,getApps:()=>si,initializeApp:()=>wi,onLog:()=>wn,registerVersion:()=>oi,setLogLevel:()=>yr});var f=V(8239),ee=V(6034),F=V(5601),ce=V(3854);class te{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function(it){const Re=it.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(Bt)){const Yt=Bt.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(Bt=>Bt).join(" ")}}const Ee="@firebase/app",W=new F.Yd("@firebase/app"),Mn="[DEFAULT]",yt={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,On=new Map;function qt(it,Re){try{it.container.addComponent(Re)}catch(Bt){W.debug(`Component ${Re.name} failed to register with FirebaseApp ${it.name}`,Bt)}}function jn(it,Re){it.container.addOrOverwriteComponent(Re)}function zr(it){const Re=it.name;if(On.has(Re))return W.debug(`There were multiple attempts to register component ${Re}.`),!1;On.set(Re,it);for(const Bt of Ht.values())qt(Bt,it);return!0}function cn(it,Re){return it.container.getProvider(Re)}function at(it,Re,Bt=Mn){cn(it,Re).clearInstance(Bt)}function xt(){On.clear()}const mr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class rn{constructor(Re,Bt,Yt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const ii="9.1.3";function wi(it,Re={}){"object"!=typeof Re&&(Re={name:Re});const Bt=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Re),Yt=Bt.name;if("string"!=typeof Yt||!Yt)throw mr.create("bad-app-name",{appName:String(Yt)});const ln=Ht.get(Yt);if(ln){if((0,ce.vZ)(it,ln.options)&&(0,ce.vZ)(Bt,ln.config))return ln;throw mr.create("duplicate-app",{appName:Yt})}const Pt=new ee.H0(Yt);for(const Qe of On.values())Pt.addComponent(Qe);const Ye=new rn(it,Bt,Pt);return Ht.set(Yt,Ye),Ye}function xr(it=Mn){const Re=Ht.get(it);if(!Re)throw mr.create("no-app",{appName:it});return Re}function si(){return Array.from(Ht.values())}function Bi(it){return us.apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(it){const Re=it.name;Ht.has(Re)&&(Ht.delete(Re),yield Promise.all(it.container.getProviders().map(Bt=>Bt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function oi(it,Re,Bt){var Yt;let ln=null!==(Yt=yt[it])&&void 0!==Yt?Yt:it;Bt&&(ln+=`-${Bt}`);const Pt=ln.match(/\s|\//),Ye=Re.match(/\s|\//);if(Pt||Ye){const Qe=[`Unable to register library "${ln}" with version "${Re}":`];return Pt&&Qe.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),Pt&&Ye&&Qe.push("and"),Ye&&Qe.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void W.warn(Qe.join(" "))}zr(new ee.wA(`${ln}-version`,()=>({library:ln,version:Re}),"VERSION"))}function wn(it,Re){if(null!==it&&"function"!=typeof it)throw mr.create("invalid-log-argument");(0,F.Am)(it,Re)}function yr(it){(0,F.Ub)(it)}zr(new ee.wA("platform-logger",Re=>new te(Re),"PRIVATE")),oi(Ee,"0.7.4",""),oi(Ee,"0.7.4","esm2017"),oi("fire-js","")},6034:(Xe,Te,V)=>{"use strict";V.d(Te,{wA:()=>F,H0:()=>le});var f=V(4762),ee=V(3854),F=function(){function W(k,L,Q){this.name=k,this.instanceFactory=L,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},W.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},W.prototype.setServiceProps=function(k){return this.serviceProps=k,this},W.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},W}(),ce="[DEFAULT]",te=function(){function W(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var Q=new ee.BH;if(this.instancesDeferred.set(L,Q),this.isInitialized(L)||this.shouldAutoInitialize())try{var Z=this.getOrInitializeService({instanceIdentifier:L});Z&&Q.resolve(Z)}catch(re){}}return this.instancesDeferred.get(L).promise},W.prototype.getImmediate=function(k){var L,Q=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),Z=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(re){if(Z)return null;throw re}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(k){var L,Q;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(he){}try{for(var Z=(0,f.XA)(this.instancesDeferred.entries()),re=Z.next();!re.done;re=Z.next()){var we=(0,f.CR)(re.value,2),q=we[1],ye=this.normalizeInstanceIdentifier(we[0]);try{var ve=this.getOrInitializeService({instanceIdentifier:ye});q.resolve(ve)}catch(he){}}}catch(he){L={error:he}}finally{try{re&&!re.done&&(Q=Z.return)&&Q.call(Z)}finally{if(L)throw L.error}}}},W.prototype.clearInstance=function(k){void 0===k&&(k=ce),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},W.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var k;return(0,f.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(k.filter(function(Q){return"INTERNAL"in Q}).map(function(Q){return Q.INTERNAL.delete()}))),(0,f.CR)(k.filter(function(Q){return"_delete"in Q}).map(function(Q){return Q._delete()}))))];case 1:return L.sent(),[2]}})})},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(k){return void 0===k&&(k=ce),this.instances.has(k)},W.prototype.getOptions=function(k){return void 0===k&&(k=ce),this.instancesOptions.get(k)||{}},W.prototype.initialize=function(k){var L,Q;void 0===k&&(k={});var Z=k.options,re=void 0===Z?{}:Z,we=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(we))throw Error(this.name+"("+we+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var de=this.getOrInitializeService({instanceIdentifier:we,options:re});try{for(var q=(0,f.XA)(this.instancesDeferred.entries()),ye=q.next();!ye.done;ye=q.next()){var ve=(0,f.CR)(ye.value,2),Ie=ve[1];we===this.normalizeInstanceIdentifier(ve[0])&&Ie.resolve(de)}}catch(Le){L={error:Le}}finally{try{ye&&!ye.done&&(Q=q.return)&&Q.call(q)}finally{if(L)throw L.error}}return de},W.prototype.onInit=function(k,L){var Q,Z=this.normalizeInstanceIdentifier(L),re=null!==(Q=this.onInitCallbacks.get(Z))&&void 0!==Q?Q:new Set;re.add(k),this.onInitCallbacks.set(Z,re);var we=this.instances.get(Z);return we&&k(we,Z),function(){re.delete(k)}},W.prototype.invokeOnInitCallbacks=function(k,L){var Q,Z,re=this.onInitCallbacks.get(L);if(re)try{for(var we=(0,f.XA)(re),de=we.next();!de.done;de=we.next()){var q=de.value;try{q(k,L)}catch(ye){}}}catch(ye){Q={error:ye}}finally{try{de&&!de.done&&(Z=we.return)&&Z.call(we)}finally{if(Q)throw Q.error}}},W.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,Q=k.options,Z=void 0===Q?{}:Q,re=this.instances.get(L);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:ie(L),options:Z}),this.instances.set(L,re),this.instancesOptions.set(L,Z),this.invokeOnInitCallbacks(re,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,re)}catch(we){}return re||null},W.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ce),this.component?this.component.multipleInstances?k:ce:k},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();function ie(W){return W===ce?void 0:W}var le=function(){function W(k){this.name=k,this.providers=new Map}return W.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},W.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},W.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new te(k,this);return this.providers.set(k,L),L},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},5601:(Xe,Te,V)=>{"use strict";V.d(Te,{in:()=>ee,Yd:()=>Ee,Ub:()=>le,Am:()=>W});const f=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const F={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,te={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(k,L,...Q)=>{if(L<k.logLevel)return;const Z=(new Date).toISOString(),re=te[L];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[re](`[${Z}]  ${k.name}:`,...Q)};class Ee{constructor(L){this.name=L,this._logLevel=ce,this._logHandler=ie,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ee))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...L),this._logHandler(this,ee.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...L),this._logHandler(this,ee.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...L),this._logHandler(this,ee.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...L),this._logHandler(this,ee.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...L),this._logHandler(this,ee.ERROR,...L)}}function le(k){f.forEach(L=>{L.setLogLevel(k)})}function W(k,L){for(const Q of f){let Z=null;L&&L.level&&(Z=F[L.level]),Q.userLogHandler=null===k?null:(re,we,...de)=>{const q=de.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(ve){return null}}).filter(ye=>ye).join(" ");we>=(null!=Z?Z:re.logLevel)&&k({level:ee[we].toLowerCase(),message:q,args:de,type:re.name})}}}},3854:(Xe,Te,V)=>{"use strict";V.d(Te,{BH:()=>Z,LL:()=>ge,ZR:()=>Pe,zI:()=>oe,US:()=>ie,tV:()=>W,$s:()=>bi,r3:()=>cn,Sg:()=>re,ne:()=>Bi,vZ:()=>mr,ZB:()=>L,pd:()=>xr,m9:()=>ao,z$:()=>we,jU:()=>ye,ru:()=>ve,d:()=>Ie,xb:()=>xt,w1:()=>Fe,hl:()=>De,uI:()=>de,UG:()=>q,b$:()=>he,G6:()=>ft,Mn:()=>Le,xO:()=>ii,zd:()=>wi,eu:()=>ne});const ce=function($){const G=[];let j=0;for(let Ae=0;Ae<$.length;Ae++){let se=$.charCodeAt(Ae);se<128?G[j++]=se:se<2048?(G[j++]=se>>6|192,G[j++]=63&se|128):55296==(64512&se)&&Ae+1<$.length&&56320==(64512&$.charCodeAt(Ae+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Ae)),G[j++]=se>>18|240,G[j++]=se>>12&63|128,G[j++]=se>>6&63|128,G[j++]=63&se|128):(G[j++]=se>>12|224,G[j++]=se>>6&63|128,G[j++]=63&se|128)}return G},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let se=0;se<$.length;se+=3){const qe=$[se],$e=se+1<$.length,kt=$e?$[se+1]:0,Qt=se+2<$.length,Kt=Qt?$[se+2]:0;let Jt=(15&kt)<<2|Kt>>6,nr=63&Kt;Qt||(nr=64,$e||(Jt=64)),Ae.push(j[qe>>2],j[(3&qe)<<4|kt>>4],j[Jt],j[nr])}return Ae.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(ce($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let j=0,Ae=0;for(;j<$.length;){const se=$[j++];if(se<128)G[Ae++]=String.fromCharCode(se);else if(se>191&&se<224){const qe=$[j++];G[Ae++]=String.fromCharCode((31&se)<<6|63&qe)}else if(se>239&&se<365){const Qt=((7&se)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;G[Ae++]=String.fromCharCode(55296+(Qt>>10)),G[Ae++]=String.fromCharCode(56320+(1023&Qt))}else{const qe=$[j++],$e=$[j++];G[Ae++]=String.fromCharCode((15&se)<<12|(63&qe)<<6|63&$e)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let se=0;se<$.length;){const qe=j[$.charAt(se++)],kt=se<$.length?j[$.charAt(se)]:0;++se;const Kt=se<$.length?j[$.charAt(se)]:64;++se;const Dt=se<$.length?j[$.charAt(se)]:64;if(++se,null==qe||null==kt||null==Kt||null==Dt)throw Error();Ae.push(qe<<2|kt>>4),64!==Kt&&(Ae.push(kt<<4&240|Kt>>2),64!==Dt&&Ae.push(Kt<<6&192|Dt))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},le=function($){return function($){const G=ce($);return ie.encodeByteArray(G,!0)}($).replace(/\./g,"")},W=function($){try{return ie.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function L($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!Q(j)||($[j]=L($[j],G[j]));return $}function Q($){return"__proto__"!==$}class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,Ae)=>{j?this.reject(j):this.resolve(Ae),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,Ae))}}}function re($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=G||"demo-project",se=$.iat||0,qe=$.sub||$.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:se,exp:se+3600,auth_time:se,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},$);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify($e)),""].join(".")}function we(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function ye(){return"object"==typeof self&&self.self===self}function ve(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return we().indexOf("Electron/")>=0}function Fe(){const $=we();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Le(){return we().indexOf("MSAppHost/")>=0}function ft(){return!q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){return"object"==typeof indexedDB}function ne(){return new Promise(($,G)=>{try{let j=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ae);se.onsuccess=()=>{se.result.close(),j||self.indexedDB.deleteDatabase(Ae),$(!0)},se.onupgradeneeded=()=>{j=!1},se.onerror=()=>{var qe;G((null===(qe=se.error)||void 0===qe?void 0:qe.message)||"")}}catch(j){G(j)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(G,j,Ae){super(j),this.code=G,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(G,j,Ae){this.service=G,this.serviceName=j,this.errors=Ae}create(G,...j){const Ae=j[0]||{},se=`${this.service}/${G}`,qe=this.errors[G],$e=qe?function($,G){return $.replace(Ut,(j,Ae)=>{const se=G[Ae];return null!=se?String(se):`<${Ae}?>`})}(qe,Ae):"Error";return new Pe(se,`${this.serviceName}: ${$e} (${se}).`,Ae)}}const Ut=/\{\$([^}]+)}/g;function cn($,G){return Object.prototype.hasOwnProperty.call($,G)}function xt($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function mr($,G){if($===G)return!0;const j=Object.keys($),Ae=Object.keys(G);for(const se of j){if(!Ae.includes(se))return!1;const qe=$[se],$e=G[se];if(rn(qe)&&rn($e)){if(!mr(qe,$e))return!1}else if(qe!==$e)return!1}for(const se of Ae)if(!j.includes(se))return!1;return!0}function rn($){return null!==$&&"object"==typeof $}function ii($){const G=[];for(const[j,Ae]of Object.entries($))Array.isArray(Ae)?Ae.forEach(se=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(se))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(Ae));return G.length?"&"+G.join("&"):""}function wi($){const G={};return $.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[se,qe]=Ae.split("=");G[decodeURIComponent(se)]=decodeURIComponent(qe)}}),G}function xr($){const G=$.indexOf("?");if(!G)return"";const j=$.indexOf("#",G);return $.substring(G,j>0?j:void 0)}function Bi($,G){const j=new us($,G);return j.subscribe.bind(j)}class us{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(Ae=>{this.error(Ae)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,Ae){let se;if(void 0===G&&void 0===j&&void 0===Ae)throw new Error("Missing Observer.");se=function($,G){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(G)?G:{next:G,error:j,complete:Ae},void 0===se.next&&(se.next=yr),void 0===se.error&&(se.error=yr),void 0===se.complete&&(se.complete=yr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch($e){}}),this.observers.push(se),qe}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(Ae){"undefined"!=typeof console&&console.error&&console.error(Ae)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}function bi($,G=1e3,j=2){const Ae=G*Math.pow(j,$),se=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+se)}function ao($){return $&&$._delegate?$._delegate:$}},2329:(Xe,Te,V)=>{"use strict";V.d(Te,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=V(5452);(0,f.registerVersion)("firebase","9.1.3","app")},7841:(Xe,Te,V)=>{"use strict";V.d(Te,{Z:()=>f.Z});var f=V(4486);f.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Xe,Te,V)=>{"use strict";V.r(Te);var f=V(8239),ee=V(4486),F=V(3854),ce=V(5452),te=V(4762),ie=V(5601),Ee=V(6034);const we=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},de=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ie.Yd("@firebase/auth");function he(_,...h){ve.logLevel<=ie.in.ERROR&&ve.error(`Auth (${ce.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw ft(_,...h)}function Fe(_,...h){return ft(_,...h)}function Le(_,h,g){const E=Object.assign(Object.assign({},de()),{[h]:g});return new F.LL("auth","Firebase",E).create(h,{appName:_.name})}function mt(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ie(_,"argument-error"),Le(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ft(_,...h){if("string"!=typeof _){const g=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return q.create(_,...h)}function De(_,h,...g){if(!_)throw ft(h,...g)}function ne(_){const h="INTERNAL ASSERTION FAILED: "+_;throw he(h),new Error(h)}function oe(_,h){_||ne(h)}const fe=new Map;function ue(_){oe(_ instanceof Function,"Expected a class definition");let h=fe.get(_);return h?(oe(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,fe.set(_,h),h)}function rt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ut(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class On{constructor(h,g){this.shortDelay=h,this.longDelay=g,oe(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function qt(_,h){oe(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class jn{static initialize(h,g,E){this.fetchImpl=h,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new On(3e4,6e4);function at(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function xt(_,h,g,E){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(_,h,g,E,A={}){return mr(_,A,()=>{let M={},z={};E&&("GET"===h?z=E:M={body:JSON.stringify(E)});const _e=(0,F.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ue=new(jn.headers());return Ue.set("Content-Type","application/json"),Ue.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Ue.set("X-Firebase-Locale",_.languageCode),jn.fetch()(xr(_,_.config.apiHost,g,_e),Object.assign({method:h,headers:Ue,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function mr(_,h,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*(_,h,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},zr),h);try{const A=new si(_),M=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const z=yield M.json();if("needConfirmation"in z)throw Bi(_,"account-exists-with-different-credential",z);if(M.ok&&!("errorMessage"in z))return z;{const _e=M.ok?z.errorMessage:z.error.message,[Ue,ze]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Bi(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ue)throw Bi(_,"email-already-in-use",z);const dt=E[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw Le(_,dt,ze);Ie(_,dt)}}catch(A){if(A instanceof F.ZR)throw A;Ie(_,"network-request-failed")}})).apply(this,arguments)}function ii(_,h,g,E){return wi.apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(_,h,g,E,A={}){const M=yield xt(_,h,g,E,A);return"mfaPendingCredential"in M&&Ie(_,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function xr(_,h,g,E){const A=`${h}${g}?${E}`;return _.config.emulator?qt(_.config,A):`${_.config.apiScheme}://${A}`}class si{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Fe(this.auth,"timeout")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(_,h,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const A=Fe(_,h,E);return A.customData._tokenResponse=g,A}function oi(){return(oi=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function wn(_,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function oo(_,h){return it.apply(this,arguments)}function it(){return(it=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Re(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function ln(){return(ln=(0,f.Z)(function*(_,h=!1){const g=(0,F.m9)(_),E=yield g.getIdToken(h),A=Ye(E);De(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,z=null==M?void 0:M.sign_in_provider;return{claims:A,token:E,authTime:Re(Pt(A.auth_time)),issuedAtTime:Re(Pt(A.iat)),expirationTime:Re(Pt(A.exp)),signInProvider:z||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Pt(_){return 1e3*Number(_)}function Ye(_){const[h,g,E]=_.split(".");if(void 0===h||void 0===g||void 0===E)return he("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(he("Failed to decode base64 JWT payload"),null)}catch(A){return he("Caught error parsing JWT payload as JSON",A),null}}function yn(_,h){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(E){throw E instanceof F.ZR&&bi(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function bi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class dn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),E)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class Rr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Re(this.lastLoginAt),this.creationTime=Re(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ao(_){return $.apply(this,arguments)}function $(){return($=(0,f.Z)(function*(_){var h;const g=_.auth,E=yield _.getIdToken(),A=yield yn(_,oo(g,{idToken:E}));De(null==A?void 0:A.users.length,g,"internal-error");const M=A.users[0];_._notifyReloadListener(M);const z=(null===(h=M.providerUserInfo)||void 0===h?void 0:h.length)?se(M.providerUserInfo):[],_e=Ae(_.providerData,z),dt=!!_.isAnonymous&&!(_.email&&M.passwordHash||(null==_e?void 0:_e.length)),st={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:_e,metadata:new Rr(M.createdAt,M.lastLoginAt),isAnonymous:dt};Object.assign(_,st)})).apply(this,arguments)}function j(){return(j=(0,f.Z)(function*(_){const h=(0,F.m9)(_);yield ao(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ae(_,h){return[..._.filter(E=>!h.some(A=>A.providerId===E.providerId)),...h]}function se(_){return _.map(h=>{var{providerId:g}=h,E=(0,te._T)(h,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function $e(){return($e=(0,f.Z)(function*(_,h){const g=yield mr(_,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:M}=_.config,z=xr(_,A,"/v1/token",`key=${M}`);return jn.fetch()(z,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(void 0!==h.idToken,"internal-error"),De(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(_){const h=Ye(_);return De(h,"internal-error"),De(void 0!==h.exp,"internal-error"),De(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var E=this;return(0,f.Z)(function*(){return De(!E.accessToken||E.refreshToken,h,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var E=this;return(0,f.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:z}=yield function(_,h){return $e.apply(this,arguments)}(h,g);E.updateTokensAndExpiration(A,M,Number(z))})()}updateTokensAndExpiration(h,g,E){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,g){const{refreshToken:E,accessToken:A,expirationTime:M}=g,z=new kt;return E&&(De("string"==typeof E,"internal-error",{appName:h}),z.refreshToken=E),A&&(De("string"==typeof A,"internal-error",{appName:h}),z.accessToken=A),M&&(De("number"==typeof M,"internal-error",{appName:h}),z.expirationTime=M),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return ne("not implemented")}}function Qt(_,h){De("string"==typeof _||void 0===_,"internal-error",{appName:h})}class Kt{constructor(h){var{uid:g,auth:E,stsTokenManager:A}=h,M=(0,te._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.metadata=new Rr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const E=yield yn(g,g.stsTokenManager.getToken(g.auth,h));return De(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(h){return function(_){return ln.apply(this,arguments)}(this,h)}reload(){return function(_){return j.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Kt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var E=this;return(0,f.Z)(function*(){let A=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),A=!0),g&&(yield ao(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield yn(h,function(_,h){return oi.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var E,A,M,z,_e,Ue,ze,dt;const st=null!==(E=g.displayName)&&void 0!==E?E:void 0,Sn=null!==(A=g.email)&&void 0!==A?A:void 0,pi=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,Yn=null!==(z=g.photoURL)&&void 0!==z?z:void 0,ap=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,up=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,yc=null!==(ze=g.createdAt)&&void 0!==ze?ze:void 0,cp=null!==(dt=g.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Rm,emailVerified:lp,isAnonymous:Nm,providerData:dp,stsTokenManager:Mm}=g;De(Rm&&Mm,h,"internal-error");const _c=kt.fromJSON(this.name,Mm);De("string"==typeof Rm,h,"internal-error"),Qt(st,h.name),Qt(Sn,h.name),De("boolean"==typeof lp,h,"internal-error"),De("boolean"==typeof Nm,h,"internal-error"),Qt(pi,h.name),Qt(Yn,h.name),Qt(ap,h.name),Qt(up,h.name),Qt(yc,h.name),Qt(cp,h.name);const Xi=new Kt({uid:Rm,auth:h,email:Sn,emailVerified:lp,displayName:st,isAnonymous:Nm,photoURL:Yn,phoneNumber:pi,tenantId:ap,stsTokenManager:_c,createdAt:yc,lastLoginAt:cp});return dp&&Array.isArray(dp)&&(Xi.providerData=dp.map(hb=>Object.assign({},hb))),up&&(Xi._redirectEventId=up),Xi}static _fromIdTokenResponse(h,g,E=!1){return(0,f.Z)(function*(){const A=new kt;A.updateFromServerResponse(g);const M=new Kt({uid:g.localId,auth:h,stsTokenManager:A,isAnonymous:E});return yield ao(M),M})()}}const Dt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,E){var A=this;return(0,f.Z)(function*(){A.storage[g]=E})()}_get(g){var E=this;return(0,f.Z)(function*(){const A=E.storage[g];return void 0===A?null:A})()}_remove(g){var E=this;return(0,f.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function Jt(_,h,g){return`firebase:${_}:${h}:${g}`}class nr{constructor(h,g,E){this.persistence=h,this.auth=g,this.userKey=E;const{config:A,name:M}=this.auth;this.fullUserKey=Jt(this.userKey,A.apiKey,M),this.fullPersistenceKey=Jt("persistence",A.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Kt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,E="authUser"){return(0,f.Z)(function*(){if(!g.length)return new nr(ue(Dt),h,E);const A=(yield Promise.all(g.map(function(){var ze=(0,f.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let M=A[0]||ue(Dt);const z=Jt(E,h.config.apiKey,h.name);let _e=null;for(const ze of g)try{const dt=yield ze._get(z);if(dt){const st=Kt._fromJSON(h,dt);ze!==M&&(_e=st),M=ze;break}}catch(dt){}const Ue=A.filter(ze=>ze._shouldAllowMigration);return M._shouldAllowMigration&&Ue.length?(M=Ue[0],_e&&(yield M._set(z,_e.toJSON())),yield Promise.all(g.map(function(){var ze=(0,f.Z)(function*(dt){if(dt!==M)try{yield dt._remove(z)}catch(st){}});return function(dt){return ze.apply(this,arguments)}}())),new nr(M,h,E)):new nr(M,h,E)})()}}function Pu(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ku(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Uo(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ka(h))return"Blackberry";if(Os(h))return"Webos";if(Zc(h))return"Safari";if((h.includes("chrome/")||Pa(h))&&!h.includes("edge/"))return"Chrome";if(Ms(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Uo(_=(0,F.z$)()){return/firefox\//i.test(_)}function Zc(_=(0,F.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Pa(_=(0,F.z$)()){return/crios\//i.test(_)}function ku(_=(0,F.z$)()){return/iemobile/i.test(_)}function Ms(_=(0,F.z$)()){return/android/i.test(_)}function ka(_=(0,F.z$)()){return/blackberry/i.test(_)}function Os(_=(0,F.z$)()){return/webos/i.test(_)}function Ci(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)}function ls(_=(0,F.z$)()){return Ci(_)||Ms(_)||Os(_)||ka(_)||/windows phone/i.test(_)||ku(_)}function $n(_,h=[]){let g;switch(_){case"Browser":g=Pu((0,F.z$)());break;case"Worker":g=`${Pu((0,F.z$)())}-${_}`;break;default:g=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${E}`}class Md{constructor(h,g){this.app=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(h,g){var E=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var A;E._deleted||(E.persistenceManager=yield nr.create(E,h),!E._deleted&&((null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var E;let A=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,z=null==A?void 0:A._redirectEventId,_e=yield g.tryRedirectSignIn(h);(!M||M===z)&&(null==_e?void 0:_e.user)&&(A=_e.user)}return A?A._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(A){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){try{yield ao(h)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const E=h?(0,F.m9)(h):null;return E&&De(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return h&&De(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new F.LL("auth","Firebase",h())}onAuthStateChanged(h,g,E){return this.registerStateListener(this.authStateSubscription,h,g,E)}onIdTokenChanged(h,g,E){return this.registerStateListener(this.idTokenSubscription,h,g,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var E=this;return(0,f.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(g);return null===h?A.removeCurrentUser():A.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const E=h&&ue(h)||g._popupRedirectResolver;De(E,g,"argument-error"),g.redirectPersistenceManager=yield nr.create(g,[ue(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var E,A;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===h?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,E,A){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return De(z,this,"internal-error"),z.then(()=>M(this.currentUser)),"function"==typeof g?h.addObserver(g,E,A):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=$n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function jt(_){return(0,F.m9)(_)}class Be{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xt(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function ds(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class ir{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ne("not implemented")}_getIdTokenResponse(h){return ne("not implemented")}_linkToIdToken(h,g){return ne("not implemented")}_getReauthenticationResolver(h){return ne("not implemented")}}function hn(_,h){return An.apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:resetPassword",at(_,h))})).apply(this,arguments)}function Bo(_,h){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Lu(_,h){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",at(_,h))})).apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithPassword",at(_,h))})).apply(this,arguments)}function Hn(_,h){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:sendOobCode",at(_,h))})).apply(this,arguments)}function fs(_,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function Wt(_,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,f.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function Od(_,h){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function Pd(_,h){return La.apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(_,h){return Hn(_,h)})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithEmailLink",at(_,h))})).apply(this,arguments)}function Yc(){return(Yc=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithEmailLink",at(_,h))})).apply(this,arguments)}class Yr extends ir{constructor(h,g,E,A=null){super("password",E),this._email=h,this._password=g,this._tenantId=A}static _fromEmailAndPassword(h,g){return new Yr(h,g,"password")}static _fromEmailAndCode(h,g,E=null){return new Yr(h,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function(_,h){return Ii.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,h){return ks.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,g){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return Bo(h,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,h){return Yc.apply(this,arguments)}(h,{idToken:g,email:E._email,oobCode:E._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function $t(_,h){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithIdp",at(_,h))})).apply(this,arguments)}class Qr extends ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Qr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:A}=g,M=(0,te._T)(g,["providerId","signInMethod"]);if(!E||!A)return null;const z=new Qr(E,A);return z.idToken=M.idToken||void 0,z.accessToken=M.accessToken||void 0,z.secret=M.secret,z.nonce=M.nonce,z.pendingToken=M.pendingToken||null,z}_getIdTokenResponse(h){return $t(h,this.buildRequest())}_linkToIdToken(h,g){const E=this.buildRequest();return E.idToken=g,$t(h,E)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,$t(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,F.xO)(g)}return h}}function Di(_,h){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:sendVerificationCode",at(_,h))})).apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,h))})).apply(this,arguments)}function kd(){return(kd=(0,f.Z)(function*(_,h){const g=yield ii(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,h));if(g.temporaryProof)throw Bi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Jg={USER_NOT_FOUND:"user-not-found"};function Fd(){return(Fd=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Jg)})).apply(this,arguments)}class $o extends ir{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new $o({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new $o({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function(_,h){return jo.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function(_,h){return kd.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(_,h){return Fd.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:E,verificationCode:A}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:E,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:M}=h;return E||g||A||M?new $o({verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:M}):null}}class Ho{constructor(h){var g,E,A,M,z,_e;const Ue=(0,F.zd)((0,F.pd)(h)),ze=null!==(g=Ue.apiKey)&&void 0!==g?g:null,dt=null!==(E=Ue.oobCode)&&void 0!==E?E:null,st=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ue.mode)&&void 0!==A?A:null);De(ze&&dt&&st,"argument-error"),this.apiKey=ze,this.operation=st,this.code=dt,this.continueUrl=null!==(M=Ue.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(z=Ue.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(_e=Ue.tenantId)&&void 0!==_e?_e:null}static parseLink(h){const g=function(_){const h=(0,F.zd)((0,F.pd)(_)).link,g=h?(0,F.zd)((0,F.pd)(h)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(_)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||h||_}(h);try{return new Ho(g)}catch(E){return null}}}let Uu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return Yr._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const A=Ho.parseLink(E);return De(A,"argument-error"),Yr._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class fo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ua extends fo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Fs extends Ua{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Qr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),Qr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Fs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Fs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:M,nonce:z,providerId:_e}=h;if(!E&&!A&&!g&&!M||!_e)return null;try{return new Fs(_e)._credential({idToken:g,accessToken:E,nonce:z,pendingToken:M})}catch(Ue){return null}}}let Jc=(()=>{class _ extends Ua{constructor(){super("facebook.com")}static credential(g){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Bu=(()=>{class _ extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A}=g;if(!E&&!A)return null;try{return _.credential(E,A)}catch(M){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Xc=(()=>{class _ extends Ua{constructor(){super("github.com")}static credential(g){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Go extends ir{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return $t(h,this.buildRequest())}_linkToIdToken(h,g){const E=this.buildRequest();return E.idToken=g,$t(h,E)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,$t(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:A,pendingToken:M}=g;return E&&A&&M&&E===A?new Go(E,M):null}static _create(h,g){return new Go(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ti=(()=>{class _ extends Ua{constructor(){super("twitter.com")}static credential(g,E){return Qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=g;if(!E||!A)return null;try{return _.credential(E,A)}catch(M){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function el(_,h){return po.apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signUp",at(_,h))})).apply(this,arguments)}class Ai{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,E,A=!1){return(0,f.Z)(function*(){const M=yield Kt._fromIdTokenResponse(h,E,A),z=Ld(E);return new Ai({user:M,providerId:z,_tokenResponse:E,operationType:g})})()}static _forOperation(h,g,E){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const A=Ld(E);return new Ai({user:h,providerId:A,_tokenResponse:E,operationType:g})})()}}function Ld(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function go(){return(go=(0,f.Z)(function*(_){var h;const g=jt(_);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new Ai({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield el(g,{returnSecureToken:!0}),A=yield Ai._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ju extends F.ZR{constructor(h,g,E,A){var M;super(g.code,g.message),this.operationType=E,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,ju.prototype),this.appName=h.name,this.code=g.code,this.tenantId=null!==(M=h.tenantId)&&void 0!==M?M:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(h,g,E,A){return new ju(h,g,E,A)}}function Ba(_,h,g,E){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?ju._fromErrorAndOperation(_,M,h,E):M})}function Vd(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function qo(){return(qo=(0,f.Z)(function*(_,h){const g=(0,F.m9)(_);yield ji(!0,g,h);const{providerUserInfo:E}=yield wn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),A=Vd(E||[]);return g.providerData=g.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Wo(_,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(_,h,g=!1){const E=yield yn(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return Ai._forOperation(_,"link",E)})).apply(this,arguments)}function ji(_,h,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(_,h,g){yield ao(h);const A=!1===_?"provider-already-linked":"no-such-provider";De(Vd(h.providerData).has(g)===_,h.auth,A)})).apply(this,arguments)}function zo(_,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,f.Z)(function*(_,h,g=!1){const{auth:E}=_,A="reauthenticate";try{const M=yield yn(_,Ba(E,A,h,_),g);De(M.idToken,E,"internal-error");const z=Ye(M.idToken);De(z,E,"internal-error");const{sub:_e}=z;return De(_.uid===_e,E,"user-mismatch"),Ai._forOperation(_,A,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Ie(E,"user-mismatch"),M}})).apply(this,arguments)}function $u(_,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,f.Z)(function*(_,h,g=!1){const E="signIn",A=yield Ba(_,E,h),M=yield Ai._fromIdTokenResponse(_,E,A);return g||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Hu(_,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(_,h){return $u(jt(_),h)})).apply(this,arguments)}function Ud(_,h){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,f.Z)(function*(_,h){const g=(0,F.m9)(_);return yield ji(!1,g,h.providerId),Wo(g,h)})).apply(this,arguments)}function ja(_,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(_,h){return zo((0,F.m9)(_),h)})).apply(this,arguments)}function Ff(_,h){return $i.apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(_,h){return ii(_,"POST","/v1/accounts:signInWithCustomToken",at(_,h))})).apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(_,h){const g=jt(_),E=yield Ff(g,{token:h,returnSecureToken:!0}),A=yield Ai._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class _o{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ko._fromServerResponse(h,g):Ie(h,"internal-error")}}class Ko extends _o{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ko(g)}}function $a(_,h,g){var E;De((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Yo(){return(Yo=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_),A={requestType:"PASSWORD_RESET",email:h};g&&$a(E,A,g),yield Wt(E,A)})).apply(this,arguments)}function ut(){return(ut=(0,f.Z)(function*(_,h,g){yield hn((0,F.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(_,h){yield Lu((0,F.m9)(_),{oobCode:h})})).apply(this,arguments)}function Qo(_,h){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(_,h){const g=(0,F.m9)(_),E=yield hn(g,{oobCode:h}),A=E.requestType;switch(De(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(E.mfaInfo,g,"internal-error");default:De(E.email,g,"internal-error")}let M=null;return E.mfaInfo&&(M=_o._fromServerResponse(jt(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:M},operation:A}})).apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(_,h){const{data:g}=yield Qo((0,F.m9)(_),h);return g.email})).apply(this,arguments)}function Se(){return(Se=(0,f.Z)(function*(_,h,g){const E=jt(_),A=yield el(E,{returnSecureToken:!0,email:h,password:g}),M=yield Ai._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(M.user),M})).apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_),A={requestType:"EMAIL_SIGNIN",email:h};De(g.handleCodeInApp,E,"argument-error"),g&&$a(E,A,g),yield Od(E,A)})).apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_),A=Uu.credentialWithLink(h,g||rt());return De(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Hu(E,A)})).apply(this,arguments)}function Ha(_,h){return Us.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:createAuthUri",at(_,h))})).apply(this,arguments)}function Wu(){return(Wu=(0,f.Z)(function*(_,h){const E={identifier:h,continueUri:Ut()?rt():"http://localhost"},{signinMethods:A}=yield Ha((0,F.m9)(_),E);return A||[]})).apply(this,arguments)}function Hi(){return(Hi=(0,f.Z)(function*(_,h){const g=(0,F.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&$a(g.auth,A,h);const{email:M}=yield fs(g.auth,A);M!==_.email&&(yield _.reload())})).apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&$a(E.auth,M,g);const{email:z}=yield Pd(E.auth,M);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function zu(_,h){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,f.Z)(function*(_,h){return xt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ga(){return(Ga=(0,f.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const E=(0,F.m9)(_),M={idToken:yield E.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},z=yield yn(E,zu(E.auth,M));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const _e=E.providerData.find(({providerId:Ue})=>"password"===Ue);_e&&(_e.displayName=E.displayName,_e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function qa(_,h,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(_,h,g){const{auth:E}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(M.email=h),g&&(M.password=g);const z=yield yn(_,Bo(E,M));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Eo{constructor(h,g,E={}){this.isNewUser=h,this.providerId=g,this.profile=E}}class il extends Eo{constructor(h,g,E,A){super(h,g,E),this.username=A}}class Lf extends Eo{constructor(h,g){super(h,"facebook.com",g)}}class Gd extends il{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class wo extends Eo{constructor(h,g){super(h,"google.com",g)}}class qd extends il{constructor(h,g,E){super(h,"twitter.com",g,E)}}function Ku(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var h,g;if(!_)return null;const{providerId:E}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const z=null===(g=null===(h=Ye(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new Eo(M,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new Lf(M,A);case"github.com":return new Gd(M,A);case"google.com":return new wo(M,A);case"twitter.com":return new qd(M,A,_.screenName||null);case"custom":case"anonymous":return new Eo(M,null);default:return new Eo(M,E,A)}}(g)}class ys{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new ys("enroll",h)}static _fromMfaPendingCredential(h){return new ys("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,E;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ys._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(E=h.multiFactorSession)||void 0===E?void 0:E.idToken)return ys._fromIdtoken(h.multiFactorSession.idToken)}return null}}class sl{constructor(h,g,E){this.session=h,this.hints=g,this.signInResolver=E}static _fromError(h,g){const E=jt(h),A=(g.serverResponse.mfaInfo||[]).map(z=>_o._fromServerResponse(E,z));De(g.serverResponse.mfaPendingCredential,E,"internal-error");const M=ys._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new sl(M,A,function(){var z=(0,f.Z)(function*(_e){const Ue=yield _e._process(E,M);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const ze=Object.assign(Object.assign({},g.serverResponse),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const dt=yield Ai._fromIdTokenResponse(E,g.operationType,ze);return yield E._updateCurrentUser(dt.user),dt;case"reauthenticate":return De(g.user,E,"internal-error"),Ai._forOperation(g.user,g.operationType,ze);default:Ie(E,"internal-error")}});return function(_e){return z.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,f.Z)(function*(){return g.signInResolver(h)})()}}function zd(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:start",at(_,h))}class ta{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>_o._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new ta(h)}getSession(){var h=this;return(0,f.Z)(function*(){return ys._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var E=this;return(0,f.Z)(function*(){const A=h,M=yield E.getSession(),z=yield yn(E.user,A._process(E.user.auth,M,g));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(h){var g=this;return(0,f.Z)(function*(){const E="string"==typeof h?h:h.uid,A=yield g.user.getIdToken(),M=yield yn(g.user,function(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",at(_,h))}(g.user.auth,{idToken:A,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==E),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const na=new WeakMap,bo="__sak";class ul{constructor(h,g){this.storage=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(bo,"1"),this.storage.removeItem(bo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}}const Yu=(()=>{class _ extends ul{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,F.z$)();return Zc(_)||Ci(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ls(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),M=this.localCache[E];A!==M&&g(E,M,A)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((_e,Ue,ze)=>{this.notifyListeners(_e,ze)});const A=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(A);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!E)return}const M=()=>{const _e=this.storage.getItem(A);!E&&this.localCache[A]===_e||this.notifyListeners(A,_e)},z=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&z!==g.newValue&&g.newValue!==g.oldValue?setTimeout(M,10):M()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const M of Array.from(A))M(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var A=()=>super._set,M=this;return(0,f.Z)(function*(){yield A().call(M,g,E),M.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,A=this;return(0,f.Z)(function*(){const M=yield E().call(A,g);return A.localCache[g]=JSON.stringify(M),M})()}_remove(g){var E=()=>super._remove,A=this;return(0,f.Z)(function*(){yield E().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),_s=(()=>{class _ extends ul{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let js=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(M=>M.isListeningto(g));if(E)return E;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,f.Z)(function*(){const A=g,{eventId:M,eventType:z,data:_e}=A.data,Ue=E.handlersMap[z];if(!(null==Ue?void 0:Ue.size))return;A.ports[0].postMessage({status:"ack",eventId:M,eventType:z});const ze=Array.from(Ue).map(function(){var st=(0,f.Z)(function*(Sn){return Sn(A.origin,_e)});return function(Sn){return st.apply(this,arguments)}}()),dt=yield function(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return h.apply(this,arguments)}}()))}(ze);A.ports[0].postMessage({status:"done",eventId:M,eventType:z,response:dt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function za(_="",h=10){let g="";for(let E=0;E<h;E++)g+=Math.floor(10*Math.random());return _+g}class rm{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,E=50){var A=this;return(0,f.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let z,_e;return new Promise((Ue,ze)=>{const dt=za("",20);M.port1.start();const st=setTimeout(()=>{ze(new Error("unsupported_event"))},E);_e={messageChannel:M,onMessage(Sn){const pi=Sn;if(pi.data.eventId===dt)switch(pi.data.status){case"ack":clearTimeout(st),z=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ue(pi.data.response);break;default:clearTimeout(st),clearTimeout(z),ze(new Error("invalid_response"))}}},A.handlers.add(_e),M.port1.addEventListener("message",_e.onMessage),A.target.postMessage({eventType:h,eventId:dt,data:g},[M.port2])}).finally(()=>{_e&&A.removeMessageHandler(_e)})})()}}function an(){return window}function Qu(){return void 0!==an().WorkerGlobalScope&&"function"==typeof an().importScripts}function Ju(){return(Ju=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Kd="firebaseLocalStorageDb",Ja="firebaseLocalStorage",ra="fbase_key";class ec{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ia(_,h){return _.transaction([Ja],h?"readwrite":"readonly").objectStore(Ja)}function Je(){const _=indexedDB.open(Kd,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Ja,{keyPath:ra})}catch(A){g(A)}}),_.addEventListener("success",(0,f.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Ja)?h(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(Kd);return new ec(_).toPromise()}(),h(yield Je()))}))})}function Wi(_,h,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,f.Z)(function*(_,h,g){const E=ia(_,!0).put({[ra]:h,value:g});return new ec(E).toPromise()})).apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(_,h){const g=ia(_,!1).get(h),E=yield new ec(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function $s(_,h){const g=ia(_,!0).delete(h);return new ec(g).toPromise()}const sa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Je()),g.db})()}_withRetries(g){var E=this;return(0,f.Z)(function*(){let A=0;for(;;)try{const M=yield E._openDb();return yield g(M)}catch(M){if(A++>3)throw M;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return Qu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=js._getInstance(Qu()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(A,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(A,M){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(A,M){return["keyChanged"]});return function(A,M){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var E,A;if(g.activeServiceWorker=yield function(){return Ju.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new rm(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(E=M[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=M[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Je();return yield Wi(g,bo,"1"),yield $s(g,bo),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(M=>Wi(M,g,E)),A.localCache[g]=E,A.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,f.Z)(function*(){const A=yield E._withRetries(M=>function(_,h){return Co.apply(this,arguments)}(M,g));return E.localCache[g]=A,A})()}_remove(g){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(A=>$s(A,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const E=yield g._withRetries(z=>{const _e=ia(z,!1).getAll();return new ec(_e).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const A=[],M=new Set;for(const{fbase_key:z,value:_e}of E)M.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(_e)&&(g.notifyListeners(z,_e),A.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!M.has(z)&&(g.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const M of Array.from(A))M(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ui(_,h){return xt(_,"POST","/v2/accounts/mfaSignIn:start",at(_,h))}function tc(){return(tc=(0,f.Z)(function*(_){return(yield xt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function aa(_){return new Promise((h,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=A=>{const M=Fe("internal-error");M.customData=A,g(M)},E.type="text/javascript",E.charset="UTF-8",function(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}function nc(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ci=1e12;class rc{constructor(h){this.auth=h,this.counter=ci,this._widgets=new Map}render(h,g){const E=this.counter;return this._widgets.set(E,new ic(h,this.auth.name,g||{})),this.counter++,E}reset(h){var g;const E=h||ci;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ci))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,f.Z)(function*(){var E;return null===(E=g._widgets.get(h||ci))||void 0===E||E.execute(),""})()}}class ic{constructor(h,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof h?document.getElementById(h):h;De(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}();const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Es=nc("rcb"),Hs=new On(3e4,6e4);class ws{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!an().grecaptcha}load(h,g=""){return De((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(an().grecaptcha):new Promise((E,A)=>{const M=an().setTimeout(()=>{A(Fe(h,"network-request-failed"))},Hs.get());an()[Es]=()=>{an().clearTimeout(M),delete an()[Es];const _e=an().grecaptcha;if(!_e)return void A(Fe(h,"internal-error"));const Ue=_e.render;_e.render=(ze,dt)=>{const st=Ue(ze,dt);return this.counter++,st},this.hostLanguage=g,E(_e)},aa(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Es,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),A(Fe(h,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!an().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ua{load(h){return(0,f.Z)(function*(){return new rc(h)})()}clearedOneInstance(){}}const $f="recaptcha",sm={theme:"light",type:"image"};class hl{constructor(h,g=Object.assign({},sm),E){this.parameters=g,this.type=$f,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jt(E),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;De(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ua:new ws,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(g)||new Promise(M=>{const z=_e=>{!_e||(h.tokenChangeListeners.delete(z),M(_e))};h.tokenChangeListeners.add(z),h.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof h)h(g);else if("string"==typeof h){const E=an()[h];"function"==typeof E&&E(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){De(Ut()&&!Qu(),h.auth,"internal-error"),yield function(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function(_){return tc.apply(this,arguments)}(h.auth);De(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fl{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=$o._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function ca(){return(ca=(0,f.Z)(function*(_,h,g){const E=jt(_),A=yield Xa(E,h,(0,F.m9)(g));return new fl(A,M=>Hu(E,M))})).apply(this,arguments)}function Jd(){return(Jd=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_);yield ji(!1,E,"phone");const A=yield Xa(E.auth,h,(0,F.m9)(g));return new fl(A,M=>Ud(E,M))})).apply(this,arguments)}function Si(){return(Si=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_),A=yield Xa(E.auth,h,(0,F.m9)(g));return new fl(A,M=>ja(E,M))})).apply(this,arguments)}function Xa(_,h,g){return pl.apply(this,arguments)}function pl(){return(pl=(0,f.Z)(function*(_,h,g){var E;const A=yield g.verify();try{let M;if(De("string"==typeof A,_,"argument-error"),De(g.type===$f,_,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const z=M.session;if("phoneNumber"in M)return De("enroll"===z.type,_,"internal-error"),(yield zd(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{De("signin"===z.type,_,"internal-error");const _e=(null===(E=M.multiFactorHint)||void 0===E?void 0:E.uid)||M.multiFactorUid;return De(_e,_,"missing-multi-factor-info"),(yield ui(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Di(_,{phoneNumber:M.phoneNumber,recaptchaToken:A});return z}}finally{g._reset()}})).apply(this,arguments)}function gl(){return(gl=(0,f.Z)(function*(_,h){yield Wo((0,F.m9)(_),h)})).apply(this,arguments)}let da=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=jt(g)}verifyPhoneNumber(g,E){return Xa(this.auth,g,(0,F.m9)(E))}static credential(g,E){return $o._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:A}=g;return E&&A?$o._fromTokenResponse(E,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function En(_,h){return h?ue(h):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Zi extends ir{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return $t(h,this._buildIdpRequest())}_linkToIdToken(h,g){return $t(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return $t(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Hf(_){return $u(_.auth,new Zi(_),_.bypassAuthState)}function Ln(_){const{auth:h,user:g}=_;return De(g,h,"internal-error"),zo(g,new Zi(_),_.bypassAuthState)}function sc(_){return Do.apply(this,arguments)}function Do(){return(Do=(0,f.Z)(function*(_){const{auth:h,user:g}=_;return De(g,h,"internal-error"),Wo(g,new Zi(_),_.bypassAuthState)})).apply(this,arguments)}class ha{constructor(h,g,E,A,M=!1){this.auth=h,this.resolver=E,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(E,A){h.pendingPromise={resolve:E,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(E,A){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:M,tenantId:z,error:_e,type:Ue}=h;if(_e)return void g.reject(_e);const ze={auth:g.auth,requestUri:E,sessionId:A,tenantId:z||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(ze))}catch(dt){g.reject(dt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Hf;case"linkViaPopup":case"linkViaRedirect":return sc;case"reauthViaPopup":case"reauthViaRedirect":return Ln;default:Ie(this.auth,"internal-error")}}resolve(h){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xd=new On(2e3,1e4);function Xr(){return(Xr=(0,f.Z)(function*(_,h,g){const E=jt(_);mt(_,h,fo);const A=En(E,g);return new qs(E,"signInViaPopup",h,A).executeNotNull()})).apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_);mt(E.auth,h,fo);const A=En(E.auth,g);return new qs(E.auth,"reauthViaPopup",h,A,E).executeNotNull()})).apply(this,arguments)}function ml(){return(ml=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_);mt(E.auth,h,fo);const A=En(E.auth,g);return new qs(E.auth,"linkViaPopup",h,A,E).executeNotNull()})).apply(this,arguments)}let qs=(()=>{class _ extends ha{constructor(g,E,A,M,z){super(g,E,M,z),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const E=yield g.execute();return De(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,f.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const E=za();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Fe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Xd.get())};g()}}return _.currentPopupAction=null,_})();const eh=new Map;class Gf extends ha{constructor(h,g,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let E=eh.get(g.auth._key());if(!E){try{const M=(yield function(_,h){return C.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;E=()=>Promise.resolve(M)}catch(A){E=()=>Promise.reject(A)}eh.set(g.auth._key(),E)}return E()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(E,h);if("unknown"!==h.type){if(h.eventId){const A=yield E.auth._redirectUserForId(h.eventId);if(A)return E.user=A,g().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function C(){return(C=(0,f.Z)(function*(_,h){const g=pe(h),E="true"===(yield Y(_)._get(g));return yield Y(_)._remove(g),E})).apply(this,arguments)}function D(_,h){return x.apply(this,arguments)}function x(){return(x=(0,f.Z)(function*(_,h){return Y(_)._set(pe(h),"true")})).apply(this,arguments)}function Y(_){return ue(_._redirectPersistence)}function pe(_){return Jt("pendingRedirect",_.config.apiKey,_.name)}function Ge(){return(Ge=(0,f.Z)(function*(_,h,g){const E=jt(_);mt(_,h,fo);const A=En(E,g);return yield D(A,E),A._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_);mt(E.auth,h,fo);const A=En(E.auth,g);yield D(A,E.auth);const M=yield Ct(E);return A._openRedirect(E.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(_,h,g){const E=(0,F.m9)(_);mt(E.auth,h,fo);const A=En(E.auth,g);yield ji(!1,E,h.providerId),yield D(A,E.auth);const M=yield Ct(E);return A._openRedirect(E.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(_,h){return yield jt(_)._initializationPromise,Qi(_,h,!1)})).apply(this,arguments)}function Qi(_,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(_,h,g=!1){const E=jt(_),A=En(E,h),z=yield new Gf(E,A,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,h)),z})).apply(this,arguments)}function Ct(_){return yl.apply(this,arguments)}function yl(){return(yl=(0,f.Z)(function*(_){const h=za(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class vl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(g=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tu(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var E;if(h.error&&!tu(h)){const A=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Fe(this.auth,A))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const E=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fa(h))}saveEventToCache(h){this.cachedEventUids.add(fa(h)),this.lastProcessedEventTime=Date.now()}}function fa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function tu({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Pn(_){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(_,h={}){return xt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const dv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^https?/;function am(){return(am=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Pn(_);for(const g of h)try{if(ur(g))return}catch(E){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function ur(_){const h=rt(),{protocol:g,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===E}if(!pa.test(g))return!1;if(dv.test(_))return E===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Is=new On(3e4,6e4);function hv(){const _=an().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ri=null;function El(_){return Ri=Ri||function(_){return new Promise((h,g)=>{var E,A,M;function z(){hv(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{hv(),g(Fe(_,"network-request-failed"))},timeout:Is.get()})}if(null===(A=null===(E=an().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)h(gapi.iframes.getContext());else{if(!(null===(M=an().gapi)||void 0===M?void 0:M.load)){const _e=nc("iframefcb");return an()[_e]=()=>{gapi.load?z():g(Fe(_,"network-request-failed"))},aa(`https://apis.google.com/js/api.js?onload=${_e}`)}z()}}).catch(h=>{throw Ri=null,h})}(_),Ri}const ga=new On(5e3,15e3),th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bl(_){const h=_.config;De(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?qt(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:ce.SDK_VERSION},A=wl.get(_.config.apiHost);A&&(E.eid=A);const M=_._getFrameworks();return M.length&&(E.fw=M.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function At(){return(At=(0,f.Z)(function*(_){const h=yield El(_),g=an().gapi;return De(g,_,"internal-error"),h.open({where:document.body,url:bl(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:th,dontclear:!0},E=>new Promise(function(){var A=(0,f.Z)(function*(M,z){yield E.restyle({setHideOnLeave:!1});const _e=Fe(_,"network-request-failed"),Ue=an().setTimeout(()=>{z(_e)},ga.get());function ze(){an().clearTimeout(Ue),M(E)}E.ping(ze).then(ze,()=>{z(_e)})});return function(M,z){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const Ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function To(_,h,g,E,A,M){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:ce.SDK_VERSION,eventId:A};if(h instanceof fo){h.setDefaultLanguage(_.languageCode),z.providerId=h.providerId||"",(0,F.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ue,ze]of Object.entries(M||{}))z[Ue]=ze}if(h instanceof Ua){const Ue=h.getScopes().filter(ze=>""!==ze);Ue.length>0&&(z.scopes=Ue.join(","))}_.tenantId&&(z.tid=_.tenantId);const _e=z;for(const Ue of Object.keys(_e))void 0===_e[Ue]&&delete _e[Ue];return`${function({config:_}){return _.emulator?qt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(_e).slice(1)}`}const zs="webStorageSupport";class uc extends class{constructor(h){this.factorId=h}_process(h,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,E);case"signin":return this._finalizeSignIn(h,g.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new uc(h)}_finalizeEnroll(h,g,E){return function(_,h){return xt(_,"POST","/v2/accounts/mfaEnrollment:finalize",at(_,h))}(h,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function(_,h){return xt(_,"POST","/v2/accounts/mfaSignIn:finalize",at(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kf=(()=>{class _{constructor(){}static assertion(g){return uc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,Yf="@firebase/auth";class dm{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(E=>{var A;h((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function su(){return window}function Ni(){return(Ni=(0,f.Z)(function*(_,h,g){var E;const{BuildInfo:A}=su();oe(h.sessionId,"AuthEvent did not contain a session ID");const M=yield gm(h.sessionId),z={};return Ci()?z.ibi=A.packageName:Ms()?z.apn=A.packageName:Ie(_,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=M,To(_,g,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function ma(){return(ma=(0,f.Z)(function*(_){const{BuildInfo:h}=su(),g={};Ci()?g.iosBundleId=h.packageName:Ms()?g.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Pn(_,g)})).apply(this,arguments)}function Jf(){return(Jf=(0,f.Z)(function*(_,h,g){const{cordova:E}=su();let A=()=>{};try{yield new Promise((M,z)=>{let _e=null;function Ue(){var st;M();const Sn=null===(st=E.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Sn&&Sn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ze(){_e||(_e=window.setTimeout(()=>{z(Fe(_,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===(null==document?void 0:document.visibilityState)&&ze()}h.addPassiveListener(Ue),document.addEventListener("resume",ze,!1),Ms()&&document.addEventListener("visibilitychange",dt,!1),A=()=>{h.removePassiveListener(Ue),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",dt,!1),_e&&window.clearTimeout(_e)}})}finally{A()}})).apply(this,arguments)}function gm(_){return sh.apply(this,arguments)}function sh(){return(sh=(0,f.Z)(function*(_){const h=oh(_),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function oh(_){if(oe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),g=new Uint8Array(h);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,ce._registerComponent)(new Ee.wA("auth",(h,{options:g})=>{const E=h.getProvider("app").getImmediate(),{apiKey:A,authDomain:M}=E.options;return(z=>{De(A&&!A.includes(":"),"invalid-api-key",{appName:z.name}),De(!(null==M?void 0:M.includes(":")),"argument-error",{appName:z.name});const _e={apiKey:A,authDomain:M,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$n(_)},Ue=new Md(z,_e);return function(_,h){const g=(null==h?void 0:h.persistence)||[],E=(Array.isArray(g)?g:[g]).map(ue);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(Ue,g),Ue})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,E)=>{h.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ee.wA("auth-internal",h=>{const g=jt(h.getProvider("auth").getImmediate());return new dm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Yf,"0.18.3",void 0),(0,ce.registerVersion)(Yf,"0.18.3","esm2017");class Xf extends vl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function ah(_){return ou.apply(this,arguments)}function ou(){return(ou=(0,f.Z)(function*(_){const h=yield au()._get(uh(_));return h&&(yield au()._remove(uh(_))),h})).apply(this,arguments)}function Ds(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*h.length);_.push(h.charAt(E))}return _.join("")}function au(){return ue(Yu)}function uh(_){return Jt("authEvent",_.config.apiKey,_.name)}function uu(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...g]=_.split("?");return(0,F.zd)(g.join("?"))}function lh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fe("no-auth-event")}}function Sl(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function bm(_=(0,F.z$)()){return!("file:"!==Sl()&&"ionic:"!==Sl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function hh(){try{const _=self.localStorage,h=za();if(_)return _.setItem(h,"1"),_.removeItem(h),!function(_=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,F.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,F.hl)()}catch(_){return np()&&(0,F.hl)()}return!1}function np(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function pn(){return("http:"===Sl()||"https:"===Sl()||(0,F.ru)()||bm())&&!((0,F.b$)()||(0,F.UG)())&&hh()&&!np()}function Im(){return bm()&&"undefined"!=typeof document}function Ji(){return(Ji=(0,f.Z)(function*(){return!!Im()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const fi={LOCAL:"local",NONE:"none",SESSION:"session"},Ts=De,Dm="persistence";function ip(_){return sp.apply(this,arguments)}function sp(){return(sp=(0,f.Z)(function*(_){yield _._initializationPromise;const h=Rl(),g=Jt(Dm,_.config.apiKey,_.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function Rl(){return"undefined"!=typeof window?window:null}const dc=De;class bn{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Qi}_openPopup(h,g,E,A){var M=this;return(0,f.Z)(function*(){var z;oe(null===(z=M.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const _e=To(h,g,E,rt(),A);return function(_,h,g,E=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let _e="";const Ue=Object.assign(Object.assign({},Ws),{width:E.toString(),height:A.toString(),top:M,left:z}),ze=(0,F.z$)().toLowerCase();g&&(_e=Pa(ze)?"_blank":g),Uo(ze)&&(h=h||"http://localhost",Ue.scrollbars="yes");const dt=Object.entries(Ue).reduce((Sn,[pi,Yn])=>`${Sn}${pi}=${Yn},`,"");if(function(_=(0,F.z$)()){var h;return Ci(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(ze)&&"_self"!==_e)return function(_,h){const g=document.createElement("a");g.href=_,g.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(h||"",_e),new Wf(null);const st=window.open(h||"",_e,dt);De(st,_,"popup-blocked");try{st.focus()}catch(Sn){}return new Wf(st)}(h,_e,za())})()}_openRedirect(h,g,E,A){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(h),_=To(h,g,E,rt(),A),an().location.href=_,new Promise(()=>{});var _})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:A,promise:M}=this.eventManagers[g];return A?Promise.resolve(A):(oe(M,"If manager is not set, promise should be"),M)}const E=this.initAndGetManager(h);return this.eventManagers[g]={promise:E},E}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const E=yield function(_){return At.apply(this,arguments)}(h),A=new vl(h);return E.register("authEvent",M=>(De(null==M?void 0:M.authEvent,h,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:A},g.iframes[h._key()]=E,A})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(zs,{type:zs},A=>{var M;const z=null===(M=null==A?void 0:A[0])||void 0===M?void 0:M[zs];void 0!==z&&g(!!z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return am.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ls()||Zc()||Ci()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qi}_initialize(h){var g=this;return(0,f.Z)(function*(){const E=h._key();let A=g.eventManagers.get(E);return A||(A=new Xf(h),g.eventManagers.set(E,A),g.attachCallbackListeners(h,A)),A})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,E,A){var M=this;return(0,f.Z)(function*(){!function(_){var h,g,E,A,M,z,_e,Ue,ze,dt;const st=su();De("function"==typeof(null===(h=null==st?void 0:st.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==st?void 0:st.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(M=null===(A=null===(E=null==st?void 0:st.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Ue=null===(_e=null===(z=null==st?void 0:st.cordova)||void 0===z?void 0:z.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(dt=null===(ze=null==st?void 0:st.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===dt?void 0:dt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield M._initialize(h);yield z.initialized(),z.resetRedirect(),eh.clear(),yield M._originValidation(h);const _e=function(_,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Ds(),postBody:null,tenantId:_.tenantId,error:Fe(_,"no-auth-event")}}(h,E,A);yield function(_,h){return au()._set(uh(_),h)}(h,_e);const Ue=yield function(_,h,g){return Ni.apply(this,arguments)}(h,_e,g),ze=yield function(_){const{cordova:h}=su();return new Promise(g=>{h.plugins.browsertab.isAvailable(E=>{let A=null;E?h.plugins.browsertab.openUrl(_):A=h.InAppBrowser.open(_,function(_=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(A)})})}(Ue);return function(_,h,g){return Jf.apply(this,arguments)}(h,z,ze)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return ma.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:E,handleOpenURL:A,BuildInfo:M}=su(),z=setTimeout((0,f.Z)(function*(){yield ah(h),g.onEvent(lh())}),500),_e=function(){var dt=(0,f.Z)(function*(st){clearTimeout(z);const Sn=yield ah(h);let pi=null;Sn&&(null==st?void 0:st.url)&&(pi=function(_,h){var g,E;const A=function(_){const h=uu(_),g=h.link?decodeURIComponent(h.link):void 0,E=uu(g).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return uu(A).link||A||E||g||_}(h);if(A.includes("/__/auth/callback")){const M=uu(A),z=M.firebaseError?function(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(M.firebaseError)):null,_e=null===(E=null===(g=null==z?void 0:z.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Ue=_e?Fe(_e):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Sn,st.url)),g.onEvent(pi||lh())});return function(Sn){return dt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,_e);const Ue=A,ze=`${M.packageName.toLowerCase()}://`;su().handleOpenURL=function(){var dt=(0,f.Z)(function*(st){if(st.toLowerCase().startsWith(ze)&&_e({url:st}),"function"==typeof Ue)try{Ue(st)}catch(Sn){console.error(Sn)}});return function(st){return dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Qi}_initialize(h){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,E,A){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,g,E,A)})()}_openRedirect(h,g,E,A){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,g,E,A)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Im()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const g=yield function(){return Ji.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function ph(_){return _.unwrap()}function gh(_){return cu(_)}function cu(_){const{_tokenResponse:h}=_ instanceof F.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof F.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return da.credentialFromResult(_);const g=h.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=Bu;break;case"facebook.com":E=Jc;break;case"github.com":E=Xc;break;case"twitter.com":E=Ti;break;default:const{oauthIdToken:A,oauthAccessToken:M,oauthTokenSecret:z,pendingToken:_e,nonce:Ue}=h;return M||z||A||_e?_e?g.startsWith("saml.")?Go._create(g,_e):Qr._fromParams({providerId:g,signInMethod:g,pendingToken:_e,idToken:A,accessToken:M}):new Fs(g).credential({idToken:A,accessToken:M,rawNonce:Ue}):null}return _ instanceof F.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function br(_,h){return h.catch(g=>{throw g instanceof F.ZR&&function(_,h){var g;const E=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Am(_,function(_,h){var g;const E=(0,F.m9)(_),A=h;return De(h.operationType,E,"argument-error"),De(null===(g=A.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),sl._fromError(E,A)}(_,h));else if(E){const A=cu(h),M=h;A&&(M.credential=A,M.tenantId=E.tenantId||void 0,M.email=E.email||void 0,M.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:gh(g),additionalUserInfo:Ku(g),user:Ao.getOrCreate(A)}})}function hc(_,h){return fc.apply(this,arguments)}function fc(){return(fc=(0,f.Z)(function*(_,h){const g=yield h;return{verificationId:g.verificationId,confirm:E=>br(_,g.confirm(E))}})).apply(this,arguments)}class Am{constructor(h,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return br(ph(this.auth),this.resolver.resolveSignIn(h))}}class Ao{constructor(h){this._delegate=h,this.multiFactor=function(_){const h=(0,F.m9)(_);return na.has(h)||na.set(h,ta._fromUser(h)),na.get(h)}(h)}static getOrCreate(h){return Ao.USER_MAP.has(h)||Ao.USER_MAP.set(h,new Ao(h)),Ao.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,f.Z)(function*(){return br(g.auth,Ud(g._delegate,h))})()}linkWithPhoneNumber(h,g){var E=this;return(0,f.Z)(function*(){return hc(E.auth,function(_,h,g){return Jd.apply(this,arguments)}(E._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,f.Z)(function*(){return br(g.auth,function(_,h,g){return ml.apply(this,arguments)}(g._delegate,h,bn))})()}linkWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield ip(jt(g.auth)),function(_,h,g){return function(_,h,g){return Yi.apply(this,arguments)}(_,h,g)}(g._delegate,h,bn)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,f.Z)(function*(){return br(g.auth,ja(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return hc(this.auth,function(_,h,g){return Si.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return br(this.auth,function(_,h,g){return bs.apply(this,arguments)}(this._delegate,h,bn))}reauthenticateWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield ip(jt(g.auth)),function(_,h,g){return function(_,h,g){return Zn.apply(this,arguments)}(_,h,g)}(g._delegate,h,bn)})()}sendEmailVerification(h){return function(_,h){return Hi.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,f.Z)(function*(){return yield function(_,h){return qo.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function(_,h){return qa((0,F.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function(_,h){return qa((0,F.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(_,h){return gl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(_,h){return Ga.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function(_,h,g){return Or.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ao.USER_MAP=new WeakMap;const pc=De;let Sm=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;pc(A,"invalid-api-key",{appName:g.name});let M=[Dt];if("undefined"!=typeof window){M=function(_,h){const g=Rl();if(!(null==g?void 0:g.sessionStorage))return[];const E=Jt(Dm,_,h);switch(g.sessionStorage.getItem(E)){case fi.NONE:return[Dt];case fi.LOCAL:return[sa,_s];case fi.SESSION:return[_s];default:return[]}}(A,g.name);for(const _e of[sa,Yu,_s])M.includes(_e)||M.push(_e)}pc(A,"invalid-api-key",{appName:g.name});const z="undefined"!=typeof window?bn:void 0;this._delegate=E.initialize({options:{persistence:M,popupRedirectResolver:z}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,h,g){const E=jt(_);De(E._canInitEmulator,E,"emulator-config-failed"),De(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),M=Xt(h),{host:z,port:_e}=function(_){const h=Xt(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const M=A[1];return{host:M,port:ds(E.substr(M.length+1))}}{const[M,z]=E.split(":");return{host:M,port:ds(z)}}}(h);E.config.emulator={url:`${M}//${z}${null===_e?"":`:${_e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:_e,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,h){return ps.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Qo(this._delegate,g)}confirmPasswordReset(g,E){return function(_,h,g){return ut.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var A=this;return(0,f.Z)(function*(){return br(A._delegate,function(_,h,g){return Se.apply(this,arguments)}(A._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,h){return Wu.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,h){const g=Ho.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){pc(pn(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,h){return di.apply(this,arguments)}(g._delegate,bn);return E?br(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,h){jt(_)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,E,A){const{next:M,error:z,complete:_e}=gc(g,E,A);return this._delegate.onAuthStateChanged(M,z,_e)}onIdTokenChanged(g,E,A){const{next:M,error:z,complete:_e}=gc(g,E,A);return this._delegate.onIdTokenChanged(M,z,_e)}sendSignInLinkToEmail(g,E){return function(_,h,g){return _n.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,h,g){return Yo.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,f.Z)(function*(){let A;switch(function(_,h){Ts(Object.values(fi).includes(h),_,"invalid-persistence-type"),(0,F.b$)()?Ts(h!==fi.SESSION,_,"unsupported-persistence-type"):(0,F.UG)()?Ts(h===fi.NONE,_,"unsupported-persistence-type"):np()?Ts(h===fi.NONE||h===fi.LOCAL&&(0,F.hl)(),_,"unsupported-persistence-type"):Ts(h===fi.NONE||hh(),_,"unsupported-persistence-type")}(E._delegate,g),g){case fi.SESSION:A=_s;break;case fi.LOCAL:A=(yield ue(sa)._isAvailable())?sa:Yu;break;case fi.NONE:A=Dt;break;default:return Ie("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return br(this._delegate,function(_){return go.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return br(this._delegate,Hu(this._delegate,g))}signInWithCustomToken(g){return br(this._delegate,function(_,h){return qn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return br(this._delegate,function(_,h,g){return Hu((0,F.m9)(_),Uu.credential(h,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return br(this._delegate,function(_,h,g){return ai.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return hc(this._delegate,function(_,h,g){return ca.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,f.Z)(function*(){return pc(pn(),E._delegate,"operation-not-supported-in-this-environment"),br(E._delegate,function(_,h,g){return Xr.apply(this,arguments)}(E._delegate,g,bn))})()}signInWithRedirect(g){var E=this;return(0,f.Z)(function*(){return pc(pn(),E._delegate,"operation-not-supported-in-this-environment"),yield ip(E._delegate),function(_,h,g){return function(_,h,g){return Ge.apply(this,arguments)}(_,h,g)}(E._delegate,g,bn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,h){return gs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=fi,_})();function gc(_,h,g){let E=_;"function"!=typeof _&&({next:E,error:h,complete:g}=_);const A=E;return{next:z=>A(z&&Ao.getOrCreate(z)),error:h,complete:g}}class mh{constructor(){this.providerId="phone",this._delegate=new da(ph(ee.Z.auth()))}static credential(h,g){return da.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}mh.PHONE_SIGN_IN_METHOD=da.PHONE_SIGN_IN_METHOD,mh.PROVIDER_ID=da.PROVIDER_ID;const xm=De;class Nl{constructor(h,g,E=ee.Z.app()){var A;xm(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new hl(h,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ee.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new Sm(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Uu,FacebookAuthProvider:Jc,GithubAuthProvider:Xc,GoogleAuthProvider:Bu,OAuthProvider:Fs,PhoneAuthProvider:mh,PhoneMultiFactorGenerator:Kf,RecaptchaVerifier:Nl,TwitterAuthProvider:Ti,Auth:Sm,AuthCredential:ir,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.1.6")}(ee.Z)},6676:function(Xe,Te){!function(V){"use strict";function f(q){return Array.prototype.slice.call(q)}function ee(q){return new Promise(function(ye,ve){q.onsuccess=function(){ye(q.result)},q.onerror=function(){ve(q.error)}})}function F(q,ye,ve){var he,Ie=new Promise(function(Fe,Le){ee(he=q[ye].apply(q,ve)).then(Fe,Le)});return Ie.request=he,Ie}function ce(q,ye,ve){var he=F(q,ye,ve);return he.then(function(Ie){if(Ie)return new k(Ie,he.request)})}function te(q,ye,ve){ve.forEach(function(he){Object.defineProperty(q.prototype,he,{get:function(){return this[ye][he]},set:function(Ie){this[ye][he]=Ie}})})}function ie(q,ye,ve,he){he.forEach(function(Ie){Ie in ve.prototype&&(q.prototype[Ie]=function(){return F(this[ye],Ie,arguments)})})}function Ee(q,ye,ve,he){he.forEach(function(Ie){Ie in ve.prototype&&(q.prototype[Ie]=function(){return this[ye][Ie].apply(this[ye],arguments)})})}function le(q,ye,ve,he){he.forEach(function(Ie){Ie in ve.prototype&&(q.prototype[Ie]=function(){return ce(this[ye],Ie,arguments)})})}function W(q){this._index=q}function k(q,ye){this._cursor=q,this._request=ye}function L(q){this._store=q}function Q(q){this._tx=q,this.complete=new Promise(function(ye,ve){q.oncomplete=function(){ye()},q.onerror=function(){ve(q.error)},q.onabort=function(){ve(q.error)}})}function Z(q,ye,ve){this._db=q,this.oldVersion=ye,this.transaction=new Q(ve)}function re(q){this._db=q}te(W,"_index",["name","keyPath","multiEntry","unique"]),ie(W,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(W,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(k,"_cursor",["direction","key","primaryKey","value"]),ie(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(q){q in IDBCursor.prototype&&(k.prototype[q]=function(){var ye=this,ve=arguments;return Promise.resolve().then(function(){return ye._cursor[q].apply(ye._cursor,ve),ee(ye._request).then(function(he){if(he)return new k(he,ye._request)})})})}),L.prototype.createIndex=function(){return new W(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new W(this._store.index.apply(this._store,arguments))},te(L,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ee(L,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},te(Q,"_tx",["objectStoreNames","mode"]),Ee(Q,"_tx",IDBTransaction,["abort"]),Z.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},te(Z,"_db",["name","version","objectStoreNames"]),Ee(Z,"_db",IDBDatabase,["deleteObjectStore","close"]),re.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},te(re,"_db",["name","version","objectStoreNames"]),Ee(re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(q){[L,W].forEach(function(ye){q in ye.prototype&&(ye.prototype[q.replace("open","iterate")]=function(){var ve=f(arguments),he=ve[ve.length-1],Ie=this._store||this._index,Fe=Ie[q].apply(Ie,ve.slice(0,-1));Fe.onsuccess=function(){he(Fe.result)}})})}),[W,L].forEach(function(q){q.prototype.getAll||(q.prototype.getAll=function(ye,ve){var he=this,Ie=[];return new Promise(function(Fe){he.iterateCursor(ye,function(Le){Le?(Ie.push(Le.value),void 0===ve||Ie.length!=ve?Le.continue():Fe(Ie)):Fe(Ie)})})})}),V.openDb=function(q,ye,ve){var he=F(indexedDB,"open",[q,ye]),Ie=he.request;return Ie&&(Ie.onupgradeneeded=function(Fe){ve&&ve(new Z(Ie.result,Fe.oldVersion,Ie.transaction))}),he.then(function(Fe){return new re(Fe)})},V.deleteDb=function(q){return F(indexedDB,"deleteDatabase",[q])},Object.defineProperty(V,"__esModule",{value:!0})}(Te)},7574:(Xe,Te,V)=>{"use strict";V.d(Te,{y:()=>L});var f=V(7393),F=V(9181),ce=V(6490),ie=V(6554),Ee=V(4487);var k=V(2494);let L=(()=>{class Z{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const de=new Z;return de.source=this,de.operator=we,de}subscribe(we,de,q){const{operator:ye}=this,ve=function(Z,re,we){if(Z){if(Z instanceof f.L)return Z;if(Z[F.b])return Z[F.b]()}return Z||re||we?new f.L(Z,re,we):new f.L(ce.c)}(we,de,q);if(ve.add(ye?ye.call(ve,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),k.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(we){try{return this._subscribe(we)}catch(de){k.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=de),function(Z){for(;Z;){const{closed:re,destination:we,isStopped:de}=Z;if(re||de)return!1;Z=we&&we instanceof f.L?we:null}return!0}(we)?we.error(de):console.warn(de)}}forEach(we,de){return new(de=Q(de))((q,ye)=>{let ve;ve=this.subscribe(he=>{try{we(he)}catch(Ie){ye(Ie),ve&&ve.unsubscribe()}},ye,q)})}_subscribe(we){const{source:de}=this;return de&&de.subscribe(we)}[ie.L](){return this}pipe(...we){return 0===we.length?this:function(Z){return 0===Z.length?Ee.y:1===Z.length?Z[0]:function(we){return Z.reduce((de,q)=>q(de),we)}}(we)(this)}toPromise(we){return new(we=Q(we))((de,q)=>{let ye;this.subscribe(ve=>ye=ve,ve=>q(ve),()=>de(ye))})}}return Z.create=re=>new Z(re),Z})();function Q(Z){if(Z||(Z=k.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},6490:(Xe,Te,V)=>{"use strict";V.d(Te,{c:()=>F});var f=V(2494),ee=V(4449);const F={closed:!0,next(ce){},error(ce){if(f.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ee.z)(ce)},complete(){}}},9765:(Xe,Te,V)=>{"use strict";V.d(Te,{Yc:()=>Ee,xQ:()=>le});var f=V(7574),ee=V(7393),F=V(5319),ce=V(7971),te=V(8858),ie=V(9181);class Ee extends ee.L{constructor(L){super(L),this.destination=L}}let le=(()=>{class k extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new Ee(this)}lift(Q){const Z=new W(this,this);return Z.operator=Q,Z}next(Q){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:Z}=this,re=Z.length,we=Z.slice();for(let de=0;de<re;de++)we[de].next(Q)}}error(Q){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:Z}=this,re=Z.length,we=Z.slice();for(let de=0;de<re;de++)we[de].error(Q);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:Q}=this,Z=Q.length,re=Q.slice();for(let we=0;we<Z;we++)re[we].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new ce.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new ce.N;return this.hasError?(Q.error(this.thrownError),F.w.EMPTY):this.isStopped?(Q.complete(),F.w.EMPTY):(this.observers.push(Q),new te.W(this,Q))}asObservable(){const Q=new f.y;return Q.source=this,Q}}return k.create=(L,Q)=>new W(L,Q),k})();class W extends le{constructor(L,Q){super(),this.destination=L,this.source=Q}next(L){const{destination:Q}=this;Q&&Q.next&&Q.next(L)}error(L){const{destination:Q}=this;Q&&Q.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:Q}=this;return Q?this.source.subscribe(L):F.w.EMPTY}}},8858:(Xe,Te,V)=>{"use strict";V.d(Te,{W:()=>ee});var f=V(5319);class ee extends f.w{constructor(ce,te){super(),this.subject=ce,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,te=ce.observers;if(this.subject=null,!te||0===te.length||ce.isStopped||ce.closed)return;const ie=te.indexOf(this.subscriber);-1!==ie&&te.splice(ie,1)}}},7393:(Xe,Te,V)=>{"use strict";V.d(Te,{L:()=>Ee});var f=V(9105),ee=V(6490),F=V(5319),ce=V(9181),te=V(2494),ie=V(4449);class Ee extends F.w{constructor(k,L,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof Ee?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,k,L,Q)}}[ce.b](){return this}static create(k,L,Q){const Z=new Ee(k,L,Q);return Z.syncErrorThrowable=!1,Z}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class le extends Ee{constructor(k,L,Q,Z){super(),this._parentSubscriber=k;let re,we=this;(0,f.m)(L)?re=L:L&&(re=L.next,Q=L.error,Z=L.complete,L!==ee.c&&(we=Object.create(L),(0,f.m)(we.unsubscribe)&&this.add(we.unsubscribe.bind(we)),we.unsubscribe=this.unsubscribe.bind(this))),this._context=we,this._next=re,this._error=Q,this._complete=Z}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;te.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:Q}=te.v;if(this._error)Q&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)Q?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ie.z)(k),this.unsubscribe();else{if(this.unsubscribe(),Q)throw k;(0,ie.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(Q){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ie.z)(Q)}}__tryOrSetError(k,L,Q){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,Q)}catch(Z){return te.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=Z,k.syncErrorThrown=!0,!0):((0,ie.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Xe,Te,V)=>{"use strict";V.d(Te,{w:()=>ie});var f=V(9796),ee=V(1555),F=V(9105);const te=(()=>{function le(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return le.prototype=Object.create(Error.prototype),le})();class ie{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:Q,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ie)k.remove(this);else if(null!==k)for(let re=0;re<k.length;++re)k[re].remove(this);if((0,F.m)(Q)){L&&(this._unsubscribe=void 0);try{Q.call(this)}catch(re){W=re instanceof te?Ee(re.errors):[re]}}if((0,f.k)(Z)){let re=-1,we=Z.length;for(;++re<we;){const de=Z[re];if((0,ee.K)(de))try{de.unsubscribe()}catch(q){W=W||[],q instanceof te?W=W.concat(Ee(q.errors)):W.push(q)}}}if(W)throw new te(W)}add(W){let k=W;if(!W)return ie.EMPTY;switch(typeof W){case"function":k=new ie(W);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ie)){const Z=k;k=new ie,k._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ie){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[k]:Q.push(k),k}remove(W){const k=this._subscriptions;if(k){const L=k.indexOf(W);-1!==L&&k.splice(L,1)}}}var le;function Ee(le){return le.reduce((W,k)=>W.concat(k instanceof te?k.errors:k),[])}ie.EMPTY=((le=new ie).closed=!0,le)},2494:(Xe,Te,V)=>{"use strict";V.d(Te,{v:()=>ee});let f=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=F},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(Xe,Te,V)=>{"use strict";V.d(Te,{IY:()=>ce,Ds:()=>ie,ft:()=>le});var f=V(7393),ee=V(7574),F=V(7444);class ce extends f.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends f.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function le(W,k){if(k.closed)return;if(W instanceof ee.y)return W.subscribe(k);let L;try{L=(0,F.s)(W)(k)}catch(Q){k.error(Q)}return L}},2441:(Xe,Te,V)=>{"use strict";V.d(Te,{c:()=>te,N:()=>ie});var f=V(9765),ee=V(7574),F=V(5319),ce=V(1307);class te extends ee.y{constructor(L,Q){super(),this.source=L,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new Ee(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,ce.x)()(this)}}const ie=(()=>{const k=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class Ee extends f.Yc{constructor(L,Q){super(L),this.connectable=Q}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const Q=L._connection;L._refCount=0,L._subject=null,L._connection=null,Q&&Q.unsubscribe()}}}},9193:(Xe,Te,V)=>{"use strict";V.d(Te,{E:()=>ee,c:()=>F});var f=V(7574);const ee=new f.y(te=>te.complete());function F(te){return te?function(te){return new f.y(ie=>te.schedule(()=>ie.complete()))}(te):ee}},4402:(Xe,Te,V)=>{"use strict";V.d(Te,{D:()=>we});var f=V(7574),ee=V(7444),F=V(5319),ce=V(6554),Ee=V(4087),le=V(377),L=V(4072),Q=V(9489);function we(de,q){return q?function(de,q){if(null!=de){if(function(de){return de&&"function"==typeof de[ce.L]}(de))return function(de,q){return new f.y(ye=>{const ve=new F.w;return ve.add(q.schedule(()=>{const he=de[ce.L]();ve.add(he.subscribe({next(Ie){ve.add(q.schedule(()=>ye.next(Ie)))},error(Ie){ve.add(q.schedule(()=>ye.error(Ie)))},complete(){ve.add(q.schedule(()=>ye.complete()))}}))})),ve})}(de,q);if((0,L.t)(de))return function(de,q){return new f.y(ye=>{const ve=new F.w;return ve.add(q.schedule(()=>de.then(he=>{ve.add(q.schedule(()=>{ye.next(he),ve.add(q.schedule(()=>ye.complete()))}))},he=>{ve.add(q.schedule(()=>ye.error(he)))}))),ve})}(de,q);if((0,Q.z)(de))return(0,Ee.r)(de,q);if(function(de){return de&&"function"==typeof de[le.hZ]}(de)||"string"==typeof de)return function(de,q){if(!de)throw new Error("Iterable cannot be null");return new f.y(ye=>{const ve=new F.w;let he;return ve.add(()=>{he&&"function"==typeof he.return&&he.return()}),ve.add(q.schedule(()=>{he=de[le.hZ](),ve.add(q.schedule(function(){if(ye.closed)return;let Ie,Fe;try{const Le=he.next();Ie=Le.value,Fe=Le.done}catch(Le){return void ye.error(Le)}Fe?ye.complete():(ye.next(Ie),this.schedule())}))})),ve})}(de,q)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,q):de instanceof f.y?de:new f.y((0,ee.s)(de))}},6693:(Xe,Te,V)=>{"use strict";V.d(Te,{n:()=>ce});var f=V(7574),ee=V(5015),F=V(4087);function ce(te,ie){return ie?(0,F.r)(te,ie):new f.y((0,ee.V)(te))}},6682:(Xe,Te,V)=>{"use strict";V.d(Te,{T:()=>te});var f=V(7574),ee=V(4869),F=V(3282),ce=V(6693);function te(...ie){let Ee=Number.POSITIVE_INFINITY,le=null,W=ie[ie.length-1];return(0,ee.K)(W)?(le=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(Ee=ie.pop())):"number"==typeof W&&(Ee=ie.pop()),null===le&&1===ie.length&&ie[0]instanceof f.y?ie[0]:(0,F.J)(Ee)((0,ce.n)(ie,le))}},5917:(Xe,Te,V)=>{"use strict";V.d(Te,{of:()=>ce});var f=V(4869),ee=V(6693),F=V(4087);function ce(...te){let ie=te[te.length-1];return(0,f.K)(ie)?(te.pop(),(0,F.r)(te,ie)):(0,ee.n)(te)}},8002:(Xe,Te,V)=>{"use strict";V.d(Te,{U:()=>ee});var f=V(7393);function ee(te,ie){return function(le){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new F(te,ie))}}class F{constructor(ie,Ee){this.project=ie,this.thisArg=Ee}call(ie,Ee){return Ee.subscribe(new ce(ie,this.project,this.thisArg))}}class ce extends f.L{constructor(ie,Ee,le){super(ie),this.project=Ee,this.count=0,this.thisArg=le||this}_next(ie){let Ee;try{Ee=this.project.call(this.thisArg,ie,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(Ee)}}},3282:(Xe,Te,V)=>{"use strict";V.d(Te,{J:()=>F});var f=V(9773),ee=V(4487);function F(ce=Number.POSITIVE_INFINITY){return(0,f.zg)(ee.y,ce)}},9773:(Xe,Te,V)=>{"use strict";V.d(Te,{zg:()=>ce});var f=V(8002),ee=V(4402),F=V(5345);function ce(le,W,k=Number.POSITIVE_INFINITY){return"function"==typeof W?L=>L.pipe(ce((Q,Z)=>(0,ee.D)(le(Q,Z)).pipe((0,f.U)((re,we)=>W(Q,re,Z,we))),k)):("number"==typeof W&&(k=W),L=>L.lift(new te(le,k)))}class te{constructor(W,k=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=k}call(W,k){return k.subscribe(new ie(W,this.project,this.concurrent))}}class ie extends F.Ds{constructor(W,k,L=Number.POSITIVE_INFINITY){super(W),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let k;const L=this.index++;try{k=this.project(W,L)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(k)}_innerSub(W){const k=new F.IY(this),L=this.destination;L.add(k);const Q=(0,F.ft)(W,k);Q!==k&&L.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Te,V)=>{"use strict";V.d(Te,{ht:()=>L,QV:()=>W});var f=V(7393),ee=V(9193),F=V(5917),ce=V(7574);class le{constructor(re,we,de){this.kind=re,this.value=we,this.error=de,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,we,de){switch(this.kind){case"N":return re&&re(this.value);case"E":return we&&we(this.error);case"C":return de&&de()}}accept(re,we,de){return re&&"function"==typeof re.next?this.observe(re):this.do(re,we,de)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return Z=this.error,new ce.y(we=>we.error(Z));case"C":return(0,ee.c)()}var Z;throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new le("N",re):le.undefinedValueNotification}static createError(re){return new le("E",void 0,re)}static createComplete(){return le.completeNotification}}function W(Z,re=0){return function(de){return de.lift(new k(Z,re))}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0);class k{constructor(re,we=0){this.scheduler=re,this.delay=we}call(re,we){return we.subscribe(new L(re,this.scheduler,this.delay))}}class L extends f.L{constructor(re,we,de=0){super(re),this.scheduler=we,this.delay=de}static dispatch(re){const{notification:we,destination:de}=re;we.observe(de),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new Q(re,this.destination)))}_next(re){this.scheduleMessage(le.createNext(re))}_error(re){this.scheduleMessage(le.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(le.createComplete()),this.unsubscribe()}}class Q{constructor(re,we){this.notification=re,this.destination=we}}},1307:(Xe,Te,V)=>{"use strict";V.d(Te,{x:()=>ee});var f=V(7393);function ee(){return function(ie){return ie.lift(new F(ie))}}class F{constructor(ie){this.connectable=ie}call(ie,Ee){const{connectable:le}=this;le._refCount++;const W=new ce(ie,le),k=Ee.subscribe(W);return W.closed||(W.connection=le.connect()),k}}class ce extends f.L{constructor(ie,Ee){super(ie),this.connectable=Ee}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const Ee=ie._refCount;if(Ee<=0)return void(this.connection=null);if(ie._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:le}=this,W=ie._connection;this.connection=null,W&&(!le||W===le)&&W.unsubscribe()}}},3101:(Xe,Te,V)=>{"use strict";V.d(Te,{R:()=>q});var f=V(7574);let ee=1;const F=Promise.resolve(),ce={};function te(ve){return ve in ce&&(delete ce[ve],!0)}const ie={setImmediate(ve){const he=ee++;return ce[he]=!0,F.then(()=>te(he)&&ve()),he},clearImmediate(ve){te(ve)}};var le=V(6465),k=V(6102);const Z=new class extends k.v{flush(he){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let Fe,Le=-1,mt=Ie.length;he=he||Ie.shift();do{if(Fe=he.execute(he.state,he.delay))break}while(++Le<mt&&(he=Ie.shift()));if(this.active=!1,Fe){for(;++Le<mt&&(he=Ie.shift());)he.unsubscribe();throw Fe}}}(class extends le.o{constructor(he,Ie){super(he,Ie),this.scheduler=he,this.work=Ie}requestAsyncId(he,Ie,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(he,Ie,Fe):(he.actions.push(this),he.scheduled||(he.scheduled=ie.setImmediate(he.flush.bind(he,null))))}recycleAsyncId(he,Ie,Fe=0){if(null!==Fe&&Fe>0||null===Fe&&this.delay>0)return super.recycleAsyncId(he,Ie,Fe);0===he.actions.length&&(ie.clearImmediate(Ie),he.scheduled=void 0)}});var re=V(9796);class de extends f.y{constructor(he,Ie=0,Fe=Z){var ve;super(),this.source=he,this.delayTime=Ie,this.scheduler=Fe,(!(!(0,re.k)(ve=Ie)&&ve-parseFloat(ve)+1>=0)||Ie<0)&&(this.delayTime=0),(!Fe||"function"!=typeof Fe.schedule)&&(this.scheduler=Z)}static create(he,Ie=0,Fe=Z){return new de(he,Ie,Fe)}static dispatch(he){const{source:Ie,subscriber:Fe}=he;return this.add(Ie.subscribe(Fe))}_subscribe(he){return this.scheduler.schedule(de.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function q(ve,he=0){return function(Fe){return Fe.lift(new ye(ve,he))}}class ye{constructor(he,Ie){this.scheduler=he,this.delay=Ie}call(he,Ie){return new de(Ie,this.delay,this.scheduler).subscribe(he)}}},3342:(Xe,Te,V)=>{"use strict";V.d(Te,{b:()=>ce});var f=V(7393);function ee(){}var F=V(9105);function ce(Ee,le,W){return function(L){return L.lift(new te(Ee,le,W))}}class te{constructor(le,W,k){this.nextOrObserver=le,this.error=W,this.complete=k}call(le,W){return W.subscribe(new ie(le,this.nextOrObserver,this.error,this.complete))}}class ie extends f.L{constructor(le,W,k,L){super(le),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=L||ee,(0,F.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ee,this._tapError=W.error||ee,this._tapComplete=W.complete||ee)}_next(le){try{this._tapNext.call(this._context,le)}catch(W){return void this.destination.error(W)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(W){return void this.destination.error(W)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4087:(Xe,Te,V)=>{"use strict";V.d(Te,{r:()=>F});var f=V(7574),ee=V(5319);function F(ce,te){return new f.y(ie=>{const Ee=new ee.w;let le=0;return Ee.add(te.schedule(function(){le!==ce.length?(ie.next(ce[le++]),ie.closed||Ee.add(this.schedule())):ie.complete()})),Ee})}},6465:(Xe,Te,V)=>{"use strict";V.d(Te,{o:()=>F});var f=V(5319);class ee extends f.w{constructor(te,ie){super()}schedule(te,ie=0){return this}}class F extends ee{constructor(te,ie){super(te,ie),this.scheduler=te,this.work=ie,this.pending=!1}schedule(te,ie=0){if(this.closed)return this;this.state=te;const Ee=this.id,le=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(le,Ee,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(le,this.id,ie),this}requestAsyncId(te,ie,Ee=0){return setInterval(te.flush.bind(te,this),Ee)}recycleAsyncId(te,ie,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return ie;clearInterval(ie)}execute(te,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(te,ie);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ie){let le,Ee=!1;try{this.work(te)}catch(W){Ee=!0,le=!!W&&W||new Error(W)}if(Ee)return this.unsubscribe(),le}_unsubscribe(){const te=this.id,ie=this.scheduler,Ee=ie.actions,le=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&Ee.splice(le,1),null!=te&&(this.id=this.recycleAsyncId(ie,te,null)),this.delay=null}}},6102:(Xe,Te,V)=>{"use strict";V.d(Te,{v:()=>ee});let f=(()=>{class F{constructor(te,ie=F.now){this.SchedulerAction=te,this.now=ie}schedule(te,ie=0,Ee){return new this.SchedulerAction(this,te).schedule(Ee,ie)}}return F.now=()=>Date.now(),F})();class ee extends f{constructor(ce,te=f.now){super(ce,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,te=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ce,te,ie):super.schedule(ce,te,ie)}flush(ce){const{actions:te}=this;if(this.active)return void te.push(ce);let ie;this.active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=te.shift());if(this.active=!1,ie){for(;ce=te.shift();)ce.unsubscribe();throw ie}}}},3637:(Xe,Te,V)=>{"use strict";V.d(Te,{z:()=>F});var f=V(6465);const F=new(V(6102).v)(f.o)},7771:(Xe,Te,V)=>{"use strict";V.d(Te,{c:()=>ie,N:()=>te});var f=V(6465),F=V(6102);const te=new class extends F.v{}(class extends f.o{constructor(le,W){super(le,W),this.scheduler=le,this.work=W}schedule(le,W=0){return W>0?super.schedule(le,W):(this.delay=W,this.state=le,this.scheduler.flush(this),this)}execute(le,W){return W>0||this.closed?super.execute(le,W):this._execute(le,W)}requestAsyncId(le,W,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(le,W,k):le.flush(this)}}),ie=te},377:(Xe,Te,V)=>{"use strict";V.d(Te,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Te,V)=>{"use strict";V.d(Te,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Te,V)=>{"use strict";V.d(Te,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Te,V)=>{"use strict";V.d(Te,{N:()=>ee});const ee=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Xe,Te,V)=>{"use strict";function f(ee){setTimeout(()=>{throw ee},0)}V.d(Te,{z:()=>f})},4487:(Xe,Te,V)=>{"use strict";function f(ee){return ee}V.d(Te,{y:()=>f})},9796:(Xe,Te,V)=>{"use strict";V.d(Te,{k:()=>f});const f=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Xe,Te,V)=>{"use strict";V.d(Te,{z:()=>f});const f=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Xe,Te,V)=>{"use strict";function f(ee){return"function"==typeof ee}V.d(Te,{m:()=>f})},1555:(Xe,Te,V)=>{"use strict";function f(ee){return null!==ee&&"object"==typeof ee}V.d(Te,{K:()=>f})},4072:(Xe,Te,V)=>{"use strict";function f(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}V.d(Te,{t:()=>f})},4869:(Xe,Te,V)=>{"use strict";function f(ee){return ee&&"function"==typeof ee.schedule}V.d(Te,{K:()=>f})},7444:(Xe,Te,V)=>{"use strict";V.d(Te,{s:()=>L});var f=V(5015),ee=V(4449),ce=V(377),ie=V(6554),le=V(9489),W=V(4072),k=V(1555);const L=Q=>{if(Q&&"function"==typeof Q[ie.L])return(Q=>Z=>{const re=Q[ie.L]();if("function"!=typeof re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(Z)})(Q);if((0,le.z)(Q))return(0,f.V)(Q);if((0,W.t)(Q))return(Q=>Z=>(Q.then(re=>{Z.closed||(Z.next(re),Z.complete())},re=>Z.error(re)).then(null,ee.z),Z))(Q);if(Q&&"function"==typeof Q[ce.hZ])return(Q=>Z=>{const re=Q[ce.hZ]();for(;;){let we;try{we=re.next()}catch(de){return Z.error(de),Z}if(we.done){Z.complete();break}if(Z.next(we.value),Z.closed)break}return"function"==typeof re.return&&Z.add(()=>{re.return&&re.return()}),Z})(Q);{const re=`You provided ${(0,k.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(re)}}},5015:(Xe,Te,V)=>{"use strict";V.d(Te,{V:()=>f});const f=ee=>F=>{for(let ce=0,te=ee.length;ce<te&&!F.closed;ce++)F.next(ee[ce]);F.complete()}},2074:(Xe,Te,V)=>{"use strict";var f=V(3018);let ee=null;function F(){return ee}const Ee=new f.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:W,token:n,providedIn:"platform"}),n})();function W(){return(0,f.LFG)(L)}const k=new f.OlP("Location Initialized");let L=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){Q()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){Q()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ee))},n.\u0275prov=(0,f.Yz7)({factory:Z,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Z(){return new L((0,f.LFG)(Ee))}function re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:ye,token:n,providedIn:"root"}),n})();function ye(n){const e=(0,f.LFG)(Ee).location;return new he((0,f.LFG)(le),e&&e.origin||"")}const ve=new f.OlP("appBaseHref");let he=(()=>{class n extends q{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return re(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+de(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const p=this.prepareExternalUrl(a+de(l));this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){const p=this.prepareExternalUrl(a+de(l));this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(ve,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends q{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=re(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let p=this.prepareExternalUrl(a+de(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){let p=this.prepareExternalUrl(a+de(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(ve,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t,s){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=we(ft(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+de(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(q),f.LFG(le))},n.normalizeQueryParams=de,n.joinWithSlash=re,n.stripTrailingSlash=we,n.\u0275prov=(0,f.Yz7)({factory:Le,token:n,providedIn:"root"}),n})();function Le(){return new Fe((0,f.LFG)(q),(0,f.LFG)(le))}function ft(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const xr=f.kL8;class ir{}let An=(()=>{class n extends ir{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(xr(s||this.locale)(t)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Kc{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,p)=>{if(null==a.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Kc(null,this._ngForOf,-1,-1),null===p?void 0:p),b=new Hn(a,v);s.push(b)}else if(null==p)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const v=this._viewContainer.get(l);this._viewContainer.move(v,p);const b=new Hn(a,v);s.push(b)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const p=this._viewContainer.get(a);p.context.index=a,p.context.count=l,p.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Hn{constructor(e,t){this.record=e,this.view=t}}let fs=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new Kr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Kr{constructor(){this.$implicit=null,this.ngIf=null}}function Wt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Pf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:ir,useClass:An}]}),n})();function po(n){return"server"===n}let go=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new ju((0,f.LFG)(Ee),window)}),n})();class ju{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const p=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ba(this.window.history)||Ba(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ba(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ls extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ls,ee||(ee=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ji=ji||document.querySelector("base"),ji?ji.getAttribute("href"):null);return null==t?null:function(n){zo=zo||document.createElement("a"),zo.setAttribute("href",n);const e=zo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ji=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let zo,ji=null;const $u=new f.OlP("TRANSITION_ID"),Hu=[{provide:f.ip1,useFactory:function(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const s=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[$u,Ee,f.zs3],multi:!0}];class bt{static init(){(0,f.VLi)(new bt)}addToWindow(e){f.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(s=>{const a=f.dqk.getAllAngularTestabilities();let l=a.length,p=!1;const v=function(b){p=p||b,l--,0==l&&s(p)};a.forEach(function(b){b.whenStable(v)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ud=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ps=new f.OlP("EventManagerPlugins");let Qo=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const p=a[l];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ps),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class vo{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let tl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),gs=(()=>{class n extends tl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const p=this._doc.createElement("style");p.textContent=l,a.push(s.appendChild(p))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Bd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bd))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ee))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Bd(n){F().remove(n)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function Us(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?Us(n,a,t):(a=a.replace(Tt,n),t.push(a))}return t}function $d(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xo=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Hi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Gi(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case f.ifc.ShadowDom:return new ms(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=Us(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Qo),f.LFG(gs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Hi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Se[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Se[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Se[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,s,a&f.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$d(s)):this.eventManager.addEventListener(e,t,$d(s))}}class Gi extends Hi{constructor(e,t,s,a){super(e),this.component=s;const l=Us(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Tt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Tt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class ms extends Hi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Us(a.id,a.styles,[]);for(let p=0;p<l.length;p++){const v=document.createElement("style");v.textContent=l[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ga=(()=>{class n extends vo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ee))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=["alt","control","meta","shift"],Ku={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qi=(()=>{class n extends vo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),p=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,p))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let p="";if(wo.forEach(b=>{const S=s.indexOf(b);S>-1&&(s.splice(S,1),p+=b+".")}),p+=l,0!=s.length||0===l.length)return null;const v={};return v.domEventName=a,v.fullKey=p,v}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Wd.hasOwnProperty(e)&&(e=Wd[e]))}return Ku[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),wo.forEach(l=>{l!=a&&Jr[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ee))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const cl=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){Ls.makeCurrent(),bt.init()},multi:!0},{provide:Ee,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Bs=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:ps,useClass:Ga,multi:!0,deps:[Ee,f.R0b,f.Lbi]},{provide:ps,useClass:qi,multi:!0,deps:[Ee]},[],{provide:Xo,useClass:Xo,deps:[Qo,gs,f.AFp]},{provide:f.FYo,useExisting:Xo},{provide:tl,useExisting:gs},{provide:gs,useClass:gs,deps:[Ee]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Qo,useClass:Qo,deps:[ps,f.R0b]},{provide:class{},useClass:Ud,deps:[]},[]];let Wa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:$u,useExisting:f.AFp},Hu]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Bs,imports:[Pf,f.hGG]}),n})();"undefined"!=typeof window&&window;var fn=V(4402),Je=V(5917),Wi=V(9765),vs=V(7971);class or extends Wi.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vs.N;return this._value}next(e){super.next(this._value=e)}}var Co=V(4869),$s=V(9796),Fn=V(7393);class ll extends Fn.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class im extends Fn.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var sa=V(7444),ui=V(7574);function Yd(n,e,t,s,a=new im(n,t,s)){if(!a.closed)return e instanceof ui.y?e.subscribe(a):(0,sa.s)(e)(a)}var dl=V(6693);const tc={};class aa{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new nc(e,this.resultSelector))}}class nc extends ll{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(tc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(Yd(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,p=this.toRespond?a[s]===tc?--this.toRespond:this.toRespond:0;a[s]=t,0===p&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const Io=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var ci=V(3282);function ic(...n){return(0,ci.J)(1)((0,Je.of)(...n))}var zi=V(9193);function Es(n){return new ui.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,fn.D)(t):(0,zi.c)()).subscribe(e)})}var Hs=V(2441),gt=V(8002),ws=V(5345);function zn(n,e){return"function"==typeof e?t=>t.pipe(zn((s,a)=>(0,fn.D)(n(s,a)).pipe((0,gt.U)((l,p)=>e(s,l,a,p))))):t=>t.lift(new ua(n))}class ua{constructor(e){this.project=e}call(e,t){return t.subscribe(new $f(e,this.project))}}class $f extends ws.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new ws.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,ws.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const hl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Qd(n){return e=>0===n?(0,zi.c)():e.lift(new fl(n))}class fl{constructor(e){if(this.total=e,this.total<0)throw new hl}call(e,t){return t.subscribe(new vn(e,this.total))}}class vn extends Fn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function ca(...n){const e=n[n.length-1];return(0,Co.K)(e)?(n.pop(),t=>ic(n,t,e)):t=>ic(n,t)}function la(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Jd(n,e,t))}}class Jd{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new om(e,this.accumulator,this.seed,this.hasSeed))}}class om extends Fn.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function Si(n,e){return function(s){return s.lift(new Xa(n,e))}}class Xa{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pl(e,this.predicate,this.thisArg))}}class pl extends Fn.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function Gs(n){return function(t){const s=new gl(n),a=t.lift(s);return s.caught=a}}class gl{constructor(e){this.selector=e}call(e,t){return t.subscribe(new da(e,this.selector,this.caught))}}class da extends ws.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new ws.IY(this);this.add(s);const a=(0,ws.ft)(t,s);a!==s&&this.add(a)}}}var En=V(9773);function Zi(n,e){return(0,En.zg)(n,e,1)}function Hf(n){return function(t){return 0===n?(0,zi.c)():t.lift(new Ln(n))}}class Ln{constructor(e){if(this.total=e,this.total<0)throw new hl}call(e,t){return t.subscribe(new sc(e,this.total))}}class sc extends Fn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const p=t++%s;e.next(a[p])}}e.complete()}}function Do(n=li){return e=>e.lift(new ha(n))}class ha{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Xd(e,this.errorFactory))}}class Xd extends Fn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function li(){return new Io}function Xr(n=null){return e=>e.lift(new Ki(n))}class Ki{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new bs(e,this.defaultValue))}}class bs extends Fn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var wr=V(4487);function qs(n,e){const t=arguments.length>=2;return s=>s.pipe(n?Si((a,l)=>n(a,l,s)):wr.y,Qd(1),t?Xr(e):Do(()=>new Io))}var Pr=V(3342),eh=V(1307),Gf=V(5319);class C{constructor(e){this.callback=e}call(e,t){return t.subscribe(new D(e,this.callback))}}class D extends Fn.L{constructor(e,t){super(e),this.add(new Gf.w(t))}}class x{constructor(e,t){this.id=e,this.url=t}}class U extends x{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Y extends x{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends x{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oe extends x{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class We extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends x{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ft extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ct="primary";class yl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _l(n){return new yl(n)}const vl="ngNavigationCancelingError";function fa(n){const e=Error("NavigationCancelingError: "+n);return e[vl]=!0,e}function lv(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const p=s[l],v=n[l];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function xi(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!dv(n[a],e[a]))return!1;return!0}function dv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function pa(n){return Array.prototype.concat.apply([],n)}function oc(n){return n.length>0?n[n.length-1]:null}function ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Is(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,fn.D)(Promise.resolve(n)):(0,Je.of)(n)}const ac={exact:function um(n,e,t){if(!ru(n.segments,e.segments)||!bl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!um(n.children[s],e.children[s],t))return!1;return!0},subset:th},Ri={exact:function(n,e){return xi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dv(n[t],e[t]))},ignored:()=>!0};function El(n,e,t){return ac[t.paths](n.root,e.root,t.matrixParams)&&Ri[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function th(n,e,t){return wl(n,e,e.segments,t)}function wl(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!ru(a,t)||e.hasChildren()||!bl(a,t,s))}if(n.segments.length===t.length){if(!ru(n.segments,t)||!bl(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!th(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ru(n.segments,a)&&bl(n.segments,a,s)&&n.children[Ct])&&wl(n.children[Ct],e,l,s)}}function bl(n,e,t){return e.every((s,a)=>Ri[t](n[a].parameters,s.parameters))}class nu{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_l(this.queryParams)),this._queryParamMap}toString(){return ub.serialize(this)}}class At{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ur(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rh(this)}}class Ws{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_l(this.parameters)),this._parameterMap}toString(){return fv(this)}}function ru(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class nh{}class Wf{parse(e){const t=new su(e);return new nu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Il(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${To(t)}=${To(a)}`).join("&"):`${To(t)}=${To(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const ub=new Wf;function rh(n){return n.segments.map(e=>fv(e)).join("/")}function Il(n,e){if(!n.hasChildren())return rh(n);if(e){const t=n.children[Ct]?Il(n.children[Ct],!1):"",s=[];return ur(n.children,(a,l)=>{l!==Ct&&s.push(`${l}:${Il(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return ur(n.children,(s,a)=>{a===Ct&&(t=t.concat(e(s,a)))}),ur(n.children,(s,a)=>{a!==Ct&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===Ct?[Il(n.children[Ct],!1)]:[`${a}:${Il(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ct]?`${rh(n)}/${t[0]}`:`${rh(n)}/(${t.join("//")})`}}function lm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function To(n){return lm(n).replace(/%3B/gi,";")}function zs(n){return lm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(n){return decodeURIComponent(n)}function Zf(n){return ih(n.replace(/\+/g,"%20"))}function fv(n){return`${zs(n.path)}${function(n){return Object.keys(n).map(e=>`;${zs(e)}=${zs(n[e])}`).join("")}(n.parameters)}`}const Yf=/^[^\/()?;=#]+/;function cc(n){const e=n.match(Yf);return e?e[0]:""}const dm=/^[^=?&#]+/,pv=/^[^?&#]+/;class su{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[Ct]=new At(e,t)),s}parseSegment(){const e=cc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ws(ih(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cc(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=cc(this.remaining);a&&(s=a,this.capture(s))}e[ih(t)]=ih(s)}parseQueryParam(e){const t=function(n){const e=n.match(dm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(pv);return e?e[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=Zf(t),l=Zf(s);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=cc(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ct);const p=this.parseChildren();t[l]=1===Object.keys(p).length?p[Ct]:new At([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class hm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Qf(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=Qf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ni(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Ni(e,this._root).map(t=>t.value)}}function Qf(n,e){if(n===e.value)return e;for(const t of e.children){const s=Qf(n,t);if(s)return s}return null}function Ni(n,e){if(n===e.value)return[e];for(const t of e.children){const s=Ni(n,t);if(s.length)return s.unshift(e),s}return[]}class hi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ma(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fm extends hm{constructor(e,t){super(e),this.snapshot=t,Xf(this,e)}toString(){return this.snapshot.toString()}}function pm(n,e){const t=function(n,e){const p=new oh([],{},{},"",{},Ct,e,null,n.root,-1,{});return new mm("",new hi(p,[]))}(n,e),s=new or([new Ws("",{})]),a=new or({}),l=new or({}),p=new or({}),v=new or(""),b=new lc(s,a,p,v,l,Ct,e,t.root);return b.snapshot=t.root,new fm(new hi(b,[]),t)}class lc{constructor(e,t,s,a,l,p,v,b){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>_l(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>_l(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gm(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class oh{constructor(e,t,s,a,l,p,v,b,S,N,P){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=N,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_l(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_l(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mm extends hm{constructor(e,t){super(t),this.url=e,Xf(this,t)}toString(){return ym(this._root)}}function Xf(n,e){e.value._routerState=n,e.children.forEach(t=>Xf(n,t))}function ym(n){const e=n.children.length>0?` { ${n.children.map(ym).join(", ")} } `:"";return`${n.value}${e}`}function _m(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),xi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),xi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ah(n,e){return xi(n.params,e.params)&&function(n,e){return ru(n,e)&&n.every((t,s)=>xi(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||ah(n.parent,e.parent))}function Dl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Dl(n,s,a);return Dl(n,s)})}(n,e,t);return new hi(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const p=l.route;return Ds(e,p),p}}const s=function(n){return new lc(new or(n.url),new or(n.params),new or(n.queryParams),new or(n.fragment),new or(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Dl(n,l));return new hi(s,a)}}function Ds(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Ds(n.children[t],e.children[t])}function Tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uu(n){return"object"==typeof n&&null!=n&&n.outlets}function Em(n,e,t,s,a){let l={};return s&&ur(s,(p,v)=>{l[v]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),new nu(t.root===n?e:gv(t.root,n,e),l,a)}function gv(n,e,t){const s={};return ur(n.children,(a,l)=>{s[l]=a===e?t:gv(a,e,t)}),new At(n.segments,s)}class ch{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&Tl(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(uu);if(a&&a!==oc(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Al{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function Sl(n,e,t){if(n||(n=new At([],{})),0===n.segments.length&&n.hasChildren())return dh(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const p=n.segments[a],v=t[s];if(uu(v))break;const b=`${v}`,S=s<t.length-1?t[s+1]:null;if(a>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!tp(b,S,p))return l;s+=2}else{if(!tp(b,{},p))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new At(n.segments.slice(0,s.pathIndex),{});return l.children[Ct]=new At(n.segments.slice(s.pathIndex),n.children),dh(l,0,a)}return s.match&&0===a.length?new At(n.segments,{}):s.match&&!n.hasChildren()?ep(n,e,t):s.match?dh(n,0,a):ep(n,e,t)}function dh(n,e,t){if(0===t.length)return new At(n.segments,{});{const s=function(n){return uu(n[0])?n[0].outlets:{[Ct]:n}}(t),a={};return ur(s,(l,p)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[p]=Sl(n.children[p],e,l))}),ur(n.children,(l,p)=>{void 0===s[p]&&(a[p]=l)}),new At(n.segments,a)}}function ep(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(uu(l)){const b=Cm(l.outlets);return new At(s,b)}if(0===a&&Tl(t[0])){s.push(new Ws(n.segments[e].path,xl(t[0]))),a++;continue}const p=uu(l)?l.outlets[Ct]:`${l}`,v=a<t.length-1?t[a+1]:null;p&&v&&Tl(v)?(s.push(new Ws(p,xl(v))),a+=2):(s.push(new Ws(p,{})),a++)}return new At(s,{})}function Cm(n){const e={};return ur(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=ep(new At([],{}),0,t))}),e}function xl(n){const e={};return ur(n,(t,s)=>e[s]=`${t}`),e}function tp(n,e,t){return n==t.path&&xi(e,t.parameters)}class np{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),_m(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=ma(t);e.children.forEach(l=>{const p=l.value.outlet;this.deactivateRoutes(l,a[p],s),delete a[p]}),ur(a,(l,p)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=ma(e);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=ma(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new Qi(l.value.snapshot))}),e.children.length&&this.forwardEvent(new eu(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(_m(a),a===l)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),pn(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),b=v?v.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=b,p.outlet&&p.outlet.activateWith(a,b),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,s)}}function pn(n){_m(n.value),n.children.forEach(pn)}class rp{constructor(e,t){this.routes=e,this.module=t}}function Ji(n){return"function"==typeof n}function Ts(n){return n instanceof nu}const fh=Symbol("INITIAL_VALUE");function Rl(){return zn(n=>function(...n){let e,t;return(0,Co.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,$s.k)(n[0])&&(n=n[0]),(0,dl.n)(n,t).lift(new aa(e))}(n.map(e=>e.pipe(Qd(1),ca(fh)))).pipe(la((e,t)=>{let s=!1;return t.reduce((a,l,p)=>a!==fh?a:(l===fh&&(s=!0),s||!1!==l&&p!==t.length-1&&!Ts(l)?a:l),e)},fh),Si(e=>e!==fh),(0,gt.U)(e=>Ts(e)?e:!0===e),Qd(1)))}let dc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&f._UZ(0,"router-outlet")},directives:function(){return[Um]},encapsulation:2}),n})();function bn(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];ph(s,Tm(e,s))}}function ph(n,e){n.children&&bn(n.children,e)}function Tm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function gh(n){const e=n.children&&n.children.map(gh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ct&&(t.component=dc),t}function en(n){return n.outlet||Ct}function cu(n,e){const t=n.filter(s=>en(s)===e);return t.push(...n.filter(s=>en(s)!==e)),t}const br={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hc(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},br):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||lv)(t,n,e);if(!l)return Object.assign({},br);const p={};ur(l.posParams,(b,S)=>{p[S]=b.path});const v=l.consumed.length>0?Object.assign(Object.assign({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:v,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function fc(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>gc(n,e,s)&&en(s)!==Ct)}(n,t,s)){const p=new At(e,function(n,e,t,s){const a={};a[Ct]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&en(l)!==Ct){const p=new At([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[en(l)]=p}return a}(n,e,s,new At(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>gc(n,e,s))}(n,t,s)){const p=new At(n.segments,function(n,e,t,s,a,l){const p={};for(const v of s)if(gc(n,t,v)&&!a[en(v)]){const b=new At([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,p[en(v)]=b}return Object.assign(Object.assign({},a),p)}(n,e,t,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const l=new At(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function gc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function mh(n,e,t,s){return!!(en(n)===s||s!==Ct&&gc(e,t,n))&&("**"===n.path||hc(e,n,t).matched)}function xm(n,e,t){return 0===e.length&&!n.children[t]}class Nl{constructor(e){this.segmentGroup=e||null}}class op{constructor(e){this.urlTree=e}}function mc(n){return new ui.y(e=>e.error(new Nl(n)))}function _(n){return new ui.y(e=>e.error(new op(n)))}function h(n){return new ui.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class A{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=fc(this.urlTree.root,[],[],this.config).segmentGroup,t=new At(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ct).pipe((0,gt.U)(l=>this.createUrlTree(z(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gs(l=>{if(l instanceof op)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Nl?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ct).pipe((0,gt.U)(a=>this.createUrlTree(z(a),e.queryParams,e.fragment))).pipe(Gs(a=>{throw a instanceof Nl?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new At([],{[Ct]:e}):e;return new nu(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,gt.U)(l=>new At([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,fn.D)(a).pipe(Zi(l=>{const p=s.children[l],v=cu(t,l);return this.expandSegmentGroup(e,v,p,l).pipe((0,gt.U)(b=>({segment:b,outlet:l})))}),la((l,p)=>(l[p.outlet]=p.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?Si((a,l)=>n(a,l,s)):wr.y,Hf(1),t?Xr(e):Do(()=>new Io))}())}expandSegment(e,t,s,a,l,p){return(0,fn.D)(s).pipe(Zi(v=>this.expandSegmentAgainstRoute(e,t,s,v,a,l,p).pipe(Gs(S=>{if(S instanceof Nl)return(0,Je.of)(null);throw S}))),qs(v=>!!v),Gs((v,b)=>{if(v instanceof Io||"EmptyError"===v.name){if(xm(t,a,l))return(0,Je.of)(new At([],{}));throw new Nl(t)}throw v}))}expandSegmentAgainstRoute(e,t,s,a,l,p,v){return mh(a,t,l,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p):mc(t):mc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?_(l):this.lineralizeSegments(s,l).pipe((0,En.zg)(p=>{const v=new At(p,{});return this.expandSegment(e,v,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){const{matched:v,consumedSegments:b,lastChild:S,positionalParamSegments:N}=hc(t,a,l);if(!v)return mc(t);const P=this.applyRedirectCommands(b,a.redirectTo,N);return a.redirectTo.startsWith("/")?_(P):this.lineralizeSegments(a,P).pipe((0,En.zg)(K=>this.expandSegment(e,t,s,K.concat(l.slice(S)),p,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Je.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,gt.U)(K=>(s._loadedConfig=K,new At(a,{})))):(0,Je.of)(new At(a,{}));const{matched:p,consumedSegments:v,lastChild:b}=hc(t,s,a);if(!p)return mc(t);const S=a.slice(b);return this.getChildConfig(e,s,a).pipe((0,En.zg)(P=>{const K=P.module,J=P.routes,{segmentGroup:xe,slicedSegments:je}=fc(t,v,S,J),Ke=new At(xe.segments,xe.children);if(0===je.length&&Ke.hasChildren())return this.expandChildren(K,J,Ke).pipe((0,gt.U)(Vt=>new At(v,Vt)));if(0===J.length&&0===je.length)return(0,Je.of)(new At(v,{}));const Ot=en(s)===l;return this.expandSegment(K,Ke,J,je,Ot?Ct:l,!0).pipe((0,gt.U)(Nn=>new At(v.concat(Nn.segments),Nn.children)))}))}getChildConfig(e,t,s){return t.children?(0,Je.of)(new rp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Je.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,En.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,gt.U)(l=>(t._loadedConfig=l,l))):(n=t,new ui.y(e=>e.error(fa(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Je.of)(new rp([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,Je.of)(!0);const l=a.map(p=>{const v=e.get(p);let b;if((n=v)&&Ji(n.canLoad))b=v.canLoad(t,s);else{if(!Ji(v))throw new Error("Invalid CanLoad guard");b=v(t,s)}var n;return Is(b)});return(0,Je.of)(l).pipe(Rl(),(0,Pr.b)(p=>{if(!Ts(p))return;const v=fa(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw v.url=p,v}),(0,gt.U)(p=>!0===p))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Je.of)(s);if(a.numberOfChildren>1||!a.children[Ct])return h(e.redirectTo);a=a.children[Ct]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new nu(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return ur(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[l]=t[v]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let p={};return ur(t.children,(v,b)=>{p[b]=this.createSegmentGroup(e,v,s,a)}),new At(l,p)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function z(n){const e={};for(const s of Object.keys(n.children)){const l=z(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Ct]){const e=n.children[Ct];return new At(n.segments.concat(e.segments),e.children)}return n}(new At(n.segments,e))}class Ue{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ze{constructor(e,t){this.component=e,this.route=t}}function dt(n,e,t){const s=n._root;return Yn(s,e?e._root:null,t,[s.value])}function Sn(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Yn(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=ma(e);return n.children.forEach(p=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,p=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(p&&l.routeConfig===p.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ru(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ru(n.url,e.url)||!xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ah(n,e)||!xi(n.queryParams,e.queryParams);case"paramsChange":default:return!ah(n,e)}}(p,l,l.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new Ue(s)):(l.data=p.data,l._resolvedData=p._resolvedData),Yn(n,e,l.component?v?v.children:null:t,s,a),b&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new ze(v.outlet.component,p))}else p&&yc(e,v,a),a.canActivateChecks.push(new Ue(s)),Yn(n,null,l.component?v?v.children:null:t,s,a)})(p,l[p.value.outlet],t,s.concat([p.value]),a),delete l[p.value.outlet]}),ur(l,(p,v)=>yc(p,t.getContext(v),a)),a}function yc(n,e,t){const s=ma(n),a=n.value;ur(s,(l,p)=>{yc(l,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new ze(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class hb{}function IT(n){return new ui.y(e=>e.error(n))}class uR{constructor(e,t,s,a,l,p){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=p}recognize(){const e=fc(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ct);if(null===t)return null;const s=new oh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new hi(s,t),l=new mm(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=gm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const p=t.children[l],v=cu(e,l),b=this.processSegmentGroup(v,p,l);if(null===b)return null;s.push(...b)}const a=pb(s);return a.sort((e,t)=>e.value.outlet===Ct?-1:t.value.outlet===Ct?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const l of e){const p=this.processSegmentAgainstRoute(l,t,s,a);if(null!==p)return p}return xm(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!mh(e,t,s,a))return null;let l,p=[],v=[];if("**"===e.path){const J=s.length>0?oc(s).parameters:{};l=new oh(s,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ev(e),en(e),e.component,e,yh(t),vv(t)+s.length,Om(e))}else{const J=hc(t,e,s);if(!J.matched)return null;p=J.consumedSegments,v=s.slice(J.lastChild),l=new oh(p,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ev(e),en(e),e.component,e,yh(t),vv(t)+p.length,Om(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:N}=fc(t,p,v,b.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&S.hasChildren()){const J=this.processChildren(b,S);return null===J?null:[new hi(l,J)]}if(0===b.length&&0===N.length)return[new hi(l,[])];const P=en(e)===a,K=this.processSegment(b,S,N,P?Ct:a);return null===K?null:[new hi(l,K)]}}function _v(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pb(n){const e=[],t=new Set;for(const s of n){if(!_v(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=pb(s.children);e.push(new hi(s.value,a))}return e.filter(s=>!t.has(s))}function yh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vv(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ev(n){return n.data||{}}function Om(n){return n.resolve||{}}function Pm(n){return zn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,gt.U)(()=>e)):(0,Je.of)(e)})}class AT extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Iv=new f.OlP("ROUTES");class mb{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=l.create(e);return new rp(pa(p.injector.get(Iv,void 0,f.XFs.Self|f.XFs.Optional)).map(gh),p)}),Gs(l=>{throw t._loader$=void 0,l}));return t._loader$=new Hs.c(a,()=>new Wi.xQ).pipe((0,eh.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,fn.D)(this.loader.load(e)):Is(e()).pipe((0,En.zg)(t=>t instanceof f.YKP?(0,Je.of)(t):(0,fn.D)(this.compiler.compileModuleAsync(t))))}}class ST{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vh,this.attachRef=null}}class vh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ST,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class yb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Dv(n){throw n}function _b(n,e,t){return e.parse("/")}function km(n,e){return(0,Je.of)(null)}const RT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{class n{constructor(t,s,a,l,p,v,b,S){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wi.xQ,this.errorHandler=Dv,this.malformedUriErrorHandler=_b,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:km,afterPreactivation:km},this.urlHandlingStrategy=new yb,this.routeReuseStrategy=new AT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(f.h0i),this.console=p.get(f.c2e);const K=p.get(f.R0b);this.isNgZoneEnabled=K instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new nu(new At([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mb(v,b,J=>this.triggerEvent(new ar(J)),J=>this.triggerEvent(new Kn(J))),this.routerState=pm(this.currentUrlTree,this.rootComponentType),this.transitions=new or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(Si(a=>0!==a.id),(0,gt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),zn(a=>{let l=!1,p=!1;return(0,Je.of)(a).pipe((0,Pr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zn(v=>{const b=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return _a(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,Je.of)(v).pipe(zn(P=>{const K=this.transitions.getValue();return s.next(new U(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),K!==this.transitions.getValue()?zi.E:Promise.resolve(P)}),function(n,e,t,s){return zn(a=>function(n,e,t,s,a){return new A(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,gt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pr.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,e,t,s,a){return(0,En.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const p=new uR(n,e,t,s,a,l).recognize();return null===p?IT(new hb):(0,Je.of)(p)}catch(p){return IT(p)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,gt.U)(p=>Object.assign(Object.assign({},l),{targetSnapshot:p}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pr.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const K=new We(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);s.next(K)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:J,source:xe,restoredState:je,extras:Ke}=v,Ot=new U(K,this.serializeUrl(J),xe,je);s.next(Ot);const nn=pm(J,this.rootComponentType).snapshot;return(0,Je.of)(Object.assign(Object.assign({},v),{targetSnapshot:nn,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),zi.E}),Pm(v=>{const{targetSnapshot:b,id:S,extractedUrl:N,rawUrl:P,extras:{skipLocationChange:K,replaceUrl:J}}=v;return this.hooks.beforePreactivation(b,{navigationId:S,appliedUrlTree:N,rawUrlTree:P,skipLocationChange:!!K,replaceUrl:!!J})}),(0,Pr.b)(v=>{const b=new Ge(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),(0,gt.U)(v=>Object.assign(Object.assign({},v),{guards:dt(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,En.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:p}}=t;return 0===p.length&&0===l.length?(0,Je.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,fn.D)(n).pipe((0,En.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Je.of)(!0);const p=l.map(v=>{const b=Sn(v,e,a);let S;if(function(n){return n&&Ji(n.canDeactivate)}(b))S=Is(b.canDeactivate(n,e,t,s));else{if(!Ji(b))throw new Error("Invalid CanDeactivate guard");S=Is(b(n,e,t,s))}return S.pipe(qs())});return(0,Je.of)(p).pipe(Rl())}(a.component,a.route,t,e,s)),qs(a=>!0!==a,!0))}(p,s,a,n).pipe((0,En.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,s){return(0,fn.D)(e).pipe(Zi(a=>ic(function(n,e){return null!==n&&e&&e(new Yi(n)),(0,Je.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new di(n)),(0,Je.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Es(()=>{const v=p.guards.map(b=>{const S=Sn(b,p.node,t);let N;if(function(n){return n&&Ji(n.canActivateChild)}(S))N=Is(S.canActivateChild(s,n));else{if(!Ji(S))throw new Error("Invalid CanActivateChild guard");N=Is(S(s,n))}return N.pipe(qs())});return(0,Je.of)(v).pipe(Rl())}));return(0,Je.of)(l).pipe(Rl())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Je.of)(!0);const a=s.map(l=>Es(()=>{const p=Sn(l,e,t);let v;if(function(n){return n&&Ji(n.canActivate)}(p))v=Is(p.canActivate(e,n));else{if(!Ji(p))throw new Error("Invalid CanActivate guard");v=Is(p(e,n))}return v.pipe(qs())}));return(0,Je.of)(a).pipe(Rl())}(n,a.route,t))),qs(a=>!0!==a,!0))}(s,l,n,e):(0,Je.of)(v)),(0,gt.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Pr.b)(v=>{if(Ts(v.guardsResult)){const S=fa(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const b=new Nt(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(b)}),Si(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Pm(v=>{if(v.guards.canActivateChecks.length)return(0,Je.of)(v).pipe((0,Pr.b)(b=>{const S=new Ft(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),zn(b=>{let S=!1;return(0,Je.of)(b).pipe(function(n,e){return(0,En.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Je.of)(t);let l=0;return(0,fn.D)(a).pipe(Zi(p=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,Je.of)({});const l={};return(0,fn.D)(a).pipe((0,En.zg)(p=>function(n,e,t,s){const a=Sn(n,e,s);return Is(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,s).pipe((0,Pr.b)(v=>{l[p]=v}))),Hf(1),(0,En.zg)(()=>Object.keys(l).length===a.length?(0,Je.of)(l):zi.E))}(n._resolve,n,e,s).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),gm(n,t).resolve),null)))}(p.route,s,n,e)),(0,Pr.b)(()=>l++),Hf(1),(0,En.zg)(p=>l===a.length?(0,Je.of)(t):zi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Pr.b)(b=>{const S=new Zn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),Pm(v=>{const{targetSnapshot:b,id:S,extractedUrl:N,rawUrl:P,extras:{skipLocationChange:K,replaceUrl:J}}=v;return this.hooks.afterPreactivation(b,{navigationId:S,appliedUrlTree:N,rawUrlTree:P,skipLocationChange:!!K,replaceUrl:!!J})}),(0,gt.U)(v=>{const b=function(n,e,t){const s=Dl(n,e._root,t?t._root:void 0);return new fm(s,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:b})}),(0,Pr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(s=>(new np(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Pr.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new C(n))}(()=>{if(!l&&!p){const v=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,v)):this.cancelNavigationTransition(a,v)}this.currentNavigation=null}),Gs(v=>{if(p=!0,function(n){return n&&n[vl]}(v)){const b=Ts(v.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const S=new pe(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(S),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),P={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_a(a.source)};this.scheduleNavigation(N,"imperative",null,P,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Oe(a.id,this.serializeUrl(a.extractedUrl),v);s.next(b);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return zi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:p}=s,v={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(v.state=b)}this.scheduleNavigation(p,a,l,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){bn(t),this.config=t.map(gh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:p,queryParamsHandling:v,preserveFragment:b}=s,S=a||this.routerState.root,N=b?this.currentUrlTree.fragment:p;let P=null;switch(v){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=l||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,e,t,s,a){if(0===t.length)return Em(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ch(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,p)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return ur(l.outlets,(b,S)=>{v[S]="string"==typeof b?b.split("/"):b}),[...a,{outlets:v}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===p?(l.split("/").forEach((v,b)=>{0==b&&"."===v||(0==b&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,l]},[]);return new ch(t,e,s)}(t);if(l.toRoot())return Em(e.root,new At([],{}),e,s,a);const p=function(n,e,t){if(n.isAbsolute)return new Al(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Al(l,l===e.root,0)}const s=Tl(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new Al(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),v=p.processChildren?dh(p.segmentGroup,p.index,l.commands):Sl(p.segmentGroup,p.index,l.commands);return Em(p.segmentGroup,v,e,s,a)}(S,this.currentUrlTree,t,P,null!=N?N:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=Ts(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},RT):!1===s?Object.assign({},NT):s,Ts(t))return El(this.currentUrlTree,t,a);const l=this.parseUrl(t);return El(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,p){var v,b;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),N=_a(s)&&S&&!_a(S.source),J=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(N&&J)return Promise.resolve(!0);let xe,je,Ke;p?(xe=p.resolve,je=p.reject,Ke=p.promise):Ke=new Promise((Nn,Vt)=>{xe=Nn,je=Vt});const Ot=++this.navigationId;let nn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),nn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):nn=0,this.setTransition({id:Ot,targetPageId:nn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:xe,reject:je,promise:Ke,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ke.catch(Nn=>Promise.reject(Nn))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new pe(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.DyG),f.LFG(nh),f.LFG(vh),f.LFG(Fe),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function _a(n){return"imperative"!==n}let Um=(()=>{class n{constructor(t,s,a,l,p){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=l||Ct,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,b=new Eb(t,v,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vh),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Eb{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===lc?this.route:e===vh?this.childContexts:this.parent.get(e,t)}}class Tv{}class Sv{preload(e,t){return(0,Je.of)(null)}}let hp=(()=>{class n{constructor(t,s,a,l,p){this.router=t,this.injector=l,this.preloadingStrategy=p,this.loader=new mb(s,a,S=>t.triggerEvent(new ar(S)),S=>t.triggerEvent(new Kn(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Si(t=>t instanceof Y),Zi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const p=l._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,fn.D)(a).pipe((0,ci.J)(),(0,gt.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Je.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,En.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Mi),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Tv))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),wh=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Y&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new Cs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Mi),f.LFG(go),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const lu=new f.OlP("ROUTER_CONFIGURATION"),xv=new f.OlP("ROUTER_FORROOT_GUARD"),fp=[Fe,{provide:nh,useClass:Wf},{provide:Mi,useFactory:function(n,e,t,s,a,l,p,v={},b,S){const N=new Mi(null,n,e,t,s,a,l,pa(p));return b&&(N.urlHandlingStrategy=b),S&&(N.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,N),v.enableTracing&&N.events.subscribe(P=>{var K,J;null===(K=console.group)||void 0===K||K.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(J=console.groupEnd)||void 0===J||J.call(console)}),N},deps:[nh,vh,Fe,f.zs3,f.v3s,f.Sil,Iv,lu,[class{},new f.FiY],[class{},new f.FiY]]},vh,{provide:lc,useFactory:function(n){return n.routerState.root},deps:[Mi]},{provide:f.v3s,useClass:f.EAV},hp,Sv,class{preload(e,t){return t().pipe(Gs(()=>(0,Je.of)(null)))}},{provide:lu,useValue:{enableTracing:!1}}];function PT(){return new f.PXZ("Router",Mi)}let Nv=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[fp,Bm(t),{provide:xv,useFactory:wb,deps:[[Mi,new f.FiY,new f.tp0]]},{provide:lu,useValue:s||{}},{provide:q,useFactory:FT,deps:[le,[new f.tBr(ve),new f.FiY],lu]},{provide:wh,useFactory:kT,deps:[Mi,go,lu]},{provide:Tv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Sv},{provide:f.PXZ,multi:!0,useFactory:PT},[Mv,{provide:f.ip1,multi:!0,useFactory:Ib,deps:[Mv]},{provide:Db,useFactory:LT,deps:[Mv]},{provide:f.tb,multi:!0,useExisting:Db}]]}}static forChild(t){return{ngModule:n,providers:[Bm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xv,8),f.LFG(Mi,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function kT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new wh(n,e,t)}function FT(n,e,t={}){return t.useHash?new Ie(n,e):new he(n,e)}function wb(n){return"guarded"}function Bm(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:Iv,multi:!0,useValue:n}]}let Mv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wi.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),l=this.injector.get(Mi),p=this.injector.get(lu);return"disabled"===p.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Je.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(lu),a=this.injector.get(hp),l=this.injector.get(wh),p=this.injector.get(Mi),v=this.injector.get(f.z2F);t===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),l.init(),p.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Ib(n){return n.appInitializer.bind(n)}function LT(n){return n.bootstrapListener.bind(n)}const Db=new f.OlP("Router Initializer");let Tb=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[["href","registro"],["href","login"]],template:function(t,s){1&t&&(f.TgZ(0,"div"),f.TgZ(1,"a",0),f._uU(2,"Registrarse"),f.qZA(),f._UZ(3,"br"),f.TgZ(4,"a",1),f._uU(5,"Login"),f.qZA(),f.qZA())},styles:[""]}),n})();var VT=V(1555);function jm(n,e){return new ui.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,p=0;for(let v=0;v<s;v++){const b=(0,fn.D)(n[v]);let S=!1;t.add(b.subscribe({next:N=>{S||(S=!0,p++),a[v]=N},error:N=>t.error(N),complete:()=>{l++,(l===s||!S)&&(p===s&&t.next(e?e.reduce((N,P,K)=>(N[P]=a[K],N),{}):a),t.complete())}}))}})}let Ab=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),vc=(()=>{class n extends Ab{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const va=new f.OlP("NgValueAccessor"),vt={provide:va,useExisting:(0,f.Gpc)(()=>Ml),multi:!0},Rb=new f.OlP("CompositionEventMode");let Ml=(()=>{class n extends Ab{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Rb,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&f.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[f._Bn([vt]),f.qOj]}),n})();function kr(n){return null==n||0===n.length}function Ov(n){return null!=n&&"number"==typeof n.length}const gi=new f.OlP("NgValidators"),Ea=new f.OlP("NgAsyncValidators"),du=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ei{static min(e){return function(n){return e=>{if(kr(e.value)||kr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(kr(e.value)||kr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return kr(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return kr(n.value)||du.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>kr(e.value)||!Ov(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>Ov(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return ba;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),s=>{if(kr(s.value))return null;const a=s.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return Lv(e)}static composeAsync(e){return Mb(e)}}function ba(n){return null}function HT(n){return null!=n}function Nb(n){const e=(0,f.QGY)(n)?(0,fn.D)(n):n;return(0,f.CqO)(e),e}function Fv(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function GT(n,e){return e.map(t=>t(n))}function WT(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Lv(n){if(!n)return null;const e=n.filter(HT);return 0==e.length?null:function(t){return Fv(GT(t,e))}}function Hm(n){return null!=n?Lv(WT(n)):null}function Mb(n){if(!n)return null;const e=n.filter(HT);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,$s.k)(e))return jm(e,null);if((0,VT.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return jm(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return jm(n=1===n.length&&(0,$s.k)(n[0])?n[0]:n,null).pipe((0,gt.U)(t=>e(...t)))}return jm(n,null)}(GT(t,e).map(Nb)).pipe((0,gt.U)(Fv))}}function mp(n){return null!=n?Mb(WT(n)):null}function zT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ZT(n){return n._rawValidators}function KT(n){return n._rawAsyncValidators}function Ob(n){return n?Array.isArray(n)?n:[n]:[]}function Vv(n,e){return Array.isArray(n)?n.includes(e):n===e}function YT(n,e){const t=Ob(e);return Ob(n).forEach(a=>{Vv(t,a)||t.push(a)}),t}function QT(n,e){return Ob(e).filter(t=>!Vv(n,t))}let JT=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=mp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n}),n})(),es=(()=>{class n extends JT{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();class Ol extends JT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XT{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let kb=(()=>{class n extends XT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ol,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&f.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[f.qOj]}),n})(),Gm=(()=>{class n extends XT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(es,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&f.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[f.qOj]}),n})();function qm(n,e){return[...e.path,n]}function hu(n,e){kl(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jv(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function fu(n,e,t=!0){const s=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(s),e.valueAccessor.registerOnTouched(s)),pu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kl(n,e){const t=ZT(n);null!==e.validator?n.setValidators(zT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=KT(n);null!==e.asyncValidator?n.setAsyncValidators(zT(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();bh(e._rawValidators,a),bh(e._rawAsyncValidators,a)}function pu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=ZT(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(p=>p!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=KT(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(p=>p!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const s=()=>{};return bh(e._rawValidators,s),bh(e._rawAsyncValidators,s),t}function jv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wm(n,e){kl(n,e)}function zm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Gv(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function Zm(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===Ml?t=l:function(n){return Object.getPrototypeOf(n.constructor)===vc}(l)?s=l:a=l}),a||s||t||null}function Km(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const vp="VALID",Ym="INVALID",Fr="PENDING",Ep="DISABLED";function Ub(n){return(qv(n)?n.validators:n)||null}function aA(n){return Array.isArray(n)?Hm(n):n||null}function Qm(n,e){return(qv(e)?e.asyncValidators:n)||null}function uA(n){return Array.isArray(n)?mp(n):n||null}function qv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wp{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aA(this._rawValidators),this._composedAsyncValidatorFn=uA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vp}get invalid(){return this.status===Ym}get pending(){return this.status==Fr}get disabled(){return this.status===Ep}get enabled(){return this.status!==Ep}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uA(e)}addValidators(e){this.setValidators(YT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QT(e,this._rawAsyncValidators))}hasValidator(e){return Vv(this._rawValidators,e)}hasAsyncValidator(e){return Vv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ep,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vp,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vp||this.status===Fr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ep:vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fr,this._hasOwnPendingAsyncValidator=!0;const t=Nb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof bp?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof Wv&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Ep:this.errors?Ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fr)?Fr:this._anyControlsHaveStatus(Ym)?Ym:vp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fl extends wp{constructor(e=null,t,s){super(Ub(t),Qm(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Km(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Km(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bp extends wp{constructor(e,t,s){super(Ub(t),Qm(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof Fl?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Wv extends wp{constructor(e,t,s){super(Ub(t),Qm(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Fl?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cA={provide:es,useExisting:(0,f.Gpc)(()=>Ih)},Cp=(()=>Promise.resolve(null))();let Ih=(()=>{class n extends es{constructor(t,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new bp({},Hm(t),mp(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cp.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),hu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cp.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),Km(this._directives,t)})}addFormGroup(t){Cp.then(()=>{const s=this._findContainer(t.path),a=new bp({});Wm(a,t),s.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cp.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){Cp.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Gv(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(gi,10),f.Y36(Ea,10))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,s){1&t&&f.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([cA]),f.qOj]}),n})();const fA={provide:Ol,useExisting:(0,f.Gpc)(()=>Xm)},pA=(()=>Promise.resolve(null))();let Xm=(()=>{class n extends Ol{constructor(t,s,a,l){super(),this.control=new Fl,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=Zm(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),zm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?qm(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,a=""===s||s&&"false"!==s;pA.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(es,9),f.Y36(gi,10),f.Y36(Ea,10),f.Y36(va,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([fA]),f.qOj,f.TTD]}),n})(),zv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const gA={provide:va,useExisting:(0,f.Gpc)(()=>Zv),multi:!0};let Zv=(()=>{class n extends vc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=s=>{t(""==s?null:parseFloat(s))}}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,s){1&t&&f.NdJ("input",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},features:[f._Bn([gA]),f.qOj]}),n})(),jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Ip=new f.OlP("NgModelWithFormControlWarning"),yA={provide:es,useExisting:(0,f.Gpc)(()=>Dh)};let Dh=(()=>{class n extends es{constructor(t,s){super(),this.validators=t,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return hu(s,t),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){fu(t.control||null,t,!1),Km(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this.submitted=!0,Gv(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,a=this.form.get(t.path);s!==a&&(fu(s||null,t),a instanceof Fl&&(hu(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);Wm(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function(n,e){return pu(n,e)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kl(this.form,this),this._oldForm&&pu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(gi,10),f.Y36(Ea,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,s){1&t&&f.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([yA]),f.qOj,f.TTD]}),n})();const qb={provide:Ol,useExisting:(0,f.Gpc)(()=>iy)};let iy=(()=>{class n extends Ol{constructor(t,s,a,l,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=Zm(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),zm(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(es,13),f.Y36(gi,10),f.Y36(Ea,10),f.Y36(va,10),f.Y36(Ip,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([qb]),f.qOj,f.TTD]}),n._ngModelWarningSentOnce=!1,n})();const gu={provide:va,useExisting:(0,f.Gpc)(()=>sy),multi:!0};function Dp(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sy=(()=>{class n extends vc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=this._getOptionId(t);null==s&&this.setProperty("selectedIndex",-1);const a=Dp(s,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=s=>{this.value=this._getOptionValue(s),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),t))return s;return null}_getOptionValue(t){const s=function(n){return n.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s):t}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,s){1&t&&f.NdJ("change",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([gu]),f.qOj]}),n})(),vA=(()=>{class n{constructor(t,s,a){this._element=t,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Dp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(sy,9))},n.\u0275dir=f.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Th={provide:va,useExisting:(0,f.Gpc)(()=>Xv),multi:!0};function Jv(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Xv=(()=>{class n extends vc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let s;if(this.value=t,Array.isArray(t)){const a=t.map(l=>this._getOptionId(l));s=(l,p)=>{l._setSelected(a.indexOf(p.toString())>-1)}}else s=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(t){this.onChange=s=>{const a=[];if(void 0!==s.selectedOptions){const l=s.selectedOptions;for(let p=0;p<l.length;p++){const v=l.item(p),b=this._getOptionValue(v.value);a.push(b)}}else{const l=s.options;for(let p=0;p<l.length;p++){const v=l.item(p);if(v.selected){const b=this._getOptionValue(v.value);a.push(b)}}}this.value=a,t(a)}}_registerOption(t){const s=(this._idCounter++).toString();return this._optionMap.set(s,t),s}_getOptionId(t){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,t))return s;return null}_getOptionValue(t){const s=function(n){return n.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s)._value:t}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,s){1&t&&f.NdJ("change",function(l){return s.onChange(l.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Th]),f.qOj]}),n})(),ay=(()=>{class n{constructor(t,s,a){this._element=t,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Jv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Jv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Xv,9))},n.\u0275dir=f.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[jb]]}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[uy]}),n})(),Ia=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ip,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[uy]}),n})(),iE=(()=>{class n{group(t,s=null){const a=this._reduceControls(t);let v,l=null,p=null;return null!=s&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(s)?(l=null!=s.validators?s.validators:null,p=null!=s.asyncValidators?s.asyncValidators:null,v=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,p=null!=s.asyncValidator?s.asyncValidator:null)),new bp(a,{asyncValidators:p,updateOn:v,validators:l})}control(t,s,a){return new Fl(t,s,a)}array(t,s,a){const l=t.map(p=>this._createControl(p));return new Wv(l,s,a)}_reduceControls(t){const s={};return Object.keys(t).forEach(a=>{s[a]=this._createControl(t[a])}),s}_createControl(t){return t instanceof Fl||t instanceof bp||t instanceof Wv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:function(){return new n},token:n,providedIn:Ia}),n})(),TA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:0,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./../../../assets/user.png","id","icon","alt","User Icon"],["type","text","id","login","name","login","placeholder","Email",1,"fadeIn","second"],["type","text","id","password","name","login","placeholder","Clave",1,"fadeIn","third"],["type","submit","value","Ingresar",1,"fadeIn","fourth"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","btnradio","id","btnradio1","autocomplete","off","checked","",1,"btn-check"],["for","btnradio1",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio2","autocomplete","off",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio3","autocomplete","off",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-primary"],["for",""]],template:function(t,s){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"h2",2),f._uU(3," Ingreso"),f.qZA(),f.TgZ(4,"div",3),f._UZ(5,"img",4),f.qZA(),f.TgZ(6,"div"),f.TgZ(7,"form"),f._UZ(8,"input",5),f._UZ(9,"input",6),f._UZ(10,"input",7),f.qZA(),f.qZA(),f.TgZ(11,"div",8),f._UZ(12,"input",9),f.TgZ(13,"label",10),f._uU(14,"Especialista"),f.qZA(),f._UZ(15,"input",11),f.TgZ(16,"label",12),f._uU(17,"Paciente"),f.qZA(),f._UZ(18,"input",13),f.TgZ(19,"label",14),f._uU(20,"Administrador"),f.qZA(),f.qZA(),f._UZ(21,"br"),f._UZ(22,"label",15),f.qZA(),f.qZA())},directives:[zv,Gm,Ih],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:40%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})();var AA=V(3637),Cr=V(6643);function cy(){return n=>n.lift(new eC)}class eC{call(e,t){return t.subscribe(new tC(e))}}class tC extends Fn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class xA{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ap(e,this.compare,this.keySelector))}}class Ap extends Fn.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var Ze,As=V(8939),nC=(V(4671),V(4486)),be=V(8239),bc=V(5452),ly=V(6034),Cc=V(5601),Rt=V(3854),NA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Da={},dy=dy||{},Et=NA||self;function hy(){}function rC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oE="closure_uid_"+(1e9*Math.random()>>>0),iC=0;function sC(n,e,t){return n.call.apply(n.bind,arguments)}function bR(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function gn(n,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sC:bR).apply(null,arguments)}function aE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function mi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var p=Array(arguments.length-2),v=2;v<arguments.length;v++)p[v-2]=arguments[v];return e.prototype[a].apply(s,p)}}function Ll(){this.s=this.s,this.o=this.o}var aC={};Ll.prototype.s=!1,Ll.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,oE)&&n[oE]||(n[oE]=++iC)}(this);delete aC[n]}},Ll.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},uC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function cE(n){return Array.prototype.concat.apply([],arguments)}function Sp(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function py(n){return/^[\s\xa0]*$/.test(n)}var Pi,gy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Oi(n,e){return-1!=n.indexOf(e)}function lE(n,e){return n<e?-1:n>e?1:0}e:{var cC=Et.navigator;if(cC){var lC=cC.userAgent;if(lC){Pi=lC;break e}}Pi=""}function dE(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function xp(n){const e={};for(const t in n)e[t]=n[t];return e}var Vl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hE(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<Vl.length;l++)t=Vl[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function Ss(n){return Ss[" "](n),n}Ss[" "]=hy;var Ul,n,MA=Oi(Pi,"Opera"),Sh=Oi(Pi,"Trident")||Oi(Pi,"MSIE"),my=Oi(Pi,"Edge"),Zs=my||Sh,xh=Oi(Pi,"Gecko")&&!(Oi(Pi.toLowerCase(),"webkit")&&!Oi(Pi,"Edge"))&&!(Oi(Pi,"Trident")||Oi(Pi,"MSIE"))&&!Oi(Pi,"Edge"),yi=Oi(Pi.toLowerCase(),"webkit")&&!Oi(Pi,"Edge");function Ic(){var n=Et.document;return n?n.documentMode:void 0}e:{var ts="",Np=(n=Pi,xh?/rv:([^\);]+)(\)|;)/.exec(n):my?/Edge\/([\d\.]+)/.exec(n):Sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yi?/WebKit\/(\S+)/.exec(n):MA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Np&&(ts=Np?Np[1]:""),Sh){var Dc=Ic();if(null!=Dc&&Dc>parseFloat(ts)){Ul=String(Dc);break e}}Ul=ts}var Rh={};function Nh(){return e=Rh,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=gy(String(Ul)).split("."),t=gy("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",l=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=lE(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||lE(0==a[2].length,0==l[2].length)||lE(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var Mh=Et.document&&Sh&&(Ic()||parseInt(Ul,10))||void 0,Oh=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",hy,e),Et.removeEventListener("test",hy,e)}catch(t){}return n}();function Qn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ta(n,e){if(Qn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xh){e:{try{Ss(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ta.Z.h.call(this)}}Qn.prototype.h=function(){this.defaultPrevented=!0},mi(Ta,Qn);var dC={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ph="closure_listenable_"+(1e6*Math.random()|0),hC=0;function fC(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++hC,this.ca=this.fa=!1}function Mp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Op(n){this.src=n,this.g={},this.h=0}function yy(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=uE(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Mp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _y(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}Op.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var p=_y(n,e,s,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new fC(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var vy="closure_lm_"+(1e6*Math.random()|0),fE={};function pE(n,e,t,s,a){if(s&&s.once)return gE(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)pE(n,e[l],t,s,a);return null}return t=yE(t),n&&n[Ph]?n.N(e,t,fy(s)?!!s.capture:!!s,a):pC(n,e,t,!1,s,a)}function pC(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var p=fy(a)?!!a.capture:!!a,v=mE(n);if(v||(n[vy]=v=new Op(n)),(t=v.add(e,t,s,p,l)).proxy)return t;if(s=function(){var e=_C;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)Oh||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(yC(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function gE(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)gE(n,e[l],t,s,a);return null}return t=yE(t),n&&n[Ph]?n.O(e,t,fy(s)?!!s.capture:!!s,a):pC(n,e,t,!0,s,a)}function gC(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)gC(n,e[l],t,s,a);else s=fy(s)?!!s.capture:!!s,t=yE(t),n&&n[Ph]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_y(l=n.g[e],t,s,a))&&(Mp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=mE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_y(e,t,s,a)),(t=-1<n?e[n]:null)&&mC(t))}function mC(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ph])yy(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(yC(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=mE(e))?(yy(t,n),0==t.h&&(t.src=null,e[vy]=null)):Mp(n)}}}function yC(n){return n in fE?fE[n]:fE[n]="on"+n}function _C(n,e){if(n.ca)n=!0;else{e=new Ta(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&mC(n),n=t.call(s,e)}return n}function mE(n){return(n=n[vy])instanceof Op?n:null}var Ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function yE(n){return"function"==typeof n?n:(n[Ey]||(n[Ey]=function(e){return n.handleEvent(e)}),n[Ey])}function Lr(){Ll.call(this),this.i=new Op(this),this.P=this,this.I=null}function _i(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Qn(e,n);else if(e instanceof Qn)e.target=e.target||n;else{var a=e;hE(e=new Qn(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];a=wy(p,s,!0,e)&&a}if(a=wy(p=e.g=n,s,!0,e)&&a,a=wy(p,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=wy(p=e.g=t[l],s,!1,e)&&a}function wy(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ca&&p.capture==t){var v=p.listener,b=p.ia||p.src;p.fa&&yy(n.i,p),a=!1!==v.call(b,s)&&a}}return a&&!s.defaultPrevented}mi(Lr,Ll),Lr.prototype[Ph]=!0,Lr.prototype.removeEventListener=function(n,e,t,s){gC(this,n,e,t,s)},Lr.prototype.M=function(){if(Lr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Mp(t[s]);delete n.g[e],n.h--}}this.I=null},Lr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Lr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var by=Et.JSON.stringify;function IR(){var n=vC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vE,PA=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kA,n=>n.reset());class kA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function TR(n){Et.setTimeout(()=>{throw n},0)}function _E(n,e){vE||function(){var n=Et.Promise.resolve(void 0);vE=function(){n.then(AR)}}(),Pp||(vE(),Pp=!0),vC.add(n,e)}var Pp=!1,vC=new class{constructor(){this.h=this.g=null}add(e,t){const s=PA.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function AR(){for(var n;n=IR();){try{n.h.call(n.g)}catch(t){TR(t)}var e=PA;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Pp=!1}function wE(n,e){Lr.call(this),this.h=n||1,this.g=e||Et,this.j=gn(this.kb,this),this.l=Date.now()}function EC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bE(n,e,t){if("function"==typeof n)t&&(n=gn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function CE(n){n.g=bE(()=>{n.g=null,n.i&&(n.i=!1,CE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}mi(wE,Lr),(Ze=wE.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_i(this,"tick"),this.da&&(EC(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){wE.Z.M.call(this),EC(this),delete this.g};class SR extends Ll{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CE(this)}M(){super.M(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kp(n){Ll.call(this),this.h=n,this.g={}}mi(kp,Ll);var jl=[];function wC(n,e,t,s){Array.isArray(t)||(t&&(jl[0]=t.toString()),t=jl);for(var a=0;a<t.length;a++){var l=pE(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function IE(n){dE(n.g,function(e,t){this.g.hasOwnProperty(t)&&mC(e)},n),n.g={}}function Cy(){this.g=!0}function kh(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<a.length;p++)a[p]=""}}}return by(t)}catch(v){return e}}(n,t)+(s?" "+s:"")})}kp.prototype.M=function(){kp.Z.M.call(this),IE(this)},kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cy.prototype.Aa=function(){this.g=!1},Cy.prototype.info=function(){};var $l={},IC=null;function Dy(){return IC=IC||new Lr}function DC(n){Qn.call(this,$l.Ma,n)}function Fh(n){const e=Dy();_i(e,new DC(e,n))}function TC(n,e){Qn.call(this,$l.STAT_EVENT,n),this.stat=e}function vi(n){const e=Dy();_i(e,new TC(e,n))}function DE(n,e){Qn.call(this,$l.Na,n),this.size=e}function Hl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}$l.Ma="serverreachability",mi(DC,Qn),$l.STAT_EVENT="statevent",mi(TC,Qn),$l.Na="timingevent",mi(DE,Qn);var TE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ty={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function AE(){}function Lh(){}AE.prototype.h=null;var SE,Fp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lp(){Qn.call(this,"d")}function Vp(){Qn.call(this,"c")}function Vh(){}function Gl(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new kp(this),this.P=xR,this.W=new wE(n=Zs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xE}function xE(){this.i=null,this.g="",this.h=!1}mi(Lp,Qn),mi(Vp,Qn),mi(Vh,AE),Vh.prototype.g=function(){return new XMLHttpRequest},Vh.prototype.i=function(){return{}},SE=new Vh;var xR=45e3,RE={},Up={};function Ay(n,e,t){n.K=1,n.v=qp(Aa(e)),n.s=t,n.U=!0,AC(n,null)}function AC(n,e){n.F=Date.now(),ql(n),n.A=Aa(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),NC(t.h,"t",s),n.C=0,t=n.l.H,n.h=new xE,n.g=JE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new SR(gn(n.Ia,n,n.g),n.O)),wC(n.V,n.g,"readystatechange",n.gb),e=n.H?xp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Fh(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var p="",v=l.split("&"),b=0;b<v.length;b++){var S=v[b].split("=");if(1<S.length){var N=S[0];S=S[1];var P=N.split("_");p=2<=P.length&&"type"==P[1]?p+(N+"=")+S+"&":p+(N+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function NE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Sy(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=SC(n,t),a==Up){4==e&&(n.o=4,vi(14),s=!1),kh(n.j,n.m,null,"[Incomplete Response]");break}if(a==RE){n.o=4,vi(15),kh(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}kh(n.j,n.m,a,null),Ry(n,a)}NE(n)&&a!=Up&&a!=RE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),YE(e),e.L=!0,vi(11))):(kh(n.j,n.m,t,"[Invalid Chunked Response]"),Ac(n),jp(n))}function SC(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Up:(t=Number(e.substring(t,s)),isNaN(t)?RE:(s+=1)+t>e.length?Up:(e=e.substr(s,t),n.C=s+t,e))}function ql(n){n.Y=Date.now()+n.P,xy(n,n.P)}function xy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hl(gn(n.eb,n),e)}function Bp(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function jp(n){0==n.l.G||n.I||qC(n.l,n)}function Ac(n){Bp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,EC(n.W),IE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ry(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ks(t.i,n)))if(t.I=n.N,!n.J&&Ks(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Hl(gn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;jy(t),Uy(t)}KE(t),vi(18)}if(1>=Oy(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else Zl(t,11)}else if((n.J||t.g==n)&&jy(t),!py(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const N=S[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const P=S[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const K=S[5];null!=K&&"number"==typeof K&&0<K&&(t.K=s=1.5*K,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const J=n.g;if(J){const xe=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xe){var l=s.i;!l.g&&(Oi(xe,"spdy")||Oi(xe,"quic")||Oi(xe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(UE(l,l.h),l.h=null))}if(s.D){const je=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;je&&(s.sa=je,Cn(s.F,s.D,je))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((s=t).oa=QE(s,s.H?s.la:null,s.W),p.J){OC(s.i,p);var v=p,b=s.K;b&&v.setTimeout(b),v.B&&(Bp(v),ql(v)),s.g=p}else HC(s);0<t.l.length&&By(t)}else"stop"!=S[0]&&"close"!=S[0]||Zl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Zl(t,7):zE(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Fh(4)}catch(S){}}function Ny(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rC(n)||"string"==typeof n)uC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(rC(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(rC(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function Uh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Uh)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function OE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Wl(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Wl(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Wl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ze=Gl.prototype).setTimeout=function(n){this.P=n},Ze.gb=function(n){n=n.target;const e=this.L;e&&3==Sa(n)?e.l():this.Ia(n)},Ze.Ia=function(n){try{if(n==this.g)e:{const N=Sa(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>N)&&(3!=N||Zs||this.g&&(this.h.h||this.g.ga()||qE(this.g)))){this.I||4!=N||7==e||Fh(8==e||0>=P?3:2),Bp(this);var t=this.g.ba();this.N=t;t:if(NE(this)){var s=qE(this.g);n="";var a=s.length,l=4==Sa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ac(this),jp(this);var p="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,b=this.g;if((v=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!py(v)){var S=v;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,vi(12),Ac(this),jp(this);break e}kh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ry(this,t)}this.U?(Sy(this,N,p),Zs&&this.i&&3==N&&(wC(this.V,this.W,"tick",this.fb),this.W.start())):(kh(this.j,this.m,p,null),Ry(this,p)),4==N&&Ac(this),this.i&&!this.I&&(4==N?qC(this.l,this):(this.i=!1,ql(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),Ac(this),jp(this)}}}catch(N){}},Ze.fb=function(){if(this.g){var n=Sa(this.g),e=this.g.ga();this.C<e.length&&(Bp(this),Sy(this,n,e),this.i&&4!=n&&ql(this))}},Ze.cancel=function(){this.I=!0,Ac(this)},Ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fh(3),vi(17)),Ac(this),this.o=2,jp(this)):xy(this,this.Y-n)},(Ze=Uh.prototype).R=function(){OE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ze.T=function(){return OE(this),this.g.concat()},Ze.get=function(n,e){return Wl(this.h,n)?this.h[n]:e},Ze.set=function(n,e){Wl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ze.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var My=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Sc){this.g=void 0!==e?e:n.g,$p(this,n.j),this.s=n.s,Hp(this,n.i),Gp(this,n.m),this.l=n.l,e=n.h;var t=new zp;t.i=e.i,e.g&&(t.g=new Uh(e.g),t.h=e.h),kE(this,t),this.o=n.o}else n&&(t=String(n).match(My))?(this.g=!!e,$p(this,t[1]||"",!0),this.s=Wp(t[2]||""),Hp(this,t[3]||"",!0),Gp(this,t[4]),this.l=Wp(t[5]||"",!0),kE(this,t[6]||"",!0),this.o=Wp(t[7]||"")):(this.g=!!e,this.h=new zp(null,this.g))}function Aa(n){return new Sc(n)}function $p(n,e,t){n.j=t?Wp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Hp(n,e,t){n.i=t?Wp(e,!0):e}function Gp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kE(n,e,t){e instanceof zp?(n.h=e,function(n,e){e&&!n.j&&(mu(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(FE(this,s),NC(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Bh(e,jA)),n.h=new zp(e,n.g))}function Cn(n,e,t){n.h.set(e,t)}function qp(n){return Cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bh(e,cr,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bh(e,cr,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bh(t,"/"==t.charAt(0)?BA:xC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bh(t,RC)),n.join("")};var cr=/[#\/\?@]/g,xC=/[#\?:]/g,BA=/[#\?]/g,jA=/[#\?@]/g,RC=/#/g;function zp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mu(n){n.g||(n.g=new Uh,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function FE(n,e){mu(n),e=jh(n,e),Wl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Wl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&OE(n)))}function zl(n,e){return mu(n),e=jh(n,e),Wl(n.g.h,e)}function NC(n,e,t){FE(n,e),0<t.length&&(n.i=null,n.g.set(jh(n,e),Sp(t)),n.h+=t.length)}function jh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function LE(n){this.l=n||NR,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=zp.prototype).add=function(n,e){mu(this),this.i=null,n=jh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ze.forEach=function(n,e){mu(this),this.g.forEach(function(t,s){uC(t,function(a){n.call(e,a,s,this)},this)},this)},Ze.T=function(){mu(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},Ze.R=function(n){mu(this);var e=[];if("string"==typeof n)zl(this,n)&&(e=cE(e,this.g.get(jh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cE(e,n[t])}return e},Ze.set=function(n,e){return mu(this),this.i=null,zl(this,n=jh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var p=a;""!==s[l]&&(p+="="+encodeURIComponent(String(s[l]))),n.push(p)}}return this.i=n.join("&")};var NR=10;function VE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Oy(n){return n.h?1:n.g?n.g.size:0}function Ks(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function UE(n,e){n.g?n.g.add(e):n.h=e}function OC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xo(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Sp(n.i)}function xs(){}function Ro(){this.g=new xs}function PC(n,e,t){const s=t||"";try{Ny(n,function(a,l){let p=a;fy(a)&&(p=by(a)),e.push(s+l+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Py(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function Zp(n){this.l=n.$b||null,this.j=n.ib||!1}function ky(n,e){Lr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=BE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LE.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xs.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)},xs.prototype.parse=function(n){return Et.JSON.parse(n,void 0)},mi(Zp,AE),Zp.prototype.g=function(){return new ky(this.l,this.j)},Zp.prototype.i=function(n){return function(){return n}}({}),mi(ky,Lr);var BE=0;function Fy(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function yu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kp(n)}function Kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=ky.prototype).open=function(n,e){if(this.readyState!=BE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kp(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yu(this)),this.readyState=BE},Ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kp(this)),this.g&&(this.readyState=3,Kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fy(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yu(this):Kp(this),3==this.readyState&&Fy(this)}},Ze.Ua=function(n){this.g&&(this.response=this.responseText=n,yu(this))},Ze.Ta=function(n){this.g&&(this.response=n,yu(this))},Ze.ha=function(){this.g&&yu(this)},Ze.setRequestHeader=function(n,e){this.v.append(n,e)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ky.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FC=Et.JSON.parse;function lr(n){Lr.call(this),this.headers=new Uh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jE,this.K=this.L=!1}mi(lr,Lr);var jE="",LC=/^https?$/i,Ly=["POST","PUT"];function VC(n){return"content-type"==n.toLowerCase()}function $E(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,HE(n),Qp(n)}function HE(n){n.D||(n.D=!0,_i(n,"complete"),_i(n,"error"))}function Yp(n){if(n.h&&void 0!==dy&&(!n.C[1]||4!=Sa(n)||2!=n.ba()))if(n.v&&4==Sa(n))bE(n.Fa,0,n);else if(_i(n,"readystatechange"),4==Sa(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var a=String(n.H).match(My)[1]||null;if(!a&&Et.self&&Et.self.location){var l=Et.self.location.protocol;a=l.substr(0,l.length-1)}s=!LC.test(a?a.toLowerCase():"")}t=s}if(t)_i(n,"complete"),_i(n,"success");else{n.m=6;try{var p=2<Sa(n)?n.g.statusText:""}catch(b){p=""}n.j=p+" ["+n.ba()+"]",HE(n)}}finally{Qp(n)}}}function Qp(n,e){if(n.g){GE(n);const t=n.g,s=n.C[0]?hy:null;n.g=null,n.C=null,e||_i(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function GE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Sa(n){return n.g?n.g.readyState:0}function qE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case jE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vy(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return dE(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cn(n,e,t))}function $h(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WE(n){this.za=0,this.l=[],this.h=new Cy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$h("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$h("baseRetryDelayMs",5e3,n),this.$a=$h("retryDelaySeedMs",1e4,n),this.Ya=$h("forwardChannelMaxRetries",2,n),this.ra=$h("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new LE(n&&n.concurrentRequestLimit),this.Ca=new Ro,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function zE(n){if(BC(n),3==n.G){var e=n.V++,t=Aa(n.F);Cn(t,"SID",n.J),Cn(t,"RID",e),Cn(t,"TYPE","terminate"),Jp(n,t),(e=new Gl(n,n.h,e,void 0)).K=2,e.v=qp(Aa(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=JE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ql(e)}zC(n)}function Uy(n){n.g&&(YE(n),n.g.cancel(),n.g=null)}function BC(n){Uy(n),n.u&&(Et.clearTimeout(n.u),n.u=null),jy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function ZE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&By(n)}function By(n){VE(n.i)||n.m||(n.m=!0,_E(n.Ha,n),n.C=0)}function jC(n,e){var t;t=e?e.m:n.V++;const s=Aa(n.F);Cn(s,"SID",n.J),Cn(s,"RID",t),Cn(s,"AID",n.U),Jp(n,s),n.o&&n.s&&Vy(s,n.o,n.s),t=new Gl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=$C(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),UE(n.i,t),Ay(t,s,e)}function Jp(n,e){n.j&&Ny({},function(t,s){Cn(e,s,t)})}function $C(n,e,t){t=Math.min(n.l.length,t);var s=n.j?gn(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=a[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let v=!0;for(let b=0;b<t;b++){let S=a[b].h;const N=a[b].g;if(S-=l,0>S)l=Math.max(0,a[b].h-100),v=!1;else try{PC(N,p,"req"+S+"_")}catch(P){s&&s(N)}}if(v){s=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function HC(n){n.g||n.u||(n.Y=1,_E(n.Ga,n),n.A=0)}function KE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Hl(gn(n.Ga,n),WC(n,n.A)),n.A++,0))}function YE(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function GC(n){n.g=new Gl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Aa(n.oa);Cn(e,"RID","rpc"),Cn(e,"SID",n.J),Cn(e,"CI",n.N?"0":"1"),Cn(e,"AID",n.U),Jp(n,e),Cn(e,"TYPE","xmlhttp"),n.o&&n.s&&Vy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=qp(Aa(e)),t.s=null,t.U=!0,AC(t,n)}function jy(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function qC(n,e){var t=null;if(n.g==e){jy(n),YE(n),n.g=null;var s=2}else{if(!Ks(n.i,e))return;t=e.D,OC(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;_i(s=Dy(),new DE(s,t,e,a)),By(n)}else HC(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(Oy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Hl(gn(n.Ha,n,e),WC(n,n.C)),n.C++,0)))}(n,e)||2==s&&KE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Zl(n,5);break;case 4:Zl(n,10);break;case 3:Zl(n,6);break;default:Zl(n,2)}}function WC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Zl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=gn(n.jb,n);t||(t=new Sc("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||$p(t,"https"),qp(t)),function(n,e){const t=new Cy;if(Et.Image){const s=new Image;s.onload=aE(Py,t,s,"TestLoadImage: loaded",!0,e),s.onerror=aE(Py,t,s,"TestLoadImage: error",!1,e),s.onabort=aE(Py,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=aE(Py,t,s,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else vi(2);n.G=0,n.j&&n.j.va(e),zC(n),BC(n)}function zC(n){n.G=0,n.I=-1,n.j&&((0!=xo(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Sp(n.l),n.l.length=0),n.j.ua())}function QE(n,e,t){let s=function(n){return n instanceof Sc?Aa(n):new Sc(n,void 0)}(t);if(""!=s.i)e&&Hp(s,e+"."+s.i),Gp(s,s.m);else{const a=Et.location;s=function(n,e,t,s){var a=new Sc(null,void 0);return n&&$p(a,n),e&&Hp(a,e),t&&Gp(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&dE(n.aa,function(a,l){Cn(s,l,a)}),t=n.sa,(e=n.D)&&t&&Cn(s,e,t),Cn(s,"VER",n.ma),Jp(n,s),s}function JE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lr(t&&n.Ba&&!n.qa?new Zp({ib:!0}):n.qa)).L=n.H,e}function XE(){}function Xp(){if(Sh&&!(10<=Number(Mh)))throw Error("Environmental error: no available transport.")}function ns(n,e){Lr.call(this),this.g=new WE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!py(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!py(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kl(this)}function e0(n){Lp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function t0(){Vp.call(this),this.status=1}function Kl(n){this.g=n}(Ze=lr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:SE),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void $E(this,l)}n=t||"";const a=new Uh(this.headers);s&&Ny(s,function(l,p){a.set(p,l)}),s=function(n){e:{var e=VC;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Et.FormData&&n instanceof Et.FormData,!(0<=uE(Ly,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,p){this.g.setRequestHeader(p,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GE(this),0<this.B&&((this.K=function(n){return Sh&&Nh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=bE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){$E(this,l)}},Ze.pa=function(){void 0!==dy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_i(this,"complete"),_i(this,"abort"),Qp(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qp(this,!0)),lr.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?Yp(this):this.cb())},Ze.cb=function(){Yp(this)},Ze.ba=function(){try{return 2<Sa(this)?this.g.status:-1}catch(n){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),FC(e)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=WE.prototype).ma=8,Ze.G=1,Ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Gl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=xp(l),hE(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$C(this,a,e),Cn(t=Aa(this.F),"RID",n),Cn(t,"CVER",22),this.D&&Cn(t,"X-HTTP-Session-Id",this.D),Jp(this,t),this.o&&l&&Vy(t,this.o,l),UE(this.i,a),this.Ra&&Cn(t,"TYPE","init"),this.ja?(Cn(t,"$req",e),Cn(t,"SID","null"),a.$=!0,Ay(a,t,null)):Ay(a,t,e),this.G=2}}else 3==this.G&&(n?jC(this,n):0==this.l.length||VE(this.i)||jC(this))},Ze.Ga=function(){if(this.u=null,GC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Hl(gn(this.bb,this),n)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vi(10),Uy(this),GC(this))},Ze.ab=function(){null!=this.v&&(this.v=null,Uy(this),KE(this),vi(19))},Ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),vi(2)):(this.h.info("Failed to ping google.com"),vi(1))},(Ze=XE.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},Xp.prototype.g=function(n,e){return new ns(n,e)},mi(ns,Lr),ns.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),_E(gn(n.hb,n,e))),vi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=QE(n,null,n.W),By(n)},ns.prototype.close=function(){zE(this.g)},ns.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ZE(this.g,e)}else this.v?((e={}).__data__=by(n),ZE(this.g,e)):ZE(this.g,n)},ns.prototype.M=function(){this.g.j=null,delete this.j,zE(this.g),delete this.g,ns.Z.M.call(this)},mi(e0,Lp),mi(t0,Vp),mi(Kl,XE),Kl.prototype.xa=function(){_i(this.g,"a")},Kl.prototype.wa=function(n){_i(this.g,new e0(n))},Kl.prototype.va=function(n){_i(this.g,new t0(n))},Kl.prototype.ua=function(){_i(this.g,"b")},Xp.prototype.createWebChannel=Xp.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,TE.NO_ERROR=0,TE.TIMEOUT=8,TE.HTTP_ERROR=6,Ty.COMPLETE="complete",Lh.EventType=Fp,Fp.OPEN="a",Fp.CLOSE="b",Fp.ERROR="c",Fp.MESSAGE="d",Lr.prototype.listen=Lr.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var ZC=Da.createWebChannelTransport=function(){return new Xp},n0=Da.getStatEventTarget=function(){return Dy()},$y=Da.ErrorCode=TE,Yl=Da.EventType=Ty,qA=Da.Event=$l,KC=Da.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hh=Da.FetchXmlHttpFactory=Zp,r0=Da.WebChannel=Lh,s0=Da.XhrIo=lr;const WA="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let Ql="9.1.3";const Jl=new Cc.Yd("@firebase/firestore");function ot(){return Jl.logLevel}function Ve(n,...e){if(Jl.logLevel<=Cc.in.DEBUG){const t=e.map(o0);Jl.debug(`Firestore (${Ql}): ${n}`,...t)}}function dr(n,...e){if(Jl.logLevel<=Cc.in.ERROR){const t=e.map(o0);Jl.error(`Firestore (${Ql}): ${n}`,...t)}}function xc(n,...e){if(Jl.logLevel<=Cc.in.WARN){const t=e.map(o0);Jl.warn(`Firestore (${Ql}): ${n}`,...t)}}function o0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function lt(n,e){n||et()}function He(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a0{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vr.UNAUTHENTICATED))}shutdown(){}}class QC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JC{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let p=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ur,e.enqueueRetryable(()=>l(this.currentUser))};const v=()=>{const S=p;e.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield l(s.currentUser)}))},b=S=>{Ve("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(S=>b(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?b(S):(Ve("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ur)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ve("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt("string"==typeof s.accessToken),new a0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Vr(e)}}class ZA{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Vr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class KA{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new ZA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function eg(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Rs.T=-1;class XC{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=eg(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Mt(n,e){return n<e?-1:n>e?1:0}function Gh(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function tg(n){return n+"\0"}class Ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ir(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Ir(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function u0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _u{constructor(e,t,s){void 0===t?t=0:t>e.length&&et(),void 0===s?s=e.length-t:s>e.length-t&&et(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===_u.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _u?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),p=t.get(a);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends _u{construct(e,t,s){return new zt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Me(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends _u{construct(e,t,s){return new ti(e,t,s)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Me(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Me(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Me(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,a+=2}else"`"===v?(p=!p,a++):"."!==v||p?(s+=v,a++):(l(),a++)}if(l(),p)throw new Me(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}class ed{constructor(e){this.fields=e,e.sort(ti.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Dr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Dr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const QA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vu(n){if(lt(!!n),"string"==typeof n){let e=0;const t=QA.exec(n);if(lt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wh(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function tI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function JA(n){const e=n.mapValue.fields.__previous_value__;return tI(e)?JA(e):e}function Hy(n){const e=vu(n.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}function zh(n){return null==n}function ng(n){return 0===n&&1/n==-1/0}function rg(n){return"number"==typeof n&&Number.isInteger(n)&&!ng(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(zt.fromString(e))}static fromName(e){return new tt(zt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new zt(e.slice()))}}function td(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tI(n)?4:10:et()}function No(n,e){const t=td(n);if(t!==td(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hy(n).isEqual(Hy(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=vu(s.timestampValue),p=vu(a.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Wh(n.bytesValue).isEqual(Wh(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return hr(s.geoPointValue.latitude)===hr(a.geoPointValue.latitude)&&hr(s.geoPointValue.longitude)===hr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return hr(s.integerValue)===hr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=hr(s.doubleValue),p=hr(a.doubleValue);return l===p?ng(l)===ng(p):isNaN(l)&&isNaN(p)}return!1}(n,e);case 9:return Gh(n.arrayValue.values||[],e.arrayValue.values||[],No);case 10:return function(s,a){const l=s.mapValue.fields||{},p=a.mapValue.fields||{};if(u0(l)!==u0(p))return!1;for(const v in l)if(l.hasOwnProperty(v)&&(void 0===p[v]||!No(l[v],p[v])))return!1;return!0}(n,e);default:return et()}var a}function Eu(n,e){return void 0!==(n.values||[]).find(t=>No(t,e))}function Zh(n,e){const t=td(n),s=td(e);if(t!==s)return Mt(t,s);switch(t){case 0:return 0;case 1:return Mt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const p=hr(a.integerValue||a.doubleValue),v=hr(l.integerValue||l.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return nI(n.timestampValue,e.timestampValue);case 4:return nI(Hy(n),Hy(e));case 5:return Mt(n.stringValue,e.stringValue);case 6:return function(a,l){const p=Wh(a),v=Wh(l);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const p=a.split("/"),v=l.split("/");for(let b=0;b<p.length&&b<v.length;b++){const S=Mt(p[b],v[b]);if(0!==S)return S}return Mt(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const p=Mt(hr(a.latitude),hr(l.latitude));return 0!==p?p:Mt(hr(a.longitude),hr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const p=a.values||[],v=l.values||[];for(let b=0;b<p.length&&b<v.length;++b){const S=Zh(p[b],v[b]);if(S)return S}return Mt(p.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const p=a.fields||{},v=Object.keys(p),b=l.fields||{},S=Object.keys(b);v.sort(),S.sort();for(let N=0;N<v.length&&N<S.length;++N){const P=Mt(v[N],S[N]);if(0!==P)return P;const K=Zh(p[v[N]],b[S[N]]);if(0!==K)return K}return Mt(v.length,S.length)}(n.mapValue,e.mapValue);default:throw et()}}function nI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Mt(n,e);const t=vu(n),s=vu(e),a=Mt(t.seconds,s.seconds);return 0!==a?a:Mt(t.nanos,s.nanos)}function c0(n){return l0(n)}function l0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=vu(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wh(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const p of s.values||[])l?l=!1:a+=",",a+=l0(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",p=!0;for(const v of a)p?p=!1:l+=",",l+=`${v}:${l0(s.fields[v])}`;return l+"}"}(n.mapValue):et();var e}function Gy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qy(n){return!!n&&"integerValue"in n}function d0(n){return!!n&&"arrayValue"in n}function rI(n){return!!n&&"nullValue"in n}function nd(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wy(n){return!!n&&"mapValue"in n}function Kh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xl(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Kh(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kh(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Wy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kh(t)}setAll(e){let t=ti.emptyPath(),s={},a=[];e.forEach((p,v)=>{if(!t.isImmediateParentOf(v)){const b=this.getFieldsMap(t);this.applyChanges(b,s,a),s={},a=[],t=v.popLast()}p?s[v.lastSegment()]=Kh(p):a.push(v.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Wy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Wy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Xl(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Ei(Kh(this.value))}}function h0(n){const e=[];return Xl(n.fields,(t,s)=>{const a=new ti([t]);if(Wy(s)){const l=h0(s.mapValue).fields;if(0===l.length)e.push(a);else for(const p of l)e.push(a.child(p))}else e.push(a)}),new ed(e)}class xn{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new xn(e,0,It.min(),Ei.empty(),0)}static newFoundDocument(e,t,s){return new xn(e,1,t,s,0)}static newNoDocument(e,t){return new xn(e,2,t,Ei.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,Ei.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new xn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iI{constructor(e,t=null,s=[],a=[],l=null,p=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=p,this.endAt=v,this.A=null}}function sI(n,e=null,t=[],s=[],a=null,l=null,p=null){return new iI(n,e,t,s,a,l,p)}function rd(n){const e=He(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+c0(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=zy(e.startAt)),e.endAt&&(t+="|ub:",t+=zy(e.endAt)),e.A=t}return e.A}function ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!aS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!No(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m0(n.startAt,e.startAt)&&m0(n.endAt,e.endAt)}function sg(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ki extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new tS(e,t,s):"array-contains"===t?new rS(e,s):"in"===t?new iS(e,s):"not-in"===t?new sS(e,s):"array-contains-any"===t?new oS(e,s):new ki(e,t,s)}static R(e,t,s){return"in"===t?new f0(e,s):new nS(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Zh(t,this.value)):null!==t&&td(this.value)===td(t)&&this.P(Zh(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tS extends ki{constructor(e,t,s){super(e,t,s),this.key=tt.fromName(s.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.P(t)}}class f0 extends ki{constructor(e,t){super(e,"in",t),this.keys=p0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nS extends ki{constructor(e,t){super(e,"not-in",t),this.keys=p0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tt.fromName(s.referenceValue))}class rS extends ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return d0(t)&&Eu(t.arrayValue,this.value)}}class iS extends ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eu(this.value.arrayValue,t)}}class sS extends ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eu(this.value.arrayValue,t)}}class oS extends ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!d0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Eu(this.value.arrayValue,s))}}class og{constructor(e,t){this.position=e,this.before=t}}function zy(n){return`${n.before?"b":"a"}:${n.position.map(e=>c0(e)).join(",")}`}class Yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function aS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function g0(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],p=n.position[a];if(s=l.field.isKeyField()?tt.comparator(tt.fromName(p.referenceValue),t.key):Zh(p,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function m0(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!No(n.position[t],e.position[t]))return!1;return!0}class wu{constructor(e,t=null,s=[],a=[],l=null,p="F",v=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=p,this.startAt=v,this.endAt=b,this.V=null,this.S=null}}function oI(n,e,t,s,a,l,p,v){return new wu(n,e,t,s,a,l,p,v)}function id(n){return new wu(n)}function Zy(n){return!zh(n.limit)&&"F"===n.limitType}function Ky(n){return!zh(n.limit)&&"L"===n.limitType}function y0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ag(n){for(const e of n.filters)if(e.v())return e.field;return null}function ug(n){return null!==n.collectionGroup}function sd(n){const e=He(n);if(null===e.V){e.V=[];const t=ag(e),s=y0(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new Yh(t)),e.V.push(new Yh(ti.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Yh(ti.keyField(),l))}}}return e.V}function rs(n){const e=He(n);if(!e.S)if("F"===e.limitType)e.S=sI(e.path,e.collectionGroup,sd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of sd(e))t.push(new Yh(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new og(e.endAt.position,!e.endAt.before):null,a=e.startAt?new og(e.startAt.position,!e.startAt.before):null;e.S=sI(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function aI(n,e,t){return new wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cg(n,e){return ig(rs(n),rs(e))&&n.limitType===e.limitType}function Yy(n){return`${rd(rs(n))}|lt:${n.limitType}`}function _0(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${c0(s.value)}`;var s}).join(", ")}]`),zh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+zy(n.startAt)),n.endAt&&(e+=", endAt: "+zy(n.endAt)),`Target(${e})`}(rs(n))}; limitType=${n.limitType})`}function Qh(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!g0(t.startAt,sd(t),s)||t.endAt&&g0(t.endAt,sd(t),s)));var t,s}function uI(n){return(e,t)=>{let s=!1;for(const a of sd(n)){const l=cI(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function cI(n,e,t){const s=n.field.isKeyField()?tt.comparator(e.key,t.key):function(a,l,p){const v=l.data.field(a),b=p.data.field(a);return null!==v&&null!==b?Zh(v,b):et()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return et()}}function v0(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(e)?"-0":e}}function E0(n){return{integerValue:""+n}}function uS(n,e){return rg(e)?E0(e):v0(n,e)}class Qy{constructor(){this._=void 0}}function Jh(n,e,t){return n instanceof bu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof od?ad(n,e):n instanceof ud?cS(n,e):function(s,a){const l=Jy(s,a),p=Mo(l)+Mo(s.C);return qy(l)&&qy(s.C)?E0(p):v0(s.N,p)}(n,e)}function MR(n,e,t){return n instanceof od?ad(n,e):n instanceof ud?cS(n,e):t}function Jy(n,e){return n instanceof Xh?qy(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class bu extends Qy{}class od extends Qy{constructor(e){super(),this.elements=e}}function ad(n,e){const t=w0(e);for(const s of n.elements)t.some(a=>No(a,s))||t.push(s);return{arrayValue:{values:t}}}class ud extends Qy{constructor(e){super(),this.elements=e}}function cS(n,e){let t=w0(e);for(const s of n.elements)t=t.filter(a=>!No(a,s));return{arrayValue:{values:t}}}class Xh extends Qy{constructor(e,t){super(),this.N=e,this.C=t}}function Mo(n){return hr(n.integerValue||n.doubleValue)}function w0(n){return d0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xy{constructor(e,t){this.field=e,this.transform=t}}class lS{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class t_{}function dS(n,e,t){n instanceof ef?function(s,a,l){const p=s.value.clone(),v=lI(s.fieldTransforms,a,l.transformResults);p.setAll(v),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Rc?function(s,a,l){if(!b0(s.precondition,a))return void a.convertToUnknownDocument(l.version);const p=lI(s.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(hS(s)),v.setAll(p),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function C0(n,e,t){var a;n instanceof ef?function(s,a,l){if(!b0(s.precondition,a))return;const p=s.value.clone(),v=dI(s.fieldTransforms,l,a);p.setAll(v),a.convertToFoundDocument(n_(a),p).setHasLocalMutations()}(n,e,t):n instanceof Rc?function(s,a,l){if(!b0(s.precondition,a))return;const p=dI(s.fieldTransforms,l,a),v=a.data;v.setAll(hS(s)),v.setAll(p),a.convertToFoundDocument(n_(a),v).setHasLocalMutations()}(n,e,t):b0(n.precondition,a=e)&&a.convertToNoDocument(It.min())}function I0(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=Jy(s.transform,a||null);null!=l&&(null==t&&(t=Ei.empty()),t.set(s.field,l))}return t||null}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Gh(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof od&&s instanceof od||t instanceof ud&&s instanceof ud?Gh(t.elements,s.elements,No):t instanceof Xh&&s instanceof Xh?No(t.C,s.C):t instanceof bu&&s instanceof bu);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function n_(n){return n.isFoundDocument()?n.version:It.min()}class ef extends t_{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Rc extends t_{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function hS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function lI(n,e,t){const s=new Map;lt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],p=l.transform,v=e.data.field(l.field);s.set(l.field,MR(p,v,t[a]))}return s}function dI(n,e,t){const s=new Map;for(const a of n){const l=a.transform,p=t.data.field(a.field);s.set(a.field,Jh(l,p,e))}return s}class lg extends t_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class r_ extends t_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class hI{constructor(e){this.count=e}}var Jn,Lt;function fI(n){switch(n){default:return et();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function T0(n){if(void 0===n)return dr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Jn.OK:return me.OK;case Jn.CANCELLED:return me.CANCELLED;case Jn.UNKNOWN:return me.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return me.INTERNAL;case Jn.UNAVAILABLE:return me.UNAVAILABLE;case Jn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Jn.NOT_FOUND:return me.NOT_FOUND;case Jn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Jn.ABORTED:return me.ABORTED;case Jn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Jn.DATA_LOSS:return me.DATA_LOSS;default:return et()}}(Lt=Jn||(Jn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";class Un{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new i_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new i_(this.root,e,this.comparator,!1)}getReverseIterator(){return new i_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new i_(this.root,e,this.comparator,!0)}}class i_{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:Br.RED,this.left=null!=a?a:Br.EMPTY,this.right=null!=l?l:Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Br(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Br.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dg(this.data.getIterator())}getIteratorFrom(e){return new dg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class dg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hg=new Un(tt.comparator);function Ys(){return hg}const fS=new Un(tt.comparator);function pI(){return fS}const pS=new Un(tt.comparator);function gI(){return pS}const gS=new In(tt.comparator);function tn(...n){let e=gS;for(const t of n)e=e.add(t);return e}const mS=new In(Mt);function s_(){return mS}class fg{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,pg.createSynthesizedTargetChangeForCurrentChange(e,t)),new fg(It.min(),s,s_(),Ys(),tn())}}class pg{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new pg(Dr.EMPTY_BYTE_STRING,t,tn(),tn(),tn())}}class o_{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class yS{constructor(e,t){this.targetId=e,this.O=t}}class mI{constructor(e,t,s=Dr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class tf{constructor(){this.F=0,this.M=_I(),this.L=Dr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=tn(),t=tn(),s=tn();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:et()}}),new pg(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=_I()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class _S{constructor(e){this.tt=e,this.et=new Map,this.nt=Ys(),this.st=yI(),this.it=new In(Mt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(sg(l))if(0===s){const p=new tt(l.path);this.at(t,p,xn.newNoDocument(p,It.min()))}else lt(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,p)=>{const v=this.dt(p);if(v){if(l.current&&sg(v.target)){const b=new tt(v.target.path);null!==this.nt.get(b)||this.gt(p,b)||this.at(p,b,xn.newNoDocument(b,e))}l.K&&(t.set(p,l.W()),l.G())}});let s=tn();this.st.forEach((l,p)=>{let v=!0;p.forEachWhile(b=>{const S=this.dt(b);return!S||2===S.purpose||(v=!1,!1)}),v&&(s=s.add(l))});const a=new fg(e,t,this.it,this.nt,s);return this.nt=Ys(),this.st=yI(),this.it=new In(Mt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new tf,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new In(Mt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new tf),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function yI(){return new Un(tt.comparator)}function _I(){return new Un(tt.comparator)}const a_={asc:"ASCENDING",desc:"DESCENDING"},cd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vI{constructor(e,t){this.databaseId=e,this.D=t}}function gg(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(n,e){return n.D?e.toBase64():e.toUint8Array()}function ES(n,e){return gg(n,e.toTimestamp())}function Xn(n){return lt(!!n),It.fromTimestamp(function(e){const t=vu(e);return new Ir(t.seconds,t.nanos)}(n))}function A0(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EI(n){const e=zt.fromString(n);return lt(TI(e)),e}function nf(n,e){return A0(n.databaseId,e.path)}function Oo(n,e){const t=EI(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(wI(t))}function mg(n,e){return A0(n.databaseId,e)}function S0(n){const e=EI(n);return 4===e.length?zt.emptyPath():wI(e)}function rf(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wI(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bI(n,e,t){return{name:nf(n,e),fields:t.value.mapValue.fields}}function x0(n,e,t){const s=Oo(n,e.name),a=Xn(e.updateTime),l=new Ei({mapValue:{fields:e.fields}}),p=xn.newFoundDocument(s,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function ld(n,e){let t;if(e instanceof ef)t={update:bI(n,e.key,e.value)};else if(e instanceof lg)t={delete:nf(n,e.key)};else if(e instanceof Rc)t={update:bI(n,e.key,e.data),updateMask:PR(e.fieldMask)};else{if(!(e instanceof r_))return et();t={verify:nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const p=l.transform;if(p instanceof bu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof od)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ud)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xh)return{fieldPath:l.field.canonicalString(),increment:p.C};throw et()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:ES(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:et()),t;var a}function yg(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?fr.updateTime(Xn(a.updateTime)):void 0!==a.exists?fr.exists(a.exists):fr.none():fr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,p){let v=null;"setToServerValue"in p?(lt("REQUEST_TIME"===p.setToServerValue),v=new bu):"appendMissingElements"in p?v=new od(p.appendMissingElements.values||[]):"removeAllFromArray"in p?v=new ud(p.removeAllFromArray.values||[]):"increment"in p?v=new Xh(l,p.increment):et();const b=ti.fromServerFormat(p.fieldPath);return new Xy(b,v)}(n,a)):[];var a;if(e.update){const a=Oo(n,e.update.name),l=new Ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new ed((e.updateMask.fieldPaths||[]).map(S=>ti.fromServerFormat(S)));return new Rc(a,l,p,t,s)}return new ef(a,l,t,s)}if(e.delete){const a=Oo(n,e.delete);return new lg(a,t)}if(e.verify){const a=Oo(n,e.verify);return new r_(a,t)}return et()}function sf(n,e){return{documents:[mg(n,e.path)]}}function Zt(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=mg(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mg(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(v){if(0===v.length)return;const b=v.map(S=>function(N){if("=="===N.op){if(nd(N.value))return{unaryFilter:{field:Js(N.field),op:"IS_NAN"}};if(rI(N.value))return{unaryFilter:{field:Js(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(nd(N.value))return{unaryFilter:{field:Js(N.field),op:"IS_NOT_NAN"}};if(rI(N.value))return{unaryFilter:{field:Js(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(N.field),op:R0(N.op),value:N.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(v){if(0!==v.length)return v.map(b=>{return{field:Js((S=b).field),direction:Qs(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(b=e.limit,n.D||zh(b)?b:{value:b});var b;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=bS(e.startAt)),e.endAt&&(t.structuredQuery.endAt=bS(e.endAt)),t}function Cu(n){let e=S0(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){lt(1===s);const N=t.from[0];N.allDescendants?a=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=af(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(N=>{return new Yh(_g((P=N).field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let v=null;t.limit&&(v=function(N){let P;return P="object"==typeof N?N.value:N,zh(P)?null:P}(t.limit));let b=null;t.startAt&&(b=_t(t.startAt));let S=null;return t.endAt&&(S=_t(t.endAt)),oI(e,a,p,l,v,"F",b,S)}function af(n){return n?void 0!==n.unaryFilter?[DI(n)]:void 0!==n.fieldFilter?[II(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>af(e)).reduce((e,t)=>e.concat(t)):et():[]}function bS(n){return{before:n.before,values:n.position}}function _t(n){return new og(n.values||[],!!n.before)}function Qs(n){return a_[n]}function R0(n){return cd[n]}function Js(n){return{fieldPath:n.canonicalString()}}function _g(n){return ti.fromServerFormat(n.fieldPath)}function II(n){return ki.create(_g(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}function DI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=_g(n.unaryFilter.field);return ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_g(n.unaryFilter.field);return ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_g(n.unaryFilter.field);return ki.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_g(n.unaryFilter.field);return ki.create(a,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function PR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Po(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rn(e)),e=Xs(n.get(t),e);return Rn(e)}function Xs(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Rn(n){return n+"\x01\x01"}function Tr(n){const e=n.length;if(lt(e>=2),2===e)return lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zt.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const p=n.indexOf("\x01",l);switch((p<0||p>t)&&et(),n.charAt(p+1)){case"\x01":const v=n.substring(l,p);let b;0===a.length?b=v:(a+=v,b=a,a=""),s.push(b);break;case"\x10":a+=n.substring(l,p),a+="\0";break;case"\x11":a+=n.substring(l,p+1);break;default:et()}l=p+2}return new zt(s)}class AI{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Ns{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}Ns.store="owner",Ns.key="owner";class Iu{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Iu.store="mutationQueues",Iu.keyPath="userId";class mn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}mn.store="mutations",mn.keyPath="batchId",mn.userMutationsIndex="userMutationsIndex",mn.userMutationsKeyPath=["userId","batchId"];class er{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Po(t)]}static key(e,t,s){return[e,Po(t),s]}}er.store="documentMutations",er.PLACEHOLDER=new er;class vg{constructor(e,t){this.path=e,this.readTime=t}}class CS{constructor(e,t){this.path=e,this.version=t}}class un{constructor(e,t,s,a,l,p){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=p}}un.store="remoteDocuments",un.readTimeIndex="readTimeIndex",un.readTimeIndexPath="readTime",un.collectionReadTimeIndex="collectionReadTimeIndex",un.collectionReadTimeIndexPath=["parentPath","readTime"];class xa{constructor(e){this.byteSize=e}}xa.store="remoteDocumentGlobal",xa.key="remoteDocumentGlobalKey";class Fi{constructor(e,t,s,a,l,p,v){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=p,this.query=v}}Fi.store="targets",Fi.keyPath="targetId",Fi.queryTargetsIndexName="queryTargetsIndex",Fi.queryTargetsKeyPath=["canonicalId","targetId"];class Ar{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}Ar.store="targetDocuments",Ar.keyPath=["targetId","path"],Ar.documentTargetsIndex="documentTargetsIndex",Ar.documentTargetsKeyPath=["path","targetId"];class ni{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}ni.key="targetGlobalKey",ni.store="targetGlobal";class Du{constructor(e,t){this.collectionId=e,this.parent=t}}Du.store="collectionParents",Du.keyPath=["collectionId","parent"];class Ra{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}Ra.store="clientMetadata",Ra.keyPath="clientId";class ko{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}ko.store="bundles",ko.keyPath="bundleId";class uf{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}uf.store="namedQueries",uf.keyPath="name";const u_=[Iu.store,mn.store,er.store,un.store,Fi.store,Ns.store,ni.store,Ar.store,Ra.store,xa.store,Du.store,ko.store,uf.store],N0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,s)=>{t(e)})}static reject(e){return new Ne((t,s)=>{s(e)})}static waitFor(e){return new Ne((t,s)=>{let a=0,l=0,p=!1;e.forEach(v=>{++a,v.next(()=>{++l,p&&l===a&&t()},b=>s(b))}),p=!0,l===a&&t()})}static or(e){let t=Ne.resolve(!1);for(const s of e)t=t.next(a=>a?Ne.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class dd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Ur,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new hd(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=fd(s.target.error);this.Et.reject(new hd(e,a))}}static open(e,t,s,a){try{return new dd(t,e.transaction(a,s))}catch(l){throw new hd(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new kR(t)}}class Fo{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===Fo.Rt((0,Rt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),ct(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Rt.hl)())return!1;if(Fo.Pt())return!0;const e=(0,Rt.z$)(),t=Fo.Rt(e),s=0<t&&t<10,a=Fo.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=p=>{s(p.target.result)},l.onblocked=()=>{a(new hd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=p=>{const v=p.target.error;a("VersionError"===v.name?new Me(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Me(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new hd(e,v))},l.onupgradeneeded=p=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.At.Ct(p.target.result,l.transaction,p.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,be.Z)(function*(){const p="readonly"===t;let v=0;for(;;){++v;try{l.db=yield l.Dt(e);const b=dd.open(l.db,e,p?"readonly":"readwrite",s),S=a(b).catch(N=>(b.abort(N),Ne.reject(N))).toPromise();return S.catch(()=>{}),yield b.It,S}catch(b){const S="FirebaseError"!==b.name&&v<3;if(Ve("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),l.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class O0{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return ct(this.kt.delete())}}class hd extends Me{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cf(n){return"IndexedDbTransactionError"===n.name}class kR{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ct(s)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),ct(this.store.add(e))}get(e){return ct(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),ct(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),ct(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,p)=>{a.push(p)}).next(()=>a)}Ut(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,p,v)=>v.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Ne((s,a)=>{t.onerror=l=>{const p=fd(l.target.error);a(p)},t.onsuccess=l=>{const p=l.target.result;p?e(p.primaryKey,p.value).next(v=>{v?p.continue():s()}):s()}})}Bt(e,t){const s=[];return new Ne((a,l)=>{e.onerror=p=>{l(p.target.error)},e.onsuccess=p=>{const v=p.target.result;if(!v)return void a();const b=new O0(v),S=t(v.primaryKey,v.value,b);if(S instanceof Ne){const N=S.catch(P=>(b.done(),Ne.reject(P)));s.push(N)}b.isDone?a():null===b.Ft?v.continue():v.continue(b.Ft)}}).next(()=>Ne.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ct(n){return new Ne((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=fd(s.target.error);t(a)}})}let IS=!1;function fd(n){const e=Fo.Rt((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IS||(IS=!0,setTimeout(()=>{throw s},0)),s}}return n}class SI extends M0{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function is(n,e){const t=He(n);return Fo.St(t.Qt,e)}class P0{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&dS(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&C0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&C0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&Gh(this.mutations,e.mutations,(t,s)=>D0(t,s))&&Gh(this.baseMutations,e.baseMutations,(t,s)=>D0(t,s))}}class xI{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){lt(e.mutations.length===s.length);let a=gI();const l=e.mutations;for(let p=0;p<l.length;p++)a=a.insert(l[p].key,s[p].version);return new xI(e,t,s,a)}}class pd{constructor(e,t,s,a,l=It.min(),p=It.min(),v=Dr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v}withSequenceNumber(e){return new pd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class RI{constructor(e){this.Wt=e}}function jr(n,e){if(e.document)return x0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=tt.fromSegments(e.noDocument.path),s=df(e.noDocument.readTime),a=xn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=tt.fromSegments(e.unknownDocument.path),s=df(e.unknownDocument.version);return xn.newUnknownDocument(t,s)}return et()}function NI(n,e,t){const s=k0(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:nf(v=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:gg(v,b.version.toTimestamp())};return new un(null,null,l,e.hasCommittedMutations,s,a)}var v,b;if(e.isNoDocument()){const l=e.key.path.toArray(),p=lf(e.version),v=e.hasCommittedMutations;return new un(null,new vg(l,p),null,v,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),p=lf(e.version);return new un(new CS(l,p),null,null,!0,s,a)}return et()}function k0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function c_(n){const e=new Ir(n[0],n[1]);return It.fromTimestamp(e)}function lf(n){const e=n.toTimestamp();return new AI(e.seconds,e.nanoseconds)}function df(n){const e=new Ir(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function hf(n,e){const t=(e.baseMutations||[]).map(l=>yg(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const p=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(p.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>yg(n.Wt,l)),a=Ir.fromMillis(e.localWriteTimeMs);return new P0(e.batchId,a,t,s)}function Eg(n){const e=df(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?df(n.lastLimboFreeSnapshotVersion):It.min();let s;var a;return void 0!==n.query.documents?(lt(1===(a=n.query).documents.length),s=rs(id(S0(a.documents[0])))):s=rs(Cu(n.query)),new pd(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Dr.fromBase64String(n.resumeToken))}function MI(n,e){const t=lf(e.snapshotVersion),s=lf(e.lastLimboFreeSnapshotVersion);let a;a=sg(e.target)?sf(n.Wt,e.target):Zt(n.Wt,e.target);const l=e.resumeToken.toBase64();return new Fi(e.targetId,rd(e.target),t,l,e.sequenceNumber,s,a)}function F0(n){const e=Cu({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aI(e,e.limit,"L"):e}class L0{getBundleMetadata(e,t){return OI(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:df(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return OI(e).put({bundleId:(s=t).id,createTime:lf(Xn(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return PI(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:F0(a.bundledQuery),readTime:df(a.readTime)};var a})}saveNamedQuery(e,t){return PI(e).put({name:(s=t).name,readTime:lf(Xn(s.readTime)),bundledQuery:s.bundledQuery});var s}}function OI(n){return is(n,ko.store)}function PI(n){return is(n,uf.store)}class kI{constructor(){this.Gt=new wg}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Gt.getEntries(t))}}class wg{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new In(zt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new In(zt.comparator)).toArray()}}class DS{constructor(){this.zt=new wg}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:Po(a)};return TS(e).put(l)}return Ne.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[tg(t),""],!1,!0);return TS(e).Lt(a).next(l=>{for(const p of l){if(p.collectionId!==t)break;s.push(Tr(p.parent))}return s})}}function TS(n){return is(n,Du.store)}const FI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ss{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function LI(n,e,t){const s=n.store(mn.store),a=n.store(er.store),l=[],p=IDBKeyRange.only(t.batchId);let v=0;const b=s.Kt({range:p},(N,P,K)=>(v++,K.delete()));l.push(b.next(()=>{lt(1===v)}));const S=[];for(const N of t.mutations){const P=er.key(e,N.key.path,t.batchId);l.push(a.delete(P)),S.push(N.key)}return Ne.waitFor(l).next(()=>S)}function l_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw et();e=n.noDocument}return JSON.stringify(e).length}ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(41943040,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);class V0{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new V0(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eo(e).Kt({index:mn.userMutationsIndex,range:s},(a,l,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=ff(e),p=eo(e);return p.add({}).next(v=>{lt("number"==typeof v);const b=new P0(v,t,s,a),S=function(K,J,xe){const je=xe.baseMutations.map(Ot=>ld(K.Wt,Ot)),Ke=xe.mutations.map(Ot=>ld(K.Wt,Ot));return new mn(J,xe.batchId,xe.localWriteTime.toMillis(),je,Ke)}(this.N,this.userId,b),N=[];let P=new In((K,J)=>Mt(K.canonicalString(),J.canonicalString()));for(const K of a){const J=er.key(this.userId,K.key.path,v);P=P.add(K.key.path.popLast()),N.push(p.put(S)),N.push(l.put(J,er.PLACEHOLDER))}return P.forEach(K=>{N.push(this.Ht.addToCollectionParentIndex(e,K))}),e.addOnCommittedListener(()=>{this.Jt[v]=b.keys()}),Ne.waitFor(N).next(()=>b)})}lookupMutationBatch(e,t){return eo(e).get(t).next(s=>s?(lt(s.userId===this.userId),hf(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Ne.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return eo(e).Kt({index:mn.userMutationsIndex,range:a},(p,v,b)=>{v.userId===this.userId&&(lt(v.batchId>=s),l=hf(this.N,v)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return eo(e).Kt({index:mn.userMutationsIndex,range:t,reverse:!0},(a,l,p)=>{s=l.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eo(e).Lt(mn.userMutationsIndex,t).next(s=>s.map(a=>hf(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=er.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return ff(e).Kt({range:a},(p,v,b)=>{const[S,N,P]=p,K=Tr(N);if(S===this.userId&&t.path.isEqual(K))return eo(e).get(P).next(J=>{if(!J)throw et();lt(J.userId===this.userId),l.push(hf(this.N,J))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new In(Mt);const a=[];return t.forEach(l=>{const p=er.prefixForPath(this.userId,l.path),v=IDBKeyRange.lowerBound(p),b=ff(e).Kt({range:v},(S,N,P)=>{const[K,J,xe]=S,je=Tr(J);K===this.userId&&l.path.isEqual(je)?s=s.add(xe):P.done()});a.push(b)}),Ne.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=er.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(l);let v=new In(Mt);return ff(e).Kt({range:p},(b,S,N)=>{const[P,K,J]=b,xe=Tr(K);P===this.userId&&s.isPrefixOf(xe)?xe.length===a&&(v=v.add(J)):N.done()}).next(()=>this.Zt(e,v))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(eo(e).get(l).next(p=>{if(null===p)throw et();lt(p.userId===this.userId),s.push(hf(this.N,p))}))}),Ne.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return LI(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ne.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ne.resolve();const s=IDBKeyRange.lowerBound(er.prefixForUser(this.userId)),a=[];return ff(e).Kt({range:s},(l,p,v)=>{if(l[0]===this.userId){const b=Tr(l[1]);a.push(b)}else v.done()}).next(()=>{lt(0===a.length)})})}containsKey(e,t){return VI(e,this.userId,t)}ee(e){return UI(e).get(this.userId).next(t=>t||new Iu(this.userId,-1,""))}}function VI(n,e,t){const s=er.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let p=!1;return ff(n).Kt({range:l,qt:!0},(v,b,S)=>{const[N,P,K]=v;N===e&&P===a&&(p=!0),S.done()}).next(()=>p)}function eo(n){return is(n,mn.store)}function ff(n){return is(n,er.store)}function UI(n){return is(n,Iu.store)}class Nc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Nc(0)}static ie(){return new Nc(-1)}}class bg{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new Nc(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>It.fromTimestamp(new Ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ce(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cg(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(lt(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return Cg(e).Kt((p,v)=>{const b=Eg(v);b.sequenceNumber<=t&&null===s.get(b.targetId)&&(a++,l.push(this.removeTargetData(e,b)))}).next(()=>Ne.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Cg(e).Kt((s,a)=>{const l=Eg(a);t(l)})}re(e){return U0(e).get(ni.key).next(t=>(lt(null!==t),t))}oe(e,t){return U0(e).put(ni.key,t)}ae(e,t){return Cg(e).put(MI(this.N,t))}ce(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=rd(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Cg(e).Kt({range:a,index:Fi.queryTargetsIndexName},(p,v,b)=>{const S=Eg(v);ig(t,S.target)&&(l=S,b.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Mc(e);return t.forEach(p=>{const v=Po(p.path);a.push(l.put(new Ar(s,v))),a.push(this.referenceDelegate.addReference(e,s,p))}),Ne.waitFor(a)}removeMatchingKeys(e,t,s){const a=Mc(e);return Ne.forEach(t,l=>{const p=Po(l.path);return Ne.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Mc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Mc(e);let l=tn();return a.Kt({range:s,qt:!0},(p,v,b)=>{const S=Tr(p[1]),N=new tt(S);l=l.add(N)}).next(()=>l)}containsKey(e,t){const s=Po(t.path),a=IDBKeyRange.bound([s],[tg(s)],!1,!0);let l=0;return Mc(e).Kt({index:Ar.documentTargetsIndex,qt:!0,range:a},([p,v],b,S)=>{0!==p&&(l++,S.done())}).next(()=>l>0)}Tt(e,t){return Cg(e).get(t).next(s=>s?Eg(s):null)}}function Cg(n){return is(n,Fi.store)}function U0(n){return is(n,ni.store)}function Mc(n){return is(n,Ar.store)}function gd(n){return B0.apply(this,arguments)}function B0(){return(B0=(0,be.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==N0)throw n;Ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function BI([n,e],[t,s]){const a=Mt(n,t);return 0===a?Mt(e,s):a}class AS{constructor(e){this.ue=e,this.buffer=new In(BI),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();BI(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){cf(a)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield gd(a)}yield t._e(e)}))}}class SS{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(Rs.T);const s=new AS(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(FI)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FI):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,p,v,b,S;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,p=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(s=P,v=Date.now(),this.removeTargets(e,s,t))).next(P=>(l=P,b=Date.now(),this.removeOrphanedDocuments(e,s))).next(P=>(S=Date.now(),ot()<=Cc.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-N}ms\n\tDetermined least recently used ${a} in `+(v-p)+`ms\n\tRemoved ${l} targets in `+(b-v)+`ms\n\tRemoved ${P} documents in `+(S-b)+`ms\nTotal Duration: ${S-N}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:P})))}}class xS{constructor(e,t){this.db=e,this.garbageCollector=new SS(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return j0(e,s)}removeReference(e,t,s){return j0(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return j0(e,t)}Ie(e,t){return function(s,a){let l=!1;return UI(s).jt(p=>VI(s,p,a).next(v=>(v&&(l=!0),Ne.resolve(!v)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(p,v)=>{if(v<=t){const b=this.Ie(e,p).next(S=>{if(!S)return l++,s.getEntry(e,p).next(()=>(s.removeEntry(p),Mc(e).delete([0,Po(p.path)])))});a.push(b)}}).next(()=>Ne.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return j0(e,t)}Ee(e,t){const s=Mc(e);let a,l=Rs.T;return s.Kt({index:Ar.documentTargetsIndex},([p,v],{path:b,sequenceNumber:S})=>{0===p?(l!==Rs.T&&t(new tt(Tr(a)),l),l=S,a=b):l=Rs.T}).next(()=>{l!==Rs.T&&t(new tt(Tr(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function j0(n,e){return Mc(n).put((s=n.currentSequenceNumber,new Ar(0,Po(e.path),s)));var s}class Ig{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){Xl(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return qh(this.inner)}}class RS{constructor(){this.changes=new Ig(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:It.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:xn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ne.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $0{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return Oc(e).put(d_(t),s)}removeEntry(e,t){const s=Oc(e),a=d_(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return Oc(e).get(d_(t)).next(s=>this.Re(t,s))}be(e,t){return Oc(e).get(d_(t)).next(s=>({document:this.Re(t,s),size:l_(s)}))}getEntries(e,t){let s=Ys();return this.Pe(e,t,(a,l)=>{const p=this.Re(a,l);s=s.insert(a,p)}).next(()=>s)}ve(e,t){let s=Ys(),a=new Un(tt.comparator);return this.Pe(e,t,(l,p)=>{const v=this.Re(l,p);s=s.insert(l,v),a=a.insert(l,l_(p))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Ne.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let p=l.getNext();return Oc(e).Kt({range:a},(v,b,S)=>{const N=tt.fromSegments(v);for(;p&&tt.comparator(p,N)<0;)s(p,null),p=l.getNext();p&&p.isEqual(N)&&(s(p,b),p=l.hasNext()?l.getNext():null),p?S.Mt(p.path.toArray()):S.done()}).next(()=>{for(;p;)s(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=Ys();const l=t.path.length+1,p={};if(s.isEqual(It.min())){const v=t.path.toArray();p.range=IDBKeyRange.lowerBound(v)}else{const v=t.path.toArray(),b=k0(s);p.range=IDBKeyRange.lowerBound([v,b],!0),p.index=un.collectionReadTimeIndex}return Oc(e).Kt(p,(v,b,S)=>{if(v.length!==l)return;const N=jr(this.N,b);t.path.isPrefixOf(N.key.path)?Qh(t,N)&&(a=a.insert(N.key,N)):S.done()}).next(()=>a)}newChangeBuffer(e){return new NS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $I(e).get(xa.key).next(t=>(lt(!!t),t))}Ae(e,t){return $I(e).put(xa.key,t)}Re(e,t){if(t){const s=jr(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(It.min()))return s}return xn.newInvalidDocument(e)}}class NS extends RS{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Ig(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new In((l,p)=>Mt(l.canonicalString(),p.canonicalString()));return this.changes.forEach((l,p)=>{const v=this.De.get(l);if(p.document.isValidDocument()){const b=NI(this.Se.N,p.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=l_(b)-v,t.push(this.Se.addEntry(e,l,b))}else if(s-=v,this.trackRemovals){const b=NI(this.Se.N,xn.newNoDocument(l,It.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,b))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),Ne.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,p)=>{this.De.set(l,p)}),s))}}function $I(n){return is(n,xa.store)}function Oc(n){return is(n,un.store)}function d_(n){return n.path.toArray()}class MS{constructor(e){this.N=e}Ct(e,t,s,a){lt(s<a&&s>=0&&a<=11);const l=new dd("createOrUpgrade",t);var v;s<1&&a>=1&&(e.createObjectStore(Ns.store),(v=e).createObjectStore(Iu.store,{keyPath:Iu.keyPath}),v.createObjectStore(mn.store,{keyPath:mn.keyPath,autoIncrement:!0}).createIndex(mn.userMutationsIndex,mn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(er.store),HI(e),function(v){v.createObjectStore(un.store)}(e));let p=Ne.resolve();return s<3&&a>=3&&(0!==s&&(function(v){v.deleteObjectStore(Ar.store),v.deleteObjectStore(Fi.store),v.deleteObjectStore(ni.store)}(e),HI(e)),p=p.next(()=>function(v){const b=v.store(ni.store),S=new ni(0,0,It.min().toTimestamp(),0);return b.put(ni.key,S)}(l))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(v,b){return b.store(mn.store).Lt().next(S=>{v.deleteObjectStore(mn.store),v.createObjectStore(mn.store,{keyPath:mn.keyPath,autoIncrement:!0}).createIndex(mn.userMutationsIndex,mn.userMutationsKeyPath,{unique:!0});const N=b.store(mn.store),P=S.map(K=>N.put(K));return Ne.waitFor(P)})}(e,l))),p=p.next(()=>{!function(v){v.createObjectStore(Ra.store,{keyPath:Ra.keyPath})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ce(l))),s<6&&a>=6&&(p=p.next(()=>(function(v){v.createObjectStore(xa.store)}(e),this.Ne(l)))),s<7&&a>=7&&(p=p.next(()=>this.xe(l))),s<8&&a>=8&&(p=p.next(()=>this.ke(e,l))),s<9&&a>=9&&(p=p.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const b=v.objectStore(un.store);b.createIndex(un.readTimeIndex,un.readTimeIndexPath,{unique:!1}),b.createIndex(un.collectionReadTimeIndex,un.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(p=p.next(()=>this.$e(l))),s<11&&a>=11&&(p=p.next(()=>{(function(v){v.createObjectStore(ko.store,{keyPath:ko.keyPath})})(e),function(v){v.createObjectStore(uf.store,{keyPath:uf.keyPath})}(e)})),p}Ne(e){let t=0;return e.store(un.store).Kt((s,a)=>{t+=l_(a)}).next(()=>{const s=new xa(t);return e.store(xa.store).put(xa.key,s)})}Ce(e){const t=e.store(Iu.store),s=e.store(mn.store);return t.Lt().next(a=>Ne.forEach(a,l=>{const p=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(mn.userMutationsIndex,p).next(v=>Ne.forEach(v,b=>{lt(b.userId===l.userId);const S=hf(this.N,b);return LI(e,l.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(Ar.store),s=e.store(un.store);return e.store(ni.store).get(ni.key).next(a=>{const l=[];return s.Kt((p,v)=>{const b=new zt(p),S=[0,Po(b)];l.push(t.get(S).next(N=>N?Ne.resolve():t.put(new Ar(0,Po(b),a.highestListenSequenceNumber))))}).next(()=>Ne.waitFor(l))})}ke(e,t){e.createObjectStore(Du.store,{keyPath:Du.keyPath});const s=t.store(Du.store),a=new wg,l=p=>{if(a.add(p)){const v=p.lastSegment(),b=p.popLast();return s.put({collectionId:v,parent:Po(b)})}};return t.store(un.store).Kt({qt:!0},(p,v)=>{const b=new zt(p);return l(b.popLast())}).next(()=>t.store(er.store).Kt({qt:!0},([p,v,b],S)=>{const N=Tr(v);return l(N.popLast())}))}$e(e){const t=e.store(Fi.store);return t.Kt((s,a)=>{const l=Eg(a),p=MI(this.N,l);return t.put(p)})}}function HI(n){n.createObjectStore(Ar.store,{keyPath:Ar.keyPath}).createIndex(Ar.documentTargetsIndex,Ar.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Fi.store,{keyPath:Fi.keyPath}).createIndex(Fi.queryTargetsIndexName,Fi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ni.store)}const h_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Dg{constructor(e,t,s,a,l,p,v,b,S,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=p,this.document=v,this.Fe=S,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!Dg.bt())throw new Me(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xS(this,a),this.We=t+"main",this.N=new RI(b),this.Ge=new Fo(this.We,11,new MS(this.N)),this.ze=new bg(this.referenceDelegate,this.N),this.Ht=new DS,this.He=new $0(this.N,this.Ht),this.Je=new L0,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(me.FAILED_PRECONDITION,h_);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Rs(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,be.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,be.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tu(e).put(new Ra(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(cf(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Tg(e).get(Ns.key).next(t=>Ne.resolve(this.cn(t)))}un(e){return Tu(e).delete(this.clientId)}hn(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=is(s,Ra.store);return a.Lt().next(l=>{const p=e.fn(l,18e5),v=l.filter(b=>-1===p.indexOf(b));return Ne.forEach(v,b=>a.delete(b.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ne.resolve(!0):Tg(e).get(Ns.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Me(me.FAILED_PRECONDITION,h_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tu(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Ns.store,Ra.store],t=>{const s=new SI(t,Rs.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Tu(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return V0.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return Ve("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",u_,p=>(l=new SI(p,this.Le?this.Le.next():Rs.T),"readwrite-primary"===t?this.sn(l).next(v=>!!v||this.rn(l)).next(v=>{if(!v)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Me(me.FAILED_PRECONDITION,N0);return s(l)}).next(v=>this.an(l).next(()=>v)):this.Tn(l).next(()=>s(l)))).then(p=>(l.raiseOnCommittedEvent(),p))}Tn(e){return Tg(e).get(Ns.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(me.FAILED_PRECONDITION,h_)})}an(e){const t=new Ns(this.clientId,this.allowTabSynchronization,Date.now());return Tg(e).put(Ns.key,t)}static bt(){return Fo.bt()}on(e){const t=Tg(e);return t.get(Ns.key).next(s=>this.cn(s)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(Ns.key)):Ne.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(dr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Rt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return dr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tg(n){return is(n,Ns.store)}function Tu(n){return is(n,Ra.store)}function $r(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GI{constructor(e,t){this.progress=e,this.En=t}}class to{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return tt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):ug(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new tt(t)).next(s=>{let a=pI();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=pI();return this.Ht.getCollectionParents(e,a).next(p=>Ne.forEach(p,v=>{const b=(S=t,N=v.child(a),new wu(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.Dn(e,b,s).next(S=>{S.forEach((N,P)=>{l=l.insert(N,P)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(p=>(a=p,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(p=>(l=p,this.Cn(e,l,a).next(v=>{a=v;for(const b of l)for(const S of b.mutations){const N=S.key;let P=a.get(N);null==P&&(P=xn.newInvalidDocument(N),a=a.insert(N,P)),C0(S,P,b.localWriteTime),P.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((p,v)=>{Qh(t,v)||(a=a.remove(p))}),a))}Cn(e,t,s){let a=tn();for(const p of t)for(const v of p.mutations)v instanceof Rc&&null===s.get(v.key)&&(a=a.add(v.key));let l=s;return this.He.getEntries(e,a).next(p=>(p.forEach((v,b)=>{b.isFoundDocument()&&(l=l.insert(v,b))}),l))}}class Ag{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=tn(),a=tn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ag(e,t.fromCache,s,a)}}class qI{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(It.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const p=this.Mn(t,l);return(Zy(t)||Ky(t))&&this.Ln(t.limitType,p,a,s)?this.Fn(e,t):(ot()<=Cc.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_0(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(v=>(p.forEach(b=>{v=v.insert(b.key,b)}),v)))});var l}Mn(e,t){let s=new In(uI(e));return t.forEach((a,l)=>{Qh(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return ot()<=Cc.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",_0(t)),this.On.getDocumentsMatchingQuery(e,t,It.min())}}class WI{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new Un(Mt),this.qn=new Ig(l=>rd(l),ig),this.Kn=It.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new to(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function H0(n,e,t,s){return new WI(n,e,t,s)}function G0(n,e){return q0.apply(this,arguments)}function q0(){return(q0=(0,be.Z)(function*(n,e){const t=He(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",p=>{let v;return t.In.getAllMutationBatches(p).next(b=>(v=b,s=t.persistence.getMutationQueue(e),a=new to(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(b=>{const S=[],N=[];let P=tn();for(const K of v){S.push(K.batchId);for(const J of K.mutations)P=P.add(J.key)}for(const K of b){N.push(K.batchId);for(const J of K.mutations)P=P.add(J.key)}return a.Pn(p,P).next(K=>({Wn:K,removedBatchIds:S,addedBatchIds:N}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function OS(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(p,v,b,S){const N=b.batch,P=N.keys();let K=Ne.resolve();return P.forEach(J=>{K=K.next(()=>S.getEntry(v,J)).next(xe=>{const je=b.docVersions.get(J);lt(null!==je),xe.version.compareTo(je)<0&&(N.applyToRemoteDocument(xe,b),xe.isValidDocument()&&S.addEntry(xe,b.commitVersion))})}),K.next(()=>p.In.removeMutationBatch(v,N))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function zI(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function ZI(n,e){const t=He(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const v=[];e.targetChanges.forEach((S,N)=>{const P=a.get(N);if(!P)return;v.push(t.ze.removeMatchingKeys(l,S.removedDocuments,N).next(()=>t.ze.addMatchingKeys(l,S.addedDocuments,N)));const K=S.resumeToken;if(K.approximateByteSize()>0){const J=P.withResumeToken(K,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(N,J),xe=P,Ke=S,lt((je=J).resumeToken.approximateByteSize()>0),(0===xe.resumeToken.approximateByteSize()||je.snapshotVersion.toMicroseconds()-xe.snapshotVersion.toMicroseconds()>=3e8||Ke.addedDocuments.size+Ke.modifiedDocuments.size+Ke.removedDocuments.size>0)&&v.push(t.ze.updateTargetData(l,J))}var xe,je,Ke});let b=Ys();if(e.documentUpdates.forEach((S,N)=>{e.resolvedLimboDocuments.has(S)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),v.push(KI(l,p,e.documentUpdates,s,void 0).next(S=>{b=S})),!s.isEqual(It.min())){const S=t.ze.getLastRemoteSnapshotVersion(l).next(N=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));v.push(S)}return Ne.waitFor(v).next(()=>p.apply(l)).next(()=>t.Qn.vn(l,b)).next(()=>b)}).then(l=>(t.Un=a,l))}function KI(n,e,t,s,a){let l=tn();return t.forEach(p=>l=l.add(p)),e.getEntries(n,l).next(p=>{let v=Ys();return t.forEach((b,S)=>{const N=p.get(b),P=(null==a?void 0:a.get(b))||s;S.isNoDocument()&&S.version.isEqual(It.min())?(e.removeEntry(b,P),v=v.insert(b,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(S,P),v=v.insert(b,S)):Ve("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",S.version)}),v})}function FR(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function pf(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,Ne.resolve(a)):t.ze.allocateTargetId(s).next(p=>(a=new pd(e,p,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function gf(n,e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,be.Z)(function*(n,e,t){const s=He(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!cf(p))throw p;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function W0(n,e,t){const s=He(n);let a=It.min(),l=tn();return s.persistence.runTransaction("Execute query","readonly",p=>function(v,b,S){const N=He(v),P=N.qn.get(S);return void 0!==P?Ne.resolve(N.Un.get(P)):N.ze.getTargetData(b,S)}(s,p,rs(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,v.targetId).next(b=>{l=b})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,e,t?a:It.min(),t?l:tn())).next(v=>({documents:v,Gn:l})))}function z0(n,e){const t=He(n),s=He(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(p=>p?p.target:null))}function YI(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const p=He(s);let v=Ys(),b=k0(l);const S=Oc(a),N=IDBKeyRange.lowerBound(b,!0);return S.Kt({index:un.readTimeIndex,range:N},(P,K)=>{const J=jr(p.N,K);v=v.insert(J.key,J),b=K.readTime}).next(()=>({En:v,readTime:c_(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function f_(){return(f_=(0,be.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=Oc(s);let l=It.min();return a.Kt({index:un.readTimeIndex,reverse:!0},(p,v,b)=>{v.readTime&&(l=c_(v.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Sg(){return(Sg=(0,be.Z)(function*(n,e,t,s){const a=He(n);let l=tn(),p=Ys(),v=gI();for(const N of t){const P=e.zn(N.metadata.name);N.document&&(l=l.add(P)),p=p.insert(P,e.Hn(N)),v=v.insert(P,e.Jn(N.metadata.readTime))}const b=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield pf(a,(N=s,rs(id(zt.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>KI(N,b,p,It.min(),v).next(P=>(b.apply(N),P)).next(P=>a.ze.removeMatchingKeysForTargetId(N,S.targetId).next(()=>a.ze.addMatchingKeys(N,l,S.targetId)).next(()=>a.Qn.vn(N,P)).next(()=>P)))})).apply(this,arguments)}function kS(n,e){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,be.Z)(function*(n,e,t=tn()){const s=yield pf(n,rs(F0(e.bundledQuery))),a=He(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const p=Xn(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Je.saveNamedQuery(l,e);const v=s.withResumeToken(Dr.EMPTY_BYTE_STRING,p);return a.Un=a.Un.insert(v.targetId,v),a.ze.updateTargetData(l,v).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class FS{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:Xn(s.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:F0(s.bundledQuery),readTime:Xn(s.readTime)}),Ne.resolve();var s}}class K0{constructor(){this.Zn=new In(Hr.ts),this.es=new In(Hr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Hr(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Hr(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new tt(new zt([])),s=new Hr(t,e),a=new Hr(t,e+1),l=[];return this.es.forEachInRange([s,a],p=>{this.rs(p),l.push(p.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new tt(new zt([])),s=new Hr(t,e),a=new Hr(t,e+1);let l=tn();return this.es.forEachInRange([s,a],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new Hr(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Hr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return tt.comparator(e.key,t.key)||Mt(e.ls,t.ls)}static ns(e,t){return Mt(e.ls,t.ls)||tt.comparator(e.key,t.key)}}class LS{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new In(Hr.ts)}checkEmpty(e){return Ne.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const p=new P0(l,t,s,a);this.In.push(p);for(const v of a)this.ds=this.ds.add(new Hr(v.key,l)),this.Ht.addToCollectionParentIndex(e,v.key.path.popLast());return Ne.resolve(p)}lookupMutationBatch(e,t){return Ne.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Ne.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ne.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Hr(t,0),a=new Hr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],p=>{const v=this.ws(p.ls);l.push(v)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new In(Mt);return t.forEach(a=>{const l=new Hr(a,0),p=new Hr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,p],v=>{s=s.add(v.ls)})}),Ne.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;tt.isDocumentKey(l)||(l=l.child(""));const p=new Hr(new tt(l),0);let v=new In(Mt);return this.ds.forEachWhile(b=>{const S=b.key.path;return!!s.isPrefixOf(S)&&(S.length===a&&(v=v.add(b.ls)),!0)},p),Ne.resolve(this.gs(v))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){lt(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Ne.forEach(t.mutations,a=>{const l=new Hr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new Hr(t,0),a=this.ds.firstAfterOrEqual(s);return Ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ne.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class VS{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Un(tt.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),p=l?l.size:0,v=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:v,readTime:s}),this.size+=v-p,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ne.resolve(s?s.document.clone():xn.newInvalidDocument(t))}getEntries(e,t){let s=Ys();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():xn.newInvalidDocument(a))}),Ne.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=Ys();const l=new tt(t.path.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:v,value:{document:b,readTime:S}}=p.getNext();if(!t.path.isPrefixOf(v.path))break;S.compareTo(s)<=0||Qh(t,b)&&(a=a.insert(b.key,b.clone()))}return Ne.resolve(a)}Ts(e,t){return Ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new US(this)}getSize(e){return Ne.resolve(this.size)}}class US extends RS{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ne.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class BS{constructor(e){this.persistence=e,this.Es=new Ig(t=>rd(t),ig),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Is=0,this.As=new K0,this.targetCount=0,this.Rs=Nc.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Ne.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.ae(t),Ne.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((p,v)=>{v.sequenceNumber<=t&&null===s.get(v.targetId)&&(this.Es.delete(p),l.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Ne.waitFor(l).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Ne.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Ne.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(p=>{l.push(a.markPotentiallyOrphaned(e,p))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Ne.resolve(s)}containsKey(e,t){return Ne.resolve(this.As.containsKey(t))}}class jS{constructor(e,t){this.bs={},this.Le=new Rs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new BS(this),this.Ht=new kI,this.He=new VS(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new RI(t),this.Je=new FS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new LS(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){Ve("MemoryPersistence","Starting transaction:",e);const a=new xg(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Ne.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class xg extends M0{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Ds=new K0,this.Cs=null}static Ns(e){return new p_(e)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Ne.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.xs,s=>{const a=tt.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ne.or([()=>Ne.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Y0(n,e){return`firestore_clients_${n}_${e}`}function Q0(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function g_(n,e){return`firestore_targets_${n}_${e}`}class Rg{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new Me(a.error.code,a.error.message))),p?new Rg(e,t,a.state,l):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ng{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Me(s.error.code,s.error.message))),l?new Ng(e,s.state,a):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class m_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=s_();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=rg(s.activeTargetIds[p]),l=l.add(s.activeTargetIds[p]);return a?new m_(e,l):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class J0{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new J0(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class X0{constructor(){this.activeTargetIds=s_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ew{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Un(Mt),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=Y0(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new X0),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(Y0(e.persistenceKey,a));if(l){const p=m_.$s(a,l);p&&(e.qs=e.qs.insert(p.clientId,p))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(g_(this.persistenceKey,e));if(s){const a=Ng.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(g_(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ci(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let p=Rs.T;if(null!=l)try{const v=JSON.parse(l);lt("number"==typeof v),p=v}catch(v){dr("SharedClientState","Failed to read sequence number from WebStorage",v)}return p}(s.newValue);a!==Rs.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new Rg(this.currentUser,e,t,s),l=Q0(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=Q0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=g_(this.persistenceKey,e),l=new Ng(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ai(e);return m_.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return Rg.$s(new Vr(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return Ng.$s(a,t)}Xs(e){return J0.$s(e)}li(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),p=[],v=[];return l.forEach(b=>{a.has(b)||p.push(b)}),a.forEach(b=>{l.has(b)||v.push(b)}),this.syncEngine.gi(p,v).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=s_();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class QI{constructor(){this.yi=new X0,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new X0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class $S{Ti(e){}shutdown(){}}class mf{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class HS{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class tw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);Ve("RestConnection","Sending: ",l,s);const p={};return this.Ui(p,a),this.qi(e,l,p,s).then(v=>(Ve("RestConnection","Received: ",v),v),v=>{throw xc("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",s),v})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ql,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${Mg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,p)=>{const v=new s0;v.listenOnce(Yl.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case $y.NO_ERROR:const S=v.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(S)),l(S);break;case $y.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),p(new Me(me.DEADLINE_EXCEEDED,"Request time out"));break;case $y.HTTP_ERROR:const N=v.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',N,"response text:",v.getResponseText()),N>0){const P=v.getResponseJson().error;if(P&&P.status&&P.message){const K=function(J){const xe=J.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(xe)>=0?xe:me.UNKNOWN}(P.status);p(new Me(K,P.message))}else p(new Me(me.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Me(me.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(a);v.send(t,"POST",b,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZC(),l=n0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Hh({})),this.Ui(p.initMessageHeaders,t),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Ve("Connection","Creating WebChannel: "+v,p);const b=a.createWebChannel(v,p);let S=!1,N=!1;const P=new HS({vi:J=>{N?Ve("Connection","Not sending because WebChannel is closed:",J):(S||(Ve("Connection","Opening WebChannel transport."),b.open(),S=!0),Ve("Connection","WebChannel sending:",J),b.send(J))},Vi:()=>b.close()}),K=(J,xe,je)=>{J.listen(xe,Ke=>{try{je(Ke)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return K(b,r0.EventType.OPEN,()=>{N||Ve("Connection","WebChannel transport opened.")}),K(b,r0.EventType.CLOSE,()=>{N||(N=!0,Ve("Connection","WebChannel transport closed"),P.$i())}),K(b,r0.EventType.ERROR,J=>{N||(N=!0,xc("Connection","WebChannel transport errored:",J),P.$i(new Me(me.UNAVAILABLE,"The operation could not be completed")))}),K(b,r0.EventType.MESSAGE,J=>{var xe;if(!N){const je=J.data[0];lt(!!je);const Ke=je,Ot=Ke.error||(null===(xe=Ke[0])||void 0===xe?void 0:xe.error);if(Ot){Ve("Connection","WebChannel received error:",Ot);const nn=Ot.status;let Nn=function(gr){const Oa=Jn[gr];if(void 0!==Oa)return T0(Oa)}(nn),Vt=Ot.message;void 0===Nn&&(Nn=me.INTERNAL,Vt="Unknown error status: "+nn+" with message "+Ot.message),N=!0,P.$i(new Me(Nn,Vt)),b.close()}else Ve("Connection","WebChannel received:",je),P.Oi(je)}}),K(l,qA.STAT_EVENT,J=>{J.stat===KC.PROXY?Ve("Connection","Detected buffering proxy"):J.stat===KC.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function Lo(){return"undefined"!=typeof window?window:null}function y_(){return"undefined"!=typeof document?document:null}function kc(n){return new vI(n,!0)}class nw{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&Ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class JI{constructor(e,t,s,a,l,p){this.Oe=e,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new nw(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,be.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,be.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):t&&t.code===me.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===t&&this.yr(s)},s=>{e(()=>{const a=new Me(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.pr(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){e.state=0,e.start()}))}pr(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VR extends JI{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,s,l),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:et(),a=e.targetChange.targetIds||[],l=function(b,S){return b.D?(lt(void 0===S||"string"==typeof S),Dr.fromBase64String(S||"")):(lt(void 0===S||S instanceof Uint8Array),Dr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,v=p&&function(b){const S=void 0===b.code?me.UNKNOWN:T0(b.code);return new Me(S,b.message||"")}(p);t=new mI(s,a,l,v||null)}else if("documentChange"in e){const s=e.documentChange,a=Oo(n,s.document.name),l=Xn(s.document.updateTime),p=new Ei({mapValue:{fields:s.document.fields}}),v=xn.newFoundDocument(a,l,p);t=new o_(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const s=e.documentDelete,a=Oo(n,s.document),l=s.readTime?Xn(s.readTime):It.min(),p=xn.newNoDocument(a,l);t=new o_([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Oo(n,s.document);t=new o_([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return et();{const s=e.filter,l=new hI(s.count||0);t=new yS(s.targetId,l)}}var b;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return It.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?Xn(l.readTime):It.min()}(e);return this.listener.Er(t,s)}Ir(e){const t={};t.database=rf(this.N),t.addTarget=function(a,l){let p;const v=l.target;return p=sg(v)?{documents:sf(a,v)}:{query:Zt(a,v)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=vS(a,l.resumeToken):l.snapshotVersion.compareTo(It.min())>0&&(p.readTime=gg(a,l.snapshotVersion.toTimestamp())),p}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.wr(t)}Ar(e){const t={};t.database=rf(this.N),t.removeTarget=e,this.wr(t)}}class rw extends JI{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle",t,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(s,a){let l=Xn(s.updateTime?s.updateTime:a);return l.isEqual(It.min())&&(l=Xn(a)),new lS(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Xn(e.commitTime);return this.listener.vr(s,t)}return lt(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=rf(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ld(this.N,s))};this.wr(t)}}class iw extends class{}{constructor(e,t,s){super(),this.credentials=e,this.nr=t,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Me(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Me(me.UNKNOWN,a.toString())})}Ki(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Me(me.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class XI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(dr(t),this.$r=!1):Ve("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class sw{constructor(e,t,s,a,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ti(v=>{s.enqueueAndForget((0,be.Z)(function*(){var b;Au(p)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,be.Z)(function*(S){const N=He(S);N.Kr.add(4),yield yf(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield md(N)}),function(S){return b.apply(this,arguments)})(p))}))}),this.Wr=new XI(s,a)}}function md(n){return ow.apply(this,arguments)}function ow(){return(ow=(0,be.Z)(function*(n){if(Au(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function yf(n){return aw.apply(this,arguments)}function aw(){return(aw=(0,be.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function __(n,e){const t=He(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),v_(t)?cw(t):Ef(t).cr()&&Og(t,e))}function _f(n,e){const t=He(n),s=Ef(t);t.qr.delete(e),s.cr()&&uw(t,e),0===t.qr.size&&(s.cr()?s.lr():Au(t)&&t.Wr.set("Unknown"))}function Og(n,e){n.Gr.Y(e.targetId),Ef(n).Ir(e)}function uw(n,e){n.Gr.Y(e),Ef(n).Ar(e)}function cw(n){n.Gr=new _S({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),Ef(n).start(),n.Wr.Or()}function v_(n){return Au(n)&&!Ef(n).ar()&&n.qr.size>0}function Au(n){return 0===He(n).Kr.size}function eD(n){n.Gr=void 0}function tD(n){return E_.apply(this,arguments)}function E_(){return(E_=(0,be.Z)(function*(n){n.qr.forEach((e,t)=>{Og(n,e)})})).apply(this,arguments)}function GS(n,e){return w_.apply(this,arguments)}function w_(){return(w_=(0,be.Z)(function*(n,e){eD(n),v_(n)?(n.Wr.Lr(e),cw(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function qS(n,e,t){return nD.apply(this,arguments)}function nD(){return(nD=(0,be.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof mI&&2===e.state&&e.cause)try{yield(s=(0,be.Z)(function*(a,l){const p=l.cause;for(const v of l.targetIds)a.qr.has(v)&&(yield a.remoteSyncer.rejectListen(v,p),a.qr.delete(v),a.Gr.removeTarget(v))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Gr(n,s)}else if(e instanceof o_?n.Gr.rt(e):e instanceof yS?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(It.min()))try{const s=yield zI(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const p=a.Gr._t(l);return p.targetChanges.forEach((v,b)=>{if(v.resumeToken.approximateByteSize()>0){const S=a.qr.get(b);S&&a.qr.set(b,S.withResumeToken(v.resumeToken,l))}}),p.targetMismatches.forEach(v=>{const b=a.qr.get(v);if(!b)return;a.qr.set(v,b.withResumeToken(Dr.EMPTY_BYTE_STRING,b.snapshotVersion)),uw(a,v);const S=new pd(b.target,v,1,b.sequenceNumber);Og(a,S)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){Ve("RemoteStore","Failed to raise snapshot:",s),yield Gr(n,s)}var s})).apply(this,arguments)}function Gr(n,e,t){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,be.Z)(function*(n,e,t){if(!cf(e))throw e;n.Kr.add(1),yield yf(n),n.Wr.set("Offline"),t||(t=()=>zI(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield md(n)}))})).apply(this,arguments)}function rD(n,e){return e().catch(t=>Gr(n,t,e))}function vf(n){return iD.apply(this,arguments)}function iD(){return(iD=(0,be.Z)(function*(n){const e=He(n),t=Su(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;Pg(e);)try{const a=yield FR(e.localStore,s);if(null===a){0===e.Ur.length&&t.lr();break}s=a.batchId,WS(e,a)}catch(a){yield Gr(e,a)}b_(e)&&sD(e)})).apply(this,arguments)}function Pg(n){return Au(n)&&n.Ur.length<10}function WS(n,e){n.Ur.push(e);const t=Su(n);t.cr()&&t.br&&t.Pr(e.mutations)}function b_(n){return Au(n)&&!Su(n).ar()&&n.Ur.length>0}function sD(n){Su(n).start()}function oD(n){return lw.apply(this,arguments)}function lw(){return(lw=(0,be.Z)(function*(n){Su(n).Sr()})).apply(this,arguments)}function zS(n){return kg.apply(this,arguments)}function kg(){return(kg=(0,be.Z)(function*(n){const e=Su(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function aD(n,e,t){return C_.apply(this,arguments)}function C_(){return(C_=(0,be.Z)(function*(n,e,t){const s=n.Ur.shift(),a=xI.from(s,e,t);yield rD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield vf(n)})).apply(this,arguments)}function I_(n,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,be.Z)(function*(n,e){var t;e&&Su(n).br&&(yield(t=(0,be.Z)(function*(s,a){if(fI(l=a.code)&&l!==me.ABORTED){const p=s.Ur.shift();Su(s).hr(),yield rD(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield vf(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),b_(n)&&sD(n)})).apply(this,arguments)}function uD(n,e){return D_.apply(this,arguments)}function D_(){return(D_=(0,be.Z)(function*(n,e){const t=He(n);e?(t.Kr.delete(2),yield md(t)):e||(t.Kr.add(2),yield yf(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function Ef(n){return n.zr||(n.zr=function(e,t,s){const a=He(e);return a.Cr(),new VR(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:tD.bind(null,n),Ci:GS.bind(null,n),Er:qS.bind(null,n)}),n.jr.push(function(){var e=(0,be.Z)(function*(t){t?(n.zr.hr(),v_(n)?cw(n):n.Wr.set("Unknown")):(yield n.zr.stop(),eD(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function Su(n){return n.Hr||(n.Hr=function(e,t,s){const a=He(e);return a.Cr(),new rw(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:oD.bind(null,n),Ci:I_.bind(null,n),Vr:zS.bind(null,n),vr:aD.bind(null,n)}),n.jr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Hr.hr(),yield vf(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class wf{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,l){const p=Date.now()+s,v=new wf(e,t,p,a,l);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(n,e){if(dr("AsyncQueue",`${e}: ${n}`),cf(n))return new Me(me.UNAVAILABLE,`${e}: ${n}`);throw n}class bf{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tt.comparator(t.key,s.key):(t,s)=>tt.comparator(t.key,s.key),this.keyedMap=pI(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new bf;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class T_{constructor(){this.Jr=new Un(tt.comparator)}track(e){const t=e.doc.key,s=this.Jr.get(t);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(t):1===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):et():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,s)=>{e.push(s)}),e}}class Lc{constructor(e,t,s,a,l,p,v,b){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new Lc(e,t,bf.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class ZS{constructor(){this.Xr=void 0,this.listeners=[]}}class KS{constructor(){this.queries=new Ig(e=>Yy(e),cg),this.onlineState="Unknown",this.Zr=new Set}}function A_(n,e){return S_.apply(this,arguments)}function S_(){return(S_=(0,be.Z)(function*(n,e){const t=He(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new ZS),a)try{l.Xr=yield t.onListen(s)}catch(p){const v=yd(p,`Initialization of query '${_0(e.query)}' failed`);return void e.onError(v)}t.queries.set(s,l),l.listeners.push(e),e.eo(t.onlineState),l.Xr&&e.no(l.Xr)&&hw(t)})).apply(this,arguments)}function x_(n,e){return dw.apply(this,arguments)}function dw(){return(dw=(0,be.Z)(function*(n,e){const t=He(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function cD(n,e){const t=He(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const v of p.listeners)v.no(a)&&(s=!0);p.Xr=a}}s&&hw(t)}function lD(n,e,t){const s=He(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function hw(n){n.Zr.forEach(e=>{e.next()})}class fw{constructor(e,t,s){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Lc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class dD{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class hD{constructor(e){this.N=e}zn(e){return Oo(this.N,e)}Hn(e){return e.metadata.exists?x0(this.N,e.document,!1):xn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Xn(e)}}class fD{constructor(e,t,s){this.lo=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=pw(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,s=new hD(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const p of a.metadata.queries){const v=(t.get(p)||tn()).add(l);t.set(p,v)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function(n,e,t,s){return Sg.apply(this,arguments)}(e.localStore,new hD(e.N),e.documents,e.lo.id),s=e.wo(e.documents);for(const a of e.queries)yield kS(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new GI(Object.assign({},e.progress),t)})()}}function pw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gw{constructor(e){this.key=e}}class mw{constructor(e){this.key=e}}class pD{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=tn(),this.mutatedKeys=tn(),this.po=uI(e),this.To=new bf(this.po)}get Eo(){return this._o}Io(e,t){const s=t?t.Ao:new T_,a=t?t.To:this.To;let l=t?t.mutatedKeys:this.mutatedKeys,p=a,v=!1;const b=Zy(this.query)&&a.size===this.query.limit?a.last():null,S=Ky(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((N,P)=>{const K=a.get(N),J=Qh(this.query,P)?P:null,xe=!!K&&this.mutatedKeys.has(K.key),je=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ke=!1;K&&J?K.data.isEqual(J.data)?xe!==je&&(s.track({type:3,doc:J}),Ke=!0):this.Ro(K,J)||(s.track({type:2,doc:J}),Ke=!0,(b&&this.po(J,b)>0||S&&this.po(J,S)<0)&&(v=!0)):!K&&J?(s.track({type:0,doc:J}),Ke=!0):K&&!J&&(s.track({type:1,doc:K}),Ke=!0,(b||S)&&(v=!0)),Ke&&(J?(p=p.add(J),l=je?l.add(N):l.delete(N)):(p=p.delete(N),l=l.delete(N)))}),Zy(this.query)||Ky(this.query))for(;p.size>this.query.limit;){const N=Zy(this.query)?p.last():p.first();p=p.delete(N.key),l=l.delete(N.key),s.track({type:1,doc:N})}return{To:p,Ao:s,Ln:v,mutatedKeys:l}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const l=e.Ao.Yr();l.sort((S,N)=>function(P,K){const J=xe=>{switch(xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return J(P)-J(K)}(S.type,N.type)||this.po(S.doc,N.doc)),this.bo(s);const p=t?this.Po():[],v=0===this.yo.size&&this.current?1:0,b=v!==this.mo;return this.mo=v,0!==l.length||b?{snapshot:new Lc(this.query,e.To,a,l,e.mutatedKeys,0===v,b,!1),vo:p}:{vo:p}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new T_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=tn(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const t=[];return e.forEach(s=>{this.yo.has(s)||t.push(new mw(s))}),this.yo.forEach(s=>{e.has(s)||t.push(new gw(s))}),t}So(e){this._o=e.Gn,this.yo=tn();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Lc.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class YS{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class QS{constructor(e){this.key=e,this.Co=!1}}class gD{constructor(e,t,s,a,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new Ig(v=>Yy(v),cg),this.ko=new Map,this.$o=new Set,this.Oo=new Un(tt.comparator),this.Fo=new Map,this.Mo=new K0,this.Lo={},this.Bo=new Map,this.Uo=Nc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function UR(n,e){return mD.apply(this,arguments)}function mD(){return(mD=(0,be.Z)(function*(n,e){const t=MD(n);let s,a;const l=t.xo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const p=yield pf(t.localStore,rs(e)),v=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield yD(t,e,s,"current"===v),t.isPrimaryClient&&__(t.remoteStore,p)}return a})).apply(this,arguments)}function yD(n,e,t,s){return _D.apply(this,arguments)}function _D(){return(_D=(0,be.Z)(function*(n,e,t,s){n.Ko=(N,P,K)=>{return(J=(0,be.Z)(function*(xe,je,Ke,Ot){let nn=je.view.Io(Ke);nn.Ln&&(nn=yield W0(xe.localStore,je.query,!1).then(({documents:gr})=>je.view.Io(gr,nn)));const Nn=Ot&&Ot.targetChanges.get(je.targetId),Vt=je.view.applyChanges(nn,xe.isPrimaryClient,Nn);return vw(xe,je.targetId,Vt.vo),Vt.snapshot}),function(xe,je,Ke,Ot){return J.apply(this,arguments)})(n,N,P,K);var J};const a=yield W0(n.localStore,e,!0),l=new pD(e,a.Gn),p=l.Io(a.documents),v=pg.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),b=l.applyChanges(p,n.isPrimaryClient,v);vw(n,t,b.vo);const S=new YS(e,t,l);return n.xo.set(e,S),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),b.snapshot})).apply(this,arguments)}function BR(n,e){return vD.apply(this,arguments)}function vD(){return(vD=(0,be.Z)(function*(n,e){const t=He(n),s=t.xo.get(e),a=t.ko.get(s.targetId);if(a.length>1)return t.ko.set(s.targetId,a.filter(l=>!cg(l,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield gf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),_f(t.remoteStore,s.targetId),Lg(t,s.targetId)}).catch(gd))):(Lg(t,s.targetId),yield gf(t.localStore,s.targetId,!0))})).apply(this,arguments)}function ED(){return(ED=(0,be.Z)(function*(n,e,t){const s=OD(n);try{const a=yield function(l,p){const v=He(l),b=Ir.now(),S=p.reduce((P,K)=>P.add(K.key),tn());let N;return v.persistence.runTransaction("Locally write mutations","readwrite",P=>v.Qn.Pn(P,S).next(K=>{N=K;const J=[];for(const xe of p){const je=I0(xe,N.get(xe.key));null!=je&&J.push(new Rc(xe.key,je,h0(je.value.mapValue),fr.exists(!0)))}return v.In.addMutationBatch(P,b,J,p)})).then(P=>(P.applyToLocalDocumentSet(N),{batchId:P.batchId,changes:N}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,p,v){let b=l.Lo[l.currentUser.toKey()];b||(b=new Un(Mt)),b=b.insert(p,v),l.Lo[l.currentUser.toKey()]=b}(s,a.batchId,t),yield Vc(s,a.changes),yield vf(s.remoteStore)}catch(a){const l=yd(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function JS(n,e){return wD.apply(this,arguments)}function wD(){return(wD=(0,be.Z)(function*(n,e){const t=He(n);try{const s=yield ZI(t.localStore,e);e.targetChanges.forEach((a,l)=>{const p=t.Fo.get(l);p&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Co=!0:a.modifiedDocuments.size>0?lt(p.Co):a.removedDocuments.size>0&&(lt(p.Co),p.Co=!1))}),yield Vc(t,s,e)}catch(s){yield gd(s)}})).apply(this,arguments)}function XS(n,e,t){const s=He(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.xo.forEach((l,p)=>{const v=p.view.eo(e);v.snapshot&&a.push(v.snapshot)}),function(l,p){const v=He(l);v.onlineState=p;let b=!1;v.queries.forEach((S,N)=>{for(const P of N.listeners)P.eo(p)&&(b=!0)}),b&&hw(v)}(s.eventManager,e),a.length&&s.No.Er(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function $R(n,e,t){return bD.apply(this,arguments)}function bD(){return(bD=(0,be.Z)(function*(n,e,t){const s=He(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Fo.get(e),l=a&&a.key;if(l){let p=new Un(tt.comparator);p=p.insert(l,xn.newNoDocument(l,It.min()));const v=tn().add(l),b=new fg(It.min(),new Map,new In(Mt),p,v);yield JS(s,b),s.Oo=s.Oo.remove(l),s.Fo.delete(e),Ew(s)}else yield gf(s.localStore,e,!1).then(()=>Lg(s,e,t)).catch(gd)})).apply(this,arguments)}function HR(n,e){return CD.apply(this,arguments)}function CD(){return(CD=(0,be.Z)(function*(n,e){const t=He(n),s=e.batch.batchId;try{const a=yield OS(t.localStore,e);DD(t,s,null),_w(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Vc(t,a)}catch(a){yield gd(a)}})).apply(this,arguments)}function GR(n,e,t){return ID.apply(this,arguments)}function ID(){return(ID=(0,be.Z)(function*(n,e,t){const s=He(n);try{const a=yield function(l,p){const v=He(l);return v.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let S;return v.In.lookupMutationBatch(b,p).next(N=>(lt(null!==N),S=N.keys(),v.In.removeMutationBatch(b,N))).next(()=>v.In.performConsistencyCheck(b)).next(()=>v.Qn.Pn(b,S))})}(s.localStore,e);DD(s,e,t),_w(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(s,a)}catch(a){yield gd(a)}})).apply(this,arguments)}function yw(){return(yw=(0,be.Z)(function*(n,e){const t=He(n);Au(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const p=He(l);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.In.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Bo.get(s)||[];a.push(e),t.Bo.set(s,a)}catch(s){const a=yd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function _w(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function DD(n,e,t){const s=He(n);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Lo[s.currentUser.toKey()]=a}}function Lg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ko.get(e))n.xo.delete(s),t&&n.No.jo(s,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(s=>{n.Mo.containsKey(s)||tx(n,s)})}function tx(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(_f(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),Ew(n))}function vw(n,e,t){for(const s of t)s instanceof gw?(n.Mo.addReference(s.key,e),nx(n,s)):s instanceof mw?(Ve("SyncEngine","Document no longer in limbo: "+s.key),n.Mo.removeReference(s.key,e),n.Mo.containsKey(s.key)||tx(n,s.key)):et()}function nx(n,e){const t=e.key,s=t.path.canonicalString();n.Oo.get(t)||n.$o.has(s)||(Ve("SyncEngine","New document in limbo: "+t),n.$o.add(s),Ew(n))}function Ew(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new tt(zt.fromString(e)),s=n.Uo.next();n.Fo.set(s,new QS(t)),n.Oo=n.Oo.insert(t,s),__(n.remoteStore,new pd(rs(id(t.path)),s,2,Rs.T))}}function Vc(n,e,t){return TD.apply(this,arguments)}function TD(){return(TD=(0,be.Z)(function*(n,e,t){const s=He(n),a=[],l=[],p=[];var v;s.xo.isEmpty()||(s.xo.forEach((v,b)=>{p.push(s.Ko(b,e,t).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(b.targetId,S.fromCache?"not-current":"current"),a.push(S);const N=Ag.kn(b.targetId,S);l.push(N)}}))}),yield Promise.all(p),s.No.Er(a),yield(v=(0,be.Z)(function*(b,S){const N=He(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Ne.forEach(S,K=>Ne.forEach(K.Nn,J=>N.persistence.referenceDelegate.addReference(P,K.targetId,J)).next(()=>Ne.forEach(K.xn,J=>N.persistence.referenceDelegate.removeReference(P,K.targetId,J)))))}catch(P){if(!cf(P))throw P;Ve("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const K=P.targetId;if(!P.fromCache){const J=N.Un.get(K),je=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);N.Un=N.Un.insert(K,je)}}}),function(b,S){return v.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function qR(n,e){return AD.apply(this,arguments)}function AD(){return(AD=(0,be.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const s=yield G0(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(p=>{p.forEach(v=>{v.reject(new Me(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Vc(t,s.Wn)}var a})).apply(this,arguments)}function rx(n,e){const t=He(n),s=t.Fo.get(e);if(s&&s.Co)return tn().add(s.key);{let a=tn();const l=t.ko.get(e);if(!l)return a;for(const p of l){const v=t.xo.get(p);a=a.unionWith(v.view.Eo)}return a}}function WR(n,e){return ww.apply(this,arguments)}function ww(){return(ww=(0,be.Z)(function*(n,e){const t=He(n),s=yield W0(t.localStore,e.query,!0),a=e.view.So(s);return t.isPrimaryClient&&vw(t,e.targetId,a.vo),a})).apply(this,arguments)}function bw(n){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,be.Z)(function*(n){const e=He(n);return YI(e.localStore).then(t=>Vc(e,t))})).apply(this,arguments)}function SD(n,e,t,s){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,be.Z)(function*(n,e,t,s){const a=He(n),l=yield function(p,v){const b=He(p),S=He(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Xt(N,v).next(P=>P?b.Qn.Pn(N,P):Ne.resolve(null)))}(a.localStore,e);var v;null!==l?("pending"===t?yield vf(a.remoteStore):"acknowledged"===t||"rejected"===t?(DD(a,e,s||null),_w(a,e),v=e,He(He(a.localStore).In).te(v)):et(),yield Vc(a,l)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Vg(){return(Vg=(0,be.Z)(function*(n,e){const t=He(n);if(MD(t),OD(t),!0===e&&!0!==t.qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Iw(t,s.toArray());t.qo=!0,yield uD(t.remoteStore,!0);for(const l of a)__(t.remoteStore,l)}else if(!1===e&&!1!==t.qo){const s=[];let a=Promise.resolve();t.ko.forEach((l,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Lg(t,p),gf(t.localStore,p,!0))),_f(t.remoteStore,p)}),yield a,yield Iw(t,s),function(l){const p=He(l);p.Fo.forEach((v,b)=>{_f(p.remoteStore,b)}),p.Mo.us(),p.Fo=new Map,p.Oo=new Un(tt.comparator)}(t),t.qo=!1,yield uD(t.remoteStore,!1)}})).apply(this,arguments)}function Iw(n,e,t){return R_.apply(this,arguments)}function R_(){return(R_=(0,be.Z)(function*(n,e,t){const s=He(n),a=[],l=[];for(const p of e){let v;const b=s.ko.get(p);if(b&&0!==b.length){v=yield pf(s.localStore,rs(b[0]));for(const S of b){const N=s.xo.get(S),P=yield WR(s,N);P.snapshot&&l.push(P.snapshot)}}else{const S=yield z0(s.localStore,p);v=yield pf(s.localStore,S),yield yD(s,Dw(S),p,!1)}a.push(v)}return s.No.Er(l),a})).apply(this,arguments)}function Dw(n){return oI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zR(n){const e=He(n);return He(He(e.localStore).persistence).pn()}function xD(n,e,t,s){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,be.Z)(function*(n,e,t,s){const a=He(n);if(a.qo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const l=yield YI(a.localStore),p=fg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Vc(a,l,p);break}case"rejected":yield gf(a.localStore,e,!0),Lg(a,e,s);break;default:et()}})).apply(this,arguments)}function RD(n,e,t){return ND.apply(this,arguments)}function ND(){return(ND=(0,be.Z)(function*(n,e,t){const s=MD(n);if(s.qo){for(const a of e){if(s.ko.has(a)){Ve("SyncEngine","Adding an already active target "+a);continue}const l=yield z0(s.localStore,a),p=yield pf(s.localStore,l);yield yD(s,Dw(l),p.targetId,!1),__(s.remoteStore,p)}for(const a of t)s.ko.has(a)&&(yield gf(s.localStore,a,!1).then(()=>{_f(s.remoteStore,a),Lg(s,a)}).catch(gd))}})).apply(this,arguments)}function MD(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$R.bind(null,e),e.No.Er=cD.bind(null,e.eventManager),e.No.jo=lD.bind(null,e.eventManager),e}function OD(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class ox{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.N=kc(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return H0(this.persistence,new qI,e.initialUser,this.N)}Go(e){return new jS(p_.Ns,this.N)}Wo(e){return new QI}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ug extends ox{constructor(e,t,s){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e),yield function(n){return f_.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,e),yield OD(s.Jo.syncEngine),yield vf(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(e){return H0(this.persistence,new qI,e.initialUser,this.N)}zo(e){return new jI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=$r(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new Dg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Lo(),y_(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new QI}}class ax extends Ug{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e);const a=s.Jo.syncEngine;s.sharedClientState instanceof ew&&(s.sharedClientState.syncEngine={_i:SD.bind(null,a),mi:xD.bind(null,a),gi:RD.bind(null,a),pn:zR.bind(null,a),wi:bw.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,be.Z)(function*(p){yield function(n,e){return Vg.apply(this,arguments)}(s.Jo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return l.apply(this,arguments)}}())})()}Wo(e){const t=Lo();if(!ew.bt(t))throw new Me(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=$r(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ew(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class PD{initialize(e,t){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>XS(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=qR.bind(null,s.syncEngine),yield uD(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KS}createDatastore(e){const t=kc(e.databaseInfo.databaseId),s=new tw(e.databaseInfo);return new iw(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=v=>XS(this.syncEngine,v,0),p=mf.bt()?new mf:new $S,new sw(t,s,a,l,p);var t,s,a,l,p}createSyncEngine(e,t){return function(s,a,l,p,v,b,S){const N=new gD(s,a,l,p,v,b);return S&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const s=He(t);Ve("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield yf(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ux(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class If{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cx{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Ur,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,be.Z)(function*(){const t=yield e.na();if(null===t)return null;const s=e.ta.decode(t),a=Number(s);isNaN(a)&&e.sa(`length string (${s}) is not valid number`);const l=yield e.ia(a);return new dD(JSON.parse(l),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,be.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ia(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const s=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class ZR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,be.Z)(function*(l,p){const v=He(l),b=rf(v.N)+"/documents",S={documents:p.map(J=>nf(v.N,J))},N=yield v.Ki("BatchGetDocuments",b,S),P=new Map;N.forEach(J=>{const xe=function(n,e){return"found"in e?function(t,s){lt(!!s.found);const a=Oo(t,s.found.name),l=Xn(s.found.updateTime),p=new Ei({mapValue:{fields:s.found.fields}});return xn.newFoundDocument(a,l,p)}(n,e):"missing"in e?function(t,s){lt(!!s.missing),lt(!!s.readTime);const a=Oo(t,s.missing),l=Xn(s.readTime);return xn.newNoDocument(a,l)}(n,e):et()}(v.N,J);P.set(xe.key.toString(),xe)});const K=[];return p.forEach(J=>{const xe=P.get(J.toString());lt(!!xe),K.push(xe)}),K}),function(l,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new lg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=tt.fromPath(a);e.mutations.push(new r_(l,e.precondition(l)))}),yield(s=(0,be.Z)(function*(a,l){const p=He(a),v=rf(p.N)+"/documents",b={writes:l.map(S=>ld(p.N,S))};yield p.Li("Commit",v,b)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw et();t=It.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Me(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Me(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class KR{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new nw(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,be.Z)(function*(){const t=new ZR(e.datastore),s=e.ua(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.ha(l)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!zh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fI(t)}return!1}}class lx{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=Vr.UNAUTHENTICATED,this.clientId=XC.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,be.Z)(function*(p){Ve("FirestoreClient","Received user=",p.uid),yield a.credentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=yd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function dx(n,e){return N_.apply(this,arguments)}function N_(){return(N_=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,be.Z)(function*(l){s.isEqual(l)||(yield G0(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function kD(n,e){return FD.apply(this,arguments)}function FD(){return(FD=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield LD(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,be.Z)(function*(p,v){const b=He(p);b.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const S=Au(b);b.Kr.add(3),yield yf(b),S&&b.Wr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(v),b.Kr.delete(3),yield md(b)}),function(p,v){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function LD(n){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,be.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield dx(n,new ox)),n.offlineComponents})).apply(this,arguments)}function Bc(n){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,be.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield kD(n,new PD)),n.onlineComponents})).apply(this,arguments)}function VD(n){return LD(n).then(e=>e.persistence)}function Sw(n){return LD(n).then(e=>e.localStore)}function M_(n){return Bc(n).then(e=>e.remoteStore)}function xw(n){return Bc(n).then(e=>e.syncEngine)}function qr(n){return Rw.apply(this,arguments)}function Rw(){return(Rw=(0,be.Z)(function*(n){const e=yield Bc(n),t=e.eventManager;return t.onListen=UR.bind(null,e.syncEngine),t.onUnlisten=BR.bind(null,e.syncEngine),t})).apply(this,arguments)}function O_(n,e,t={}){const s=new Ur;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,l,p,v,b){const S=new If({next:P=>{l.enqueueAndForget(()=>x_(a,N));const K=P.docs.has(p);!K&&P.fromCache?b.reject(new Me(me.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&P.fromCache&&v&&"server"===v.source?b.reject(new Me(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(P)},error:P=>b.reject(P)}),N=new fw(id(p.path),S,{includeMetadataChanges:!0,uo:!0});return A_(a,N)}(yield qr(n),n.asyncQueue,e,t,s)})),s.promise}function Mw(n,e,t={}){const s=new Ur;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,l,p,v,b){const S=new If({next:P=>{l.enqueueAndForget(()=>x_(a,N)),P.fromCache&&"server"===v.source?b.reject(new Me(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(P)},error:P=>b.reject(P)}),N=new fw(p,S,{includeMetadataChanges:!0,uo:!0});return A_(a,N)}(yield qr(n),n.asyncQueue,e,t,s)})),s.promise}class mx{constructor(e,t,s,a,l,p,v,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.useFetchStreams=b}}class jc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}const Ow=new Map;function P_(n,e,t){if(!t)throw new Me(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k_(n,e,t,s){if(!0===e&&!0===s)throw new Me(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $D(n){if(!tt.isDocumentKey(n))throw new Me(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function no(n){if(tt.isDocumentKey(n))throw new Me(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=F_(n);throw new Me(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function HD(n,e){if(e<=0)throw new Me(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,k_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yx({}),this._settingsFrozen=!1,e instanceof jc?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Me(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(s.options.projectId)}(e))}get app(){if(!this._app)throw new Me(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yx(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new YC;switch(t.type){case"gapi":const s=t.client;return lt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new KA(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ow.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),Ow.delete(e),t.terminate())}(this),Promise.resolve()}}class Dn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Li{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class Na extends Li{constructor(e,t,s){super(e,t,id(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new tt(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Pw(n,e,...t){if(n=(0,Rt.m9)(n),P_("collection","path",e),n instanceof Bg){const s=zt.fromString(e,...t);return no(s),new Na(n,null,s)}{if(!(n instanceof Dn||n instanceof Na))throw new Me(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(zt.fromString(e,...t));return no(s),new Na(n.firestore,null,s)}}function L_(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=XC.I()),P_("doc","path",e),n instanceof Bg){const s=zt.fromString(e,...t);return $D(s),new Dn(n,null,new tt(s))}{if(!(n instanceof Dn||n instanceof Na))throw new Me(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(zt.fromString(e,...t));return $D(s),new Dn(n.firestore,n instanceof Na?n.converter:null,new tt(s))}}function kw(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof Dn||n instanceof Na)&&(e instanceof Dn||e instanceof Na)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GD(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Li&&e instanceof Li&&n.firestore===e.firestore&&cg(n._query,e._query)&&n.converter===e.converter}class YR{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new nw(this,"async_queue_retry"),this.Ta=()=>{const t=y_();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=y_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=y_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Ur;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,be.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!cf(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,dr("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=t,t}enqueueAfterDelay(e,t,s){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=wf.createAndSchedule(this,e,t,s,l=>this.Ra(l));return this._a.push(a),a}Ea(){this.ma&&et()}verifyOperationInProgress(){}ba(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function V_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class qD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Bn extends Bg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new YR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Fw(this),this._firestoreClient.terminate()}}function tr(n){return n._firestoreClient||Fw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Fw(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mx(n._databaseId,l,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var l,v;n._firestoreClient=new lx(n._credentials,n._queue,s)}function Ix(n,e,t){const s=new Ur;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield dx(n,t),yield kD(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function ZD(n){if(n._initialized||n._terminated)throw new Me(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ma{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(Dr.fromBase64String(e))}catch(t){throw new Me(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xu(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _d{constructor(e){this._methodName=e}}class Df{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}const Wr=/^__.*__$/;class eN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ef(e,this.data,t,this.fieldTransforms)}}class Lw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class B_{constructor(e,t,s,a,l,p){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new B_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.ka(e),a}$a(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return q_(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Vw(this.Da)&&Wr.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class j_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||kc(e)}Ba(e,t,s,a=!1){return new B_({Da:e,methodName:t,La:s,path:ti.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function vd(n){const e=n._freezeSettings(),t=kc(n._databaseId);return new j_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $_(n,e,t,s,a,l={}){const p=n.Ba(l.merge||l.mergeFields?2:0,e,t,a);$w("Data must be an object, but it was:",p,s);const v=Sr(s,p);let b,S;if(l.merge)b=new ed(p.fieldMask),S=p.fieldTransforms;else if(l.mergeFields){const N=[];for(const P of l.mergeFields){const K=Hw(e,P,t);if(!p.contains(K))throw new Me(me.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);xx(N,K)||N.push(K)}b=new ed(N),S=p.fieldTransforms.filter(P=>b.covers(P.field))}else b=null,S=p.fieldTransforms;return new eN(new Ei(v),b,S)}class Tf extends _d{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function $c(n,e,t){return new B_({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class H_ extends _d{_toFieldTransform(e){return new Xy(e.path,new bu)}isEqual(e){return e instanceof H_}}class Uw extends _d{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=$c(this,e,!0),s=this.Ua.map(l=>Hc(l,t)),a=new od(s);return new Xy(e.path,a)}isEqual(e){return this===e}}class Bw extends _d{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=$c(this,e,!0),s=this.Ua.map(l=>Hc(l,t)),a=new ud(s);return new Xy(e.path,a)}isEqual(e){return this===e}}class Ax extends _d{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Xh(e.N,uS(e.N,this.qa));return new Xy(e.path,t)}isEqual(e){return this===e}}function Af(n,e,t,s){const a=n.Ba(1,e,t);$w("Data must be an object, but it was:",a,s);const l=[],p=Ei.empty();Xl(s,(b,S)=>{const N=Sf(e,b,t);S=(0,Rt.m9)(S);const P=a.$a(N);if(S instanceof Tf)l.push(N);else{const K=Hc(S,P);null!=K&&(l.push(N),p.set(N,K))}});const v=new ed(l);return new Lw(p,v,a.fieldTransforms)}function jw(n,e,t,s,a,l){const p=n.Ba(1,e,t),v=[Hw(e,s,t)],b=[a];if(l.length%2!=0)throw new Me(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let K=0;K<l.length;K+=2)v.push(Hw(e,l[K])),b.push(l[K+1]);const S=[],N=Ei.empty();for(let K=v.length-1;K>=0;--K)if(!xx(S,v[K])){const J=v[K];let xe=b[K];xe=(0,Rt.m9)(xe);const je=p.$a(J);if(xe instanceof Tf)S.push(J);else{const Ke=Hc(xe,je);null!=Ke&&(S.push(J),N.set(J,Ke))}}const P=new ed(S);return new Lw(N,P,p.fieldTransforms)}function G_(n,e,t,s=!1){return Hc(t,n.Ba(s?4:3,e))}function Hc(n,e){if(Sx(n=(0,Rt.m9)(n)))return $w("Unsupported field value:",e,n),Sr(n,e);if(n instanceof _d)return function(t,s){if(!Vw(s.Da))throw s.Fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const p of t){let v=Hc(p,s.Oa(l));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uS(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ir.fromDate(t);return{timestampValue:gg(s.N,a)}}if(t instanceof Ir){const a=new Ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gg(s.N,a)}}if(t instanceof Df)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xu)return{bytesValue:vS(s.N,t._byteString)};if(t instanceof Dn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:A0(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Fa(`Unsupported field value: ${F_(t)}`)}(n,e)}function Sr(n,e){const t={};return qh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xl(n,(s,a)=>{const l=Hc(a,e.Na(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Sx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ir||n instanceof Df||n instanceof xu||n instanceof Dn||n instanceof _d)}function $w(n,e,t){if(!Sx(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=F_(t);throw e.Fa("an object"===s?n+" a custom object":n+" "+s)}var s}function Hw(n,e,t){if((e=(0,Rt.m9)(e))instanceof Ma)return e._internalPath;if("string"==typeof e)return Sf(n,e);throw q_("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const tN=new RegExp("[~\\*/\\[\\]]");function Sf(n,e,t){if(e.search(tN)>=0)throw q_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ma(...e.split("."))._internalPath}catch(s){throw q_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function q_(n,e,t,s,a){const l=s&&!s.isEmpty(),p=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let b="";return(l||p)&&(b+=" (found",l&&(b+=` in field ${s}`),p&&(b+=` in document ${a}`),b+=")"),new Me(me.INVALID_ARGUMENT,v+n+b)}function xx(n,e){return n.some(t=>t.isEqual(e))}class W_{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(z_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nN extends W_{data(){return super.data()}}function z_(n,e){return"string"==typeof e?Sf(n,e):e instanceof Ma?e._internalPath:e._delegate._internalPath}class Ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ru extends W_{constructor(e,t,s,a,l,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(z_("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class jg extends Ru{data(e={}){return super.data(e)}}class Gc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ed(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jg(this._firestore,this._userDataWriter,s.key,s,new Ed(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new jg(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Ed(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const v=new jg(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Ed(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let b=-1,S=-1;return 0!==p.type&&(b=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),S=l.indexOf(p.doc.key)),{type:rN(p.type),doc:v,oldIndex:b,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function KD(n,e){return n instanceof Ru&&e instanceof Ru?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gc&&e instanceof Gc&&n._firestore===e._firestore&&GD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function YD(n){if(Ky(n)&&0===n.explicitOrderBy.length)throw new Me(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}function wd(n,...e){for(const t of e)n=t._apply(n);return n}class iN extends $g{constructor(e,t,s){super(),this.Ka=e,this.ja=t,this.Qa=s,this.type="where"}_apply(e){const t=vd(e.firestore),s=function(a,l,p,v,b,S,N){let P;if(b.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){xf(N,S);const J=[];for(const xe of N)J.push(tT(v,a,xe));P={arrayValue:{values:J}}}else P=tT(v,a,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||xf(N,S),P=G_(p,"where",N,"in"===S||"not-in"===S);const K=ki.create(b,S,P);return function(J,xe){if(xe.v()){const Ke=ag(J);if(null!==Ke&&!Ke.isEqual(xe.field))throw new Me(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ke.toString()}' and '${xe.field.toString()}'`);const Ot=y0(J);null!==Ot&&Gw(0,xe.field,Ot)}const je=function(Ke,Ot){for(const nn of Ke.filters)if(Ot.indexOf(nn.op)>=0)return nn.op;return null}(J,function(Ke){switch(Ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xe.op));if(null!==je)throw new Me(me.INVALID_ARGUMENT,je===xe.op?`Invalid query. You cannot use more than one '${xe.op.toString()}' filter.`:`Invalid query. You cannot use '${xe.op.toString()}' filters with '${je.toString()}' filters.`)}(a,K),K}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Li(e.firestore,e.converter,function(a,l){const p=a.filters.concat([l]);return new wu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class Nx extends $g{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Me(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Me(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Yh(a,l);return function(v,b){if(null===y0(v)){const S=ag(v);null!==S&&Gw(0,S,b.field)}}(s,p),p}(e._query,this.Ka,this.Wa);return new Li(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new wu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class QD extends $g{constructor(e,t,s){super(),this.type=e,this.Ga=t,this.za=s}_apply(e){return new Li(e.firestore,e.converter,aI(e._query,this.Ga,this.za))}}class JD extends $g{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=eT(e,this.type,this.Ha,this.Ja);return new Li(e.firestore,e.converter,(a=t,new wu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class XD extends $g{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=eT(e,this.type,this.Ha,this.Ja);return new Li(e.firestore,e.converter,(a=t,new wu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function eT(n,e,t,s){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof W_)return function(a,l,p,v,b){if(!v)throw new Me(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const S=[];for(const N of sd(a))if(N.field.isKeyField())S.push(Gy(l,v.key));else{const P=v.data.field(N.field);if(tI(P))throw new Me(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const K=N.field.canonicalString();throw new Me(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${K}' (used as the orderBy) does not exist.`)}S.push(P)}return new og(S,b)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=vd(n.firestore);return function(l,p,v,b,S,N){const P=l.explicitOrderBy;if(S.length>P.length)throw new Me(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const K=[];for(let J=0;J<S.length;J++){const xe=S[J];if(P[J].field.isKeyField()){if("string"!=typeof xe)throw new Me(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof xe}`);if(!ug(l)&&-1!==xe.indexOf("/"))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${xe}' contains a slash.`);const je=l.path.child(zt.fromString(xe));if(!tt.isDocumentKey(je))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${je}' is not because it contains an odd number of segments.`);const Ke=new tt(je);K.push(Gy(p,Ke))}else{const je=G_(v,b,xe);K.push(je)}}return new og(K,N)}(n._query,n.firestore._databaseId,a,e,t,s)}}function tT(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Me(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ug(e)&&-1!==t.indexOf("/"))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(zt.fromString(t));if(!tt.isDocumentKey(s))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gy(n,new tt(s))}if(t instanceof Dn)return Gy(n,t._key);throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${F_(t)}.`)}function xf(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gw(n,e,t){if(!t.isEqual(e))throw new Me(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nT{convertValue(e,t="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const s={};return Xl(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Df(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=JA(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hy(e));default:return null}}convertTimestamp(e){const t=vu(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=zt.fromString(e);lt(TI(s));const a=new jc(s.get(1),s.get(3)),l=new tt(s.popFirst(5));return a.isEqual(t)||dr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Z_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class oN extends nT{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}class Lx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vd(e)}set(e,t,s){this._verifyNotCommitted();const a=bd(e,this._firestore),l=Z_(a.converter,t,s),p=$_(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,fr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=bd(e,this._firestore);let p;return p="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Ma?jw(this._dataReader,"WriteBatch.update",l._key,t,s,a):Af(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(p.toMutation(l._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bd(e,this._firestore);return this._mutations=this._mutations.concat(new lg(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bd(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Me(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Cd extends nT{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function rT(n,e,t){n=Gt(n,Dn);const s=Gt(n.firestore,Bn),a=Z_(n.converter,e,t);return Id(s,[$_(vd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,fr.none())])}function ro(n,e,t,...s){n=Gt(n,Dn);const a=Gt(n.firestore,Bn),l=vd(a);let p;return p="string"==typeof(e=(0,Rt.m9)(e))||e instanceof Ma?jw(l,"updateDoc",n._key,e,t,s):Af(l,"updateDoc",n._key,e),Id(a,[p.toMutation(n._key,fr.exists(!0))])}function sT(n,...e){var t,s,a;n=(0,Rt.m9)(n);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||V_(e[p])||(l=e[p],p++);const v={includeMetadataChanges:l.includeMetadataChanges};if(V_(e[p])){const P=e[p];e[p]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[p+1]=null===(s=P.error)||void 0===s?void 0:s.bind(P),e[p+2]=null===(a=P.complete)||void 0===a?void 0:a.bind(P)}let b,S,N;if(n instanceof Dn)S=Gt(n.firestore,Bn),N=id(n._key.path),b={next:P=>{e[p]&&e[p](K_(S,n,P))},error:e[p+1],complete:e[p+2]};else{const P=Gt(n,Li);S=Gt(P.firestore,Bn),N=P._query;const K=new Cd(S);b={next:J=>{e[p]&&e[p](new Gc(S,K,P,J))},error:e[p+1],complete:e[p+2]},YD(n._query)}return function(P,K,J,xe){const je=new If(xe),Ke=new fw(K,je,J);return P.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return A_(yield qr(P),Ke)})),()=>{je.Xo(),P.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return x_(yield qr(P),Ke)}))}}(tr(S),N,v,b)}function Id(n,e){return function(t,s){const a=new Ur;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,e,t){return ED.apply(this,arguments)}(yield xw(t),s,a)})),a.promise}(tr(n),e)}function K_(n,e,t){const s=t.docs.get(e._key),a=new Cd(n);return new Ru(n,a,e._key,s,new Ed(t.hasPendingWrites,t.fromCache),e.converter)}class Ww extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vd(e)}get(e){const t=bd(e,this._firestore),s=new oN(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return et();const l=a[0];if(l.isFoundDocument())return new W_(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new W_(this._firestore,s,t._key,null,t.converter);throw et()})}set(e,t,s){const a=bd(e,this._firestore),l=Z_(a.converter,t,s),p=$_(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const l=bd(e,this._firestore);let p;return p="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Ma?jw(this._dataReader,"Transaction.update",l._key,t,s,a):Af(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,p),this}delete(e){const t=bd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bd(e,this._firestore),s=new Cd(this._firestore);return super.get(e).then(a=>new Ru(this._firestore,s,t._key,a._document,new Ed(!1,!1),t.converter))}}function Kw(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lT(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function J_(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){Ql=n})(bc.SDK_VERSION),(0,bc._registerComponent)(new ly.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),s=new Bn(t,new JC(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),(0,bc.registerVersion)(WA,"3.1.1",void 0),(0,bc.registerVersion)(WA,"3.1.1","esm2017");class Hg{constructor(e){this._delegate=e}static fromBase64String(e){return J_(),new Hg(xu.fromBase64String(e))}static fromUint8Array(e){return lT(),new Hg(xu.fromUint8Array(e))}toBase64(){return J_(),this._delegate.toBase64()}toUint8Array(){return lT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ri(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class X_{enableIndexedDbPersistence(e,t){return function(n,e){ZD(n=Gt(n,Bn));const t=tr(n),s=n._freezeSettings(),a=new PD;return Ix(t,a,new Ug(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){ZD(n=Gt(n,Bn));const e=tr(n),t=n._freezeSettings(),s=new PD;return Ix(e,s,new ax(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Me(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(s){if(!Fo.bt())return Promise.resolve();const a=s+"main";yield Fo.delete(a)}),function(s){return t.apply(this,arguments)})($r(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Yw{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof jc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&xc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=Gt(n,Bg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&xc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,v;if("string"==typeof s.mockUserToken)p=s.mockUserToken,v=Vr.MOCK_USER;else{p=(0,Rt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Me(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vr(b)}n._credentials=new QC(new a0(p,v))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield VD(n),t=yield M_(n);return e.setNetworkEnabled(!0),function(s){const a=He(s);return a.Kr.delete(0),md(a)}(t)}))}(tr(n=Gt(n,Bn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield VD(n),t=yield M_(n);return e.setNetworkEnabled(!1),(s=(0,be.Z)(function*(a){const l=He(a);l.Kr.add(0),yield yf(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(tr(n=Gt(n,Bn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,k_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Ur;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,e){return yw.apply(this,arguments)}(yield xw(e),t)})),t.promise}(tr(n=Gt(n,Bn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new If(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield qr(n),a=t,He(s).Zr.add(a),void a.next();var s,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield qr(n),a=t,void He(s).Zr.delete(a);var s,a}))}}(tr(n=Gt(n,Bn)),V_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wc(this,Pw(this._delegate,e))}catch(t){throw Vi(t,"collection()","Firestore.collection()")}}doc(e){try{return new io(this,L_(this._delegate,e))}catch(t){throw Vi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ui(this,function(n,e){if(n=Gt(n,Bg),P_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Li(n,null,(t=e,new wu(zt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(a=n,Bc(a).then(l=>l.datastore));var a;new KR(n.asyncQueue,s,e,t).run()})),t.promise}(tr(n),t=>e(new Ww(n,t)))}(this._delegate,t=>e(new Jw(this,t)))}batch(){return tr(this._delegate),new qg(new Lx(this._delegate,e=>Id(this._delegate,e)))}loadBundle(e){return function(n,e){const t=tr(n=Gt(n,Bn)),s=new qD;return function(n,e,t,s){const a=function(l,p){let v;return v="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,S){if(b instanceof Uint8Array)return ux(b,S);if(b instanceof ArrayBuffer)return ux(new Uint8Array(b),S);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new cx(b,p);var b}(t,kc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(n,e,t){const s=He(n);var a;(a=(0,be.Z)(function*(l,p,v){try{const b=yield p.getMetadata();if(yield function(K,J){const xe=He(K),je=Xn(J.createTime);return xe.persistence.runTransaction("hasNewerBundle","readonly",Ke=>xe.Je.getBundleMetadata(Ke,J.id)).then(Ke=>!!Ke&&Ke.createTime.compareTo(je)>=0)}(l.localStore,b))return yield p.close(),void v._completeWith((K=b,{taskState:"Success",documentsLoaded:K.totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}));v._updateProgress(pw(b));const S=new fD(b,l.localStore,p.N);let N=yield p.Qo();for(;N;){const K=yield S.fo(N);K&&v._updateProgress(K),N=yield p.Qo()}const P=yield S.complete();yield Vc(l,P.En,void 0),yield function(K,J){const xe=He(K);return xe.persistence.runTransaction("Save bundle","readwrite",je=>xe.Je.saveBundleMetadata(je,J))}(l.localStore,b),v._completeWith(P.progress)}catch(b){xc("SyncEngine",`Loading bundle failed with ${b}`),v._failWith(b)}var K}),function(l,p,v){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield xw(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,s){const a=He(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield Sw(n),e)}))}(tr(n=Gt(n,Bn)),e).then(t=>t?new Li(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ui(this,t):null)}}class Dd extends nT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hg(new xu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return io.forKey(t,this.firestore,null)}}class Jw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dd(e)}get(e){const t=Sd(e);return this._delegate.get(t).then(s=>new Wg(this._firestore,new Ru(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Sd(e);return s?(Kw("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Sd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Sd(e);return this._delegate.delete(t),this}}class qg{constructor(e){this._delegate=e}set(e,t,s){const a=Sd(e);return s?(Kw("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Sd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Sd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Td{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new jg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zg(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Td.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new Td(e,new Dd(e),t),a.set(t,l)),l}}Td.INSTANCES=new WeakMap;class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new io(t,new Dn(t._delegate,s,new tt(e)))}static forKey(e,t,s){return new io(t,new Dn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Wc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wc(this.firestore,Pw(this._delegate,e))}catch(t){throw Vi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Dn&&kw(this._delegate,e)}set(e,t){t=Kw("DocumentReference.set",t);try{return t?rT(this._delegate,e,t):rT(this._delegate,e)}catch(s){throw Vi(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?ro(this._delegate,e):ro(this._delegate,e,t,...s)}catch(a){throw Vi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Id(Gt(n.firestore,Bn),[new lg(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=dT(e),s=Xw(e,a=>new Wg(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return sT(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Gt(n,Dn);const e=Gt(n.firestore,Bn),t=tr(e),s=new Cd(e);return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,l,p){try{const v=yield function(b,S){const N=He(b);return N.persistence.runTransaction("read document","readonly",P=>N.Qn.An(P,S))}(a,l);v.isFoundDocument()?p.resolve(v):v.isNoDocument()?p.resolve(null):p.reject(new Me(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const b=yd(v,`Failed to get document '${l} from cache`);p.reject(b)}}),function(a,l,p){return s.apply(this,arguments)})(yield Sw(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Ru(e,s,n._key,a,new Ed(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Gt(n,Dn);const e=Gt(n.firestore,Bn);return O_(tr(e),n._key,{source:"server"}).then(t=>K_(e,n,t))}(this._delegate):function(n){n=Gt(n,Dn);const e=Gt(n.firestore,Bn);return O_(tr(e),n._key).then(t=>K_(e,n,t))}(this._delegate),t.then(s=>new Wg(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Vi(n,e,t){return n.message=n.message.replace(e,t),n}function dT(n){for(const e of n)if("object"==typeof e&&!ri(e))return e;return{}}function Xw(n,e){var t,s;let a;return a=ri(n[0])?n[0]:ri(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Wg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new io(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return KD(this._delegate,e._delegate)}}class zg extends Wg{data(e){const t=this._delegate.data(e);return function(n,e){n||et()}(void 0!==t),t}}class Ui{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dd(e)}where(e,t,s){try{return new Ui(this.firestore,wd(this._delegate,function(n,e,t){const s=e,a=z_("where",n);return new iN(a,s,t)}(e,t,s)))}catch(a){throw Vi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ui(this.firestore,wd(this._delegate,function(n,e="asc"){const t=e,s=z_("orderBy",n);return new Nx(s,t)}(e,t)))}catch(s){throw Vi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ui(this.firestore,wd(this._delegate,function(n){return HD("limit",n),new QD("limit",n,"F")}(e)))}catch(t){throw Vi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ui(this.firestore,wd(this._delegate,function(n){return HD("limitToLast",n),new QD("limitToLast",n,"L")}(e)))}catch(t){throw Vi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ui(this.firestore,wd(this._delegate,function(...n){return new JD("startAt",n,!0)}(...e)))}catch(t){throw Vi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ui(this.firestore,wd(this._delegate,function(...n){return new JD("startAfter",n,!1)}(...e)))}catch(t){throw Vi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ui(this.firestore,wd(this._delegate,function(...n){return new XD("endBefore",n,!0)}(...e)))}catch(t){throw Vi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ui(this.firestore,wd(this._delegate,function(...n){return new XD("endAt",n,!1)}(...e)))}catch(t){throw Vi(t,"endAt()","Query.endAt()")}}isEqual(e){return GD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Gt(n,Li);const e=Gt(n.firestore,Bn),t=tr(e),s=new Cd(e);return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,l,p){try{const v=yield W0(a,l,!0),b=new pD(l,v.Gn),S=b.Io(v.documents),N=b.applyChanges(S,!1);p.resolve(N.snapshot)}catch(v){const b=yd(v,`Failed to execute query '${l} against cache`);p.reject(b)}}),function(a,l,p){return s.apply(this,arguments)})(yield Sw(n),e,t);var s})),t.promise}(t,n._query).then(a=>new Gc(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Gt(n,Li);const e=Gt(n.firestore,Bn),t=tr(e),s=new Cd(e);return Mw(t,n._query,{source:"server"}).then(a=>new Gc(e,s,n,a))}(this._delegate):function(n){n=Gt(n,Li);const e=Gt(n.firestore,Bn),t=tr(e),s=new Cd(e);return YD(n._query),Mw(t,n._query).then(a=>new Gc(e,s,n,a))}(this._delegate),t.then(s=>new Ad(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=dT(e),s=Xw(e,a=>new Ad(this.firestore,new Gc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return sT(this._delegate,t,s)}withConverter(e){return new Ui(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}class qc{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ad{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ui(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qc(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new zg(this._firestore,s))})}isEqual(e){return KD(this._delegate,e._delegate)}}class Wc extends Ui{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new io(this.firestore,e):null}doc(e){try{return new io(this.firestore,void 0===e?L_(this._delegate):L_(this._delegate,e))}catch(t){throw Vi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Gt(n.firestore,Bn),s=L_(n),a=Z_(n.converter,e);return Id(t,[$_(vd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,fr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new io(this.firestore,t))}isEqual(e){return kw(this._delegate,e._delegate)}withConverter(e){return new Wc(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Sd(n){return Gt(n,Dn)}class eb{constructor(...e){this._delegate=new Ma(...e)}static documentId(){return new eb(ti.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Ma&&this._delegate._internalPath.isEqual(e._internalPath)}}class xd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new H_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new xd(e)}static delete(){const e=new Tf("deleteField");return e._methodName="FieldValue.delete",new xd(e)}static arrayUnion(...e){const t=function(...n){return new Uw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xd(t)}static arrayRemove(...e){const t=function(...n){return new Bw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xd(t)}static increment(e){const t=function(n){return new Ax("increment",n)}(e);return t._methodName="FieldValue.increment",new xd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tb={Firestore:Yw,GeoPoint:Df,Timestamp:Ir,Blob:Hg,Transaction:Jw,WriteBatch:qg,DocumentReference:io,DocumentSnapshot:Wg,Query:Ui,QueryDocumentSnapshot:zg,QuerySnapshot:Ad,CollectionReference:Wc,FieldPath:eb,FieldValue:xd,setLogLevel:function(n){!function(n){Jl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new ly.wA("firestore-compat",t=>((e,t)=>new Yw(e,t,new X_))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},tb)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(nC.Z);var fT=V(6682),Zg=V(309),qx=V(7771),Wx=V(8858);class Nu extends Wi.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Kg(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let p;if(this.closed)throw new vs.N;if(this.isStopped||this.hasError?p=Gf.w.EMPTY:(this.observers.push(e),p=new Wx.W(this,e)),a&&e.add(e=new Zg.ht(e,a)),t)for(let v=0;v<l&&!e.closed;v++)e.next(s[v]);else for(let v=0;v<l&&!e.closed;v++)e.next(s[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||qx.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let p=0;for(;p<l&&!(e-a[p].time<s);)p++;return l>t&&(p=Math.max(p,l-t)),p>0&&a.splice(0,p),a}}class Kg{constructor(e,t){this.time=e,this.value=t}}function Rd(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,p,l=0,v=!1,b=!1;return function(N){let P;l++,!a||v?(v=!1,a=new Nu(n,e,s),P=a.subscribe(this),p=N.subscribe({next(K){a.next(K)},error(K){v=!0,a.error(K)},complete(){b=!0,p=void 0,a.complete()}}),b&&(p=void 0)):P=a.subscribe(this),this.add(()=>{l--,P.unsubscribe(),P=void 0,p&&!b&&t&&0===l&&(p.unsubscribe(),p=void 0,a=void 0)})}}(s))}function Nd(n,e){return e?zn(()=>n,e):zn(()=>n)}var nb=V(3101);V(2329);const ET=new Map,Kx={activated:!1,tokenObservers:[]},fN={initialized:!1,enabled:!1};function os(n){return ET.get(n)||Kx}function Mu(n,e){ET.set(n,e)}function rb(){return fN}class mN{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const o=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function c(n){if(!os(n).activated)throw o.create("use-before-activation",{appName:n.name})}function m(n,e){return y.apply(this,arguments)}function y(){return(y=(0,be.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,l)}catch(P){throw o.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==p.status)throw o.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(P){throw o.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=v.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw o.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(b[1]),N=Date.now();return{token:v.attestationToken,expireTimeMillis:N+S,issuedAtTimeMillis:N}})).apply(this,arguments)}function I(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const O="firebase-app-check-store";let H=null;function ae(){return H||(H=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(o.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(O,{keyPath:"compositeKey"})}}}catch(t){e(o.create("storage-open",{originalErrorMessage:t.message}))}}),H)}function St(){return(St=(0,be.Z)(function*(n,e){const s=(yield ae()).transaction(O,"readwrite"),l=s.objectStore(O).put({compositeKey:n,value:e});return new Promise((p,v)=>{l.onsuccess=b=>{p()},s.onerror=b=>{var S;v(o.create("storage-set",{originalErrorMessage:null===(S=b.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Ou=new Cc.Yd("@firebase/app-check");function rv(n,e){return(0,Rt.hl)()?function(n,e){return function(n,e){return St.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ou.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function iv(){return rb().enabled}function sv(){return Qx.apply(this,arguments)}function Qx(){return(Qx=(0,be.Z)(function*(){const n=rb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const YN={error:"UNKNOWN_ERROR"};function QN(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function bT(n){return Jx.apply(this,arguments)}function Jx(){return(Jx=(0,be.Z)(function*(n,e=!1){const t=n.app;c(t);const s=os(t);let l,p,a=s.token;if(!a){const v=yield s.cachedTokenPromise;v&&sb(v)&&(a=v,Mu(t,Object.assign(Object.assign({},s),{token:a})),_N(t,{token:a.token}))}if(!e&&a&&sb(a))return{token:a.token};if(iv()){const v=yield m(I(t,yield sv()),n.platformLoggerProvider);return yield rv(t,v),Mu(t,Object.assign(Object.assign({},s),{token:v})),{token:v.token}}try{a=yield s.provider.getToken()}catch(v){Ou.error(v),l=v}return a?(p={token:a.token},Mu(t,Object.assign(Object.assign({},s),{token:a})),yield rv(t,a)):p=XN(l),_N(t,p),p})).apply(this,arguments)}function Xx(n,e){const t=os(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Mu(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function _N(n,e){const t=os(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function sb(n){return n.expireTimeMillis-Date.now()>0}function XN(n){return{token:QN(YN),error:n}}class eM{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=os(this.app);for(const t of e)Xx(this.app,t.next);return Promise.resolve()}}const bN="app-check-internal";(0,bc._registerComponent)(new ly.wA("app-check",n=>function(n,e){return new eM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bN).initialize()})),(0,bc._registerComponent)(new ly.wA(bN,n=>function(n){return{getToken:e=>bT(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=os(a),p={next:t,error:s,type:e},v=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,p]});if(!v.tokenRefresher){const b=function(n){const{app:e}=n;return new mN((0,be.Z)(function*(){let s;if(s=os(e).token?yield bT(n,!0):yield bT(n),s.error)throw s.error}),()=>!0,()=>{const t=os(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);v.tokenRefresher=b}if(!v.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&v.tokenRefresher.start(),l.token&&sb(l.token)){const b=l.token;Promise.resolve().then(()=>t({token:b.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(b=>{b&&sb(b)&&t({token:b.token})}).catch(()=>{});Mu(a,v)}(n,"INTERNAL",e),removeTokenListener:e=>Xx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bc.registerVersion)("@firebase/app-check","0.4.2");class rR{constructor(){return(0,Cr.vb)("app-check")}}"undefined"!=typeof window&&window;var IN=V(7841);const DN=new f.OlP("angularfire2.auth.use-emulator"),TN=new f.OlP("angularfire2.auth.settings"),AN=new f.OlP("angularfire2.auth.tenant-id"),SN=new f.OlP("angularfire2.auth.langugage-code"),xN=new f.OlP("angularfire2.auth.use-device-language"),RN=new f.OlP("angularfire.auth.persistence"),NN=(n,e,t,s,a,l,p,v)=>(0,As.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),s&&(b.tenantId=s),b.languageCode=a,l&&b.useDeviceLanguage(),p)for(const[S,N]of Object.entries(p))b.settings[S]=N;return v&&b.setPersistence(v),b},[t,s,a,l,p,v]);let sR=(()=>{class n{constructor(t,s,a,l,p,v,b,S,N,P,K,J){const xe=new Wi.xQ,je=(0,Je.of)(void 0).pipe((0,Zg.QV)(p.outsideAngular),zn(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4671)))),(0,gt.U)(()=>(0,As.on)(t,l,s)),(0,gt.U)(Ke=>NN(Ke,l,v,S,N,P,b,K)),Rd({bufferSize:1,refCount:!1}));if(po(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Je.of)(null);else{je.pipe(qs()).subscribe();const Ot=je.pipe(zn(Vt=>Vt.getRedirectResult().then(gr=>gr,()=>null)),Cr.iC,Rd({bufferSize:1,refCount:!1})),nn=je.pipe(zn(Vt=>new ui.y(gr=>({unsubscribe:l.runOutsideAngular(()=>Vt.onAuthStateChanged(Oa=>gr.next(Oa),Oa=>gr.error(Oa),()=>gr.complete()))})))),Nn=je.pipe(zn(Vt=>new ui.y(gr=>({unsubscribe:l.runOutsideAngular(()=>Vt.onIdTokenChanged(Oa=>gr.next(Oa),Oa=>gr.error(Oa),()=>gr.complete()))}))));this.authState=Ot.pipe(Nd(nn),(0,nb.R)(p.outsideAngular),(0,Zg.QV)(p.insideAngular)),this.user=Ot.pipe(Nd(Nn),(0,nb.R)(p.outsideAngular),(0,Zg.QV)(p.insideAngular)),this.idToken=this.user.pipe(zn(Vt=>Vt?(0,fn.D)(Vt.getIdToken()):(0,Je.of)(null))),this.idTokenResult=this.user.pipe(zn(Vt=>Vt?(0,fn.D)(Vt.getIdTokenResult()):(0,Je.of)(null))),this.credential=(0,fT.T)(Ot,xe,this.authState.pipe(Si(Vt=>!Vt))).pipe((0,gt.U)(Vt=>(null==Vt?void 0:Vt.user)?Vt:null),(0,nb.R)(p.outsideAngular),(0,Zg.QV)(p.insideAngular))}return(0,As.pX)(this,je,l,{spy:{apply:(Ke,Ot,nn)=>{(Ke.startsWith("signIn")||Ke.startsWith("createUser"))&&nn.then(Nn=>xe.next(Nn))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(As.Dh),f.LFG(As.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Cr.HU),f.LFG(DN,8),f.LFG(TN,8),f.LFG(AN,8),f.LFG(SN,8),f.LFG(xN,8),f.LFG(RN,8),f.LFG(rR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yM=(()=>{class n{constructor(){IN.Z.registerVersion("angularfire",Cr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[sR]}),n})();function MN(n,e){return function(n,e=AA.z){return new ui.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function oR(n,e){return MN(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function CT(n,e){return oR(n,e).pipe(ca(void 0),cy(),(0,gt.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,v)=>{const b=a.find(N=>N.doc.ref.isEqual(p.ref)),S=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(p.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(p.metadata)||!b&&S&&JSON.stringify(S.metadata)===JSON.stringify(p.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:p}})}),l}))}function ON(n,e,t){return CT(n,t).pipe(la((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return aR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return aR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aR(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new xA(void 0,void 0)),(0,gt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function aR(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function PN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kN{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=CT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(ca(void 0),cy(),Si(([s,a])=>a.length>0||!s),(0,gt.U)(([s,a])=>a),Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(la((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=PN(e);return ON(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return oR(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Cr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Cr.iC)}add(e){return this.ref.add(e)}doc(e){return new FN(this.ref.doc(e),this.afs)}}class FN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=UN(s,t);return new kN(a,l,this.afs)}snapshotChanges(){return function(n,e){return MN(n,e).pipe(ca(void 0),cy(),(0,gt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(Cr.iC)}}class bM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CT(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),Si(t=>t.length>0),Cr.iC):CT(this.query,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(la((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=PN(e);return ON(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return oR(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Cr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Cr.iC)}}const LN=new f.OlP("angularfire2.enableFirestorePersistence"),VN=new f.OlP("angularfire2.firestore.persistenceSettings"),CM=new f.OlP("angularfire2.firestore.settings"),IM=new f.OlP("angularfire2.firestore.use-emulator");function UN(n,e=(t=>t)){return{query:e(n),ref:n}}let BN=(()=>{class n{constructor(t,s,a,l,p,v,b,S,N,P,K,J,xe,je,Ke,Ot,nn){this.schedulers=b;const Nn=(0,As.on)(t,v,s),Vt=N;P&&NN(Nn,v,K,xe,je,Ke,J,Ot),[this.firestore,this.persistenceEnabled$]=(0,As.cc)(`${Nn.name}.firestore`,"AngularFirestore",Nn.name,()=>{const gr=v.runOutsideAngular(()=>Nn.firestore());if(l&&gr.settings(l),Vt&&gr.useEmulator(...Vt),a&&!po(p)){const Oa=()=>{try{return(0,fn.D)(gr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(ZM){return"undefined"!=typeof console&&console.warn(ZM),(0,Je.of)(!1)}};return[gr,v.runOutsideAngular(Oa)]}return[gr,(0,Je.of)(!1)]},[l,Vt,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:p}=UN(a,s),v=this.schedulers.ngZone.run(()=>l);return new kN(v,p,this)}collectionGroup(t,s){const a=s||(p=>p),l=this.firestore.collectionGroup(t);return new bM(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new FN(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(As.Dh),f.LFG(As.xv,8),f.LFG(LN,8),f.LFG(CM,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Cr.HU),f.LFG(VN,8),f.LFG(IM,8),f.LFG(sR,8),f.LFG(DN,8),f.LFG(TN,8),f.LFG(AN,8),f.LFG(SN,8),f.LFG(xN,8),f.LFG(RN,8),f.LFG(rR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DM=(()=>{class n{constructor(){IN.Z.registerVersion("angularfire",Cr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:LN,useValue:!0},{provide:VN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[BN]}),n})(),TM=(()=>{class n{constructor(t){this.afs=t,this.pacientesCollection=t.collection("pacientes"),this.encuestas=this.pacientesCollection.valueChanges()}registrarPaciente(t){return this.pacientesCollection=this.afs.collection("pacientes"),this.pacientesCollection.add(Object.assign({},t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(BN))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AM(n,e){if(1&n&&(f.TgZ(0,"option",7),f._uU(1),f.qZA()),2&n){const t=e.$implicit;f.s9C("value",t),f.xp6(1),f.hij(" ",t," ")}}function SM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"El Nombre es requerido."),f.qZA())}function xM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"El apellido es requerido."),f.qZA())}function RM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"La edad es requerida."),f.qZA())}function NM(n,e){1&n&&(f.TgZ(0,"small",23),f._uU(1,"La edad minima es 18."),f.qZA())}function MM(n,e){1&n&&(f.TgZ(0,"small",23),f._uU(1,"La edad maxima es 99."),f.qZA())}function OM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"El dni es requerido."),f.qZA())}function PM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"La obraSocial es requerida."),f.qZA())}function kM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"El email es requerido."),f.qZA())}function FM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"La clave es requerida."),f.qZA())}function LM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"La imagen1 es requerida."),f.qZA())}function VM(n,e){1&n&&(f.TgZ(0,"small",22),f._uU(1,"La imagen2 es requerida."),f.qZA())}function UM(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"form",8),f.NdJ("ngSubmit",function(){return f.CHM(t),f.oxw(2).aceptarPaciente()}),f.TgZ(2,"div",9),f._UZ(3,"input",10),f.YNc(4,SM,2,0,"small",11),f.qZA(),f.TgZ(5,"div",9),f._UZ(6,"input",12),f.YNc(7,xM,2,0,"small",11),f.qZA(),f.TgZ(8,"div",9),f._UZ(9,"input",13),f.YNc(10,RM,2,0,"small",11),f.YNc(11,NM,2,0,"small",14),f.YNc(12,MM,2,0,"small",14),f.qZA(),f.TgZ(13,"div",9),f._UZ(14,"input",15),f.YNc(15,OM,2,0,"small",11),f.qZA(),f.TgZ(16,"div",9),f._UZ(17,"input",16),f.YNc(18,PM,2,0,"small",11),f.qZA(),f.TgZ(19,"div",9),f._UZ(20,"input",17),f.YNc(21,kM,2,0,"small",11),f.qZA(),f.TgZ(22,"div",9),f._UZ(23,"input",18),f.YNc(24,FM,2,0,"small",11),f.qZA(),f.TgZ(25,"div",9),f._UZ(26,"input",19),f.YNc(27,LM,2,0,"small",11),f.qZA(),f.TgZ(28,"div",9),f._UZ(29,"input",20),f.YNc(30,VM,2,0,"small",11),f.qZA(),f.TgZ(31,"button",21),f._uU(32,"ENVIAR"),f.qZA(),f.qZA(),f.qZA()}if(2&n){const t=f.oxw(2);let s,a,l,p,v,b,S,N,P,K,J;f.xp6(1),f.Q6J("formGroup",t.formulario),f.xp6(3),f.Q6J("ngIf",(null==(s=t.formulario.get("nombre"))?null:s.hasError("required"))&&(null==(s=t.formulario.get("nombre"))?null:s.touched)),f.xp6(3),f.Q6J("ngIf",(null==(a=t.formulario.get("apellido"))?null:a.hasError("apellido"))&&(null==(a=t.formulario.get("apellido"))?null:a.touched)),f.xp6(3),f.Q6J("ngIf",(null==(l=t.formulario.get("edad"))?null:l.hasError("required"))&&(null==(l=t.formulario.get("edad"))?null:l.touched)),f.xp6(1),f.Q6J("ngIf",(null==(p=t.formulario.get("edad"))?null:p.hasError("min"))&&(null==(p=t.formulario.get("edad"))?null:p.touched)),f.xp6(1),f.Q6J("ngIf",(null==(v=t.formulario.get("edad"))?null:v.hasError("max"))&&(null==(v=t.formulario.get("edad"))?null:v.touched)),f.xp6(3),f.Q6J("ngIf",(null==(b=t.formulario.get("dni"))?null:b.hasError("dni"))&&(null==(b=t.formulario.get("dni"))?null:b.touched)),f.xp6(3),f.Q6J("ngIf",(null==(S=t.formulario.get("obraSocial"))?null:S.hasError("obraSocial"))&&(null==(S=t.formulario.get("obraSocial"))?null:S.touched)),f.xp6(3),f.Q6J("ngIf",(null==(N=t.formulario.get("email"))?null:N.hasError("email"))&&(null==(N=t.formulario.get("email"))?null:N.touched)),f.xp6(3),f.Q6J("ngIf",(null==(P=t.formulario.get("clave"))?null:P.hasError("clave"))&&(null==(P=t.formulario.get("clave"))?null:P.touched)),f.xp6(3),f.Q6J("ngIf",(null==(K=t.formulario.get("imagen1"))?null:K.hasError("imagen1"))&&(null==(K=t.formulario.get("imagen1"))?null:K.touched)),f.xp6(3),f.Q6J("ngIf",(null==(J=t.formulario.get("imagen2"))?null:J.hasError("imagen2"))&&(null==(J=t.formulario.get("imagen2"))?null:J.touched)),f.xp6(1),f.Q6J("disabled",t.formulario.invalid)}}function BM(n,e){1&n&&(f.TgZ(0,"div"),f.TgZ(1,"form"),f._UZ(2,"input",24),f._UZ(3,"input",25),f._UZ(4,"input",26),f._UZ(5,"input",27),f.TgZ(6,"label"),f._uU(7,"Elegir una opcion: "),f.qZA(),f.TgZ(8,"select",28),f.TgZ(9,"option",29),f._uU(10,"Cardiologia"),f.qZA(),f.TgZ(11,"option"),f._uU(12,"Nutricion"),f.qZA(),f.qZA(),f._UZ(13,"br"),f.TgZ(14,"button",30),f._uU(15,"Crear especialidad"),f.qZA(),f._UZ(16,"br"),f._UZ(17,"input",31),f._UZ(18,"input",32),f._UZ(19,"input",33),f._UZ(20,"input",34),f.qZA(),f.TgZ(21,"div",35),f.TgZ(22,"div",36),f.TgZ(23,"div",37),f.TgZ(24,"div",38),f.TgZ(25,"h5",39),f._uU(26,"Nueva especialidad"),f.qZA(),f._UZ(27,"button",40),f.qZA(),f.TgZ(28,"div",41),f.TgZ(29,"form"),f.TgZ(30,"div",42),f.TgZ(31,"label",43),f._uU(32,"Especialidad:"),f.qZA(),f._UZ(33,"input",44),f.qZA(),f.qZA(),f.qZA(),f.TgZ(34,"div",45),f.TgZ(35,"button",46),f._uU(36,"Cancelar"),f.qZA(),f.TgZ(37,"button",47),f._uU(38,"Guardar"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA())}function jM(n,e){if(1&n&&(f.TgZ(0,"div"),f.YNc(1,UM,33,13,"div",6),f.YNc(2,BM,39,0,"div",6),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",t.paciente&&null!=t.paciente),f.xp6(1),f.Q6J("ngIf",!t.paciente&&null!=t.paciente)}}const $M=[{path:"",component:Tb},{path:"registro",component:(()=>{class n{constructor(t,s){this.fb=t,this.pacienteSrv=s,this.tipoUsuario=["Especialista","Paciente"],this.opcionSeleccionado="0",this.verSeleccion="",this.completarForm=!0,this.paciente=null,this.formulario=t.group({nombre:["",[ei.required]],apellido:["",[ei.required]],edad:["",[ei.required,ei.min(18),ei.max(99)]],dni:["",[ei.required,ei.pattern("^[0-9]*$"),ei.maxLength(10),ei.minLength(10)]],obraSocial:["",ei.required],email:["",[ei.required,ei.email]],clave:["",ei.required],imagen1:["",ei.required],imagen2:["",ei.required]})}ngOnInit(){}capturar(){this.verSeleccion=this.opcionSeleccionado,this.paciente="Paciente"==this.verSeleccion}aceptarPaciente(){const t=this.formulario.value;this.completarForm=!1;let s={nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,email:t.email,obraSocial:t.obraSocial,clave:t.clave,imagen1:t.imagen1,imagen2:t.imagen2};this.pacienteSrv.registrarPaciente(s).then(a=>{console.log(s)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(iE),f.Y36(TM))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-registro"]],decls:13,vars:3,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[3,"ngModel","ngModelChange","change"],["selected","","value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","nombre","placeholder","Nombre",1,"fadeIn","second"],["class","form-text text-muted",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"fadeIn","second"],["type","number","formControlName","edad","placeholder","Edad",1,"fadeIn","second"],["id","edadHelp2","class","form-text text-muted",4,"ngIf"],["type","number","formControlName","dni","placeholder","DNI",1,"fadeIn","second"],["type","text","formControlName","obraSocial","placeholder","Obra social",1,"fadeIn","second"],["type","email","formControlName","email","placeholder","Email",1,"fadeIn","second"],["type","password","formControlName","clave","placeholder","Clave",1,"fadeIn","third"],["type","text","formControlName","imagen1","placeholder","Imagen",1,"fadeIn","second"],["type","text","formControlName","imagen2","placeholder","Imagen",1,"fadeIn","second"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"form-text","text-muted"],["id","edadHelp2",1,"form-text","text-muted"],["type","text","id","login","name","login","placeholder","Nombre",1,"fadeIn","second"],["type","text","id","login","name","login","placeholder","Apellido",1,"fadeIn","second"],["type","text","id","login","name","login","placeholder","Edad",1,"fadeIn","second"],["type","text","id","login","name","login","placeholder","DNI",1,"fadeIn","second"],["name","especialidad"],["selected",""],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],["type","text","id","login","name","login","placeholder","Email",1,"fadeIn","second"],["type","text","id","password","name","login","placeholder","Clave",1,"fadeIn","third"],["type","text","id","login","name","login","placeholder","Imagen",1,"fadeIn","second"],["type","submit","value","Registro",1,"fadeIn","fourth"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"]],template:function(t,s){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"h2",2),f._uU(3," Registro"),f.qZA(),f._UZ(4,"br"),f.TgZ(5,"label"),f._uU(6,"\xbfQue tipo de usuario esta por registrar?"),f.qZA(),f.TgZ(7,"select",3),f.NdJ("ngModelChange",function(l){return s.opcionSeleccionado=l})("change",function(){return s.capturar()}),f.TgZ(8,"option",4),f._uU(9,"Elegir opcion"),f.qZA(),f.YNc(10,AM,2,2,"option",5),f.qZA(),f._UZ(11,"br"),f.YNc(12,jM,3,2,"div",6),f.qZA(),f.qZA()),2&t&&(f.xp6(7),f.Q6J("ngModel",s.opcionSeleccionado),f.xp6(3),f.Q6J("ngForOf",s.tipoUsuario),f.xp6(2),f.Q6J("ngIf",null!=s.paciente))},directives:[sy,kb,Xm,vA,ay,Ii,fs,zv,Gm,Dh,Ml,iy,Zv,Ih],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:40%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})()},{path:"login",component:TA}];let HM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Nv.forRoot($M)],Nv]}),n})(),GM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar","navbar-light",2,"background-color","#e3f2fd"],[1,"nav","justify-content-end"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","registro",1,"nav-link"],["href","login",1,"nav-link"],["href","#","tabindex","-1","aria-disabled","true",1,"nav-link","disabled"]],template:function(t,s){1&t&&(f.TgZ(0,"nav",0),f.TgZ(1,"ul",1),f.TgZ(2,"li",2),f.TgZ(3,"a",3),f._uU(4,"Inicio"),f.qZA(),f.qZA(),f.TgZ(5,"li",2),f.TgZ(6,"a",4),f._uU(7,"Registro"),f.qZA(),f.qZA(),f.TgZ(8,"li",2),f.TgZ(9,"a",5),f._uU(10,"Login"),f.qZA(),f.qZA(),f.TgZ(11,"li",2),f.TgZ(12,"a",6),f._uU(13,"Disabled"),f.qZA(),f.qZA(),f.qZA(),f.qZA())},styles:[""]}),n})(),qM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-footer"]],decls:12,vars:0,consts:[["data-stellar-background-ratio","5"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-12","border-top"],[1,"col-md-4","col-sm-6"],[1,"copyright-text"],[1,"col-md-2","col-sm-2","text-align-center"],[1,"angle-up-btn"],["href","#top","data-wow-delay","1.2s",1,"smoothScroll","wow","fadeInUp"],[1,"fa","fa-angle-up"]],template:function(t,s){1&t&&(f.TgZ(0,"footer",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",4),f.TgZ(5,"div",5),f.TgZ(6,"p"),f._uU(7,"Copyright \xa9 2018 Your Company | Design: Tooplate"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(8,"div",6),f.TgZ(9,"div",7),f.TgZ(10,"a",8),f._UZ(11,"i",9),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA())},styles:[""]}),n})(),WM=(()=>{class n{constructor(){this.title="ClinicaTP"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,s){1&t&&(f._UZ(0,"app-navbar"),f._UZ(1,"router-outlet"),f._UZ(2,"app-footer"))},directives:[GM,Um,qM],styles:[""]}),n})();const jN_firebase={apiKey:"AIzaSyC22xa6jkjuAokYLpk6-yxGZqDPLCbGz7Q",authDomain:"tpclinica-282c4.firebaseapp.com",projectId:"tpclinica-282c4",storageBucket:"tpclinica-282c4.appspot.com",messagingSenderId:"280488327089",appId:"1:280488327089:web:5dd19cb67214056891af90"};let zM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[WM]}),n.\u0275inj=f.cJS({providers:[],imports:[[Pf,Wa,HM,wR,Ia,As.hO.initializeApp(jN_firebase),yM,DM]]}),n})();(0,f.G48)(),cl().bootstrapModule(zM).catch(n=>console.error(n))},4762:(Xe,Te,V)=>{"use strict";function ce(ne,oe){var fe={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&oe.indexOf(ue)<0&&(fe[ue]=ne[ue]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ue=Object.getOwnPropertySymbols(ne);Pe<ue.length;Pe++)oe.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Pe])&&(fe[ue[Pe]]=ne[ue[Pe]])}return fe}function le(ne,oe,fe,ue){return new(fe||(fe=Promise))(function(ge,rt){function Ut(Ht){try{yt(ue.next(Ht))}catch(On){rt(On)}}function Mn(Ht){try{yt(ue.throw(Ht))}catch(On){rt(On)}}function yt(Ht){Ht.done?ge(Ht.value):function(ge){return ge instanceof fe?ge:new fe(function(rt){rt(ge)})}(Ht.value).then(Ut,Mn)}yt((ue=ue.apply(ne,oe||[])).next())})}function W(ne,oe){var ue,Pe,ge,rt,fe={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return rt={next:Ut(0),throw:Ut(1),return:Ut(2)},"function"==typeof Symbol&&(rt[Symbol.iterator]=function(){return this}),rt;function Ut(yt){return function(Ht){return function(yt){if(ue)throw new TypeError("Generator is already executing.");for(;fe;)try{if(ue=1,Pe&&(ge=2&yt[0]?Pe.return:yt[0]?Pe.throw||((ge=Pe.return)&&ge.call(Pe),0):Pe.next)&&!(ge=ge.call(Pe,yt[1])).done)return ge;switch(Pe=0,ge&&(yt=[2&yt[0],ge.value]),yt[0]){case 0:case 1:ge=yt;break;case 4:return fe.label++,{value:yt[1],done:!1};case 5:fe.label++,Pe=yt[1],yt=[0];continue;case 7:yt=fe.ops.pop(),fe.trys.pop();continue;default:if(!(ge=(ge=fe.trys).length>0&&ge[ge.length-1])&&(6===yt[0]||2===yt[0])){fe=0;continue}if(3===yt[0]&&(!ge||yt[1]>ge[0]&&yt[1]<ge[3])){fe.label=yt[1];break}if(6===yt[0]&&fe.label<ge[1]){fe.label=ge[1],ge=yt;break}if(ge&&fe.label<ge[2]){fe.label=ge[2],fe.ops.push(yt);break}ge[2]&&fe.ops.pop(),fe.trys.pop();continue}yt=oe.call(ne,fe)}catch(Ht){yt=[6,Ht],Pe=0}finally{ue=ge=0}if(5&yt[0])throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}([yt,Ht])}}}function Q(ne){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ne[oe],ue=0;if(fe)return fe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ue>=ne.length&&(ne=void 0),{value:ne&&ne[ue++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(ne,oe){var fe="function"==typeof Symbol&&ne[Symbol.iterator];if(!fe)return ne;var Pe,rt,ue=fe.call(ne),ge=[];try{for(;(void 0===oe||oe-- >0)&&!(Pe=ue.next()).done;)ge.push(Pe.value)}catch(Ut){rt={error:Ut}}finally{try{Pe&&!Pe.done&&(fe=ue.return)&&fe.call(ue)}finally{if(rt)throw rt.error}}return ge}function de(ne,oe,fe){if(fe||2===arguments.length)for(var ge,ue=0,Pe=oe.length;ue<Pe;ue++)(ge||!(ue in oe))&&(ge||(ge=Array.prototype.slice.call(oe,0,ue)),ge[ue]=oe[ue]);return ne.concat(ge||Array.prototype.slice.call(oe))}V.d(Te,{_T:()=>ce,mG:()=>le,Jh:()=>W,XA:()=>Q,CR:()=>Z,ev:()=>de})},8239:(Xe,Te,V)=>{"use strict";function f(F,ce,te,ie,Ee,le,W){try{var k=F[le](W),L=k.value}catch(Q){return void te(Q)}k.done?ce(L):Promise.resolve(L).then(ie,Ee)}function ee(F){return function(){var ce=this,te=arguments;return new Promise(function(ie,Ee){var le=F.apply(ce,te);function W(L){f(le,ie,Ee,W,k,"next",L)}function k(L){f(le,ie,Ee,W,k,"throw",L)}W(void 0)})}}V.d(Te,{Z:()=>ee})}},Xe=>{Xe(Xe.s=2074)}]);