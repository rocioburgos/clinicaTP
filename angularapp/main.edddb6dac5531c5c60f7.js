(self.webpackChunkclinica_tp=self.webpackChunkclinica_tp||[]).push([[179],{8255:We=>{function be(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}be.keys=()=>[],be.resolve=be,be.id=8255,We.exports=be},7716:(We,be,F)=>{"use strict";F.d(be,{deG:()=>sf,tb:()=>wh,AFp:()=>Rp,ip1:()=>Lb,CZH:()=>_l,hGG:()=>me,z2F:()=>Vs,sBO:()=>wC,Sil:()=>Fp,_Vd:()=>jc,EJc:()=>vl,SBq:()=>Na,qLn:()=>g,vpe:()=>xa,gxx:()=>ul,tBr:()=>lu,XFs:()=>Ye,OlP:()=>mn,zs3:()=>Bn,ZZ4:()=>op,aQg:()=>Z0,soG:()=>yl,YKP:()=>CC,v3s:()=>jp,h0i:()=>dl,PXZ:()=>YD,R0b:()=>mi,FiY:()=>co,Lbi:()=>OD,g9A:()=>Ub,Qsj:()=>hC,FYo:()=>t_,JOm:()=>ps,Tiy:()=>G0,q3G:()=>Rn,tp0:()=>Cr,EAV:()=>$p,Rgc:()=>hh,dDg:()=>ZD,DyG:()=>ds,q4F:()=>n_,GfV:()=>aS,s_b:()=>r_,ifc:()=>Ue,eFA:()=>KD,G48:()=>SN,Gpc:()=>V,X6Q:()=>Vp,_c5:()=>Le,VLi:()=>Gb,c2e:()=>kp,zSh:()=>Tc,wAp:()=>at,vHH:()=>Se,EiD:()=>pc,mCW:()=>Yu,qzn:()=>cc,JVY:()=>Pg,pB0:()=>pu,eBb:()=>dc,L6k:()=>pf,LAX:()=>Bo,cg1:()=>jm,Tjo:()=>VN,kL8:()=>UE,yhl:()=>va,dqk:()=>Qt,sIi:()=>zf,CqO:()=>Ar,QGY:()=>c0,F4k:()=>mE,RDi:()=>hd,AaK:()=>Y,z3N:()=>Uo,qOj:()=>Uw,TTD:()=>lr,_Bn:()=>oC,xp6:()=>ow,uIk:()=>Qv,Tol:()=>_0,DjV:()=>kE,ekj:()=>Lm,Suo:()=>b_,Xpm:()=>Fr,lG2:()=>Ru,Yz7:()=>Jt,cJS:()=>St,oAB:()=>Qo,Yjl:()=>qs,Y36:()=>Yf,_UZ:()=>pE,BQk:()=>l0,ynx:()=>u0,qZA:()=>a0,TgZ:()=>o0,EpF:()=>gE,n5z:()=>tc,Ikx:()=>LE,SDv:()=>dh,QtT:()=>U0,pQV:()=>Km,LFG:()=>_n,$8M:()=>Cd,NdJ:()=>Nc,CRH:()=>bb,oxw:()=>Mc,ALo:()=>uD,lcZ:()=>lD,Hsn:()=>_E,F$t:()=>d0,Q6J:()=>r0,s9C:()=>ll,MGl:()=>Rm,VKq:()=>f_,WLB:()=>sD,kEZ:()=>oD,iGM:()=>Gc,MAs:()=>tE,CHM:()=>Bl,LSH:()=>Vd,kYT:()=>xu,Udp:()=>m0,YNc:()=>eE,W1O:()=>E_,_uU:()=>cr,Oqu:()=>Bm,hij:()=>kc,Gf:()=>vb});var u=F(9765),te=F(5319),L=F(7574),fe=F(6682),re=F(8819);function J(i){for(let s in i)if(i[s]===J)return s;throw Error("Could not find renamed property on target object.")}function se(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function j(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const P=J({__forward_ref__:J});function V(i){return i.__forward_ref__=V,i.toString=function(){return Y(this())},i}function $(i){return ae(i)?i():i}function ae(i){return"function"==typeof i&&i.hasOwnProperty(P)&&i.__forward_ref__===V}class Se extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function Q(i){return"string"==typeof i?i:null==i?"":String(i)}function ne(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Q(i)}function Dt(i,s){const a=s?` in ${s}`:"";throw new Se("201",`No provider for ${ne(i)} found${a}`)}function yt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function Jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function St(i){return{providers:i.providers||[],imports:i.imports||[]}}function sr(i){return Yn(i,Es)||Yn(i,Mi)}function Yn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Gs(i){return i&&(i.hasOwnProperty(ei)||i.hasOwnProperty(Cs))?i[ei]:null}const Es=J({\u0275prov:J}),ei=J({\u0275inj:J}),Mi=J({ngInjectableDef:J}),Cs=J({ngInjectorDef:J});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let In;function ni(i){const s=In;return In=i,s}function rt(i,s,a){const l=sr(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ye.Optional?null:void 0!==s?s:void Dt(Y(i),"Injector")}function Vt(i){return{toString:i}.toString()}var kt=(()=>((kt=kt||{})[kt.OnPush=0]="OnPush",kt[kt.Default=1]="Default",kt))(),Ue=(()=>((Ue=Ue||{})[Ue.Emulated=0]="Emulated",Ue[Ue.None=2]="None",Ue[Ue.ShadowDom=3]="ShadowDom",Ue))();const nt="undefined"!=typeof globalThis&&globalThis,vi="undefined"!=typeof window&&window,Xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=nt||"undefined"!=typeof global&&global||vi||Xi,z={},G=[],W=J({\u0275cmp:J}),De=J({\u0275dir:J}),oe=J({\u0275pipe:J}),Ze=J({\u0275mod:J}),dt=J({\u0275loc:J}),Lt=J({\u0275fac:J}),Xt=J({__NG_ELEMENT_ID__:J});let ln=0;function Fr(i){return Vt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||G,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ue.Emulated,id:"c",styles:i.styles||G,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,h=i.features,m=i.pipes;return l.id+=ln++,l.inputs=Pa(i.inputs,a),l.outputs=Pa(i.outputs),h&&h.forEach(y=>y(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(qn):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(ii):null,l})}function qn(i){return Kn(i)||function(i){return i[De]||null}(i)}function ii(i){return function(i){return i[oe]||null}(i)}const Oa={};function Qo(i){return Vt(()=>{const s={type:i.type,bootstrap:i.bootstrap||G,declarations:i.declarations||G,imports:i.imports||G,exports:i.exports||G,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Oa[i.id]=i.type),s})}function xu(i,s){return Vt(()=>{const a=Ri(i,!0);a.declarations=s.declarations||G,a.imports=s.imports||G,a.exports=s.exports||G})}function Pa(i,s){if(null==i)return z;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=l,s&&(s[d]=h)}return a}const Ru=Fr;function qs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Kn(i){return i[W]||null}function Ri(i,s){const a=i[Ze]||null;if(!a&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return a}function ts(i){return Array.isArray(i)&&"object"==typeof i[1]}function vr(i){return Array.isArray(i)&&!0===i[1]}function Ou(i){return 0!=(8&i.flags)}function Pu(i){return 2==(2&i.flags)}function ur(i){return 1==(1&i.flags)}function Ur(i){return null!==i.template}function Fn(i){return 0!=(512&i[2])}function Is(i,s){return i.hasOwnProperty(Lt)?i[Lt]:null}class cd{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function lr(){return Ks}function Ks(i){return i.type.prototype.ngOnChanges&&(i.setInput=Js),Eg}function Eg(){const i=Ll(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===z)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Js(i,s,a,l){const d=Ll(i)||function(i,s){return i[Pi]=s}(i,{previous:z,current:null}),h=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[a],b=m[y];h[y]=new cd(b&&b.currentValue,s,m===z),i[l]=s}lr.ngInherit=!0;const Pi="__ngSimpleChanges__";function Ll(i){return i[Pi]||null}let ja;function hd(i){ja=i}function Qs(){return void 0!==ja?ja:"undefined"!=typeof document?document:void 0}function rn(i){return!!i.listen}const Li={createRenderer:(i,s)=>Qs()};function sn(i){for(;Array.isArray(i);)i=i[0];return i}function Xs(i,s){return sn(s[i])}function br(i,s){return sn(s[i.index])}function Vu(i,s){return i.data[s]}function rs(i,s){return i[s]}function Br(i,s){const a=s[i];return ts(a)?a:a[0]}function Ga(i){return 4==(4&i[2])}function Ul(i){return 128==(128&i[2])}function As(i,s){return null==s?null:i[s]}function oa(i){i[18]=0}function to(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const st={lFrame:md(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Za(){return st.bindingsEnabled}function Ne(){return st.lFrame.lView}function At(){return st.lFrame.tView}function Bl(i){return st.lFrame.contextLView=i,i[8]}function en(){let i=jl();for(;null!==i&&64===i.type;)i=i.parent;return i}function jl(){return st.lFrame.currentTNode}function is(){const i=st.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function bi(i,s){const a=st.lFrame;a.currentTNode=i,a.isParent=s}function Bu(){return st.lFrame.isParent}function aa(){st.lFrame.isParent=!1}function ua(){return st.isInCheckNoChangesMode}function la(i){st.isInCheckNoChangesMode=i}function An(){const i=st.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function wi(){return st.lFrame.bindingIndex}function no(){return st.lFrame.bindingIndex++}function wr(i){const s=st.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ca(i){st.lFrame.inI18n=i}function $l(i,s){const a=st.lFrame;a.bindingIndex=a.bindingRootIndex=i,Hl(s)}function Hl(i){st.lFrame.currentDirectiveIndex=i}function gd(){return st.lFrame.currentQueryIndex}function Ya(i){st.lFrame.currentQueryIndex=i}function Ka(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ja(i,s,a){if(a&Ye.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||a&Ye.Host||(d=Ka(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const l=st.lFrame=So();return l.currentTNode=s,l.lView=i,!0}function Qa(i){const s=So(),a=i[1];st.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function So(){const i=st.lFrame,s=null===i?null:i.child;return null===s?md(i):s}function md(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function _d(){const i=st.lFrame;return st.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const yd=_d;function No(){const i=_d();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Er(){return st.lFrame.selectedIndex}function Xa(i){st.lFrame.selectedIndex=i}function Ln(){const i=st.lFrame;return Vu(i.tView,i.selectedIndex)}function da(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:D,ngOnDestroy:A}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function ha(i,s,a){zl(i,s,3,a)}function eu(i,s,a,l){(3&i[2])===a&&zl(i,s,a,l)}function Vn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function zl(i,s,a,l){const h=null!=l?l:-1,m=s.length-1;let y=0;for(let b=void 0!==l?65535&i[18]:0;b<m;b++)if("number"==typeof s[b+1]){if(y=s[b],null!=l&&y>=l)break}else s[b]<0&&(i[18]+=65536),(y<h||-1==h)&&(Wl(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Wl(i,s,a,l){const d=a[l]<0,h=a[l+1],y=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class ju{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function as(i,s,a){const l=rn(i);let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const m=a[d++],y=a[d++],b=a[d++];l?i.setAttribute(s,y,b,m):s.setAttributeNS(m,y,b)}else{const m=h,y=a[++d];us(m)?l&&i.setProperty(s,m,y):l?i.setAttribute(s,m,y):s.setAttribute(m,y),d++}}return d}function bd(i){return 3===i||4===i||6===i}function us(i){return 64===i.charCodeAt(0)}function Ms(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||wd(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function wd(i,s,a,l,d){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const y=i[h++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=h-1;break}}}for(;h<i.length;){const y=i[h];if("number"==typeof y)break;if(y===a){if(null===l)return void(null!==d&&(i[h+1]=d));if(l===i[h+1])return void(i[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,a),null!==l&&i.splice(h++,0,l),null!==d&&i.splice(h++,0,d)}function vn(i){return-1!==i}function xs(i){return 32767&i}function xo(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let nu=!0;function fa(i){const s=nu;return nu=i,s}let Ql=0;function Rs(i,s){const a=dn(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Ro(l.data,i),Ro(s,null),Ro(l.blueprint,null));const d=qe(i,s),h=i.injectorIndex;if(vn(d)){const m=xs(d),y=xo(d,s),b=y[1].data;for(let D=0;D<8;D++)s[h+D]=y[m+D]|b[m+D]}return s[h+8]=d,h}function Ro(i,s){i.push(0,0,0,0,0,0,0,0,s)}function dn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qe(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(l=2===m?h.declTNode:1===m?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Gt(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Xt)&&(l=a[Xt]),null==l&&(l=a[Xt]=Ql++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function gn(i,s,a){if(a&Ye.Optional)return i;Dt(s,"NodeInjector")}function ro(i,s,a,l){if(a&Ye.Optional&&void 0===l&&(l=null),0==(a&(Ye.Self|Ye.Host))){const d=i[9],h=ni(void 0);try{return d?d.get(s,l,a&Ye.Optional):rt(s,l,a&Ye.Optional)}finally{ni(h)}}return gn(l,s,a)}function ks(i,s,a,l=Ye.Default,d){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Xt)?i[Xt]:void 0;return"number"==typeof s?s>=0?255&s:iu:s}(a);if("function"==typeof h){if(!Ja(s,i,l))return l&Ye.Host?gn(d,a,l):ro(s,a,l,d);try{const m=h(l);if(null!=m||l&Ye.Optional)return m;Dt(a)}finally{yd()}}else if("number"==typeof h){let m=null,y=dn(i,s),b=-1,D=l&Ye.Host?s[16][6]:null;for((-1===y||l&Ye.SkipSelf)&&(b=-1===y?qe(i,s):s[y+8],-1!==b&&su(l,!1)?(m=s[1],y=xs(b),s=xo(b,s)):y=-1);-1!==y;){const A=s[1];if(pa(h,y,A.data)){const M=Ly(y,s,a,m,l,D);if(M!==Un)return M}b=s[y+8],-1!==b&&su(l,s[1].data[y+8]===D)&&pa(h,y,s)?(m=A,y=xs(b),s=xo(b,s)):y=-1}}}return ro(s,a,l,d)}const Un={};function iu(){return new ls(en(),Ne())}function Ly(i,s,a,l,d,h){const m=s[1],y=m.data[i+8],A=io(y,m,a,null==l?Pu(y)&&nu:l!=m&&0!=(3&y.type),d&Ye.Host&&h===y);return null!==A?Sn(s,m,A,y):Un}function io(i,s,a,l,d){const h=i.providerIndexes,m=s.data,y=1048575&h,b=i.directiveStart,A=h>>20,O=d?y+A:i.directiveEnd;for(let H=l?y:y+A;H<O;H++){const Z=m[H];if(H<b&&a===Z||H>=b&&Z.type===a)return H}if(d){const H=m[b];if(H&&Ur(H)&&H.type===a)return b}return null}function Sn(i,s,a,l){let d=i[a];const h=s.data;if(function(i){return i instanceof ju}(d)){const m=d;m.resolving&&function(i,s){throw new Se("200",`Circular dependency in DI detected for ${i}`)}(ne(h[a]));const y=fa(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?ni(m.injectImpl):null;Ja(i,l,Ye.Default);try{d=i[a]=m.factory(void 0,h,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(l){const m=Ks(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==b&&ni(b),fa(y),m.resolving=!1,yd()}}return d}function pa(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function su(i,s){return!(i&Ye.Self||i&Ye.Host&&s)}class ls{constructor(s,a){this._tNode=s,this._lView=a}get(s,a){return ks(this._tNode,this._lView,s,void 0,a)}}function tc(i){return Vt(()=>{const s=i.prototype.constructor,a=s[Lt]||ga(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const h=d[Lt]||ga(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function ga(i){return ae(i)?()=>{const s=ga($(i));return s&&s()}:Is(i)}function Cd(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const h=a[d];if(bd(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(en(),i)}const Ei="__parameters__";function cs(i,s,a){return Vt(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...h){if(this instanceof d)return l.apply(this,h),this;const m=new d(...h);return y.annotation=m,y;function y(b,D,A){const M=b.hasOwnProperty(Ei)?b[Ei]:Object.defineProperty(b,Ei,{value:[]})[Ei];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(m),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class mn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sf=new mn("AnalyzeForEntryComponents"),ds=Function;function ji(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),ji(l,s)):s!==i&&s.push(l)}return s}function hs(i,s){i.forEach(a=>Array.isArray(a)?hs(a,s):s(a))}function Oo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ui(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Os(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function Nn(i,s,a){let l=lo(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Mn(i,s){const a=lo(i,s);if(a>=0)return i[1|a]}function lo(i,s){return function(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const h=l+(d-l>>1),m=i[h<<a];if(s===m)return h<<a;m>s?d=h:l=h+1}return~(d<<a)}(i,s,1)}const Pt={},Yt="__NG_DI_FLAG__",xn="ngTempTokenPath",zn=/\n/gm,uu="__source",Ci=J({provide:String,useValue:J});let ci;function ht(i){const s=ci;return ci=i,s}function uf(i,s=Ye.Default){if(void 0===ci)throw new Error("inject() must be called from an injection context");return null===ci?rt(i,void 0,s):ci.get(i,s&Ye.Optional?null:void 0,s)}function _n(i,s=Ye.Default){return(In||uf)($(i),s)}function ya(i){const s=[];for(let a=0;a<i.length;a++){const l=$(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,h=Ye.Default;for(let m=0;m<l.length;m++){const y=l[m],b=Sg(y);"number"==typeof b?-1===b?d=y.token:h|=b:d=y}s.push(_n(d,h))}else s.push(_n(l))}return s}function rc(i,s){return i[Yt]=s,i.prototype[Yt]=s,i}function Sg(i){return i[Yt]}function $i(i,s,a,l){const d=i[xn];throw s[uu]&&d.unshift(s[uu]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Y(s);if(Array.isArray(s))d=s.map(Y).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}d=`{${h.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(zn,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[xn]=null,i}const lu=rc(cs("Inject",i=>({token:i})),-1),co=rc(cs("Optional"),8),Cr=rc(cs("SkipSelf"),4);let zu;function Lo(i){var s;return(null===(s=function(){if(void 0===zu&&(zu=null,Qt.trustedTypes))try{zu=Qt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return zu}())||void 0===s?void 0:s.createHTML(i))||i}class Vo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jy extends Vo{getTypeName(){return"HTML"}}class Og extends Vo{getTypeName(){return"Style"}}class lc extends Vo{getTypeName(){return"Script"}}class $y extends Vo{getTypeName(){return"URL"}}class Hy extends Vo{getTypeName(){return"ResourceURL"}}function Uo(i){return i instanceof Vo?i.changingThisBreaksApplicationSecurity:i}function cc(i,s){const a=va(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function va(i){return i instanceof Vo&&i.getTypeName()||null}function Pg(i){return new jy(i)}function pf(i){return new Og(i)}function dc(i){return new lc(i)}function Bo(i){return new $y(i)}function pu(i){return new Hy(i)}function gf(i){const s=new mf(i);return function(){try{return!!(new window.DOMParser).parseFromString(Lo(""),"text/html")}catch(i){return!1}}()?new Fg(s):s}class Fg{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Lo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class mf{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Lo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Lo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Lg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Od=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yu(i){return(i=String(i)).match(Lg)||i.match(Od)?i:"unsafe:"+i}function Pd(i){return(i=String(i)).split(",").map(s=>Yu(s.trim())).join(", ")}function Ps(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function gu(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const hc=Ps("area,br,col,hr,img,wbr"),Fd=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fc=Ps("rp,rt"),_f=gu(hc,gu(Fd,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gu(fc,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gu(fc,Fd)),Ku=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ho=Ps("srcset"),yf=gu(Ku,ho,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$g=Ps("script,style,template");class vf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!_f.hasOwnProperty(a))return this.sanitizedSomething=!0,!$g.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),m=h.name,y=m.toLowerCase();if(!yf.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let b=h.value;Ku[y]&&(b=Yu(b)),ho[y]&&(b=Pd(b)),this.buf.push(" ",m,'="',Hg(b),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();_f.hasOwnProperty(a)&&!hc.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Hg(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Zy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zy=/([^\#-~ |!])/g;function Hg(i){return i.replace(/&/g,"&amp;").replace(Zy,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(zy,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ba;function pc(i,s){let a=null;try{ba=ba||gf(i);let l=s?String(s):"";a=ba.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=a.innerHTML,a=ba.getInertBodyElement(l)}while(l!==h);return Lo((new vf).sanitizeChildren(Ld(a)||a))}finally{if(a){const l=Ld(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Ld(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Rn=(()=>((Rn=Rn||{})[Rn.NONE=0]="NONE",Rn[Rn.HTML=1]="HTML",Rn[Rn.STYLE=2]="STYLE",Rn[Rn.SCRIPT=3]="SCRIPT",Rn[Rn.URL=4]="URL",Rn[Rn.RESOURCE_URL=5]="RESOURCE_URL",Rn))();function Vd(i){const s=function(){const i=Ne();return i&&i[12]}();return s?s.sanitize(Rn.URL,i)||"":cc(i,"URL")?Uo(i):Yu(Q(i))}const mu="__ngContext__";function Tr(i,s){i[mu]=s}function jd(i){const s=function(i){return i[mu]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function vu(i){return i.ngOriginalError}function p(i,...s){i.error(...s)}class g{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||p;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(vu(s)):null}_findOriginalError(s){let a=s&&vu(s);for(;a&&vu(a);)a=vu(a);return a||null}}const k=/^>|^->|<!--|-->|--!>|<!-$/g,K=/(<|>)/;const If=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function Fs(i){return i instanceof Function?i():i}var ps=(()=>((ps=ps||{})[ps.Important=1]="Important",ps[ps.DashCase=2]="DashCase",ps))();let Nf;function Kg(i,s){return Nf(i,s)}function Mf(i){const s=i[3];return vr(s)?s[3]:s}function Jg(i){return Qy(i[13])}function q1(i){return Qy(i[4])}function Qy(i){for(;null!==i&&!vr(i);)i=i[4];return i}function vc(i,s,a,l,d){if(null!=l){let h,m=!1;vr(l)?h=l:ts(l)&&(m=!0,l=l[0]);const y=sn(l);0===i&&null!==a?null==d?K1(s,a,y):tl(s,a,y,d||null,!0):1===i&&null!==a?tl(s,a,y,d||null,!0):2===i?iv(s,y,m):3===i&&s.destroyNode(y),null!=h&&function(i,s,a,l,d){const h=a[7];h!==sn(a)&&vc(s,i,l,h,d);for(let y=10;y<a.length;y++){const b=a[y];wc(b[1],b,i,s,l,h)}}(s,i,h,a,d)}}function Qg(i,s){return rn(i)?i.createText(s):i.createTextNode(s)}function Z1(i,s,a){rn(i)?i.setValue(s,a):s.textContent=a}function WT(i,s){return i.createComment(function(i){return i.replace(k,s=>s.replace(K,"\u200b$1\u200b"))}(s))}function Xy(i,s,a){return rn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Xg(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,to(d,-1)),a.splice(l,1)}function em(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&Xg(d,l),s>0&&(i[a-1][4]=l[4]);const h=ui(i,10+s);!function(i,s){wc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function z1(i,s){if(!(256&s[2])){const a=s[11];rn(a)&&a.destroyNode&&wc(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return el(i[1],i);for(;s;){let a=null;if(ts(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)ts(s)&&el(s[1],s),s=s[3];null===s&&(s=i),ts(s)&&el(s[1],s),a=s&&s[4]}s=a}}(s)}}function el(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof ju)){const h=a[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=d[h[m]],b=h[m+1];try{b.call(y)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const m=a[h+1],y="function"==typeof m?m(s):sn(s[m]),b=l[d=a[h+2]],D=a[h+3];"boolean"==typeof D?y.removeEventListener(a[h],b,D):D>=0?l[d=D]():l[d=-D].unsubscribe(),h+=2}else{const m=l[d=a[h+1]];a[h].call(m)}if(null!==l){for(let h=d+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&rn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&vr(s[3])){a!==s[3]&&Xg(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function W1(i,s,a){return Y1(i,s.parent,a)}function Y1(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Ue.None||d===Ue.Emulated)return null}return br(l,a)}function tl(i,s,a,l,d){rn(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function K1(i,s,a){rn(i)?i.appendChild(s,a):s.appendChild(a)}function J1(i,s,a,l,d){null!==l?tl(i,s,a,l,d):K1(i,s,a)}function tm(i,s){return rn(i)?i.parentNode(s):s.parentNode}function rm(i,s,a){return bc(i,s,a)}function im(i,s,a){return 40&i.type?br(i,a):null}let tv,bc=im;function Q1(i,s){bc=i,tv=s}function Hd(i,s,a,l){const d=W1(i,l,s),h=s[11],y=rm(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)J1(h,d,a[b],y,!1);else J1(h,d,a,y,!1);void 0!==tv&&tv(h,l,s,a,d)}function sm(i,s){if(null!==s){const a=s.type;if(3&a)return br(s,i);if(4&a)return rv(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return sm(i,l);{const d=i[s.index];return vr(d)?rv(-1,d):sn(d)}}if(32&a)return Kg(s,i)()||sn(i[s.index]);{const l=nv(i,s);return null!==l?Array.isArray(l)?l[0]:sm(Mf(i[16]),l):sm(i,s.next)}}return null}function nv(i,s){return null!==s?i[16][6].projection[s.projection]:null}function rv(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return sm(l,d)}return s[7]}function iv(i,s,a){const l=tm(i,s);l&&function(i,s,a,l){rn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function om(i,s,a,l,d,h,m){for(;null!=a;){const y=l[a.index],b=a.type;if(m&&0===s&&(y&&Tr(sn(y),l),a.flags|=4),64!=(64&a.flags))if(8&b)om(i,s,a.child,l,d,h,!1),vc(s,i,d,y,h);else if(32&b){const D=Kg(a,l);let A;for(;A=D();)vc(s,i,d,A,h);vc(s,i,d,y,h)}else 16&b?nl(i,s,l,a,d,h):vc(s,i,d,y,h);a=m?a.projectionNext:a.next}}function wc(i,s,a,l,d,h){om(a,l,i.firstChild,s,d,h,!1)}function nl(i,s,a,l,d,h){const m=a[16],b=m[6].projection[l.projection];if(Array.isArray(b))for(let D=0;D<b.length;D++)vc(s,i,d,b[D],h);else om(i,s,b,m[3],d,h,!0)}function ew(i,s,a){rn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function sv(i,s,a){rn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function ov(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===l||i.charCodeAt(d+h)<=32)return d}a=d+1}}const tw="ng-template";function rI(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==ov(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function av(i){return 4===i.type&&i.value!==tw}function iI(i,s,a){return s===(4!==i.type||a?i.value:tw)}function sI(i,s,a){let l=4;const d=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(bd(i[s]))return s;return i.length}(d);let m=!1;for(let y=0;y<s.length;y++){const b=s[y];if("number"!=typeof b){if(!m)if(4&l){if(l=2|1&l,""!==b&&!iI(i,b,a)||""===b&&1===s.length){if($o(l))return!1;m=!0}}else{const D=8&l?b:s[++y];if(8&l&&null!==i.attrs){if(!rI(i.attrs,D,a)){if($o(l))return!1;m=!0}continue}const M=uv(8&l?"class":b,d,av(i),a);if(-1===M){if($o(l))return!1;m=!0;continue}if(""!==D){let O;O=M>h?"":d[M+1].toLowerCase();const H=8&l?O:null;if(H&&-1!==ov(H,D,0)||2&l&&D!==O){if($o(l))return!1;m=!0}}}}else{if(!m&&!$o(l)&&!$o(b))return!1;if(m&&$o(b))continue;m=!1,l=b|1&l}}return $o(l)||m}function $o(i){return 0==(1&i)}function uv(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let h=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function nw(i,s,a=!1){for(let l=0;l<s.length;l++)if(sI(i,s[l],a))return!0;return!1}function Xx(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function iw(i,s){return i?":not("+s.trim()+")":s}function eR(i){let s=i[0],a=1,l=2,d="",h=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&l){const y=i[++a];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!$o(m)&&(s+=iw(h,d),d=""),l=m,h=h||!$o(l);a++}return""!==d&&(s+=iw(h,d)),s}const Tt={};function ow(i){aw(At(),Ne(),Er()+i,ua())}function aw(i,s,a,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&ha(s,h,a)}else{const h=i.preOrderHooks;null!==h&&eu(s,h,0,a)}Xa(a)}function Gd(i,s){return i<<17|s<<2}function go(i){return i>>17&32767}function am(i){return 2|i}function wu(i){return(131068&i)>>2}function cv(i,s){return-131069&i|s<<2}function um(i){return 1|i}function gv(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],h=a[l+1];if(-1!==h){const m=i.data[h];Ya(d),m.contentQueries(2,s[h],h)}}}function Pf(i,s,a,l,d,h,m,y,b,D){const A=s.blueprint.slice();return A[0]=d,A[2]=140|l,oa(A),A[3]=A[15]=i,A[8]=a,A[10]=m||i&&i[10],A[11]=y||i&&i[11],A[12]=b||i&&i[12]||null,A[9]=D||i&&i[9]||null,A[6]=h,A[16]=2==s.type?i[16]:A,A}function Ut(i,s,a,l,d){let h=i.data[s];if(null===h)h=hm(i,s,a,l,d),st.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=l,h.attrs=d;const m=is();h.injectorIndex=null===m?-1:m.injectorIndex}return bi(h,!0),h}function hm(i,s,a,l,d){const h=jl(),m=Bu(),b=i.data[s]=function(i,s,a,l,d,h){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=b),null!==h&&(m?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}function Cc(i,s,a,l){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function qd(i,s,a){Qa(s);try{const l=i.viewQuery;null!==l&&Bf(1,l,a);const d=i.template;null!==d&&mv(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&gv(i,s),i.staticViewQueries&&Bf(2,i.viewQuery,a);const h=i.components;null!==h&&function(i,s){for(let a=0;a<s.length;a++)kv(i,s[a])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,No()}}function Dc(i,s,a,l){const d=s[2];if(256==(256&d))return;Qa(s);const h=ua();try{oa(s),function(i){st.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&mv(i,s,a,2,l);const m=3==(3&d);if(!h)if(m){const D=i.preOrderCheckHooks;null!==D&&ha(s,D,null)}else{const D=i.preOrderHooks;null!==D&&eu(s,D,0,null),Vn(s,0)}if(function(i){for(let s=Jg(i);null!==s;s=q1(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],h=d[3];0==(1024&d[2])&&to(h,1),d[2]|=1024}}}(s),function(i){for(let s=Jg(i);null!==s;s=q1(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];Ul(l)&&Dc(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&gv(i,s),!h)if(m){const D=i.contentCheckHooks;null!==D&&ha(s,D)}else{const D=i.contentHooks;null!==D&&eu(s,D,1),Vn(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Xa(~d);else{const h=d,m=a[++l],y=a[++l];$l(m,h),y(2,s[h])}}}finally{Xa(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)mm(i,s[a])}(s,y);const b=i.viewQuery;if(null!==b&&Bf(2,b,l),!h)if(m){const D=i.viewCheckHooks;null!==D&&ha(s,D)}else{const D=i.viewHooks;null!==D&&eu(s,D,2),Vn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,to(s[3],-1))}finally{No()}}function fw(i,s,a,l){const d=s[10],h=!ua(),m=Ga(s);try{h&&!m&&d.begin&&d.begin(),m&&qd(i,s,l),Dc(i,s,a,l)}finally{h&&!m&&d.end&&d.end()}}function mv(i,s,a,l,d){const h=Er(),m=2&l;try{Xa(-1),m&&s.length>20&&aw(i,s,20,ua()),a(l,d)}finally{Xa(h)}}function _v(i,s,a){if(Ou(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,a[h],h)}}}function fm(i,s,a){!Za()||(function(i,s,a,l){const d=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||Rs(a,s),Tr(l,s);const m=a.initialInputs;for(let y=d;y<h;y++){const b=i.data[y],D=Ur(b);D&&gR(s,a,b);const A=Sn(s,i,y,a);Tr(A,s),null!==m&&mR(0,y-d,A,b,0,m),D&&(Br(a.index,s)[8]=A)}}(i,s,a,br(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,d=a.directiveEnd,m=a.index,y=st.lFrame.currentDirectiveIndex;try{Xa(m);for(let b=l;b<d;b++){const D=i.data[b],A=s[b];Hl(b),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&pm(D,A)}}finally{Xa(-1),Hl(y)}}(i,s,a))}function Ea(i,s,a=br){const l=s.localNames;if(null!==l){let d=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],y=-1===m?a(s,i):i[m];i[d++]=y}}}function yv(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ff(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ff(i,s,a,l,d,h,m,y,b,D){const A=20+l,M=A+d,O=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Tt);return a}(A,M),H="function"==typeof D?D():D;return O[1]={type:i,blueprint:O,template:a,queries:null,viewQuery:y,declTNode:s,data:O.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:H,incompleteFirstPass:!1}}function wv(i,s,a,l){const d=bm(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&jf(i).push(l,d.length-1))}function Cv(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function gs(i,s,a,l,d,h,m,y){const b=br(s,a);let A,D=s.inputs;!y&&null!=D&&(A=D[l])?($f(i,a,A,l,d),Pu(s)&&function(i,s){const a=Br(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,rn(h)?h.setProperty(b,l,d):us(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function Ca(i,s,a,l){let d=!1;if(Za()){const h=function(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];nw(a,m.selectors,!1)&&(d||(d=[]),Gt(Rs(a,s),i,m.type),Ur(m)?(Lf(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===l?null:{"":-1};if(null!==h){d=!0,_w(a,i.data.length,h.length);for(let A=0;A<h.length;A++){const M=h[A];M.providersResolver&&M.providersResolver(M)}let y=!1,b=!1,D=Cc(i,s,h.length,null);for(let A=0;A<h.length;A++){const M=h[A];a.mergedAttrs=Ms(a.mergedAttrs,M.hostAttrs),vI(i,a,s,D,M),xv(D,M,m),null!==M.contentQueries&&(a.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=128);const O=M.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!b&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),D++}!function(i,s){const l=s.directiveEnd,d=i.data,h=s.attrs,m=[];let y=null,b=null;for(let D=s.directiveStart;D<l;D++){const A=d[D],M=A.inputs,O=null===h||av(s)?null:_R(M,h);m.push(O),y=Cv(M,D,y),b=Cv(A.outputs,D,b)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=b}(i,a)}m&&function(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new Se("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],h)}}}(a,l,m)}return a.mergedAttrs=Ms(a.mergedAttrs,a.attrs),d}function Sv(i,s,a,l,d,h){const m=h.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=b&&y.push(b),y.push(l,d,m)}}function pm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Lf(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function xv(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ur(s)&&(a[""]=i)}}function _w(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function vI(i,s,a,l,d){i.data[l]=d;const h=d.factory||(d.factory=Is(d.type)),m=new ju(h,Ur(d),null);i.blueprint[l]=m,a[l]=m,Sv(i,s,0,l,Cc(i,a,d.hostVars,Tt),d)}function gR(i,s,a){const l=br(s,i),d=yv(a),h=i[10],m=ym(i,Pf(i,d,null,a.onPush?64:16,l,s,h,h.createRenderer(l,a),null,null));i[s.index]=m}function yw(i,s,a,l,d,h,m){if(null==h)rn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==m?Q(h):m(h,l||"",d);rn(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}function mR(i,s,a,l,d,h){const m=h[s];if(null!==m){const y=l.setInput;for(let b=0;b<m.length;){const D=m[b++],A=m[b++],M=m[b++];null!==y?l.setInput(a,M,D,A):a[A]=M}}}function _R(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Vf(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function mm(i,s){const a=Br(s,i);if(Ul(a)){const l=a[1];80&a[2]?Dc(l,a,l.template,a[8]):a[5]>0&&Rv(a)}}function Rv(i){for(let l=Jg(i);null!==l;l=q1(l))for(let d=10;d<l.length;d++){const h=l[d];if(1024&h[2]){const m=h[1];Dc(m,h,m.template,h[8])}else h[5]>0&&Rv(h)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Br(a[l],i);Ul(d)&&d[5]>0&&Rv(d)}}function kv(i,s){const a=Br(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),qd(l,a,a[8])}function ym(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Ov(i){for(;i;){i[2]|=64;const s=Mf(i);if(Fn(i)&&!s)return i;i=s}return null}function vm(i,s,a){const l=s[10];l.begin&&l.begin();try{Dc(i,s,i.template,a)}catch(d){throw Zd(s,d),d}finally{l.end&&l.end()}}function bw(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=jd(a),d=l[1];fw(d,l,d.template,a)}}(i[8])}function Bf(i,s,a){Ya(0),s(i,a)}const ww=(()=>Promise.resolve(null))();function bm(i){return i[7]||(i[7]=[])}function jf(i){return i.cleanup||(i.cleanup=[])}function Zd(i,s){const a=i[9],l=a?a.get(g,null):null;l&&l.handleError(s)}function $f(i,s,a,l,d){for(let h=0;h<a.length;){const m=a[h++],y=a[h++],b=s[m],D=i.data[m];null!==D.setInput?D.setInput(b,d,l,y):b[y]=d}}function al(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:1==h?d=j(d,y):2==h&&(l=j(l,y+": "+s[++m]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const ul=new mn("INJECTOR",-1);class Lv{get(s,a=Pt){if(a===Pt){const l=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw l.name="NullInjectorError",l}return a}}const Tc=new mn("Set Injector scope."),Ic={},zd={};let Ac;function wm(){return void 0===Ac&&(Ac=new Lv),Ac}function TI(i,s=null,a=null,l){return new Hf(i,a,s||wm(),l)}class Hf{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&hs(a,y=>this.processProvider(y,s,a)),hs([s],y=>this.processInjectorType(y,[],h)),this.records.set(ul,qf(void 0,this));const m=this.records.get(Tc);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:Y(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Pt,l=Ye.Default){this.assertNotDestroyed();const d=ht(this),h=ni(void 0);try{if(!(l&Ye.SkipSelf)){let y=this.records.get(s);if(void 0===y){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof mn)&&sr(s);y=b&&this.injectableDefInScope(b)?qf(Gf(s),Ic):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&Ye.Self?wm():this.parent).get(s,a=l&Ye.Optional&&a===Pt?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[xn]=m[xn]||[]).unshift(Y(s)),d)throw m;return $i(m,s,"R3InjectorError",this.source)}throw m}finally{ni(h),ht(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(Y(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=$(s)))return!1;let d=Gs(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,y=-1!==l.indexOf(m);if(void 0!==h&&(d=Gs(h)),null==d)return!1;if(null!=d.imports&&!y){let A;l.push(m);try{hs(d.imports,M=>{this.processInjectorType(M,a,l)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:O,providers:H}=A[M];hs(H,Z=>this.processProvider(Z,O,H||G))}}this.injectorDefTypes.add(m);const b=Is(m)||(()=>new m);this.records.set(m,qf(b,Ic));const D=d.providers;if(null!=D&&!y){const A=s;hs(D,M=>this.processProvider(M,A,D))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,l){let d=Wd(s=$(s))?s:$(s&&s.provide);const h=AI(i=s)?qf(void 0,i.useValue):qf(II(i),Ic);var i;if(Wd(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=qf(void 0,Ic,!0),m.factory=()=>ya(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,a){return a.value===Ic&&(a.value=zd,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=$(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Gf(i){const s=sr(i),a=null!==s?s.factory:Is(i);if(null!==a)return a;if(i instanceof mn)throw new Error(`Token ${Y(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Os(s,"?");throw new Error(`Can't resolve all parameters for ${Y(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[Es]||i[Mi]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function II(i,s,a){let l;if(Wd(i)){const d=$(i);return Is(d)||Gf(d)}if(AI(i))l=()=>$(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ya(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>_n($(i.useExisting));else{const d=$(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Is(d)||Gf(d);l=()=>new d(...ya(i.deps))}return l}function qf(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function AI(i){return null!==i&&"object"==typeof i&&Ci in i}function Wd(i){return"function"==typeof i}const Tw=function(i,s,a){return function(i,s=null,a=null,l){const d=TI(i,s,a,l);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let Bn=(()=>{class i{static create(a,l){return Array.isArray(a)?Tw(a,l,""):Tw(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Pt,i.NULL=new Lv,i.\u0275prov=Jt({token:i,providedIn:"any",factory:()=>_n(ul)}),i.__NG_ELEMENT_ID__=-1,i})();function Vw(i,s){da(jd(i)[1],en())}function Uw(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(Ur(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){l.push(d);const m=i;m.inputs=Bw(i.inputs),m.declaredInputs=Bw(i.declaredInputs),m.outputs=Bw(i.outputs);const y=d.hostBindings;y&&Hw(i,y);const b=d.viewQuery,D=d.contentQueries;if(b&&jw(i,b),D&&$w(i,D),se(i.inputs,d.inputs),se(i.declaredInputs,d.declaredInputs),se(i.outputs,d.outputs),Ur(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(i),y===Uw&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Ms(d.hostAttrs,a=Ms(a,d.hostAttrs))}}(l)}function Bw(i){return i===z?{}:i===G?[]:i}function jw(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function $w(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,h)=>{s(l,d,h),a(l,d,h)}:s}function Hw(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let Sm=null;function Jd(){if(!Sm){const i=Qt.Symbol;if(i&&i.iterator)Sm=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Sm=l)}}}return Sm}class Ho{constructor(s){this.wrapped=s}static wrap(s){return new Ho(s)}static unwrap(s){return Ho.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Ho}}function zf(i){return!!Jv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Jd()in i)}function Jv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function zi(i,s,a){return i[s]=a}function Ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Sc(i,s,a,l){const d=Ti(i,s,a);return Ti(i,s+1,l)||d}function Qv(i,s,a,l){const d=Ne();return Ti(d,no(),s)&&(At(),function(i,s,a,l,d,h){const m=br(i,s);yw(s[11],m,h,i.value,a,l,d)}(Ln(),d,i,s,a,l)),Qv}function Xd(i,s,a,l){return Ti(i,no(),a)?s+Q(a)+l:Tt}function nh(i,s,a,l,d,h,m,y,b,D){const M=function(i,s,a,l,d,h){const m=Sc(i,s,a,l);return Sc(i,s+2,d,h)||m}(i,wi(),a,d,m,b);return wr(4),M?s+Q(a)+l+Q(d)+h+Q(m)+y+Q(b)+D:Tt}function eE(i,s,a,l,d,h,m,y){const b=Ne(),D=At(),A=i+20,M=D.firstCreatePass?function(i,s,a,l,d,h,m,y,b){const D=s.consts,A=Ut(s,i,4,m||null,As(D,y));Ca(s,a,A,As(D,b)),da(s,A);const M=A.tViews=Ff(2,A,l,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,A),M.queries=s.queries.embeddedTView(A)),A}(A,D,b,s,a,l,d,h,m):D.data[A];bi(M,!1);const O=b[11].createComment("");Hd(D,b,O,M),Tr(O,b),ym(b,b[A]=Vf(O,b,O,M)),ur(M)&&fm(D,b,M),null!=m&&Ea(b,M,y)}function tE(i){return rs(st.lFrame.contextLView,20+i)}function Yf(i,s=Ye.Default){const a=Ne();return null===a?_n(i,s):ks(en(),a,$(i),s)}function r0(i,s,a){const l=Ne();return Ti(l,no(),s)&&gs(At(),Ln(),l,i,s,l[11],a,!1),r0}function s0(i,s,a,l,d){const m=d?"class":"style";$f(i,a,s.inputs[m],m,l)}function o0(i,s,a,l){const d=Ne(),h=At(),m=20+i,y=d[11],b=d[m]=Xy(y,s,st.lFrame.currentNamespace),D=h.firstCreatePass?function(i,s,a,l,d,h,m){const y=s.consts,D=Ut(s,i,2,d,As(y,h));return Ca(s,a,D,As(y,m)),null!==D.attrs&&al(D,D.attrs,!1),null!==D.mergedAttrs&&al(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(m,h,d,0,s,a,l):h.data[m];bi(D,!0);const A=D.mergedAttrs;null!==A&&as(y,b,A);const M=D.classes;null!==M&&sv(y,b,M);const O=D.styles;null!==O&&ew(y,b,O),64!=(64&D.flags)&&Hd(h,d,b,D),0===st.lFrame.elementDepthCount&&Tr(b,d),st.lFrame.elementDepthCount++,ur(D)&&(fm(h,d,D),_v(h,D,d)),null!==l&&Ea(d,D)}function a0(){let i=en();Bu()?aa():(i=i.parent,bi(i,!1));const s=i;st.lFrame.elementDepthCount--;const a=At();a.firstCreatePass&&(da(a,i),Ou(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&s0(a,s,Ne(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&s0(a,s,Ne(),s.stylesWithoutHost,!1)}function pE(i,s,a,l){o0(i,s,a,l),a0()}function u0(i,s,a){const l=Ne(),d=At(),h=i+20,m=d.firstCreatePass?function(i,s,a,l,d){const h=s.consts,m=As(h,l),y=Ut(s,i,8,"ng-container",m);return null!==m&&al(y,m,!0),Ca(s,a,y,As(h,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(h,d,l,s,a):d.data[h];bi(m,!0);const y=l[h]=l[11].createComment("");Hd(d,l,y,m),Tr(y,l),ur(m)&&(fm(d,l,m),_v(d,m,l)),null!=a&&Ea(l,m)}function l0(){let i=en();const s=At();Bu()?aa():(i=i.parent,bi(i,!1)),s.firstCreatePass&&(da(s,i),Ou(i)&&s.queries.elementEnd(i))}function gE(){return Ne()}function c0(i){return!!i&&"function"==typeof i.then}function mE(i){return!!i&&"function"==typeof i.subscribe}const Ar=mE;function Nc(i,s,a,l){const d=Ne(),h=At(),m=en();return function(i,s,a,l,d,h,m,y){const b=ur(l),A=i.firstCreatePass&&jf(i),M=s[8],O=bm(s);let H=!0;if(3&l.type||y){const X=br(l,s),Te=y?y(X):X,we=O.length,Xe=y?Qe=>y(sn(Qe[l.index])):l.index;if(rn(a)){let Qe=null;if(!y&&b&&(Qe=function(i,s,a,l){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===a&&d[h+1]===l){const y=s[7],b=d[h+2];return y.length>b?y[b]:null}"string"==typeof m&&(h+=2)}return null}(i,s,d,l.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=h,Qe.__ngLastListenerFn__=h,H=!1;else{h=Ta(l,s,M,h,!1);const jt=a.listen(Te,d,h);O.push(h,jt),A&&A.push(d,Xe,we,we+1)}}else h=Ta(l,s,M,h,!0),Te.addEventListener(d,h,m),O.push(h),A&&A.push(d,Xe,we,m)}else h=Ta(l,s,M,h,!1);const Z=l.outputs;let de;if(H&&null!==Z&&(de=Z[d])){const X=de.length;if(X)for(let Te=0;Te<X;Te+=2){const rr=s[de[Te]][de[Te+1]].subscribe(h),wo=O.length;O.push(h,rr),A&&A.push(d,l.index,wo,-(wo+1))}}}(h,d,d[11],m,i,s,!!a,l),Nc}function On(i,s,a,l){try{return!1!==a(l)}catch(d){return Zd(i,d),!1}}function Ta(i,s,a,l,d){return function h(m){if(m===Function)return l;const y=2&i.flags?Br(i.index,s):s;0==(32&s[2])&&Ov(y);let b=On(s,0,l,m),D=h.__ngNextListenerFn__;for(;D;)b=On(s,0,D,m)&&b,D=D.__ngNextListenerFn__;return d&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function Mc(i=1){return function(i){return(st.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,st.lFrame.contextLView))[8]}(i)}function fA(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===l?nw(i,h,!0):Xx(l,h))return d}else a=d}return a}function d0(i){const s=Ne()[16][6];if(!s.projection){const l=s.projection=Os(i?i.length:1,null),d=l.slice();let h=s.child;for(;null!==h;){const m=i?fA(h,i):0;null!==m&&(d[m]?d[m].projectionNext=h:l[m]=h,d[m]=h),h=h.next}}}function _E(i,s=0,a){const l=Ne(),d=At(),h=Ut(d,20+i,16,null,a||null);null===h.projection&&(h.projection=s),aa(),64!=(64&h.flags)&&function(i,s,a){nl(s[11],0,s,a,W1(i,a,s),rm(a.parent||s[6],a,s))}(d,l,h)}function ll(i,s,a){return Rm(i,"",s,"",a),ll}function Rm(i,s,a,l,d){const h=Ne(),m=Xd(h,s,a,l);return m!==Tt&&gs(At(),Ln(),h,i,m,h[11],d,!1),Rm}function EE(i,s,a,l,d){const h=i[a+1],m=null===s;let y=l?go(h):wu(h),b=!1;for(;0!==y&&(!1===b||m);){const A=i[y+1];p0(i[y],s)&&(b=!0,i[y+1]=l?um(A):am(A)),y=l?go(A):wu(A)}b&&(i[a+1]=l?am(h):um(h))}function p0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&lo(i,s)>=0}const Mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Om(i){return i.substring(Mr.key,Mr.keyEnd)}function Pm(i,s){const a=Mr.textEnd;return a===s?-1:(s=Mr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Mr.key=s,a),xc(i,s,a))}function xc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function m0(i,s,a){return Hr(i,s,a,!1),m0}function Lm(i,s){return Hr(i,s,null,!0),Lm}function _0(i){_o(Nn,Aa,i,!0)}function Aa(i,s){for(let a=function(i){return function(i){Mr.key=0,Mr.keyEnd=0,Mr.value=0,Mr.valueEnd=0,Mr.textEnd=i.length}(i),Pm(i,xc(i,0,Mr.textEnd))}(s);a>=0;a=Pm(s,a))Nn(i,Om(s),!0)}function Hr(i,s,a,l){const d=Ne(),h=At(),m=wr(2);h.firstUpdatePass&&uh(h,i,m,l),s!==Tt&&Ti(d,m,s)&&EA(h,h.data[Er()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(Uo(i)))),i}(s,a),l,m)}function _o(i,s,a,l){const d=At(),h=wr(2);d.firstUpdatePass&&uh(d,null,h,l);const m=Ne();if(a!==Tt&&Ti(m,h,a)){const y=d.data[Er()];if(b0(y,l)&&!bA(d,h)){let b=l?y.classesWithoutHost:y.stylesWithoutHost;null!==b&&(a=j(b,a||"")),s0(d,y,m,a,l)}else!function(i,s,a,l,d,h,m,y){d===Tt&&(d=G);let b=0,D=0,A=0<d.length?d[0]:null,M=0<h.length?h[0]:null;for(;null!==A||null!==M;){const O=b<d.length?d[b+1]:void 0,H=D<h.length?h[D+1]:void 0;let de,Z=null;A===M?(b+=2,D+=2,O!==H&&(Z=M,de=H)):null===M||null!==A&&A<M?(b+=2,Z=A):(D+=2,Z=M,de=H),null!==Z&&EA(i,s,a,l,Z,de,m,y),A=b<d.length?d[b]:null,M=D<h.length?h[D]:null}}(d,y,m,m[11],m[h+1],m[h+1]=function(i,s,a){if(null==a||""===a)return G;const l=[],d=Uo(a);if(Array.isArray(d))for(let h=0;h<d.length;h++)i(l,d[h],!0);else if("object"==typeof d)for(const h in d)d.hasOwnProperty(h)&&i(l,h,d[h]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,h)}}function bA(i,s){return s>=i.expandoStartIndex}function uh(i,s,a,l){const d=i.data;if(null===d[a+1]){const h=d[Er()],m=bA(i,a);b0(h,l)&&null===s&&!m&&(s=!1),s=function(i,s,a,l){const d=function(i){const s=st.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Jf(a=y0(null,i,s,a,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=y0(d,i,s,a,l),null===h){let b=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==wu(l))return i[go(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=y0(null,i,s,b[1],l),b=Jf(b,s.attrs,l),function(i,s,a,l){i[go(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else h=function(i,s,a){let l;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)l=Jf(l,i[h].hostAttrs,a);return Jf(l,s.attrs,a)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,l),function(i,s,a,l,d,h){let m=h?s.classBindings:s.styleBindings,y=go(m),b=wu(m);i[l]=a;let A,D=!1;if(Array.isArray(a)){const M=a;A=M[1],(null===A||lo(M,A)>0)&&(D=!0)}else A=a;if(d)if(0!==b){const O=go(i[y+1]);i[l+1]=Gd(O,y),0!==O&&(i[O+1]=cv(i[O+1],l)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],l)}else i[l+1]=Gd(y,0),0!==y&&(i[y+1]=cv(i[y+1],l)),y=l;else i[l+1]=Gd(b,0),0===y?y=l:i[b+1]=cv(i[b+1],l),b=l;D&&(i[l+1]=am(i[l+1])),EE(i,A,l,!0),EE(i,A,l,!1),function(i,s,a,l,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&lo(h,s)>=0&&(a[l+1]=um(a[l+1]))}(s,A,i,l,h),m=Gd(y,b),h?s.classBindings=m:s.styleBindings=m}(d,h,s,a,m,l)}}function y0(i,s,a,l,d){let h=null;const m=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<m&&(h=s[y],l=Jf(l,h.hostAttrs,d),h!==i);)y++;return null!==i&&(a.directiveStylingLast=y),l}function Jf(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Nn(i,m,!!a||s[++h]))}return void 0===i?null:i}function EA(i,s,a,l,d,h,m,y){if(!(3&s.type))return;const b=i.data,D=b[y+1];Um(function(i){return 1==(1&i)}(D)?v0(b,s,a,d,wu(D),m):void 0)||(Um(h)||function(i){return 2==(2&i)}(D)&&(h=v0(b,null,a,d,y,m)),function(i,s,a,l,d){const h=rn(i);if(s)d?h?i.addClass(a,l):a.classList.add(l):h?i.removeClass(a,l):a.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:ps.DashCase;if(null==d)h?i.removeStyle(a,l,m):a.style.removeProperty(l);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=ps.Important),h?i.setStyle(a,l,d,m):a.style.setProperty(l,d,y?"important":"")}}}(l,m,Xs(Er(),a),d,h))}function v0(i,s,a,l,d,h){const m=null===s;let y;for(;d>0;){const b=i[d],D=Array.isArray(b),A=D?b[1]:b,M=null===A;let O=a[d+1];O===Tt&&(O=M?G:void 0);let H=M?Mn(O,l):A===l?O:void 0;if(D&&!Um(H)&&(H=Mn(b,l)),Um(H)&&(y=H,m))return y;const Z=i[d+1];d=m?go(Z):wu(Z)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(y=Mn(b,l))}return y}function Um(i){return void 0!==i}function b0(i,s){return 0!=(i.flags&(s?16:32))}function cr(i,s=""){const a=Ne(),l=At(),d=i+20,h=l.firstCreatePass?Ut(l,d,1,s,null):l.data[d],m=a[d]=Qg(a[11],s);Hd(l,a,m,h),bi(h,!1)}function Bm(i){return kc("",i,""),Bm}function kc(i,s,a){const l=Ne(),d=Xd(l,i,s,a);return d!==Tt&&function(i,s,a){const l=Xs(s,i);Z1(i[11],l,a)}(l,Er(),d),kc}function kE(i,s,a,l,d,h,m,y,b){_o(Nn,Aa,nh(Ne(),i,s,a,l,d,h,m,y,b),!0)}function LE(i,s,a){const l=Ne();return Ti(l,no(),s)&&gs(At(),Ln(),l,i,s,l[11],a,!0),LE}const Fc=void 0;var tp=["en",[["a","p"],["AM","PM"],Fc],[["AM","PM"],Fc,Fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fc,"{1} 'at' {0}",Fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Lc={};function jm(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=S0(s);if(a)return a;const l=s.split("-")[0];if(a=S0(l),a)return a;if("en"===l)return tp;throw new Error(`Missing locale data for the locale "${i}".`)}function UE(i){return jm(i)[at.PluralCase]}function S0(i){return i in Lc||(Lc[i]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[i]),Lc[i]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const LA=["zero","one","two","few","many"],N0="en-US",Hm={marker:"element"},M0={marker:"ICU"};var er=(()=>((er=er||{})[er.SHIFT=2]="SHIFT",er[er.APPEND_EAGERLY=1]="APPEND_EAGERLY",er[er.COMMENT=2]="COMMENT",er))();let UA=N0;function $E(i){(function(i,s){null==i&&yt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(UA=i.toLowerCase().replace(/_/g,"-"))}function BA(i,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?im(i,0,a):sn(a[d])}function jA(i,s,a,l,d){const h=s.insertBeforeIndex;if(Array.isArray(h)){let m=l,y=null;if(3&s.type||(y=m,m=d),null!==m&&0==(2&s.flags))for(let b=1;b<h.length;b++)tl(i,m,a[h[b]],y,!1)}}function $A(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];HA(l)||JR(l,s)&&null===QR(l)&&XR(l,s.index)}}function HA(i){return!(64&i.type)}function JR(i,s){return HA(s)||i.index>s.index}function QR(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function XR(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Q1(BA,jA),i.insertBeforeIndex=s)}function np(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function nk(i,s,a){const l=hm(i,a,64,null,null);return $A(s,l),l}function x0(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function GA(i){return i>>>17}function qA(i){return(131070&i)>>>1}let Wi=0,fn=0;function GE(i,s,a,l){const d=a[11];let m,h=null;for(let y=0;y<s.length;y++){const b=s[y];if("string"==typeof b){const D=s[++y];null===a[D]&&(a[D]=Qg(d,b))}else if("number"==typeof b)switch(1&b){case 0:const D=GA(b);let A,M;if(null===h&&(h=D,m=tm(d,l)),D===h?(A=l,M=m):(A=null,M=sn(a[D])),null!==M){const de=qA(b);tl(d,M,a[de],A,!1);const Te=np(i,de);if(null!==Te&&"object"==typeof Te){const we=x0(Te,a);null!==we&&GE(i,Te.create[we],a,a[Te.anchorIdx])}}break;case 1:const H=s[++y],Z=s[++y];yw(d,Xs(b>>>1,a),null,null,H,Z,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${b}"`)}else switch(b){case M0:const D=s[++y],A=s[++y];null===a[A]&&Tr(a[A]=WT(d,D),a);break;case Hm:const M=s[++y],O=s[++y];null===a[O]&&Tr(a[O]=Xy(d,M,null),a)}}}function qE(i,s,a,l,d){for(let h=0;h<a.length;h++){const m=a[h],y=a[++h];if(m&d){let b="";for(let D=h+1;D<=h+y;D++){const A=a[D];if("string"==typeof A)b+=A;else if("number"==typeof A)if(A<0)b+=Q(s[l-A]);else{const M=A>>>2;switch(3&A){case 1:const O=a[++D],H=a[++D],Z=i.data[M];"string"==typeof Z?yw(s[11],s[M],null,Z,O,b,H):gs(i,Z,s,O,b,s[11],H,!1);break;case 0:const de=s[M];null!==de&&Z1(s[11],de,b);break;case 2:ik(i,np(i,M),s,b);break;case 3:Gm(i,np(i,M),l,s)}}}}else{const b=a[h+1];if(b>0&&3==(3&b)){const A=np(i,b>>>2);s[A.currentCaseLViewIndex]<0&&Gm(i,A,l,s)}}h+=y}}function Gm(i,s,a,l){let d=l[s.currentCaseLViewIndex];if(null!==d){let h=Wi;d<0&&(d=l[s.currentCaseLViewIndex]=~d,h=-1),qE(i,l,s.update[d],a,h)}}function ik(i,s,a,l){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function(i,s){const a=UE(s)(parseInt(i,10)),l=LA[a];return void 0!==l?l:"other"}(s,UA);a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(x0(s,a)!==d&&(ch(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const m=a[s.anchorIdx];m&&GE(i,s.create[d],a,m)}}function ch(i,s,a){let l=x0(s,a);if(null!==l){const d=s.remove[l];for(let h=0;h<d.length;h++){const m=d[h];if(m>0){const y=Xs(m,a);null!==y&&iv(a[11],y)}else ch(i,np(i,~m),a)}}}function ZE(){const i=[];let a,l,s=-1;function h(y,b){s=0;const D=x0(y,b);l=null!==D?y.remove[D]:G}function m(){if(s<l.length){const y=l[s++];return y>0?a[y]:(i.push(s,l),h(a[1].data[~y],a),m())}return 0===i.length?null:(l=i.pop(),s=i.pop(),m())}return function(y,b){for(a=b;i.length;)i.pop();return h(y.value,b),m}}const Sa=/\ufffd(\d+):?\d*\ufffd/gi,Zm=/\ufffd(\d+)\ufffd/,P0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Uc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,lk=/\uE500/g;function ZA(i,s,a,l,d,h,m){const y=Cc(i,l,1,null);let b=y<<er.SHIFT,D=is();s===D&&(D=null),null===D&&(b|=er.APPEND_EAGERLY),m&&(b|=er.COMMENT,function(i){void 0===Nf&&(Nf=i())}(ZE)),d.push(b,null===h?"":h);const A=hm(i,y,m?32:1,null===h?"":h,null);$A(a,A);const M=A.index;return bi(A,!1),null!==D&&s!==D&&function(i,s){let a=i.insertBeforeIndex;null===a?(Q1(BA,jA),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&yt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(D,M),A}function hk(i,s,a,l,d,h,m){const y=m.match(Sa),b=ZA(i,s,a,h,l,y?null:m,!1);y&&ip(d,m,b.index,null,0,null)}function ip(i,s,a,l,d,h){const m=i.length,y=m+1;i.push(null,null);const b=m+2,D=s.split(Sa);let A=0;for(let M=0;M<D.length;M++){const O=D[M];if(1&M){const H=d+parseInt(O,10);i.push(-1-H),A|=zA(H)}else""!==O&&i.push(O)}return i.push(a<<2|(l?1:0)),l&&i.push(l,h),i[m]=A,i[y]=i.length-b,A}function zA(i){return 1<<Math.min(i,31)}function WA(i){let s,h,a="",l=0,d=!1;for(;null!==(s=Uc.exec(i));)d?s[0]===`\ufffd/*${h}\ufffd`&&(l=s.index,d=!1):(a+=i.substring(l,s.index+s[0].length),h=s[1],d=!0);return a+=i.substr(l),a}function YA(i,s,a,l,d,h){let m=0;const y={type:d.type,currentCaseLViewIndex:Cc(i,s,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(zA(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,h),function(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,h,y);const b=d.values;for(let D=0;D<b.length;D++){const A=b[D],M=[];for(let O=0;O<A.length;O++){const H=A[O];if("string"!=typeof H){const Z=M.push(H)-1;A[O]=`\x3c!--\ufffd${Z}\ufffd--\x3e`}}m=YE(i,y,s,a,l,d.cases[D],A.join(""),M)|m}m&&function(i,s,a){i.push(s,1,a<<2|3)}(a,m,h)}function _k(i){const s=[],a=[];let l=1,d=0;const h=WE(i=i.replace(P0,function(m,y,b){return l="select"===b?0:1,d=parseInt(y.substr(1),10),""}));for(let m=0;m<h.length;){let y=h[m++].trim();1===l&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const b=WE(h[m++]);s.length>a.length&&a.push(b)}return{type:l,mainBinding:d,cases:s,values:a}}function WE(i){if(!i)return[];let s=0;const a=[],l=[],d=/[{}]/g;let h;for(d.lastIndex=0;h=d.exec(i);){const y=h.index;if("}"==h[0]){if(a.pop(),0==a.length){const b=i.substring(s,y);P0.test(b)?l.push(_k(b)):l.push(b),s=y+1}}else{if(0==a.length){const b=i.substring(s,y);l.push(b),s=y+1}a.push("{")}}const m=i.substring(s);return l.push(m),l}function YE(i,s,a,l,d,h,m,y){const b=[],D=[],A=[];s.cases.push(h),s.create.push(b),s.remove.push(D),s.update.push(A);const O=gf(Qs()).getInertBodyElement(m),H=Ld(O)||O;return H?KE(i,s,a,l,b,D,A,H,d,y,0):0}function KE(i,s,a,l,d,h,m,y,b,D,A){let M=0,O=y.firstChild;for(;O;){const H=Cc(i,a,1,null);switch(O.nodeType){case Node.ELEMENT_NODE:const Z=O,de=Z.tagName.toLowerCase();if(_f.hasOwnProperty(de)){F0(d,Hm,de,b,H),i.data[H]=de;const Xe=Z.attributes;for(let Qe=0;Qe<Xe.length;Qe++){const jt=Xe.item(Qe),rr=jt.name.toLowerCase();jt.value.match(Sa)?yf.hasOwnProperty(rr)&&ip(m,jt.value,H,jt.name,0,Ku[rr]?Yu:ho[rr]?Pd:null):Ym(d,H,jt)}M=KE(i,s,a,l,d,h,m,O,H,D,A+1)|M,zm(h,H,A)}break;case Node.TEXT_NODE:const X=O.textContent||"",Te=X.match(Sa);F0(d,null,Te?"":X,b,H),zm(h,H,A),Te&&(M=ip(m,X,H,null,0,null)|M);break;case Node.COMMENT_NODE:const we=Zm.exec(O.textContent||"");if(we){const Qe=D[parseInt(we[1],10)];F0(d,M0,"",b,H),YA(i,a,l,b,Qe,H),JE(h,H,A)}}O=O.nextSibling}return M}function zm(i,s,a){0===a&&i.push(s)}function JE(i,s,a){0===a&&(i.push(~s),i.push(s))}function F0(i,s,a,l,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,l,d))}function Ym(i,s,a){i.push(s<<1|1,a.name,a.value)}function V0(i,s,a=-1){const l=At(),d=Ne(),h=20+i,m=As(l.consts,s),y=is();l.firstCreatePass&&function(i,s,a,l,d,h){const m=is(),y=[],b=[],D=[[]],A=function(i){return i.replace(lk," ")}(d=function(i,s){if(function(i){return-1===i}(s))return WA(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return WA(i.substring(a,l))}}(d,h)).split(zE);for(let M=0;M<A.length;M++){let O=A[M];if(0==(1&M)){const H=WE(O);for(let Z=0;Z<H.length;Z++){let de=H[Z];if(0==(1&Z)){const X=de;""!==X&&hk(i,m,D[0],y,b,a,X)}else{const X=de;if("object"!=typeof X)throw new Error(`Unable to parse ICU expression in "${d}" message.`);YA(i,a,b,s,X,ZA(i,m,D[0],a,y,"",!0).index)}}}else{const H=47===O.charCodeAt(0),de=(O.charCodeAt(H?1:0),20+Number.parseInt(O.substring(H?2:1)));if(H)D.shift(),bi(is(),!1);else{const X=nk(i,D[0],de);D.unshift([]),bi(X,!0)}}}i.data[l]={create:y,update:b}}(l,null===y?0:y.index,d,h,m,a);const b=l.data[h],A=Y1(l,y===d[6]?null:y,d);(function(i,s,a,l){const d=i[11];for(let h=0;h<s.length;h++){const m=s[h++],y=s[h],b=(m&er.COMMENT)===er.COMMENT,D=(m&er.APPEND_EAGERLY)===er.APPEND_EAGERLY,A=m>>>er.SHIFT;let M=i[A];null===M&&(M=i[A]=b?d.createComment(y):Qg(d,y)),D&&null!==a&&tl(d,a,M,l,!1)}})(d,b.create,A,y&&8&y.type?d[y.index]:null),ca(!0)}function dh(i,s,a){V0(i,s,a),ca(!1)}function Km(i){return function(i){i&&(Wi|=1<<Math.min(fn,31)),fn++}(Ti(Ne(),no(),i)),Km}function U0(i){!function(i,s,a){if(fn>0){const l=i.data[a];qE(i,s,Array.isArray(l)?l:l.update,wi()-fn-1,Wi)}Wi=0,fn=0}(At(),Ne(),i+20)}function Jm(i,s,a,l,d){if(i=$(i),Array.isArray(i))for(let h=0;h<i.length;h++)Jm(i[h],s,a,l,d);else{const h=At(),m=Ne();let y=Wd(i)?i:$(i.provide),b=II(i);const D=en(),A=1048575&D.providerIndexes,M=D.directiveStart,O=D.providerIndexes>>20;if(Wd(i)||!i.multi){const H=new ju(b,d,Yf),Z=Qm(y,s,d?A:A+O,M);-1===Z?(Gt(Rs(D,m),h,y),iC(h,i,s.length),s.push(y),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(H),m.push(H)):(a[Z]=H,m[Z]=H)}else{const H=Qm(y,s,A+O,M),Z=Qm(y,s,A,A+O),de=H>=0&&a[H],X=Z>=0&&a[Z];if(d&&!X||!d&&!de){Gt(Rs(D,m),h,y);const Te=function(i,s,a,l,d){const h=new ju(i,a,Yf);return h.multi=[],h.index=s,h.componentProviders=0,sC(h,d,l&&!a),h}(d?j0:B0,a.length,d,l,b);!d&&X&&(a[Z].providerFactory=Te),iC(h,i,s.length,0),s.push(y),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(Te),m.push(Te)}else iC(h,i,H>-1?H:Z,sC(a[d?Z:H],b,!d&&l));!d&&l&&X&&a[Z].componentProviders++}}}function iC(i,s,a,l){const d=Wd(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const b=y.indexOf(a);-1===b?y.push(a,[l,m]):y[b+1].push(l,m)}else y.push(a,m)}}}function sC(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Qm(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function B0(i,s,a,l){return Xm(this.multi,[])}function j0(i,s,a,l){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Sn(a,a[1],this.providerFactory.index,l);h=y.slice(0,m),Xm(d,h);for(let b=m;b<y.length;b++)h.push(y[b])}else h=[],Xm(d,h);return h}function Xm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function oC(i,s=[]){return a=>{a.providersResolver=(l,d)=>function(i,s,a){const l=At();if(l.firstCreatePass){const d=Ur(i);Jm(a,l.data,l.blueprint,d,!0),Jm(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class aC{}const H0="ngComponent";class uC{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s[H0]=i,s}(s)}}let jc=(()=>{class i{}return i.NULL=new uC,i})();function sp(...i){}function $c(i,s){return new Na(br(i,s))}const cC=function(){return $c(en(),Ne())};let Na=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=cC,i})();function dC(i){return i instanceof Na?i.nativeElement:i}class t_{}let hC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>fC(),i})();const fC=function(){const i=Ne(),a=Br(en().index,i);return function(i){return i[11]}(ts(a)?a:i)};let G0=(()=>{class i{}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:()=>null}),i})();class aS{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const n_=new aS("12.2.10");class pC{constructor(){}supports(s){return zf(s)}create(s){return new lS(s)}}const Ck=(i,s)=>s;class lS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Ck}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,h=null;for(;a||l;){const m=!l||a&&a.currentIndex<mC(l,d,h)?a:l,y=mC(m,d,h),b=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{h||(h=[]);const D=y-d,A=b-d;if(D!=A){for(let O=0;O<D;O++){const H=O<h.length?h[O]:h[O]=0,Z=H+O;A<=Z&&Z<D&&(h[O]=H+1)}h[m.previousIndex]=A-D}}y!==b&&s(m,y,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!zf(s))throw new Error(`Error trying to diff '${Y(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],m=this._trackByFn(y,h),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,h,m,y)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,m,y),l=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Jd()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,y=>{m=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,y,m,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new Dk(a,l),h,d),s}_verifyReinsertion(s,a,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Dk{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class q0{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new gC,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mC(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class _C{constructor(){}supports(s){return s instanceof Map||Jv(s)}create(){return new yC}}class yC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Jv(s)))throw new Error(`Error trying to diff '${Y(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const l=new cS(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class cS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vC(){return new op([new pC])}let op=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||vC()),deps:[[i,new Cr,new co]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:vC}),i})();function bC(){return new Z0([new _C])}let Z0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||bC()),deps:[[i,new Cr,new co]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:bC}),i})();function ap(i,s,a,l,d=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&l.push(sn(h)),vr(h))for(let y=10;y<h.length;y++){const b=h[y],D=b[1].firstChild;null!==D&&ap(b[1],b,D,l)}const m=a.type;if(8&m)ap(i,s,a.child,l);else if(32&m){const y=Kg(a,s);let b;for(;b=y();)l.push(b)}else if(16&m){const y=nv(s,a);if(Array.isArray(y))l.push(...y);else{const b=Mf(s[16]);ap(b[1],b,y,l,!0)}}a=d?a.projectionNext:a.next}return l}class up{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return ap(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(vr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(em(s,l),ui(a,l))}this._attachedToViewContainer=!1}z1(this._lView[1],this._lView)}onDestroy(s){wv(this._lView[1],this._lView,null,s)}markForCheck(){Ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){la(!0);try{vm(i,s,a)}finally{la(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,wc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class hS extends up{constructor(s){super(s),this._view=s}detectChanges(){bw(this._view)}checkNoChanges(){!function(i){la(!0);try{bw(i)}finally{la(!1)}}(this._view)}get context(){return null}}const Ik=function(i){return function(i,s,a){if(Pu(i)&&!a){const l=Br(i.index,s);return new up(l,l)}return 47&i.type?new up(s[16],s):null}(en(),Ne(),16==(16&i))};let wC=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ik,i})();const mS=[new _C],EC=new op([new pC]),_S=new Z0(mS),bS=function(){return z0(en(),Ne())};let hh=(()=>{class i{}return i.__NG_ELEMENT_ID__=bS,i})();const wS=hh,ES=class extends wS{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Pf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(a)),qd(a,l,s),new up(l)}};function z0(i,s){return 4&i.type?new ES(s,i,$c(i,s)):null}class dl{}class CC{}const TS=function(){return TC(en(),Ne())};let r_=(()=>{class i{}return i.__NG_ELEMENT_ID__=TS,i})();const ve=r_,fh=class extends ve{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return $c(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){const s=qe(this._hostTNode,this._hostLView);if(vn(s)){const a=xo(s,this._hostLView),l=xs(s);return new ls(a[1].data[l+8],a)}return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=DC(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,h){const m=l||this.parentInjector;if(!h&&null==s.ngModule&&m){const b=m.get(dl,null);b&&(h=b)}const y=s.create(m,d,void 0,h);return this.insert(y.hostView,a),y}insert(s,a){const l=s._lView,d=l[1];if(vr(l[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const M=l[3],O=new fh(M,M[6],M[3]);O.detach(O.indexOf(s))}}const h=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,l){const d=10+l,h=a.length;l>0&&(a[d-1][4]=s),l<h-10?(s[4]=a[d],Oo(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,l,m,h);const y=rv(h,m),b=l[11],D=tm(b,m[7]);return null!==D&&function(i,s,a,l,d,h){l[0]=d,l[6]=s,wc(i,l,a,1,d,h)}(d,m[6],b,l,D,y),s.attachToViewContainerRef(),Oo(W0(m),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=DC(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=em(this._lContainer,a);l&&(ui(W0(this._lContainer),a),z1(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=em(this._lContainer,a);return l&&null!=ui(W0(this._lContainer),a)?new up(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function DC(i){return i[8]}function W0(i){return i[8]||(i[8]=[])}function TC(i,s){let a;const l=s[i.index];if(vr(l))a=l;else{let d;if(8&i.type)d=sn(l);else{const h=s[11];d=h.createComment("");const m=br(i,s);tl(h,tm(h,m),d,function(i,s){return rn(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=a=Vf(l,s,d,i),ym(s,a)}return new fh(a,i,s)}const yp={};class eN extends jc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Kn(s);return new tD(a,this.ngModule)}}function tN(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Pk=new mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>If});class tD extends aC{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(eR).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return tN(this.componentDef.inputs)}get outputs(){return tN(this.componentDef.outputs)}create(s,a,l,d){const h=(d=d||this.ngModule)?function(i,s){return{get:(a,l,d)=>{const h=i.get(a,yp,d);return h!==yp||l===yp?h:s.get(a,l,d)}}}(s,d.injector):s,m=h.get(t_,Li),y=h.get(G0,null),b=m.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=l?function(i,s,a){if(rn(i))return i.selectRootElement(s,a===Ue.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):Xy(m.createRenderer(null,this.componentDef),D,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(D)),M=this.componentDef.onPush?576:528,O=function(i,s){return{components:[],scheduler:i||If,clean:ww,playerHandler:s||null,flags:0}}(),H=Ff(0,null,null,1,0,null,null,null,null,null),Z=Pf(null,H,O,M,null,null,m,b,y,h);let de,X;Qa(Z);try{const Te=function(i,s,a,l,d,h){const m=a[1];a[20]=i;const b=Ut(m,20,2,"#host",null),D=b.mergedAttrs=s.hostAttrs;null!==D&&(al(b,D,!0),null!==i&&(as(d,i,D),null!==b.classes&&sv(d,i,b.classes),null!==b.styles&&ew(d,i,b.styles)));const A=l.createRenderer(i,s),M=Pf(a,yv(s),null,s.onPush?64:16,a[20],b,l,A,h||null,null);return m.firstCreatePass&&(Gt(Rs(b,a),m,s.type),Lf(m,b),_w(b,a.length,1)),ym(a,M),a[20]=M}(A,this.componentDef,Z,m,b);if(A)if(l)as(b,A,["ng-version",n_.full]);else{const{attrs:we,classes:Xe}=function(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++l]):8===d&&a.push(h);else{if(!$o(d))break;d=h}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&as(b,A,we),Xe&&Xe.length>0&&sv(b,A,Xe.join(" "))}if(X=Vu(H,20),void 0!==a){const we=X.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const Qe=a[Xe];we.push(null!=Qe?Array.from(Qe):null)}}de=function(i,s,a,l,d){const h=a[1],m=function(i,s,a){const l=en();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),vI(i,l,s,Cc(i,s,1,null),a));const d=Sn(s,i,l.directiveStart,l);Tr(d,s);const h=br(l,s);return h&&Tr(h,s),d}(h,a,s);if(l.components.push(m),i[8]=m,d&&d.forEach(b=>b(m,s)),s.contentQueries){const b=en();s.contentQueries(1,m,b.directiveStart)}const y=en();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Xa(y.index),Sv(a[1],y,0,y.directiveStart,y.directiveEnd,s),pm(s,m)),m}(Te,this.componentDef,Z,O,[Vw]),qd(H,Z,null)}finally{No()}return new rD(this.componentType,de,$c(X,Z),Z,X)}}class rD extends class{}{constructor(s,a,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new hS(d),this.componentType=s}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Hc=new Map;class iN extends dl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new eN(this);const l=Ri(s),d=s[dt]||null;d&&$E(d),this._bootstrapComponents=Fs(l.bootstrap),this._r3Injector=TI(s,a,[{provide:dl,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],Y(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Bn.THROW_IF_NOT_FOUND,l=Ye.Default){return s===Bn||s===dl||s===ul?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class pb extends CC{constructor(s){super(),this.moduleType=s,null!==Ri(s)&&function(i){const s=new Set;!function a(l){const d=Ri(l,!0),h=d.id;null!==h&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Y(s)} vs ${Y(s.name)}`)}(h,Hc.get(h),l),Hc.set(h,l));const m=Fs(d.imports);for(const y of m)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new iN(this.moduleType,s)}}function f_(i,s,a,l){return vp(Ne(),An(),i,s,a,l)}function sD(i,s,a,l,d){return function(i,s,a,l,d,h,m){const y=s+a;return Sc(i,y,d,h)?zi(i,y+2,m?l.call(m,d,h):l(d,h)):pt(i,y+2)}(Ne(),An(),i,s,a,l,d)}function oD(i,s,a,l,d,h){return function(i,s,a,l,d,h,m,y){const b=s+a;return function(i,s,a,l,d){const h=Sc(i,s,a,l);return Ti(i,s+2,d)||h}(i,b,d,h,m)?zi(i,b+3,y?l.call(y,d,h,m):l(d,h,m)):pt(i,b+3)}(Ne(),An(),i,s,a,l,d,h)}function pt(i,s){const a=i[s];return a===Tt?void 0:a}function vp(i,s,a,l,d,h){const m=s+a;return Ti(i,m,d)?zi(i,m+1,h?l.call(h,d):l(d)):pt(i,m+1)}function uD(i,s){const a=At();let l;const d=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}throw new Se("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const h=l.factory||(l.factory=Is(l.type)),m=ni(Yf);try{const y=fa(!1),b=h();return fa(y),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Ne(),d,b),b}finally{ni(m)}}function lD(i,s,a){const l=i+20,d=Ne(),h=rs(d,l);return function(i,s){Ho.isWrapped(s)&&(s=Ho.unwrap(s),i[wi()]=Tt);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?vp(d,An(),s,h.transform,a,h):h.transform(a))}function __(i){return s=>{setTimeout(i,void 0,s)}}const xa=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,h,m;let y=s,b=a||(()=>null),D=l;if(s&&"object"==typeof s){const M=s;y=null===(d=M.next)||void 0===d?void 0:d.bind(M),b=null===(h=M.error)||void 0===h?void 0:h.bind(M),D=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(b=__(b),y&&(y=__(y)),D&&(D=__(D)));const A=super.subscribe({next:y,error:b,complete:D});return s instanceof te.w&&s.add(A),A}};function dD(){return this._results[Jd()]()}class _h{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Jd(),l=_h.prototype;l[a]||(l[a]=dD)}get changes(){return this._changes||(this._changes=new xa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=ji(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],h=s[l];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ep{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ep(this.queryList)}setDirty(){this.queryList.setDirty()}}class gi{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<l;h++){const m=a.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new gi(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==w_(s,a).matches&&this.queries[a].setDirty()}}class mb{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class v_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,h=this.getByIndex(l).embeddedTView(s,d);h&&(h.indexInDeclarationView=l,null!==a?a.push(h):a=[h])}return null!==a?new v_(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Cp{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Cp(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(s,a,fD(a,h)),this.matchTNodeWithReadOption(s,a,io(a,s,h,!1,!1))}else l===hh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,io(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Na||d===r_||d===hh&&4&a.type)this.addMatch(a.index,-2);else{const h=io(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function fD(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function gD(i,s,a,l){return-1===a?function(i,s){return 11&i.type?$c(i,s):4&i.type?z0(i,s):null}(s,i):-2===a?function(i,s,a){return a===Na?$c(s,i):a===hh?z0(s,i):a===r_?TC(s,i):void 0}(i,s,l):Sn(i,i[1],a,s)}function mD(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const h=i.data,m=a.matches,y=[];for(let b=0;b<m.length;b+=2){const D=m[b];y.push(D<0?null:gD(s,h[D],m[b+1],a.metadata.read))}d.matches=y}return d.matches}function yb(i,s,a,l){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const m=mD(i,s,d,a);for(let y=0;y<h.length;y+=2){const b=h[y];if(b>0)l.push(m[y/2]);else{const D=h[y+1],A=s[-b];for(let M=10;M<A.length;M++){const O=A[M];O[17]===O[3]&&yb(O[1],O,D,l)}if(null!==A[9]){const M=A[9];for(let O=0;O<M.length;O++){const H=M[O];yb(H[1],H,D,l)}}}}}return l}function Gc(i){const s=Ne(),a=At(),l=gd();Ya(l+1);const d=w_(a,l);if(i.dirty&&Ga(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?yb(a,s,l,[]):mD(a,s,d,l);i.reset(h,dC),i.notifyOnChanges()}return!0}return!1}function vb(i,s,a){const l=At();l.firstCreatePass&&(Dp(l,new mb(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),wb(l,Ne(),s)}function b_(i,s,a,l){const d=At();if(d.firstCreatePass){const h=en();Dp(d,new mb(s,a,l),h.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}wb(d,Ne(),a)}function bb(){return i=Ne(),s=gd(),i[19].queries[s].queryList;var i,s}function wb(i,s,a){const l=new _h(4==(4&a));wv(i,s,l,l.destroy),null===s[19]&&(s[19]=new gi),s[19].queries.push(new Ep(l))}function Dp(i,s,a){null===i.queries&&(i.queries=new v_),i.queries.track(new Cp(s,a))}function w_(i,s){return i.queries.getByIndex(s)}function E_(i,s){return z0(i,s)}const Lb=new mn("Application Initializer");let _l=(()=>{class i{constructor(a){this.appInits=a,this.resolve=sp,this.reject=sp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(c0(h))a.push(h);else if(Ar(h)){const m=new Promise((y,b)=>{h.subscribe({complete:y,error:b})});a.push(m)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(_n(Lb,8))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();const Rp=new mn("AppId"),kD={provide:Rp,useFactory:function(){return`${L_()}${L_()}${L_()}`},deps:[]};function L_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ub=new mn("Platform Initializer"),OD=new mn("Platform ID"),wh=new mn("appBootstrapListener");let kp=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();const yl=new mn("LocaleId"),vl=new mn("DefaultCurrencyCode");class VD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Go=function(i){return new pb(i)},V_=Go,UD=function(i){return Promise.resolve(Go(i))},Op=function(i){const s=Go(i),l=Fs(Ri(i).declarations).reduce((d,h)=>{const m=Kn(h);return m&&d.push(new tD(m)),d},[]);return new VD(s,l)},DN=Op,Pp=function(i){return Promise.resolve(Op(i))};let Fp=(()=>{class i{constructor(){this.compileModuleSync=V_,this.compileModuleAsync=UD,this.compileModuleAndAllComponentsSync=DN,this.compileModuleAndAllComponentsAsync=Pp}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();const IN=(()=>Promise.resolve(0))();function $b(i){"undefined"==typeof Zone?IN.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class mi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Qt.requestAnimationFrame,s=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Qt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,wl(i),i.isCheckStableRunning=!0,B_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),wl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,h,m,y)=>{try{return HD(i),a.invokeTask(d,h,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),GD(i)}},onInvoke:(a,l,d,h,m,y,b)=>{try{return HD(i),a.invoke(d,h,m,y,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),GD(i)}},onHasTask:(a,l,d,h)=>{a.hasTask(d,h),l===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,wl(i),B_(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,l,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,bl,sp,sp);try{return h.runTask(m,a,l)}finally{h.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const bl={};function B_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function wl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function HD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function GD(i){i._nesting--,B_(i)}class qD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let ZD=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mi.assertNotInAngularZone(),$b(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$b(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(_n(mi))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})(),Hb=(()=>{class i{constructor(){this._applications=new Map,Lp.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Lp.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();class zD{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Gb(i){Lp=i}let Lp=new zD,qb=!0,Zb=!1;function Vp(){return Zb=!0,qb}function SN(){if(Zb)throw new Error("Cannot enable prod mode after platform setup.");qb=!1}let qo;const tr=new mn("AllowMultipleToken");class YD{constructor(s,a){this.name=s,this.token=a}}function KD(i,s,a=[]){const l=`Platform: ${s}`,d=new mn(l);return(h=[])=>{let m=Kb();if(!m||m.injector.get(tr,!1))if(i)i(a.concat(h).concat({provide:d,useValue:!0}));else{const y=a.concat(h).concat({provide:d,useValue:!0},{provide:Tc,useValue:"platform"});!function(i){if(qo&&!qo.destroyed&&!qo.injector.get(tr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qo=i.get(Jb);const s=i.get(Ub,null);s&&s.forEach(a=>a())}(Bn.create({providers:y,name:l}))}return function(i){const s=Kb();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function Kb(){return qo&&!qo.destroyed?qo:null}let Jb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const y=function(i,s){let a;return a="noop"===i?new qD:("zone.js"===i?void 0:i)||new mi({enableLongStackTrace:Vp(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:mi,useValue:y}];return y.run(()=>{const D=Bn.create({providers:b,parent:this.injector,name:a.moduleType.name}),A=a.create(D),M=A.injector.get(g,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:H=>{M.handleError(H)}});A.onDestroy(()=>{H_(this._modules,A),O.unsubscribe()})}),function(i,s,a){try{const l=a();return c0(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(M,y,()=>{const O=A.injector.get(_l);return O.runInitializers(),O.donePromise.then(()=>($E(A.injector.get(yl,N0)||N0),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,l=[]){const d=Qb({},l);return function(i,s,a){const l=new pb(a);return Promise.resolve(l)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const l=a.injector.get(Vs);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${Y(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(_n(Bn))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();function Qb(i,s){return Array.isArray(s)?s.reduce(Qb,i):Object.assign(Object.assign({},i),s)}let Vs=(()=>{class i{constructor(a,l,d,h,m){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),b=new L.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{mi.assertNotInAngularZone(),$b(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,fe.T)(y,b.pipe((0,re.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof aC?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const h=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(dl),y=d.create(Bn.NULL,[],l||d.selector,h),b=y.location.nativeElement,D=y.injector.get(ZD,null),A=D&&y.injector.get(Hb);return D&&A&&A.registerApplication(b,D),y.onDestroy(()=>{this.detachView(y.hostView),H_(this.components,y),A&&A.unregisterApplication(b)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;H_(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(wh,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(_n(mi),_n(Bn),_n(g),_n(jc),_n(_l))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();function H_(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class jp{}class ON{}const eT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let $p=(()=>{class i{constructor(a,l){this._compiler=a,this._config=l||eT}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[l,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(l).then(h=>h[d]).then(h=>n1(h,l,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(a){let[l,d]=a.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>n1(m,l,d))}}return i.\u0275fac=function(a){return new(a||i)(_n(Fp),_n(ON,8))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})();function n1(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const VN=function(i){return null},Le=KD(null,"core",[{provide:OD,useValue:"unknown"},{provide:Jb,deps:[Bn]},{provide:Hb,deps:[]},{provide:kp,deps:[]}]),BN=[{provide:Vs,useClass:Vs,deps:[mi,Bn,g,jc,_l]},{provide:Pk,deps:[mi],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:_l,useClass:_l,deps:[[new co,Lb]]},{provide:Fp,useClass:Fp,deps:[]},kD,{provide:op,useFactory:function(){return EC},deps:[]},{provide:Z0,useFactory:function(){return _S},deps:[]},{provide:yl,useFactory:function(i){return $E(i=i||"undefined"!=typeof $localize&&$localize.locale||N0),i},deps:[[new lu(yl),new co,new Cr]]},{provide:vl,useValue:"USD"}];let me=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(_n(Vs))},i.\u0275mod=Qo({type:i}),i.\u0275inj=St({providers:BN}),i})()},8939:(We,be,F)=>{"use strict";F.d(be,{hO:()=>ae,xv:()=>j,Dh:()=>Y,GT:()=>J,cc:()=>xe,on:()=>P,pX:()=>re});var u=F(7716),te=F(7841),L=F(6643);We=F.hmd(We);const fe=["ngOnDestroy"],re=(Q,ne,Ee,Ie={})=>new Proxy(Q,{get:(Ke,Dt)=>Ee.runOutsideAngular(()=>{var xt;if(Q[Dt])return(null===(xt=null==Ie?void 0:Ie.spy)||void 0===xt?void 0:xt.get)&&Ie.spy.get(Dt,Q[Dt]),Q[Dt];if(fe.indexOf(Dt)>-1)return()=>{};const gt=ne.toPromise().then(Ae=>{const ie=Ae&&Ae[Dt];return"function"==typeof ie?ie.bind(Ae):ie&&ie.then?ie.then(ue=>Ee.run(()=>ue)):Ee.run(()=>ie)});return new Proxy(()=>{},{get:(Ae,ie)=>gt[ie],apply:(Ae,ie,ue)=>gt.then(_e=>{var le;const Pe=_e&&_e(...ue);return(null===(le=null==Ie?void 0:Ie.spy)||void 0===le?void 0:le.apply)&&Ie.spy.apply(Dt,ue,Pe),Pe})})})}),J=(Q,ne)=>{ne.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Ie=>{Object.defineProperty(Q.prototype,Ie,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Ie))})})};class se{constructor(ne){return ne}}const Y=new u.OlP("angularfire2.app.options"),j=new u.OlP("angularfire2.app.name");function P(Q,ne,Ee){const Ke="object"==typeof Ee&&Ee||{};Ke.name=Ke.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const xt=te.Z.apps.filter(gt=>gt&&gt.name===Ke.name)[0]||ne.runOutsideAngular(()=>te.Z.initializeApp(Q,Ke));try{JSON.stringify(Q)!==JSON.stringify(xt.options)&&V("error",`${xt.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(gt){}return new se(xt)}const V=(Q,...ne)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Q](...ne)},$={provide:se,useFactory:P,deps:[Y,u.R0b,[new u.FiY,j]]};let ae=(()=>{class Q{constructor(Ee){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,Ee.toString())}static initializeApp(Ee,Ie){return{ngModule:Q,providers:[{provide:Y,useValue:Ee},{provide:j,useValue:Ie}]}}}return Q.\u0275fac=function(Ee){return new(Ee||Q)(u.LFG(u.Lbi))},Q.\u0275mod=u.oAB({type:Q}),Q.\u0275inj=u.cJS({providers:[$]}),Q})();function xe(Q,ne,Ee,Ie,Ke){const[,Dt,xt]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===Q)||[];if(Dt)return function(Q,ne){try{return Q.toString()===ne.toString()}catch(Ee){return Q===ne}}(Ke,xt)||(ce("error",`${ne} was already initialized on the ${Ee} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ke,was:xt})),Dt;{const gt=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Q,gt,Ke]),gt}}const Ce=!!We.hot,ce=(Q,...ne)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Q](...ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(We,be,F)=>{"use strict";F.d(be,{q4:()=>Ag,iC:()=>Mn,HU:()=>Gu,vb:()=>Oo,JM:()=>hs});var u=F(7716),te=F(2329),L=F(8239),fe=F(5452),re=F(3854),J=F(6034),se=F(5601),Y=F(6676);const j="@firebase/installations",P="0.5.2",$=`w:${P}`,ae="FIS_v2",ne=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function Ie({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ke(C){return{token:C.token,requestStatus:2,expiresIn:_e(C.expiresIn),creationTime:Date.now()}}function Dt(C,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,L.Z)(function*(C,I){const B=(yield I.json()).error;return ne.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function gt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ae(C,{refreshToken:I}){const x=gt(C);return x.append("Authorization",function(C){return`${ae} ${C}`}(I)),x}function ie(C){return ue.apply(this,arguments)}function ue(){return(ue=(0,L.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function _e(C){return Number(C.replace("s","000"))}function Pe(C,I){return ge.apply(this,arguments)}function ge(){return(ge=(0,L.Z)(function*(C,{fid:I}){const x=Ie(C),pe={method:"POST",headers:gt(C),body:JSON.stringify({fid:I,authVersion:ae,appId:C.appId,sdkVersion:$})},Re=yield ie(()=>fetch(x,pe));if(Re.ok){const He=yield Re.json();return{fid:He.fid||I,registrationStatus:2,refreshToken:He.refreshToken,authToken:Ke(He.authToken)}}throw yield Dt("Create Installation",Re)})).apply(this,arguments)}function ct(C){return new Promise(I=>{setTimeout(I,C)})}const En=/^[cdef][\w-]{21}$/;function _t(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return En.test(x)?x:""}catch(C){return""}}function Kt(C){return`${C.appName}!${C.appId}`}const ir=new Map;function Qr(C,I){const x=Kt(C);St(x,I),function(C,I){const x=(!Yn&&"BroadcastChannel"in self&&(Yn=new BroadcastChannel("[Firebase] FID Change"),Yn.onmessage=C=>{St(C.data.key,C.data.fid)}),Yn);x&&x.postMessage({key:C,fid:I}),0===ir.size&&Yn&&(Yn.close(),Yn=null)}(x,I)}function St(C,I){const x=ir.get(C);if(x)for(const B of x)B(I)}let Yn=null;const ei="firebase-installations-store";let Mi=null;function Cs(){return Mi||(Mi=(0,Y.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(ei)}})),Mi}function Ye(C,I){return In.apply(this,arguments)}function In(){return(In=(0,L.Z)(function*(C,I){const x=Kt(C),ee=(yield Cs()).transaction(ei,"readwrite"),pe=ee.objectStore(ei),Re=yield pe.get(x);return yield pe.put(I,x),yield ee.complete,(!Re||Re.fid!==I.fid)&&Qr(C,I.fid),I})).apply(this,arguments)}function ti(C){return ni.apply(this,arguments)}function ni(){return(ni=(0,L.Z)(function*(C){const I=Kt(C),B=(yield Cs()).transaction(ei,"readwrite");yield B.objectStore(ei).delete(I),yield B.complete})).apply(this,arguments)}function rt(C,I){return tt.apply(this,arguments)}function tt(){return(tt=(0,L.Z)(function*(C,I){const x=Kt(C),ee=(yield Cs()).transaction(ei,"readwrite"),pe=ee.objectStore(ei),Re=yield pe.get(x),He=I(Re);return void 0===He?yield pe.delete(x):yield pe.put(He,x),yield ee.complete,He&&(!Re||Re.fid!==He.fid)&&Qr(C,He.fid),He})).apply(this,arguments)}function Vt(C){return kt.apply(this,arguments)}function kt(){return(kt=(0,L.Z)(function*(C){let I;const x=yield rt(C,B=>{const ee=yr(B),pe=Wt(C,ee);return I=pe.registrationPromise,pe.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function yr(C){return Qt(C||{fid:_t(),registrationStatus:0})}function Wt(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ne.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,I){return nt.apply(this,arguments)}(C,x)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:vi(C)}:{installationEntry:I}}function nt(){return(nt=(0,L.Z)(function*(C,I){try{return Ye(C,yield Pe(C,I))}catch(x){throw Ee(x)&&409===x.customData.serverCode?yield ti(C):yield Ye(C,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function vi(C){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,L.Z)(function*(C){let I=yield xi(C);for(;1===I.registrationStatus;)yield ct(100),I=yield xi(C);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:B}=yield Vt(C);return B||x}return I})).apply(this,arguments)}function xi(C){return rt(C,I=>{if(!I)throw ne.create("installation-not-found");return Qt(I)})}function Qt(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Jo(C,I){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*({appConfig:C,platformLoggerProvider:I},x){const B=G(C,x),ee=Ae(C,x),pe=I.getImmediate({optional:!0});pe&&ee.append("x-firebase-client",pe.getPlatformInfoString());const He={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:$}})},Ge=yield ie(()=>fetch(B,He));if(Ge.ok)return Ke(yield Ge.json());throw yield Dt("Generate Auth Token",Ge)})).apply(this,arguments)}function G(C,{fid:I}){return`${Ie(C)}/${I}/authTokens:generate`}function W(C){return De.apply(this,arguments)}function De(){return(De=(0,L.Z)(function*(C,I=!1){let x;const B=yield rt(C.appConfig,pe=>{if(!ln(pe))throw ne.create("not-registered");const Re=pe.authToken;if(!I&&Fr(Re))return pe;if(1===Re.requestStatus)return x=oe(C,I),pe;{if(!navigator.onLine)throw ne.create("app-offline");const He=qn(pe);return x=Lt(C,He),He}});return x?yield x:B.authToken})).apply(this,arguments)}function oe(C,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,L.Z)(function*(C,I){let x=yield dt(C.appConfig);for(;1===x.authToken.requestStatus;)yield ct(100),x=yield dt(C.appConfig);const B=x.authToken;return 0===B.requestStatus?W(C,I):B})).apply(this,arguments)}function dt(C){return rt(C,I=>{if(!ln(I))throw ne.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Lt(C,I){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,L.Z)(function*(C,I){try{const x=yield Jo(C,I),B=Object.assign(Object.assign({},I),{authToken:x});return yield Ye(C.appConfig,B),x}catch(x){if(!Ee(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ye(C.appConfig,B)}else yield ti(C.appConfig);throw x}})).apply(this,arguments)}function ln(C){return void 0!==C&&2===C.registrationStatus}function Fr(C){return 2===C.requestStatus&&!function(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function qn(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Qo(){return(Qo=(0,L.Z)(function*(C){const I=C,{installationEntry:x,registrationPromise:B}=yield Vt(I.appConfig);return B?B.catch(console.error):W(I).catch(console.error),x.fid})).apply(this,arguments)}function Pa(){return(Pa=(0,L.Z)(function*(C,I=!1){const x=C;return yield Ru(x.appConfig),(yield W(x,I)).token})).apply(this,arguments)}function Ru(C){return qs.apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(C){const{registrationPromise:I}=yield Vt(C);I&&(yield I)})).apply(this,arguments)}function zt(C){return ne.create("missing-app-config-values",{valueName:C})}const Vr="installations";(0,fe._registerComponent)(new J.wA(Vr,C=>{const I=C.getProvider("app").getImmediate();return{app:I,appConfig:function(C){if(!C||!C.options)throw zt("App Configuration");if(!C.name)throw zt("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!C.options[x])throw zt(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I),platformLoggerProvider:(0,fe._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,fe._registerComponent)(new J.wA("installations-internal",C=>{const I=C.getProvider("app").getImmediate(),x=(0,fe._getProvider)(I,Vr).getImmediate();return{getId:()=>function(C){return Qo.apply(this,arguments)}(x),getToken:ee=>function(C){return Pa.apply(this,arguments)}(x,ee)}},"PRIVATE")),(0,fe.registerVersion)(j,P),(0,fe.registerVersion)(j,P,"esm2017");const To="@firebase/remote-config",Zn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ur{constructor(I,x,B,ee){this.client=I,this.storage=x,this.storageCache=B,this.logger=ee}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-x,ee=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ee}.`),ee}fetch(I){var x=this;return(0,L.Z)(function*(){const[B,ee]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ee&&x.isCachedDataFresh(I.cacheMaxAgeMillis,B))return ee;I.eTag=ee&&ee.eTag;const pe=yield x.client.fetch(I),Re=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Re.push(x.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Re),pe})()}}function Ur(C=navigator){return C.languages&&C.languages[0]||C.language}class Fn{constructor(I,x,B,ee,pe,Re){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=B,this.projectId=ee,this.apiKey=pe,this.appId=Re}fetch(I){var x=this;return(0,L.Z)(function*(){const[B,ee]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ge={sdk_version:x.sdkVersion,app_instance_id:B,app_instance_id_token:ee,app_id:x.appId,language_code:Ur()},Pt={method:"POST",headers:He,body:JSON.stringify(Ge)},Yt=fetch(Re,Pt),xn=new Promise((Ci,ci)=>{I.signal.addEventListener(()=>{const ht=new Error("The operation was aborted.");ht.name="AbortError",ci(ht)})});let li;try{yield Promise.race([Yt,xn]),li=yield Yt}catch(Ci){let ci="fetch-client-network";throw"AbortError"===Ci.name&&(ci="fetch-timeout"),Zn.create(ci,{originalErrorMessage:Ci.message})}let zn=li.status;const ma=li.headers.get("ETag")||void 0;let uu,_a;if(200===li.status){let Ci;try{Ci=yield li.json()}catch(ci){throw Zn.create("fetch-client-parse",{originalErrorMessage:ci.message})}uu=Ci.entries,_a=Ci.state}if("INSTANCE_STATE_UNSPECIFIED"===_a?zn=500:"NO_CHANGE"===_a?zn=304:("NO_TEMPLATE"===_a||"EMPTY_CONFIG"===_a)&&(uu={}),304!==zn&&200!==zn)throw Zn.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:ma,config:uu}})()}}class ns{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,L.Z)(function*(){const B=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:B}){var ee=this;return(0,L.Z)(function*(){yield function(C,I){return new Promise((x,B)=>{const ee=Math.max(I-Date.now(),0),pe=setTimeout(x,ee);C.addEventListener(()=>{clearTimeout(pe),B(Zn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const pe=yield ee.client.fetch(I);return yield ee.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(C){if(!(C instanceof re.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(pe))throw pe;const Re={throttleEndTimeMillis:Date.now()+(0,re.$s)(B),backoffCount:B+1};return yield ee.storage.setThrottleMetadata(Re),ee.attemptFetch(I,Re)}})()}}class _g{constructor(I,x,B,ee,pe){this.app=I,this._client=x,this._storageCache=B,this._storage=ee,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Va(C,I){const x=C.target.error||void 0;return Zn.create(I,{originalErrorMessage:x&&x.message})}const ta="app_namespace_store";class ld{constructor(I,x,B,ee=function(){return new Promise((C,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=B=>{I(Va(B,"storage-open"))},x.onsuccess=B=>{C(B.target.result)},x.onupgradeneeded=B=>{const ee=B.target.result;switch(B.oldVersion){case 0:ee.createObjectStore(ta,{keyPath:"compositeKey"})}}}catch(x){I(Zn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=B,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,L.Z)(function*(){const B=yield x.openDbPromise;return new Promise((ee,pe)=>{const He=B.transaction([ta],"readonly").objectStore(ta),Ge=x.createCompositeKey(I);try{const Pt=He.get(Ge);Pt.onerror=Yt=>{pe(Va(Yt,"storage-get"))},Pt.onsuccess=Yt=>{const xn=Yt.target.result;ee(xn?xn.value:void 0)}}catch(Pt){pe(Zn.create("storage-get",{originalErrorMessage:Pt&&Pt.message}))}})})()}set(I,x){var B=this;return(0,L.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((pe,Re)=>{const Ge=ee.transaction([ta],"readwrite").objectStore(ta),Pt=B.createCompositeKey(I);try{const Yt=Ge.put({compositeKey:Pt,value:x});Yt.onerror=xn=>{Re(Va(xn,"storage-set"))},Yt.onsuccess=()=>{pe()}}catch(Yt){Re(Zn.create("storage-set",{originalErrorMessage:Yt&&Yt.message}))}})})()}delete(I){var x=this;return(0,L.Z)(function*(){const B=yield x.openDbPromise;return new Promise((ee,pe)=>{const He=B.transaction([ta],"readwrite").objectStore(ta),Ge=x.createCompositeKey(I);try{const Pt=He.delete(Ge);Pt.onerror=Yt=>{pe(Va(Yt,"storage-delete"))},Pt.onsuccess=()=>{ee()}}catch(Pt){pe(Zn.create("storage-delete",{originalErrorMessage:Pt&&Pt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class na{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const x=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),ee=I.storage.getActiveConfig(),pe=yield x;pe&&(I.lastFetchStatus=pe);const Re=yield B;Re&&(I.lastSuccessfulFetchTimestampMillis=Re);const He=yield ee;He&&(I.activeConfig=He)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function wg(){return ia.apply(this,arguments)}function ia(){return(ia=(0,L.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,fe._registerComponent)(new J.wA("remote-config",function(I,{instanceIdentifier:x}){const B=I.getProvider("app").getImmediate(),ee=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Zn.create("registration-window");if(!(0,re.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Re,appId:He}=B.options;if(!pe)throw Zn.create("registration-project-id");if(!Re)throw Zn.create("registration-api-key");if(!He)throw Zn.create("registration-app-id");const Ge=new ld(He,B.name,x=x||"firebase"),Pt=new na(Ge),Yt=new se.Yd(To);Yt.logLevel=se.in.ERROR;const xn=new Fn(ee,fe.SDK_VERSION,x,pe,Re,He),li=new ns(xn,Ge),zn=new ur(li,Ge,Pt,Yt),ma=new _g(B,zn,Pt,Ge,Yt);return function(C){const I=(0,re.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ma),ma},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(To,"0.3.1"),(0,fe.registerVersion)(To,"0.3.1","esm2017");const Oi="/firebase-messaging-sw.js",Ua="/firebase-cloud-messaging-push-scope",Ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Is="google.c.a.c_id",cd="google.c.a.c_l",lr="google.c.a.ts",Ks="google.c.a.e";var Js=(()=>{return(C=Js||(Js={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Js;var C})();function Pi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ll(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(x),ee=new Uint8Array(B.length);for(let pe=0;pe<B.length;++pe)ee[pe]=B.charCodeAt(pe);return ee}const sa="fcm_token_details_db",dd="fcm_token_object_Store";function Fi(C){return Io.apply(this,arguments)}function Io(){return(Io=(0,L.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(sa))return null;let I=null;return(yield(0,Y.openDb)(sa,5,function(){var B=(0,L.Z)(function*(ee){var pe;if(ee.oldVersion<2||!ee.objectStoreNames.contains(dd))return;const Re=ee.transaction.objectStore(dd),He=yield Re.index("fcmSenderId").get(C);if(yield Re.clear(),He)if(2===ee.oldVersion){const Ge=He;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;I={token:Ge.fcmToken,createTime:null!==(pe=Ge.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Pi(Ge.vapidKey)}}}else if(3===ee.oldVersion){const Ge=He;I={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Pi(Ge.auth),p256dh:Pi(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Pi(Ge.vapidKey)}}}else if(4===ee.oldVersion){const Ge=He;I={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Pi(Ge.auth),p256dh:Pi(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Pi(Ge.vapidKey)}}}});return function(ee){return B.apply(this,arguments)}}())).close(),yield(0,Y.deleteDb)(sa),yield(0,Y.deleteDb)("fcm_vapid_details_db"),yield(0,Y.deleteDb)("undefined"),Ba(I)?I:null})).apply(this,arguments)}function Ba(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Qs="firebase-messaging-store";let Fu=null;function rn(){return Fu||(Fu=(0,Y.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Qs)}})),Fu}function $a(C){return Li.apply(this,arguments)}function Li(){return(Li=(0,L.Z)(function*(C){const I=Xs(C),B=yield(yield rn()).transaction(Qs).objectStore(Qs).get(I);if(B)return B;{const ee=yield Fi(C.appConfig.senderId);if(ee)return yield Ha(C,ee),ee}})).apply(this,arguments)}function Ha(C,I){return sn.apply(this,arguments)}function sn(){return(sn=(0,L.Z)(function*(C,I){const x=Xs(C),ee=(yield rn()).transaction(Qs,"readwrite");return yield ee.objectStore(Qs).put(I,x),yield ee.complete,I})).apply(this,arguments)}function Vl(C){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,L.Z)(function*(C){const I=Xs(C),B=(yield rn()).transaction(Qs,"readwrite");yield B.objectStore(Qs).delete(I),yield B.complete})).apply(this,arguments)}function Xs({appConfig:C}){return C.appId}const Dn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vu(C,I){return rs.apply(this,arguments)}function rs(){return(rs=(0,L.Z)(function*(C,I){const x=yield oa(C),B=st(I),ee={method:"POST",headers:x,body:JSON.stringify(B)};let pe;try{pe=yield(yield fetch(As(C.appConfig),ee)).json()}catch(Re){throw Dn.create("token-subscribe-failed",{errorInfo:Re})}if(pe.error)throw Dn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Dn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Br(C,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,L.Z)(function*(C,I){const x=yield oa(C),B=st(I.subscriptionOptions),ee={method:"PATCH",headers:x,body:JSON.stringify(B)};let pe;try{pe=yield(yield fetch(`${As(C.appConfig)}/${I.token}`,ee)).json()}catch(Re){throw Dn.create("token-update-failed",{errorInfo:Re})}if(pe.error)throw Dn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Dn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Ul(C,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(C,I){const B={method:"DELETE",headers:yield oa(C)};try{const pe=yield(yield fetch(`${As(C.appConfig)}/${I}`,B)).json();if(pe.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(ee){throw Dn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function As({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function oa(C){return to.apply(this,arguments)}function to(){return(to=(0,L.Z)(function*({appConfig:C,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function st({p256dh:C,auth:I,endpoint:x,vapidKey:B}){const ee={web:{endpoint:x,auth:I,p256dh:C}};return B!==Ys&&(ee.web.applicationPubKey=B),ee}const Uu=6048e5;function Qh(C){return qa.apply(this,arguments)}function qa(){return(qa=(0,L.Z)(function*(C){const I=yield Bl(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:Pi(I.getKey("auth")),p256dh:Pi(I.getKey("p256dh"))},B=yield $a(C.firebaseDependencies);if(B){if(jl(B.subscriptionOptions,x))return Date.now()>=B.createTime+Uu?Xh(C,{token:B.token,createTime:Date.now(),subscriptionOptions:x}):B.token;try{yield Ul(C.firebaseDependencies,B.token)}catch(ee){console.warn(ee)}return Ne(C.firebaseDependencies,x)}return Ne(C.firebaseDependencies,x)})).apply(this,arguments)}function fd(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,L.Z)(function*(C){const I=yield $a(C.firebaseDependencies);I&&(yield Ul(C.firebaseDependencies,I.token),yield Vl(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Xh(C,I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,L.Z)(function*(C,I){try{const x=yield Br(C.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Ha(C.firebaseDependencies,B),x}catch(x){throw yield fd(C),x}})).apply(this,arguments)}function Ne(C,I){return At.apply(this,arguments)}function At(){return(At=(0,L.Z)(function*(C,I){const B={token:yield Vu(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Ha(C,B),B.token})).apply(this,arguments)}function Bl(C,I){return en.apply(this,arguments)}function en(){return(en=(0,L.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ll(I)})})).apply(this,arguments)}function jl(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function is(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,I){if(!I.notification)return;C.notification={};const x=I.notification.title;x&&(C.notification.title=x);const B=I.notification.body;B&&(C.notification.body=B);const ee=I.notification.image;ee&&(C.notification.image=ee)}(I,C),function(C,I){!I.data||(C.data=I.data)}(I,C),function(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const x=I.fcmOptions.link;x&&(C.fcmOptions.link=x);const B=I.fcmOptions.analytics_label;B&&(C.fcmOptions.analyticsLabel=B)}(I,C),I}function Cg(C){return"object"==typeof C&&!!C&&Is in C}function pd(C,I){const x=[];for(let B=0;B<C.length;B++)x.push(C.charAt(B)),B<I.length&&x.push(I.charAt(B));return x.join("")}function la(C){return Dn.create("missing-app-config-values",{valueName:C})}pd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class An{constructor(I,x,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function(C){if(!C||!C.options)throw la("App Configuration Object");if(!C.name)throw la("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const B of I)if(!x[B])throw la(B);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ee,installations:x,analyticsProvider:B}}_delete(){return Promise.resolve()}}function wi(C){return za.apply(this,arguments)}function za(){return(za=(0,L.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Oi,{scope:Ua}),C.swRegistration.update().catch(()=>{})}catch(I){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function no(C,I){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield wi(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Dg(C,I){return ca.apply(this,arguments)}function ca(){return(ca=(0,L.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Ys)})).apply(this,arguments)}function Wa(){return(Wa=(0,L.Z)(function*(C,I){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield Dg(C,null==I?void 0:I.vapidKey),yield no(C,null==I?void 0:I.serviceWorkerRegistration),Qh(C)})).apply(this,arguments)}function Hl(C,I,x){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,L.Z)(function*(C,I,x){const B=gd(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:x[Is],message_name:x[cd],message_time:x[lr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gd(C){switch(C){case Js.NOTIFICATION_CLICKED:return"notification_open";case Js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ka(){return(Ka=(0,L.Z)(function*(C,I){const x=I.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Js.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(is(x)):C.onMessageHandler.next(is(x)));const B=x.data;Cg(B)&&"1"===B[Ks]&&(yield Hl(C,x.messageType,B))})).apply(this,arguments)}const Ja="@firebase/messaging";function yd(){return No.apply(this,arguments)}function No(){return(No=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,re.hl)()&&(yield(0,re.eu)())&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,fe._registerComponent)(new J.wA("messaging",C=>{const I=new An(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,I){return Ka.apply(this,arguments)}(I,x)),I},"PUBLIC")),(0,fe._registerComponent)(new J.wA("messaging-internal",C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:B=>function(C,I){return Wa.apply(this,arguments)}(I,B)}},"PRIVATE")),(0,fe.registerVersion)(Ja,"0.9.2"),(0,fe.registerVersion)(Ja,"0.9.2","esm2017");const ql="analytics",Zl="firebase_id",ha="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",eu="https://www.googletagmanager.com/gtag/js",Vn=new se.Yd("@firebase/analytics");function zl(C){return Promise.all(C.map(I=>I.catch(x=>x)))}function Wl(C,I){const x=document.createElement("script");x.src=`${eu}?l=${C}&id=${I}`,x.async=!0,document.head.appendChild(x)}function ju(C,I,x,B,ee,pe){return tu.apply(this,arguments)}function tu(){return(tu=(0,L.Z)(function*(C,I,x,B,ee,pe){const Re=B[ee];try{if(Re)yield I[Re];else{const Ge=(yield zl(x)).find(Pt=>Pt.measurementId===ee);Ge&&(yield I[Ge.appId])}}catch(He){Vn.error(He)}C("config",ee,pe)})).apply(this,arguments)}function vd(C,I,x,B,ee){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(C,I,x,B,ee){try{let pe=[];if(ee&&ee.send_to){let Re=ee.send_to;Array.isArray(Re)||(Re=[Re]);const He=yield zl(x);for(const Ge of Re){const Pt=He.find(xn=>xn.measurementId===Ge),Yt=Pt&&I[Pt.appId];if(!Yt){pe=[];break}pe.push(Yt)}}0===pe.length&&(pe=Object.values(I)),yield Promise.all(pe),C("event",B,ee||{})}catch(pe){Vn.error(pe)}})).apply(this,arguments)}function Py(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(eu))return I;return null}const os=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ms=new class{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function wd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function vn(C){return xs.apply(this,arguments)}function xs(){return(xs=(0,L.Z)(function*(C){var I;const{appId:x,apiKey:B}=C,ee={method:"GET",headers:wd(B)},pe=ha.replace("{app-id}",x),Re=yield fetch(pe,ee);if(200!==Re.status&&304!==Re.status){let He="";try{const Ge=yield Re.json();(null===(I=Ge.error)||void 0===I?void 0:I.message)&&(He=Ge.error.message)}catch(Ge){}throw os.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:He})}return Re.json()})).apply(this,arguments)}function Ed(C){return xo.apply(this,arguments)}function xo(){return(xo=(0,L.Z)(function*(C,I=Ms,x){const{appId:B,apiKey:ee,measurementId:pe}=C.options;if(!B)throw os.create("no-app-id");if(!ee){if(pe)return{measurementId:pe,appId:B};throw os.create("no-api-key")}const Re=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new rf;return setTimeout((0,L.Z)(function*(){He.abort()}),void 0!==x?x:6e4),nu({appId:B,apiKey:ee,measurementId:pe},Re,He,I)})).apply(this,arguments)}function nu(C,I,x){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:x},B,ee=Ms){const{appId:pe,measurementId:Re}=C;try{yield Fy(B,I)}catch(He){if(Re)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:pe,measurementId:Re};throw He}try{const He=yield vn(C);return ee.deleteThrottleMetadata(pe),He}catch(He){if(!Jl(He)){if(ee.deleteThrottleMetadata(pe),Re)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:pe,measurementId:Re};throw He}const Ge=503===Number(He.customData.httpStatus)?(0,re.$s)(x,ee.intervalMillis,30):(0,re.$s)(x,ee.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:x+1};return ee.setThrottleMetadata(pe,Pt),Vn.debug(`Calling attemptFetch again in ${Ge} millis`),nu(C,Pt,B,ee)}})).apply(this,arguments)}function Fy(C,I){return new Promise((x,B)=>{const ee=Math.max(I-Date.now(),0),pe=setTimeout(x,ee);C.addEventListener(()=>{clearTimeout(pe),B(os.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Jl(C){if(!(C instanceof re.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class rf{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ql(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,L.Z)(function*(){if(!(0,re.hl)())return Vn.warn(os.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return Vn.warn(os.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Ro(){return(Ro=(0,L.Z)(function*(C,I,x,B,ee,pe,Re){var He;const Ge=Ed(C);Ge.then(zn=>{x[zn.measurementId]=zn.appId,C.options.measurementId&&zn.measurementId!==C.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>Vn.error(zn)),I.push(Ge);const Pt=Ql().then(zn=>{if(zn)return B.getId()}),[Yt,xn]=yield Promise.all([Ge,Pt]);Py()||Wl(pe,Yt.measurementId),ee("js",new Date);const li=null!==(He=null==Re?void 0:Re.config)&&void 0!==He?He:{};return li.origin="firebase",li.update=!0,null!=xn&&(li[Zl]=xn),ee("config",Yt.measurementId,li),Yt.measurementId})).apply(this,arguments)}class dn{constructor(I){this.app=I}_delete(){return delete qe[this.app.options.appId],Promise.resolve()}}let qe={},Gt=[];const ru={};let ks,Un,gn="dataLayer",iu=!1;function Sn(C,I,x){!function(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((B,ee)=>`(${ee+1}) ${B}`).join(" "),x=os.create("invalid-analytics-context",{errorInfo:I});Vn.warn(x.message)}}();const B=C.options.appId;if(!B)throw os.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw os.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qe[B])throw os.create("already-exists",{id:B});if(!iu){!function(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(gn);const{wrappedGtag:pe,gtagCore:Re}=function(C,I,x,B,ee){let pe=function(...Re){window[B].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(pe=window[ee]),window[ee]=function(C,I,x,B){function pe(){return(pe=(0,L.Z)(function*(Re,He,Ge){try{"event"===Re?yield vd(C,I,x,He,Ge):"config"===Re?yield ju(C,I,x,B,He,Ge):C("set",He)}catch(Pt){Vn.error(Pt)}})).apply(this,arguments)}return function(Re,He,Ge){return pe.apply(this,arguments)}}(pe,C,I,x),{gtagCore:pe,wrappedGtag:window[ee]}}(qe,Gt,ru,gn,"gtag");Un=pe,ks=Re,iu=!0}return qe[B]=function(C,I,x,B,ee,pe,Re){return Ro.apply(this,arguments)}(C,Gt,ru,I,ks,gn,x),new dn(C)}function pa(){return(pa=(0,L.Z)(function*(C,I,x,B,ee){if(ee&&ee.global)C("event",x,B);else{const pe=yield I;C("event",x,Object.assign(Object.assign({},B),{send_to:pe}))}})).apply(this,arguments)}function cs(){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,L.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(C){return!1}})).apply(this,arguments)}const sf="@firebase/analytics";(0,fe._registerComponent)(new J.wA(ql,(I,{options:x})=>Sn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,fe._registerComponent)(new J.wA("analytics-internal",function(I){try{const x=I.getProvider(ql).getImmediate();return{logEvent:(B,ee,pe)=>function(C,I,x,B){C=(0,re.m9)(C),function(C,I,x,B,ee){return pa.apply(this,arguments)}(Un,qe[C.app.options.appId],I,x,B).catch(ee=>Vn.error(ee))}(x,B,ee,pe)}}catch(x){throw os.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,fe.registerVersion)(sf,"0.7.2"),(0,fe.registerVersion)(sf,"0.7.2","esm2017");var Td=F(7771),Ig=F(3637),oo=F(8307),Hu=F(2639),Id=F(9746);const Ag=new u.GfV("7.1.1"),ou="__angularfire_symbol__analyticsIsSupported",uo="__angularfire_symbol__remoteConfigIsSupported",ds="__angularfire_symbol__messagingIsSupported";function hs(C,I,x){if(I){if(1===I.length)return I[0];const pe=I.filter(Re=>Re.app===x);if(1===pe.length)return pe[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[ou]||(globalThis[ou]=cs().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[ds]||(globalThis[ds]=yd().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[uo]||(globalThis[uo]=wg().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Oo=(C,I)=>{const x=I?[I]:(0,te.C6)(),B=[];return x.forEach(ee=>{ee.container.getProvider(C).instances.forEach(Re=>{B.includes(Re)||B.push(Re)})}),B};function ui(){}class Os{constructor(I,x=Td.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,B){const ee=this.zone;return this.delegate.schedule(function(Re){ee.runGuarded(()=>{I.apply(this,[Re])})},x,B)}}class Sd{constructor(I){this.zone=I,this.task=null}call(I,x){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ui,{},ui,ui)),x.pipe((0,oo.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gu=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Os(Zone.current)),this.insideAngular=x.run(()=>new Os(Zone.current,Ig.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Po(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Mn(C){return Po(),function(C){return function(x){return(x=x.lift(new Sd(C.ngZone))).pipe((0,Hu.R)(C.outsideAngular),(0,Id.QV)(C.insideAngular))}}(Po())(C)}},4486:(We,be,F)=>{"use strict";F.d(be,{Z:()=>Se});var u=F(3854),te=F(6034),L=F(5452),fe=F(5601);class re{constructor(ce,Q){this._delegate=ce,this.firebase=Q,(0,L._addComponent)(ce,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ce,Q=L._DEFAULT_ENTRY_NAME){var ne;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(ce);return!Ee.isInitialized()&&"EXPLICIT"===(null===(ne=Ee.getComponent())||void 0===ne?void 0:ne.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:Q})}_removeServiceInstance(ce,Q=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(Q)}_addComponent(ce){(0,L._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,L._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function j(){const Ce=function(Ce){const ce={},Q={__esModule:!0,initializeApp:function(gt,Ae={}){const ie=L.initializeApp(gt,Ae);if((0,u.r3)(ce,ie.name))return ce[ie.name];const ue=new Ce(ie,Q);return ce[ie.name]=ue,ue},app:Ee,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const Ae=gt.name,ie=Ae.replace("-compat","");if(L._registerComponent(gt)&&"PUBLIC"===gt.type){const ue=(_e=Ee())=>{if("function"!=typeof _e[ie])throw se.create("invalid-app-argument",{appName:Ae});return _e[ie]()};void 0!==gt.serviceProps&&(0,u.ZB)(ue,gt.serviceProps),Q[ie]=ue,Ce.prototype[ie]=function(..._e){return this._getService.bind(this,Ae).apply(this,gt.multipleInstances?_e:[])}}return"PUBLIC"===gt.type?Q[ie]:null},removeApp:function(gt){delete ce[gt]},useAsService:function(gt,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:L}};function Ee(gt){if(!(0,u.r3)(ce,gt=gt||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:gt});return ce[gt]}return Q.default=Q,Object.defineProperty(Q,"apps",{get:function(){return Object.keys(ce).map(gt=>ce[gt])}}),Ee.App=Ce,Q}(re);return Ce.INTERNAL=Object.assign(Object.assign({},Ce.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function(Q){(0,u.ZB)(Ce,Q)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ce}(),V=new fe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=P;(0,L.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(We,be,F)=>{"use strict";F.r(be),F.d(be,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>En,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>ir,_apps:()=>_t,_clearComponents:()=>St,_components:()=>yt,_getProvider:()=>Jt,_registerComponent:()=>Qr,_removeServiceInstance:()=>un,deleteApp:()=>Mi,getApp:()=>Es,getApps:()=>ei,initializeApp:()=>Gs,onLog:()=>In,registerVersion:()=>Ye,setLogLevel:()=>ti});var u=F(8239),te=F(6034),L=F(5601),fe=F(3854);class re{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function(rt){const tt=rt.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(Vt)){const kt=Vt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const se="@firebase/app",Y="0.7.4",j=new L.Yd("@firebase/app"),En="[DEFAULT]",mt={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,yt=new Map;function Kt(rt,tt){try{rt.container.addComponent(tt)}catch(Vt){j.debug(`Component ${tt.name} failed to register with FirebaseApp ${rt.name}`,Vt)}}function ir(rt,tt){rt.container.addOrOverwriteComponent(tt)}function Qr(rt){const tt=rt.name;if(yt.has(tt))return j.debug(`There were multiple attempts to register component ${tt}.`),!1;yt.set(tt,rt);for(const Vt of _t.values())Kt(Vt,rt);return!0}function Jt(rt,tt){return rt.container.getProvider(tt)}function un(rt,tt,Vt=En){Jt(rt,tt).clearInstance(Vt)}function St(){yt.clear()}const Yn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Hs{constructor(tt,Vt,kt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const Xr="9.1.3";function Gs(rt,tt={}){"object"!=typeof tt&&(tt={name:tt});const Vt=Object.assign({name:En,automaticDataCollectionEnabled:!1},tt),kt=Vt.name;if("string"!=typeof kt||!kt)throw Yn.create("bad-app-name",{appName:String(kt)});const yr=_t.get(kt);if(yr){if((0,fe.vZ)(rt,yr.options)&&(0,fe.vZ)(Vt,yr.config))return yr;throw Yn.create("duplicate-app",{appName:kt})}const Wt=new te.H0(kt);for(const nt of yt.values())Wt.addComponent(nt);const Ue=new Hs(rt,Vt,Wt);return _t.set(kt,Ue),Ue}function Es(rt=En){const tt=_t.get(rt);if(!tt)throw Yn.create("no-app",{appName:rt});return tt}function ei(){return Array.from(_t.values())}function Mi(rt){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(rt){const tt=rt.name;_t.has(tt)&&(_t.delete(tt),yield Promise.all(rt.container.getProviders().map(Vt=>Vt.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Ye(rt,tt,Vt){var kt;let yr=null!==(kt=mt[rt])&&void 0!==kt?kt:rt;Vt&&(yr+=`-${Vt}`);const Wt=yr.match(/\s|\//),Ue=tt.match(/\s|\//);if(Wt||Ue){const nt=[`Unable to register library "${yr}" with version "${tt}":`];return Wt&&nt.push(`library name "${yr}" contains illegal characters (whitespace or "/")`),Wt&&Ue&&nt.push("and"),Ue&&nt.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void j.warn(nt.join(" "))}Qr(new te.wA(`${yr}-version`,()=>({library:yr,version:tt}),"VERSION"))}function In(rt,tt){if(null!==rt&&"function"!=typeof rt)throw Yn.create("invalid-log-argument");(0,L.Am)(rt,tt)}function ti(rt){(0,L.Ub)(rt)}Qr(new te.wA("platform-logger",tt=>new re(tt),"PRIVATE")),Ye(se,Y,""),Ye(se,Y,"esm2017"),Ye("fire-js","")},6034:(We,be,F)=>{"use strict";F.d(be,{wA:()=>L,H0:()=>Y});var u=F(4762),te=F(3854),L=function(){function j(P,V,$){this.name=P,this.instanceFactory=V,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return j.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},j.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},j.prototype.setServiceProps=function(P){return this.serviceProps=P,this},j.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},j}(),fe="[DEFAULT]",re=function(){function j(P,V){this.name=P,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return j.prototype.get=function(P){var V=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(V)){var $=new te.BH;if(this.instancesDeferred.set(V,$),this.isInitialized(V)||this.shouldAutoInitialize())try{var ae=this.getOrInitializeService({instanceIdentifier:V});ae&&$.resolve(ae)}catch(xe){}}return this.instancesDeferred.get(V).promise},j.prototype.getImmediate=function(P){var V,$=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),ae=null!==(V=null==P?void 0:P.optional)&&void 0!==V&&V;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(xe){if(ae)return null;throw xe}},j.prototype.getComponent=function(){return this.component},j.prototype.setComponent=function(P){var V,$;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(j){return"EAGER"===j.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(Ee){}try{for(var ae=(0,u.XA)(this.instancesDeferred.entries()),xe=ae.next();!xe.done;xe=ae.next()){var Se=(0,u.CR)(xe.value,2),ce=Se[1],Q=this.normalizeInstanceIdentifier(Se[0]);try{var ne=this.getOrInitializeService({instanceIdentifier:Q});ce.resolve(ne)}catch(Ee){}}}catch(Ee){V={error:Ee}}finally{try{xe&&!xe.done&&($=ae.return)&&$.call(ae)}finally{if(V)throw V.error}}}},j.prototype.clearInstance=function(P){void 0===P&&(P=fe),this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)},j.prototype.delete=function(){return(0,u.mG)(this,void 0,void 0,function(){var P;return(0,u.Jh)(this,function(V){switch(V.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,u.ev)((0,u.ev)([],(0,u.CR)(P.filter(function($){return"INTERNAL"in $}).map(function($){return $.INTERNAL.delete()}))),(0,u.CR)(P.filter(function($){return"_delete"in $}).map(function($){return $._delete()}))))];case 1:return V.sent(),[2]}})})},j.prototype.isComponentSet=function(){return null!=this.component},j.prototype.isInitialized=function(P){return void 0===P&&(P=fe),this.instances.has(P)},j.prototype.getOptions=function(P){return void 0===P&&(P=fe),this.instancesOptions.get(P)||{}},j.prototype.initialize=function(P){var V,$;void 0===P&&(P={});var ae=P.options,xe=void 0===ae?{}:ae,Se=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(Se))throw Error(this.name+"("+Se+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ce=this.getOrInitializeService({instanceIdentifier:Se,options:xe});try{for(var ce=(0,u.XA)(this.instancesDeferred.entries()),Q=ce.next();!Q.done;Q=ce.next()){var ne=(0,u.CR)(Q.value,2),Ie=ne[1];Se===this.normalizeInstanceIdentifier(ne[0])&&Ie.resolve(Ce)}}catch(Dt){V={error:Dt}}finally{try{Q&&!Q.done&&($=ce.return)&&$.call(ce)}finally{if(V)throw V.error}}return Ce},j.prototype.onInit=function(P,V){var $,ae=this.normalizeInstanceIdentifier(V),xe=null!==($=this.onInitCallbacks.get(ae))&&void 0!==$?$:new Set;xe.add(P),this.onInitCallbacks.set(ae,xe);var Se=this.instances.get(ae);return Se&&P(Se,ae),function(){xe.delete(P)}},j.prototype.invokeOnInitCallbacks=function(P,V){var $,ae,xe=this.onInitCallbacks.get(V);if(xe)try{for(var Se=(0,u.XA)(xe),Ce=Se.next();!Ce.done;Ce=Se.next()){var ce=Ce.value;try{ce(P,V)}catch(Q){}}}catch(Q){$={error:Q}}finally{try{Ce&&!Ce.done&&(ae=Se.return)&&ae.call(Se)}finally{if($)throw $.error}}},j.prototype.getOrInitializeService=function(P){var V=P.instanceIdentifier,$=P.options,ae=void 0===$?{}:$,xe=this.instances.get(V);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:J(V),options:ae}),this.instances.set(V,xe),this.instancesOptions.set(V,ae),this.invokeOnInitCallbacks(xe,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,xe)}catch(Se){}return xe||null},j.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=fe),this.component?this.component.multipleInstances?P:fe:P},j.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},j}();function J(j){return j===fe?void 0:j}var Y=function(){function j(P){this.name=P,this.providers=new Map}return j.prototype.addComponent=function(P){var V=this.getProvider(P.name);if(V.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);V.setComponent(P)},j.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},j.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var V=new re(P,this);return this.providers.set(P,V),V},j.prototype.getProviders=function(){return Array.from(this.providers.values())},j}()},5601:(We,be,F)=>{"use strict";F.d(be,{in:()=>te,Yd:()=>se,Ub:()=>Y,Am:()=>j});const u=[];var te=(()=>{return(P=te||(te={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",te;var P})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},fe=te.INFO,re={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},J=(P,V,...$)=>{if(V<P.logLevel)return;const ae=(new Date).toISOString(),xe=re[V];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[xe](`[${ae}]  ${P.name}:`,...$)};class se{constructor(V){this.name=V,this._logLevel=fe,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in te))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?L[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...V),this._logHandler(this,te.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...V),this._logHandler(this,te.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,te.INFO,...V),this._logHandler(this,te.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,te.WARN,...V),this._logHandler(this,te.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...V),this._logHandler(this,te.ERROR,...V)}}function Y(P){u.forEach(V=>{V.setLogLevel(P)})}function j(P,V){for(const $ of u){let ae=null;V&&V.level&&(ae=L[V.level]),$.userLogHandler=null===P?null:(xe,Se,...Ce)=>{const ce=Ce.map(Q=>{if(null==Q)return null;if("string"==typeof Q)return Q;if("number"==typeof Q||"boolean"==typeof Q)return Q.toString();if(Q instanceof Error)return Q.message;try{return JSON.stringify(Q)}catch(ne){return null}}).filter(Q=>Q).join(" ");Se>=(null!=ae?ae:xe.logLevel)&&P({level:te[Se].toLowerCase(),message:ce,args:Ce,type:xe.name})}}}},3854:(We,be,F)=>{"use strict";F.d(be,{BH:()=>ae,LL:()=>ge,ZR:()=>Pe,zI:()=>ue,US:()=>J,tV:()=>j,$s:()=>xi,r3:()=>Jt,Sg:()=>xe,ne:()=>Mi,vZ:()=>Yn,ZB:()=>V,pd:()=>Es,m9:()=>Jo,z$:()=>Se,jU:()=>Q,ru:()=>ne,d:()=>Ie,xb:()=>St,w1:()=>Ke,hl:()=>Ae,uI:()=>Ce,UG:()=>ce,b$:()=>Ee,G6:()=>gt,Mn:()=>Dt,xO:()=>Xr,zd:()=>Gs,eu:()=>ie});const fe=function(z){const G=[];let W=0;for(let De=0;De<z.length;De++){let oe=z.charCodeAt(De);oe<128?G[W++]=oe:oe<2048?(G[W++]=oe>>6|192,G[W++]=63&oe|128):55296==(64512&oe)&&De+1<z.length&&56320==(64512&z.charCodeAt(De+1))?(oe=65536+((1023&oe)<<10)+(1023&z.charCodeAt(++De)),G[W++]=oe>>18|240,G[W++]=oe>>12&63|128,G[W++]=oe>>6&63|128,G[W++]=63&oe|128):(G[W++]=oe>>12|224,G[W++]=oe>>6&63|128,G[W++]=63&oe|128)}return G},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let oe=0;oe<z.length;oe+=3){const Ze=z[oe],dt=oe+1<z.length,Lt=dt?z[oe+1]:0,Xt=oe+2<z.length,ln=Xt?z[oe+2]:0;let qn=(15&Lt)<<2|ln>>6,ii=63&ln;Xt||(ii=64,dt||(qn=64)),De.push(W[Ze>>2],W[(3&Ze)<<4|Lt>>4],W[qn],W[ii])}return De.join("")},encodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(fe(z),G)},decodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){const G=[];let W=0,De=0;for(;W<z.length;){const oe=z[W++];if(oe<128)G[De++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ze=z[W++];G[De++]=String.fromCharCode((31&oe)<<6|63&Ze)}else if(oe>239&&oe<365){const Xt=((7&oe)<<18|(63&z[W++])<<12|(63&z[W++])<<6|63&z[W++])-65536;G[De++]=String.fromCharCode(55296+(Xt>>10)),G[De++]=String.fromCharCode(56320+(1023&Xt))}else{const Ze=z[W++],dt=z[W++];G[De++]=String.fromCharCode((15&oe)<<12|(63&Ze)<<6|63&dt)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray(z,G){this.init_();const W=G?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let oe=0;oe<z.length;){const Ze=W[z.charAt(oe++)],Lt=oe<z.length?W[z.charAt(oe)]:0;++oe;const ln=oe<z.length?W[z.charAt(oe)]:64;++oe;const Ot=oe<z.length?W[z.charAt(oe)]:64;if(++oe,null==Ze||null==Lt||null==ln||null==Ot)throw Error();De.push(Ze<<2|Lt>>4),64!==ln&&(De.push(Lt<<4&240|ln>>2),64!==Ot&&De.push(ln<<6&192|Ot))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},Y=function(z){return function(z){const G=fe(z);return J.encodeByteArray(G,!0)}(z).replace(/\./g,"")},j=function(z){try{return J.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function V(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(const W in G)!G.hasOwnProperty(W)||!$(W)||(z[W]=V(z[W],G[W]));return z}function $(z){return"__proto__"!==z}class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,W)=>{this.resolve=G,this.reject=W})}wrapCallback(G){return(W,De)=>{W?this.reject(W):this.resolve(De),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(W):G(W,De))}}}function xe(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=G||"demo-project",oe=z.iat||0,Ze=z.sub||z.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:oe,exp:oe+3600,auth_time:oe,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(dt)),""].join(".")}function Se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Q(){return"object"==typeof self&&self.self===self}function ne(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Se().indexOf("Electron/")>=0}function Ke(){const z=Se();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Dt(){return Se().indexOf("MSAppHost/")>=0}function gt(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ae(){return"object"==typeof indexedDB}function ie(){return new Promise((z,G)=>{try{let W=!0;const De="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(De);oe.onsuccess=()=>{oe.result.close(),W||self.indexedDB.deleteDatabase(De),z(!0)},oe.onupgradeneeded=()=>{W=!1},oe.onerror=()=>{var Ze;G((null===(Ze=oe.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(W){G(W)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(G,W,De){super(W),this.code=G,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(G,W,De){this.service=G,this.serviceName=W,this.errors=De}create(G,...W){const De=W[0]||{},oe=`${this.service}/${G}`,Ze=this.errors[G],dt=Ze?function(z,G){return z.replace(Zt,(W,De)=>{const oe=G[De];return null!=oe?String(oe):`<${De}?>`})}(Ze,De):"Error";return new Pe(oe,`${this.serviceName}: ${dt} (${oe}).`,De)}}const Zt=/\{\$([^}]+)}/g;function Jt(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function St(z){for(const G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function Yn(z,G){if(z===G)return!0;const W=Object.keys(z),De=Object.keys(G);for(const oe of W){if(!De.includes(oe))return!1;const Ze=z[oe],dt=G[oe];if(Hs(Ze)&&Hs(dt)){if(!Yn(Ze,dt))return!1}else if(Ze!==dt)return!1}for(const oe of De)if(!W.includes(oe))return!1;return!0}function Hs(z){return null!==z&&"object"==typeof z}function Xr(z){const G=[];for(const[W,De]of Object.entries(z))Array.isArray(De)?De.forEach(oe=>{G.push(encodeURIComponent(W)+"="+encodeURIComponent(oe))}):G.push(encodeURIComponent(W)+"="+encodeURIComponent(De));return G.length?"&"+G.join("&"):""}function Gs(z){const G={};return z.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[oe,Ze]=De.split("=");G[decodeURIComponent(oe)]=decodeURIComponent(Ze)}}),G}function Es(z){const G=z.indexOf("?");if(!G)return"";const W=z.indexOf("#",G);return z.substring(G,W>0?W:void 0)}function Mi(z,G){const W=new Cs(z,G);return W.subscribe.bind(W)}class Cs{constructor(G,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{G(this)}).catch(De=>{this.error(De)})}next(G){this.forEachObserver(W=>{W.next(G)})}error(G){this.forEachObserver(W=>{W.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,W,De){let oe;if(void 0===G&&void 0===W&&void 0===De)throw new Error("Missing Observer.");oe=function(z,G){if("object"!=typeof z||null===z)return!1;for(const W of["next","error","complete"])if(W in z&&"function"==typeof z[W])return!0;return!1}(G)?G:{next:G,error:W,complete:De},void 0===oe.next&&(oe.next=ti),void 0===oe.error&&(oe.error=ti),void 0===oe.complete&&(oe.complete=ti);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(dt){}}),this.observers.push(oe),Ze}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,G)}sendOne(G,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{W(this.observers[G])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function xi(z,G=1e3,W=2){const De=G*Math.pow(W,z),oe=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+oe)}function Jo(z){return z&&z._delegate?z._delegate:z}},2329:(We,be,F)=>{"use strict";F.d(be,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(5452);(0,u.registerVersion)("firebase","9.1.3","app")},7841:(We,be,F)=>{"use strict";F.d(be,{Z:()=>u.Z});var u=F(4486);u.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(We,be,F)=>{"use strict";F.r(be);var u=F(8239),te=F(4486),L=F(3854),fe=F(5452),re=F(4762),J=F(5601),se=F(6034);const Se=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ne=new J.Yd("@firebase/auth");function Ee(v,...p){ne.logLevel<=J.in.ERROR&&ne.error(`Auth (${fe.SDK_VERSION}): ${v}`,...p)}function Ie(v,...p){throw gt(v,...p)}function Ke(v,...p){return gt(v,...p)}function Dt(v,p,g){const w=Object.assign(Object.assign({},Ce()),{[p]:g});return new L.LL("auth","Firebase",w).create(p,{appName:v.name})}function xt(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ie(v,"argument-error"),Dt(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return ce.create(v,...p)}function Ae(v,p,...g){if(!v)throw gt(p,...g)}function ie(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ee(p),new Error(p)}function ue(v,p){v||ie(p)}const _e=new Map;function le(v){ue(v instanceof Function,"Expected a class definition");let p=_e.get(v);return p?(ue(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,_e.set(v,p),p)}function ct(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Zt(){return"http:"===En()||"https:"===En()}function En(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class yt{constructor(p,g){this.shortDelay=p,this.longDelay=g,ue(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Kt(v,p){ue(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class ir{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jt=new yt(3e4,6e4);function un(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function St(v,p,g,w){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(v,p,g,w,S={}){return Yn(v,S,()=>{let k={},K={};w&&("GET"===p?K=w:k={body:JSON.stringify(w)});const ye=(0,L.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Fe=new(ir.headers());return Fe.set("Content-Type","application/json"),Fe.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Fe.set("X-Firebase-Locale",v.languageCode),ir.fetch()(Es(v,v.config.apiHost,g,ye),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function Yn(v,p,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qr),p);try{const S=new ei(v),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw Mi(v,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const ye=k.ok?K.errorMessage:K.error.message,[Fe,je]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw Mi(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Fe)throw Mi(v,"email-already-in-use",K);const ut=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw Dt(v,ut,je);Ie(v,ut)}}catch(S){if(S instanceof L.ZR)throw S;Ie(v,"network-request-failed")}})).apply(this,arguments)}function Xr(v,p,g,w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(v,p,g,w,S={}){const k=yield St(v,p,g,w,S);return"mfaPendingCredential"in k&&Ie(v,"multi-factor-auth-required",{serverResponse:k}),k})).apply(this,arguments)}function Es(v,p,g,w){const S=`${p}${g}?${w}`;return v.config.emulator?Kt(v.config,S):`${v.config.apiScheme}://${S}`}class ei{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ke(this.auth,"timeout")),Jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mi(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=Ke(v,p,w);return S.customData._tokenResponse=g,S}function Ye(){return(Ye=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function In(v,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ni(v,p){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function tt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function yr(){return(yr=(0,u.Z)(function*(v,p=!1){const g=(0,L.m9)(v),w=yield g.getIdToken(p),S=Ue(w);Ae(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:S,token:w,authTime:tt(Wt(S.auth_time)),issuedAtTime:tt(Wt(S.iat)),expirationTime:tt(Wt(S.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(v){return 1e3*Number(v)}function Ue(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,L.tV)(g);return S?JSON.parse(S):(Ee("Failed to decode base64 JWT payload"),null)}catch(S){return Ee("Caught error parsing JWT payload as JSON",S),null}}function vi(v,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&xi(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function xi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Qt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class ri{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=tt(this.lastLoginAt),this.creationTime=tt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jo(v){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),S=yield vi(v,ni(g,{idToken:w}));Ae(null==S?void 0:S.users.length,g,"internal-error");const k=S.users[0];v._notifyReloadListener(k);const K=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?oe(k.providerUserInfo):[],ye=De(v.providerData,K),ut=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==ye?void 0:ye.length)),it={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ye,metadata:new ri(k.createdAt,k.lastLoginAt),isAnonymous:ut};Object.assign(v,it)})).apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(v){const p=(0,L.m9)(v);yield Jo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function De(v,p){return[...v.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function oe(v){return v.map(p=>{var{providerId:g}=p,w=(0,re._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function dt(){return(dt=(0,u.Z)(function*(v,p){const g=yield Yn(v,{},()=>{const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=v.config,K=Es(v,S,"/v1/token",`key=${k}`);return ir.fetch()(K,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ae(p.idToken,"internal-error"),Ae(void 0!==p.idToken,"internal-error"),Ae(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ue(v);return Ae(p,"internal-error"),Ae(void 0!==p.exp,"internal-error"),Ae(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,u.Z)(function*(){return Ae(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:K}=yield function(v,p){return dt.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(S,k,Number(K))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:S,expirationTime:k}=g,K=new Lt;return w&&(Ae("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),S&&(Ae("string"==typeof S,"internal-error",{appName:p}),K.accessToken=S),k&&(Ae("number"==typeof k,"internal-error",{appName:p}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return ie("not implemented")}}function Xt(v,p){Ae("string"==typeof v||void 0===v,"internal-error",{appName:p})}class ln{constructor(p){var{uid:g,auth:w,stsTokenManager:S}=p,k=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new ri(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const w=yield vi(g,g.stsTokenManager.getToken(g.auth,p));return Ae(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function(v){return yr.apply(this,arguments)}(this,p)}reload(){return function(v){return W.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ln(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Jo(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield vi(p,function(v,p){return Ye.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,S,k,K,ye,Fe,je,ut;const it=null!==(w=g.displayName)&&void 0!==w?w:void 0,kn=null!==(S=g.email)&&void 0!==S?S:void 0,fs=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,bu=null!==(K=g.photoURL)&&void 0!==K?K:void 0,If=null!==(ye=g.tenantId)&&void 0!==ye?ye:void 0,Af=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,Xu=null!==(je=g.createdAt)&&void 0!==je?je:void 0,Wg=null!==(ut=g.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:wa,emailVerified:Fs,isAnonymous:Jy,providerData:Yg,stsTokenManager:Sf}=g;Ae(wa&&Sf,p,"internal-error");const j1=Lt.fromJSON(this.name,Sf);Ae("string"==typeof wa,p,"internal-error"),Xt(it,p.name),Xt(kn,p.name),Ae("boolean"==typeof Fs,p,"internal-error"),Ae("boolean"==typeof Jy,p,"internal-error"),Xt(fs,p.name),Xt(bu,p.name),Xt(If,p.name),Xt(Af,p.name),Xt(Xu,p.name),Xt(Wg,p.name);const ps=new ln({uid:wa,auth:p,email:kn,emailVerified:Fs,displayName:it,isAnonymous:Jy,photoURL:bu,phoneNumber:fs,tenantId:If,stsTokenManager:j1,createdAt:Xu,lastLoginAt:Wg});return Yg&&Array.isArray(Yg)&&(ps.providerData=Yg.map(Nf=>Object.assign({},Nf))),Af&&(ps._redirectEventId=Af),ps}static _fromIdTokenResponse(p,g,w=!1){return(0,u.Z)(function*(){const S=new Lt;S.updateFromServerResponse(g);const k=new ln({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield Jo(k),k})()}}const Ot=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,u.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,u.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,u.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function qn(v,p,g){return`firebase:${v}:${p}:${g}`}class ii{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=qn(this.userKey,S.apiKey,k),this.fullPersistenceKey=qn("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ln._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,u.Z)(function*(){if(!g.length)return new ii(le(Ot),p,w);const S=(yield Promise.all(g.map(function(){var je=(0,u.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return je.apply(this,arguments)}}()))).filter(je=>je);let k=S[0]||le(Ot);const K=qn(w,p.config.apiKey,p.name);let ye=null;for(const je of g)try{const ut=yield je._get(K);if(ut){const it=ln._fromJSON(p,ut);je!==k&&(ye=it),k=je;break}}catch(ut){}const Fe=S.filter(je=>je._shouldAllowMigration);return k._shouldAllowMigration&&Fe.length?(k=Fe[0],ye&&(yield k._set(K,ye.toJSON())),yield Promise.all(g.map(function(){var je=(0,u.Z)(function*(ut){if(ut!==k)try{yield ut._remove(K)}catch(it){}});return function(ut){return je.apply(this,arguments)}}())),new ii(k,p,w)):new ii(k,p,w)})()}}function Oa(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ru(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Qo(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Kn(p))return"Blackberry";if(Lr(p))return"Webos";if(xu(p))return"Safari";if((p.includes("chrome/")||Pa(p))&&!p.includes("edge/"))return"Chrome";if(qs(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Qo(v=(0,L.z$)()){return/firefox\//i.test(v)}function xu(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Pa(v=(0,L.z$)()){return/crios\//i.test(v)}function Ru(v=(0,L.z$)()){return/iemobile/i.test(v)}function qs(v=(0,L.z$)()){return/android/i.test(v)}function Kn(v=(0,L.z$)()){return/blackberry/i.test(v)}function Lr(v=(0,L.z$)()){return/webos/i.test(v)}function or(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function Be(v=(0,L.z$)()){return or(v)||qs(v)||Lr(v)||Kn(v)||/windows phone/i.test(v)||Ru(v)}function zt(v,p=[]){let g;switch(v){case"Browser":g=Oa((0,L.z$)());break;case"Worker":g=`${Oa((0,L.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${fe.SDK_VERSION}/${w}`}class Vr{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pn(this),this.idTokenSubscription=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=le(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S;w._deleted||(w.persistenceManager=yield ii.create(w,p),!w._deleted&&((null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(g),!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var w;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,K=null==S?void 0:S._redirectEventId,ye=yield g.tryRedirectSignIn(p);(!k||k===K)&&(null==ye?void 0:ye.user)&&(S=ye.user)}return S?S._redirectEventId?(Ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield Jo(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&Ae(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&Ae(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(le(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,u.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&le(p)||g._popupRedirectResolver;Ae(w,g,"argument-error"),g.redirectPersistenceManager=yield ii.create(g,[le(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),K=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,w,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function cn(v){return(0,L.m9)(v)}class Pn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yn(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Zs(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class oi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ie("not implemented")}_getIdTokenResponse(p){return ie("not implemented")}_linkToIdToken(p,g){return ie("not implemented")}_getReauthenticationResolver(p){return ie("not implemented")}}function zs(v,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:resetPassword",un(v,p))})).apply(this,arguments)}function Xo(v,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fa(v,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:update",un(v,p))})).apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithPassword",un(v,p))})).apply(this,arguments)}function ku(v,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:sendOobCode",un(v,p))})).apply(this,arguments)}function Cn(v,p){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(v,p){return ku(v,p)})).apply(this,arguments)}function ea(v,p){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(v,p){return ku(v,p)})).apply(this,arguments)}function Ws(v,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(v,p){return ku(v,p)})).apply(this,arguments)}function gg(v,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(v,p){return ku(v,p)})).apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithEmailLink",un(v,p))})).apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithEmailLink",un(v,p))})).apply(this,arguments)}class Ur extends oi{constructor(p,g,w,S=null){super("password",w),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Ur(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Ur(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return bt.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return Ou.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return Xo(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,p){return ur.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Fn(v,p){return od.apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithIdp",un(v,p))})).apply(this,arguments)}class ns extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ns(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=g,k=(0,re._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const K=new ns(w,S);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(p){return Fn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Fn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Fn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function mg(v,p){return ad.apply(this,arguments)}function ad(){return(ad=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:sendVerificationCode",un(v,p))})).apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,p))})).apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(v,p){const g=yield Xr(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,p));if(g.temporaryProof)throw Mi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yg={USER_NOT_FOUND:"user-not-found"};function ld(){return(ld=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithPhoneNumber",un(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),yg)})).apply(this,arguments)}class na extends oi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new na({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new na({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return Va.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return ud.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return ld.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}=p;return w||g||S||k?new na({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class ra{constructor(p){var g,w,S,k,K,ye;const Fe=(0,L.zd)((0,L.pd)(p)),je=null!==(g=Fe.apiKey)&&void 0!==g?g:null,ut=null!==(w=Fe.oobCode)&&void 0!==w?w:null,it=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Fe.mode)&&void 0!==S?S:null);Ae(je&&ut&&it,"argument-error"),this.apiKey=je,this.operation=it,this.code=ut,this.continueUrl=null!==(k=Fe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Fe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ye=Fe.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const g=function(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||p||v}(p);try{return new ra(g)}catch(w){return null}}}let ia=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Ur._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=ra.parseLink(w);return Ae(S,"argument-error"),Ur._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Oi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ua extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ys extends Ua{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Ae("providerId"in g&&"signInMethod"in g,"argument-error"),ns._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ae(p.idToken||p.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ys.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ys.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:K,providerId:ye}=p;if(!w&&!S&&!g&&!k||!ye)return null;try{return new Ys(ye)._credential({idToken:g,accessToken:w,nonce:K,pendingToken:k})}catch(Fe){return null}}}let Fl=(()=>{class v extends Ua{constructor(){super("facebook.com")}static credential(g){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Is=(()=>{class v extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return v.credential(w,S)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),cd=(()=>{class v extends Ua{constructor(){super("github.com")}static credential(g){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ks extends oi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Fn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Fn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Fn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:k}=g;return w&&S&&k&&w===S?new Ks(w,k):null}static _create(p,g){return new Ks(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Pi=(()=>{class v extends Ua{constructor(){super("twitter.com")}static credential(g,w){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return v.credential(w,S)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ll(v,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signUp",un(v,p))})).apply(this,arguments)}class ai{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,S=!1){return(0,u.Z)(function*(){const k=yield ln._fromIdTokenResponse(p,w,S),K=dd(w);return new ai({user:k,providerId:K,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=dd(w);return new ai({user:p,providerId:S,_tokenResponse:w,operationType:g})})()}}function dd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Io(){return(Io=(0,u.Z)(function*(v){var p;const g=cn(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new ai({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Ll(g,{returnSecureToken:!0}),S=yield ai._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ba extends L.ZR{constructor(p,g,w,S){var k;super(g.code,g.message),this.operationType=w,this.user=S,this.name="FirebaseError",Object.setPrototypeOf(this,Ba.prototype),this.appName=p.name,this.code=g.code,this.tenantId=null!==(k=p.tenantId)&&void 0!==k?k:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(p,g,w,S){return new Ba(p,g,w,S)}}function ja(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ba._fromErrorAndOperation(v,k,p,w):k})}function hd(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Fu(){return(Fu=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v);yield Li(!0,g,p);const{providerUserInfo:w}=yield In(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=hd(w||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function rn(v,p){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(v,p,g=!1){const w=yield vi(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return ai._forOperation(v,"link",w)})).apply(this,arguments)}function Li(v,p,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(v,p,g){yield Jo(p);const S=!1===v?"provider-already-linked":"no-such-provider";Ae(hd(p.providerData).has(g)===v,p.auth,S)})).apply(this,arguments)}function sn(v,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,u.Z)(function*(v,p,g=!1){const{auth:w}=v,S="reauthenticate";try{const k=yield vi(v,ja(w,S,p,v),g);Ae(k.idToken,w,"internal-error");const K=Ue(k.idToken);Ae(K,w,"internal-error");const{sub:ye}=K;return Ae(v.uid===ye,w,"user-mismatch"),ai._forOperation(v,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ie(w,"user-mismatch"),k}})).apply(this,arguments)}function Lu(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(v,p,g=!1){const w="signIn",S=yield ja(v,w,p),k=yield ai._fromIdTokenResponse(v,w,S);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function br(v,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(v,p){return Lu(cn(v),p)})).apply(this,arguments)}function Vu(v,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v);return yield Li(!1,g,p.providerId),rn(g,p)})).apply(this,arguments)}function Br(v,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(v,p){return sn((0,L.m9)(v),p)})).apply(this,arguments)}function Ul(v,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(v,p){return Xr(v,"POST","/v1/accounts:signInWithCustomToken",un(v,p))})).apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(v,p){const g=cn(v),w=yield Ul(g,{token:p,returnSecureToken:!0}),S=yield ai._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class to{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?st._fromServerResponse(p,g):Ie(p,"internal-error")}}class st extends to{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new st(g)}}function Uu(v,p,g){var w;Ae((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Ae(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ae(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Ae(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function qa(){return(qa=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v),S={requestType:"PASSWORD_RESET",email:p};g&&Uu(w,S,g),yield ea(w,S)})).apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(v,p,g){yield zs((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(v,p){yield Fa((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function Ne(v,p){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v),w=yield zs(g,{oobCode:p}),S=w.requestType;switch(Ae(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(w.mfaInfo,g,"internal-error");default:Ae(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=to._fromServerResponse(cn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(v,p){const{data:g}=yield Ne((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(v,p,g){const w=cn(v),S=yield Ll(w,{returnSecureToken:!0,email:p,password:g}),k=yield ai._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Ae(g.handleCodeInApp,w,"argument-error"),g&&Uu(w,S,g),yield Ws(w,S)})).apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v),S=ia.credentialWithLink(p,g||ct());return Ae(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),br(w,S)})).apply(this,arguments)}function la(v,p){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:createAuthUri",un(v,p))})).apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(v,p){const w={identifier:p,continueUri:Zt()?ct():"http://localhost"},{signinMethods:S}=yield la((0,L.m9)(v),w);return S||[]})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(v,p){const g=(0,L.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Uu(g.auth,S,p);const{email:k}=yield Cn(g.auth,S);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Uu(w.auth,k,g);const{email:K}=yield gg(w.auth,k);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function $l(v,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(v,p){return St(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,L.m9)(v),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},K=yield vi(w,$l(w.auth,k));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const ye=w.providerData.find(({providerId:Fe})=>"password"===Fe);ye&&(ye.displayName=w.displayName,ye.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ka(v,p,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(v,p,g){const{auth:w}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const K=yield vi(v,Xo(w,k));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class So{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class md extends So{constructor(p,g,w,S){super(p,g,w),this.username=S}}class _d extends So{constructor(p,g){super(p,"facebook.com",g)}}class yd extends md{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class No extends So{constructor(p,g){super(p,"google.com",g)}}class ef extends md{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Gl(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const K=null===(g=null===(p=Ue(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(K)return new So(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new _d(k,S);case"github.com":return new yd(k,S);case"google.com":return new No(k,S);case"twitter.com":return new ef(k,S,v.screenName||null);case"custom":case"anonymous":return new So(k,null);default:return new So(k,w,S)}}(g)}class Ns{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ns("enroll",p)}static _fromMfaPendingCredential(p){return new Ns("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ns._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Ns._fromIdtoken(p.multiFactorSession.idToken)}return null}}class da{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=cn(p),S=(g.serverResponse.mfaInfo||[]).map(K=>to._fromServerResponse(w,K));Ae(g.serverResponse.mfaPendingCredential,w,"internal-error");const k=Ns._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new da(k,S,function(){var K=(0,u.Z)(function*(ye){const Fe=yield ye._process(w,k);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const je=Object.assign(Object.assign({},g.serverResponse),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(g.operationType){case"signIn":const ut=yield ai._fromIdTokenResponse(w,g.operationType,je);return yield w._updateCurrentUser(ut.user),ut;case"reauthenticate":return Ae(g.user,w,"internal-error"),ai._forOperation(g.user,g.operationType,je);default:Ie(w,"internal-error")}});return function(ye){return K.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function eu(v,p){return St(v,"POST","/v2/accounts/mfaEnrollment:start",un(v,p))}class Wl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>to._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Wl(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ns._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,u.Z)(function*(){const S=p,k=yield w.getSession(),K=yield vi(w.user,S._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),k=yield vi(g.user,function(v,p){return St(v,"POST","/v2/accounts/mfaEnrollment:withdraw",un(v,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:K})=>K!==w),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const ss=new WeakMap,tu="__sak";class vd{constructor(p,g){this.storage=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(tu,"1"),this.storage.removeItem(tu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const Kl=(()=>{class v extends vd{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,L.z$)();return xu(v)||or(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Be(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&g(w,k,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ye,Fe,je)=>{this.notifyListeners(ye,je)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(S);if(g.newValue!==ye)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const k=()=>{const ye=this.storage.getItem(S);!w&&this.localCache[S]===ye||this.notifyListeners(S,ye)},K=this.storage.getItem(S);(0,L.w1)()&&10===document.documentMode&&K!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,k=this;return(0,u.Z)(function*(){yield S().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,u.Z)(function*(){const k=yield w().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,S=this;return(0,u.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),as=(()=>{class v extends vd{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let us=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,u.Z)(function*(){const S=g,{eventId:k,eventType:K,data:ye}=S.data,Fe=w.handlersMap[K];if(!(null==Fe?void 0:Fe.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const je=Array.from(Fe).map(function(){var it=(0,u.Z)(function*(kn){return kn(S.origin,ye)});return function(kn){return it.apply(this,arguments)}}()),ut=yield function(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(je);S.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:ut})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ms(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class wd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var S=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,ye;return new Promise((Fe,je)=>{const ut=Ms("",20);k.port1.start();const it=setTimeout(()=>{je(new Error("unsupported_event"))},w);ye={messageChannel:k,onMessage(kn){const fs=kn;if(fs.data.eventId===ut)switch(fs.data.status){case"ack":clearTimeout(it),K=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Fe(fs.data.response);break;default:clearTimeout(it),clearTimeout(K),je(new Error("invalid_response"))}}},S.handlers.add(ye),k.port1.addEventListener("message",ye.onMessage),S.target.postMessage({eventType:p,eventId:ut,data:g},[k.port2])}).finally(()=>{ye&&S.removeMessageHandler(ye)})})()}}function vn(){return window}function Ed(){return void 0!==vn().WorkerGlobalScope&&"function"==typeof vn().importScripts}function nu(){return(nu=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Jl="firebaseLocalStorageDb",Ql="firebaseLocalStorage",Xl="fbase_key";class Rs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ro(v,p){return v.transaction([Ql],p?"readwrite":"readonly").objectStore(Ql)}function qe(){const v=indexedDB.open(Jl,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Ql,{keyPath:Xl})}catch(S){g(S)}}),v.addEventListener("success",(0,u.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Ql)?p(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(Jl);return new Rs(v).toPromise()}(),p(yield qe()))}))})}function Gt(v,p,g){return ru.apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(v,p,g){const w=Ro(v,!0).put({[Xl]:p,value:g});return new Rs(w).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(v,p){const g=Ro(v,!1).get(p),w=yield new Rs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ks(v,p){const g=Ro(v,!0).delete(p);return new Rs(g).toPromise()}const io=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield qe()),g.db})()}_withRetries(g){var w=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Ed()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=us._getInstance(Ed()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function(){return nu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new wd(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield qe();return yield Gt(g,tu,"1"),yield ks(g,tu),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(k=>Gt(k,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,u.Z)(function*(){const S=yield w._withRetries(k=>function(v,p){return ro.apply(this,arguments)}(k,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(S=>ks(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const w=yield g._withRetries(K=>{const ye=Ro(K,!1).getAll();return new Rs(ye).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:K,value:ye}of w)k.add(K),JSON.stringify(g.localCache[K])!==JSON.stringify(ye)&&(g.notifyListeners(K,ye),S.push(K));for(const K of Object.keys(g.localCache))g.localCache[K]&&!k.has(K)&&(g.notifyListeners(K,null),S.push(K));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Sn(v,p){return St(v,"POST","/v2/accounts/mfaSignIn:start",un(v,p))}function su(){return(su=(0,u.Z)(function*(v){return(yield St(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tc(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=S=>{const k=Ke("internal-error");k.customData=S,g(k)},w.type="text/javascript",w.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function ga(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ei=1e12;class so{constructor(p){this.auth=p,this.counter=Ei,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new ko(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Ei;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ei))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var w;return null===(w=g._widgets.get(p||Ei))||void 0===w||w.execute(),""})()}}class ko{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Ae(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cs=ga("rcb"),Dd=new yt(3e4,6e4);class Bi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vn().grecaptcha}load(p,g=""){return Ae((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(vn().grecaptcha):new Promise((w,S)=>{const k=vn().setTimeout(()=>{S(Ke(p,"network-request-failed"))},Dd.get());vn()[cs]=()=>{vn().clearTimeout(k),delete vn()[cs];const ye=vn().grecaptcha;if(!ye)return void S(Ke(p,"internal-error"));const Fe=ye.render;ye.render=(je,ut)=>{const it=Fe(je,ut);return this.counter++,it},this.hostLanguage=g,w(ye)},tc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:cs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(Ke(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!vn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tg{load(p){return(0,u.Z)(function*(){return new so(p)})()}clearedOneInstance(){}}const mn="recaptcha",sf={theme:"light",type:"image"};class $u{constructor(p,g=Object.assign({},sf),w){this.parameters=g,this.type=mn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(w),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Ae(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tg:new Bi,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const K=ye=>{!ye||(p.tokenChangeListeners.delete(K),k(ye))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=vn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Ae(Zt()&&!Ed(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return su.apply(this,arguments)}(p.auth);Ae(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Td{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=na._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function oo(){return(oo=(0,u.Z)(function*(v,p,g){const w=cn(v),S=yield ou(w,p,(0,L.m9)(g));return new Td(S,k=>br(w,k))})).apply(this,arguments)}function Id(){return(Id=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v);yield Li(!1,w,"phone");const S=yield ou(w.auth,p,(0,L.m9)(g));return new Td(S,k=>Vu(w,k))})).apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v),S=yield ou(w.auth,p,(0,L.m9)(g));return new Td(S,k=>Br(w,k))})).apply(this,arguments)}function ou(v,p,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(v,p,g){var w;const S=yield g.verify();try{let k;if(Ae("string"==typeof S,v,"argument-error"),Ae(g.type===mn,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const K=k.session;if("phoneNumber"in k)return Ae("enroll"===K.type,v,"internal-error"),(yield eu(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Ae("signin"===K.type,v,"internal-error");const ye=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Ae(ye,v,"missing-multi-factor-info"),(yield Sn(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield mg(v,{phoneNumber:k.phoneNumber,recaptchaToken:S});return K}}finally{g._reset()}})).apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(v,p){yield rn((0,L.m9)(v),p)})).apply(this,arguments)}let ds=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=cn(g)}verifyPhoneNumber(g,w){return ou(this.auth,g,(0,L.m9)(w))}static credential(g,w){return na._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?na._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function tn(v,p){return p?le(p):(Ae(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class au extends oi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Fn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Fn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Fn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ad(v){return Lu(v.auth,new au(v),v.bypassAuthState)}function ji(v){const{auth:p,user:g}=v;return Ae(g,p,"internal-error"),sn(g,new au(v),v.bypassAuthState)}function hs(v){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(v){const{auth:p,user:g}=v;return Ae(g,p,"internal-error"),rn(g,new au(v),v.bypassAuthState)})).apply(this,arguments)}class ui{constructor(p,g,w,S,k=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:K,error:ye,type:Fe}=p;if(ye)return void g.reject(ye);const je={auth:g.auth,requestUri:w,sessionId:S,tenantId:K||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(je))}catch(ut){g.reject(ut)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ad;case"linkViaPopup":case"linkViaRedirect":return hs;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:Ie(this.auth,"internal-error")}}resolve(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Os=new yt(2e3,1e4);function Gu(){return(Gu=(0,u.Z)(function*(v,p,g){const w=cn(v);xt(v,p,Oi);const S=tn(w,g);return new Nn(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Nd(){return(Nd=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v);xt(w.auth,p,Oi);const S=tn(w.auth,g);return new Nn(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v);xt(w.auth,p,Oi);const S=tn(w.auth,g);return new Nn(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Nn=(()=>{class v extends ui{constructor(g,w,S,k,K){super(g,w,k,K),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return Ae(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){ue(1===g.filter.length,"Popup operations only handle one event");const w=Ms();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ke(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Os.get())};g()}}return v.currentPopupAction=null,v})();const lo=new Map;class of extends ui{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=lo.get(g.auth._key());if(!w){try{const k=(yield function(v,p){return C.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}lo.set(g.auth._key(),w)}return w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function C(){return(C=(0,u.Z)(function*(v,p){const g=pe(p),w="true"===(yield ee(v)._get(g));return yield ee(v)._remove(g),w})).apply(this,arguments)}function I(v,p){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)(function*(v,p){return ee(v)._set(pe(p),"true")})).apply(this,arguments)}function ee(v){return le(v._redirectPersistence)}function pe(v){return qn("pendingRedirect",v.config.apiKey,v.name)}function Ge(){return(Ge=(0,u.Z)(function*(v,p,g){const w=cn(v);xt(v,p,Oi);const S=tn(w,g);return yield I(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v);xt(w.auth,p,Oi);const S=tn(w.auth,g);yield I(S,w.auth);const k=yield ht(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(v,p,g){const w=(0,L.m9)(v);xt(w.auth,p,Oi);const S=tn(w.auth,g);yield Li(!1,w,p.providerId),yield I(S,w.auth);const k=yield ht(w);return S._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(v,p){return yield cn(v)._initializationPromise,Ci(v,p,!1)})).apply(this,arguments)}function Ci(v,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(v,p,g=!1){const w=cn(v),S=tn(w,p),K=yield new of(w,S,g).execute();return K&&!g&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function ht(v){return uf.apply(this,arguments)}function uf(){return(uf=(0,u.Z)(function*(v){const p=Ms(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Md{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ya(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!ya(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ke(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lf(p))}saveEventToCache(p){this.cachedEventUids.add(lf(p)),this.lastProcessedEventTime=Date.now()}}function lf(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ya({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Sg(v){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(v,p={}){return St(v,"GET","/v1/projects",p)})).apply(this,arguments)}const cf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vy=/^https?/;function co(){return(co=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Sg(v);for(const g of p)try{if(Wn(g))return}catch(w){}Ie(v,"unauthorized-domain")})).apply(this,arguments)}function Wn(v){const p=ct(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&K.hostname===w}if(!Vy.test(g))return!1;if(cf.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Cr=new yt(3e4,6e4);function Ng(){const v=vn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let cu=null;function ic(v){return cu=cu||function(v){return new Promise((p,g)=>{var w,S,k;function K(){Ng(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ng(),g(Ke(v,"network-request-failed"))},timeout:Cr.get()})}if(null===(S=null===(w=vn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=vn().gapi)||void 0===k?void 0:k.load)){const ye=ga("iframefcb");return vn()[ye]=()=>{gapi.load?K():g(Ke(v,"network-request-failed"))},tc(`https://apis.google.com/js/api.js?onload=${ye}`)}K()}}).catch(p=>{throw cu=null,p})}(v),cu}const xg=new yt(5e3,15e3),du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xd(v){const p=v.config;Ae(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Kt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:fe.SDK_VERSION},S=qu.get(v.config.apiHost);S&&(w.eid=S);const k=v._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function Rt(){return(Rt=(0,u.Z)(function*(v){const p=yield ic(v),g=vn().gapi;return Ae(g,v,"internal-error"),p.open({where:document.body,url:xd(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:du,dontclear:!0},w=>new Promise(function(){var S=(0,u.Z)(function*(k,K){yield w.restyle({setHideOnLeave:!1});const ye=Ke(v,"network-request-failed"),Fe=vn().setTimeout(()=>{K(ye)},xg.get());function je(){vn().clearTimeout(Fe),k(w)}w.ping(je).then(je,()=>{K(ye)})});return function(k,K){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const sc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function ac(v,p,g,w,S,k){Ae(v.config.authDomain,v,"auth-domain-config-required"),Ae(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:fe.SDK_VERSION,eventId:S};if(p instanceof Oi){p.setDefaultLanguage(v.languageCode),K.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Fe,je]of Object.entries(k||{}))K[Fe]=je}if(p instanceof Ua){const Fe=p.getScopes().filter(je=>""!==je);Fe.length>0&&(K.scopes=Fe.join(","))}v.tenantId&&(K.tid=v.tenantId);const ye=K;for(const Fe of Object.keys(ye))void 0===ye[Fe]&&delete ye[Fe];return`${function({config:v}){return v.emulator?Kt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(ye).slice(1)}`}const fu="webStorageSupport";class Vo extends class{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Vo(p)}_finalizeEnroll(p,g,w){return function(v,p){return St(v,"POST","/v2/accounts/mfaEnrollment:finalize",un(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return St(v,"POST","/v2/accounts/mfaSignIn:finalize",un(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jy=(()=>{class v{constructor(){}static assertion(g){return Vo._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,Og="@firebase/auth";class $y{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function va(){return window}function dc(){return(dc=(0,u.Z)(function*(v,p,g){var w;const{BuildInfo:S}=va();ue(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Lg(p.sessionId),K={};return or()?K.ibi=S.packageName:qs()?K.apn=S.packageName:Ie(v,"operation-not-supported-in-this-environment"),S.displayName&&(K.appDisplayName=S.displayName),K.sessionId=k,ac(v,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(v){const{BuildInfo:p}=va(),g={};or()?g.iosBundleId=p.packageName:qs()?g.androidPackageName=p.packageName:Ie(v,"operation-not-supported-in-this-environment"),yield Sg(v,g)})).apply(this,arguments)}function mf(){return(mf=(0,u.Z)(function*(v,p,g){const{cordova:w}=va();let S=()=>{};try{yield new Promise((k,K)=>{let ye=null;function Fe(){var it;k();const kn=null===(it=w.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof kn&&kn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function je(){ye||(ye=window.setTimeout(()=>{K(Ke(v,"redirect-cancelled-by-user"))},2e3))}function ut(){"visible"===(null==document?void 0:document.visibilityState)&&je()}p.addPassiveListener(Fe),document.addEventListener("resume",je,!1),qs()&&document.addEventListener("visibilitychange",ut,!1),S=()=>{p.removePassiveListener(Fe),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",ut,!1),ye&&window.clearTimeout(ye)}})}finally{S()}})).apply(this,arguments)}function Lg(v){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,u.Z)(function*(v){const p=Od(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Od(v){if(ue(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}v="Browser",(0,fe._registerComponent)(new se.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:k}=w.options;return(K=>{Ae(S&&!S.includes(":"),"invalid-api-key",{appName:K.name}),Ae(!(null==k?void 0:k.includes(":")),"argument-error",{appName:K.name});const ye={apiKey:S,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zt(v)},Fe=new Vr(K,ye);return function(v,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(le);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Fe,g),Fe})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new se.wA("auth-internal",p=>{const g=cn(p.getProvider("auth").getImmediate());return new $y(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Og,"0.18.3",void 0),(0,fe.registerVersion)(Og,"0.18.3","esm2017");class Pd extends Md{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function hc(v){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,u.Z)(function*(v){const p=yield Ug()._get(Bg(v));return p&&(yield Ug()._remove(Bg(v))),p})).apply(this,arguments)}function Gy(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Ug(){return le(Kl)}function Bg(v){return qn("authEvent",v.config.apiKey,v.name)}function ho(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}function $g(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ke("no-auth-event")}}function ba(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Ld(v=(0,L.z$)()){return!("file:"!==ba()&&"ionic:"!==ba()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vd(){try{const v=self.localStorage,p=Ms();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Ud()&&(0,L.hl)()}return!1}function Ud(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bd(){return("http:"===ba()||"https:"===ba()||(0,L.ru)()||Ld())&&!((0,L.b$)()||(0,L.UG)())&&Vd()&&!Ud()}function Zg(){return Ld()&&"undefined"!=typeof document}function fo(){return(fo=(0,u.Z)(function*(){return!!Zg()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},po=Ae,Wy="persistence";function Dr(v){return mc.apply(this,arguments)}function mc(){return(mc=(0,u.Z)(function*(v){yield v._initializationPromise;const p=mu(),g=qn(Wy,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function mu(){return"undefined"!=typeof window?window:null}const Tr=Ae;class Gi{constructor(){this.browserResolver=le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=as,this._completeRedirectFn=Ci}_openPopup(p,g,w,S){var k=this;return(0,u.Z)(function*(){var K;ue(null===(K=k.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ye=ac(p,g,w,ct(),S);return function(v,p,g,w=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let ye="";const Fe=Object.assign(Object.assign({},sc),{width:w.toString(),height:S.toString(),top:k,left:K}),je=(0,L.z$)().toLowerCase();g&&(ye=Pa(je)?"_blank":g),Qo(je)&&(p=p||"http://localhost",Fe.scrollbars="yes");const ut=Object.entries(Fe).reduce((kn,[fs,bu])=>`${kn}${fs}=${bu},`,"");if(function(v=(0,L.z$)()){var p;return or(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(je)&&"_self"!==ye)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ye),new zu(null);const it=window.open(p||"",ye,ut);Ae(it,v,"popup-blocked");try{it.focus()}catch(kn){}return new zu(it)}(p,ye,Ms())})()}_openRedirect(p,g,w,S){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),v=ac(p,g,w,ct(),S),vn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(ue(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const w=yield function(v){return Rt.apply(this,arguments)}(p),S=new Md(p);return w.register("authEvent",k=>(Ae(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(fu,{type:fu},S=>{var k;const K=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[fu];void 0!==K&&g(!!K),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return co.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Be()||xu()||or()}}),this.cordovaResolver=le(class{constructor(){this._redirectPersistence=as,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ci}_initialize(p){var g=this;return(0,u.Z)(function*(){const w=p._key();let S=g.eventManagers.get(w);return S||(S=new Pd(p),g.eventManagers.set(w,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,S){var k=this;return(0,u.Z)(function*(){!function(v){var p,g,w,S,k,K,ye,Fe,je,ut;const it=va();Ae("function"==typeof(null===(p=null==it?void 0:it.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(void 0!==(null===(g=null==it?void 0:it.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(k=null===(S=null===(w=null==it?void 0:it.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Fe=null===(ye=null===(K=null==it?void 0:it.cordova)||void 0===K?void 0:K.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Fe?void 0:Fe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(ut=null===(je=null==it?void 0:it.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===ut?void 0:ut.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield k._initialize(p);yield K.initialized(),K.resetRedirect(),lo.clear(),yield k._originValidation(p);const ye=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Gy(),postBody:null,tenantId:v.tenantId,error:Ke(v,"no-auth-event")}}(p,w,S);yield function(v,p){return Ug()._set(Bg(v),p)}(p,ye);const Fe=yield function(v,p,g){return dc.apply(this,arguments)}(p,ye,g),je=yield function(v){const{cordova:p}=va();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(v):S=p.InAppBrowser.open(v,function(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(S)})})}(Fe);return function(v,p,g){return mf.apply(this,arguments)}(p,K,je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return pu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:k}=va(),K=setTimeout((0,u.Z)(function*(){yield hc(p),g.onEvent($g())}),500),ye=function(){var ut=(0,u.Z)(function*(it){clearTimeout(K);const kn=yield hc(p);let fs=null;kn&&(null==it?void 0:it.url)&&(fs=function(v,p){var g,w;const S=function(v){const p=ho(v),g=p.link?decodeURIComponent(p.link):void 0,w=ho(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ho(S).link||S||w||g||v}(p);if(S.includes("/__/auth/callback")){const k=ho(S),K=k.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,ye=null===(w=null===(g=null==K?void 0:K.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Fe=ye?Ke(ye):null;return Fe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:S,postBody:null}}return null}(kn,it.url)),g.onEvent(fs||$g())});return function(kn){return ut.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ye);const Fe=S,je=`${k.packageName.toLowerCase()}://`;va().handleOpenURL=function(){var ut=(0,u.Z)(function*(it){if(it.toLowerCase().startsWith(je)&&ye({url:it}),"function"==typeof Fe)try{Fe(it)}catch(kn){console.error(kn)}});return function(it){return ut.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=as,this._completeRedirectFn=Ci}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,w,S)})()}_openRedirect(p,g,w,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,w,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Zg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return fo.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function jd(v){return v.unwrap()}function Ef(v){return Cf(v)}function Cf(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ds.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Is;break;case"facebook.com":w=Fl;break;case"github.com":w=cd;break;case"twitter.com":w=Pi;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:ye,nonce:Fe}=p;return k||K||S||ye?ye?g.startsWith("saml.")?Ks._create(g,ye):ns._fromParams({providerId:g,signInMethod:g,pendingToken:ye,idToken:S,accessToken:k}):new Ys(g).credential({idToken:S,accessToken:k,rawNonce:Fe}):null}return v instanceof L.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function $r(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function(v,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Ky(v,function(v,p){var g;const w=(0,L.m9)(v),S=p;return Ae(p.operationType,w,"argument-error"),Ae(null===(g=S.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),da._fromError(w,S)}(v,p));else if(w){const S=Cf(p),k=p;S&&(k.credential=S,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(v,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Ef(g),additionalUserInfo:Gl(g),user:jo.getOrCreate(S)}})}function Qu(v,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,u.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>$r(v,g.confirm(w))}})).apply(this,arguments)}class Ky{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return $r(jd(this.auth),this.resolver.resolveSignIn(p))}}class jo{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,L.m9)(v);return ss.has(p)||ss.set(p,Wl._fromUser(p)),ss.get(p)}(p)}static getOrCreate(p){return jo.USER_MAP.has(p)||jo.USER_MAP.set(p,new jo(p)),jo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return $r(g.auth,Vu(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,u.Z)(function*(){return Qu(w.auth,function(v,p,g){return Id.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return $r(g.auth,function(v,p,g){return nc.apply(this,arguments)}(g._delegate,p,Gi))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Dr(cn(g.auth)),function(v,p,g){return function(v,p,g){return ma.apply(this,arguments)}(v,p,g)}(g._delegate,p,Gi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return $r(g.auth,Br(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Qu(this.auth,function(v,p,g){return hn.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return $r(this.auth,function(v,p,g){return Nd.apply(this,arguments)}(this._delegate,p,Gi))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Dr(cn(g.auth)),function(v,p,g){return function(v,p,g){return xn.apply(this,arguments)}(v,p,g)}(g._delegate,p,Gi)})()}sendEmailVerification(p){return function(v,p){return wr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(v,p){return Fu.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return Ka((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return Ka((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return bn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return Ao.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return ca.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jo.USER_MAP=new WeakMap;const _c=Ae;let Df=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;_c(S,"invalid-api-key",{appName:g.name});let k=[Ot];if("undefined"!=typeof window){k=function(v,p){const g=mu();if(!(null==g?void 0:g.sessionStorage))return[];const w=qn(Wy,v,p);switch(g.sessionStorage.getItem(w)){case Hi.NONE:return[Ot];case Hi.LOCAL:return[io,as];case Hi.SESSION:return[as];default:return[]}}(S,g.name);for(const ye of[io,Kl,as])k.includes(ye)||k.push(ye)}_c(S,"invalid-api-key",{appName:g.name});const K="undefined"!=typeof window?Gi:void 0;this._delegate=w.initialize({options:{persistence:k,popupRedirectResolver:K}}),this._delegate._updateErrorMap(Se),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(v,p,g){const w=cn(v);Ae(w._canInitEmulator,w,"emulator-config-failed"),Ae(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),k=yn(p),{host:K,port:ye}=function(v){const p=yn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:Zs(w.substr(k.length+1))}}{const[k,K]=w.split(":");return{host:k,port:Zs(K)}}}(p);w.config.emulator={url:`${k}//${K}${null===ye?"":`:${ye}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:ye,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function(v,p){return Ss.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ne(this._delegate,g)}confirmPasswordReset(g,w){return function(v,p,g){return Za.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,u.Z)(function*(){return $r(S._delegate,function(v,p,g){return is.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return za.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=ra.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){_c(Bd(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(v,p){return _a.apply(this,arguments)}(g._delegate,Gi);return w?$r(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){cn(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:k,error:K,complete:ye}=yu(g,w,S);return this._delegate.onAuthStateChanged(k,K,ye)}onIdTokenChanged(g,w,S){const{next:k,error:K,complete:ye}=yu(g,w,S);return this._delegate.onIdTokenChanged(k,K,ye)}sendSignInLinkToEmail(g,w){return function(v,p,g){return aa.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(v,p,g){return qa.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,u.Z)(function*(){let S;switch(function(v,p){po(Object.values(Hi).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?po(p!==Hi.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?po(p===Hi.NONE,v,"unsupported-persistence-type"):Ud()?po(p===Hi.NONE||p===Hi.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):po(p===Hi.NONE||Vd(),v,"unsupported-persistence-type")}(w._delegate,g),g){case Hi.SESSION:S=as;break;case Hi.LOCAL:S=(yield le(io)._isAvailable())?io:Kl;break;case Hi.NONE:S=Ot;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return $r(this._delegate,function(v){return Io.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return $r(this._delegate,br(this._delegate,g))}signInWithCustomToken(g){return $r(this._delegate,function(v,p){return oa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return $r(this._delegate,function(v,p,g){return br((0,L.m9)(v),ia.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return $r(this._delegate,function(v,p,g){return ua.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Qu(this._delegate,function(v,p,g){return oo.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,u.Z)(function*(){return _c(Bd(),w._delegate,"operation-not-supported-in-this-environment"),$r(w._delegate,function(v,p,g){return Gu.apply(this,arguments)}(w._delegate,g,Gi))})()}signInWithRedirect(g){var w=this;return(0,u.Z)(function*(){return _c(Bd(),w._delegate,"operation-not-supported-in-this-environment"),yield Dr(w._delegate),function(v,p,g){return function(v,p,g){return Ge.apply(this,arguments)}(v,p,g)}(w._delegate,g,Gi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return en.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Hi,v})();function yu(v,p,g){let w=v;"function"!=typeof v&&({next:w,error:p,complete:g}=v);const S=w;return{next:K=>S(K&&jo.getOrCreate(K)),error:p,complete:g}}class yc{constructor(){this.providerId="phone",this._delegate=new ds(jd(te.Z.auth()))}static credential(p,g){return ds.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}yc.PHONE_SIGN_IN_METHOD=ds.PHONE_SIGN_IN_METHOD,yc.PROVIDER_ID=ds.PROVIDER_ID;const zg=Ae;class $d{constructor(p,g,w=te.Z.app()){var S;zg(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new $u(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Df(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ia,FacebookAuthProvider:Fl,GithubAuthProvider:cd,GoogleAuthProvider:Is,OAuthProvider:Ys,PhoneAuthProvider:yc,PhoneMultiFactorGenerator:jy,RecaptchaVerifier:$d,TwitterAuthProvider:Pi,Auth:Df,AuthCredential:oi,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(te.Z)},6676:function(We,be){!function(F){"use strict";function u(ce){return Array.prototype.slice.call(ce)}function te(ce){return new Promise(function(Q,ne){ce.onsuccess=function(){Q(ce.result)},ce.onerror=function(){ne(ce.error)}})}function L(ce,Q,ne){var Ee,Ie=new Promise(function(Ke,Dt){te(Ee=ce[Q].apply(ce,ne)).then(Ke,Dt)});return Ie.request=Ee,Ie}function fe(ce,Q,ne){var Ee=L(ce,Q,ne);return Ee.then(function(Ie){if(Ie)return new P(Ie,Ee.request)})}function re(ce,Q,ne){ne.forEach(function(Ee){Object.defineProperty(ce.prototype,Ee,{get:function(){return this[Q][Ee]},set:function(Ie){this[Q][Ee]=Ie}})})}function J(ce,Q,ne,Ee){Ee.forEach(function(Ie){Ie in ne.prototype&&(ce.prototype[Ie]=function(){return L(this[Q],Ie,arguments)})})}function se(ce,Q,ne,Ee){Ee.forEach(function(Ie){Ie in ne.prototype&&(ce.prototype[Ie]=function(){return this[Q][Ie].apply(this[Q],arguments)})})}function Y(ce,Q,ne,Ee){Ee.forEach(function(Ie){Ie in ne.prototype&&(ce.prototype[Ie]=function(){return fe(this[Q],Ie,arguments)})})}function j(ce){this._index=ce}function P(ce,Q){this._cursor=ce,this._request=Q}function V(ce){this._store=ce}function $(ce){this._tx=ce,this.complete=new Promise(function(Q,ne){ce.oncomplete=function(){Q()},ce.onerror=function(){ne(ce.error)},ce.onabort=function(){ne(ce.error)}})}function ae(ce,Q,ne){this._db=ce,this.oldVersion=Q,this.transaction=new $(ne)}function xe(ce){this._db=ce}re(j,"_index",["name","keyPath","multiEntry","unique"]),J(j,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Y(j,"_index",IDBIndex,["openCursor","openKeyCursor"]),re(P,"_cursor",["direction","key","primaryKey","value"]),J(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ce){ce in IDBCursor.prototype&&(P.prototype[ce]=function(){var Q=this,ne=arguments;return Promise.resolve().then(function(){return Q._cursor[ce].apply(Q._cursor,ne),te(Q._request).then(function(Ee){if(Ee)return new P(Ee,Q._request)})})})}),V.prototype.createIndex=function(){return new j(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new j(this._store.index.apply(this._store,arguments))},re(V,"_store",["name","keyPath","indexNames","autoIncrement"]),J(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Y(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(V,"_store",IDBObjectStore,["deleteIndex"]),$.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},re($,"_tx",["objectStoreNames","mode"]),se($,"_tx",IDBTransaction,["abort"]),ae.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},re(ae,"_db",["name","version","objectStoreNames"]),se(ae,"_db",IDBDatabase,["deleteObjectStore","close"]),xe.prototype.transaction=function(){return new $(this._db.transaction.apply(this._db,arguments))},re(xe,"_db",["name","version","objectStoreNames"]),se(xe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ce){[V,j].forEach(function(Q){ce in Q.prototype&&(Q.prototype[ce.replace("open","iterate")]=function(){var ne=u(arguments),Ee=ne[ne.length-1],Ie=this._store||this._index,Ke=Ie[ce].apply(Ie,ne.slice(0,-1));Ke.onsuccess=function(){Ee(Ke.result)}})})}),[j,V].forEach(function(ce){ce.prototype.getAll||(ce.prototype.getAll=function(Q,ne){var Ee=this,Ie=[];return new Promise(function(Ke){Ee.iterateCursor(Q,function(Dt){Dt?(Ie.push(Dt.value),void 0===ne||Ie.length!=ne?Dt.continue():Ke(Ie)):Ke(Ie)})})})}),F.openDb=function(ce,Q,ne){var Ee=L(indexedDB,"open",[ce,Q]),Ie=Ee.request;return Ie&&(Ie.onupgradeneeded=function(Ke){ne&&ne(new ae(Ie.result,Ke.oldVersion,Ie.transaction))}),Ee.then(function(Ke){return new xe(Ke)})},F.deleteDb=function(ce){return L(indexedDB,"deleteDatabase",[ce])},Object.defineProperty(F,"__esModule",{value:!0})}(be)},1593:(We,be,F)=>{"use strict";F.d(be,{P:()=>se});var u=F(9193),te=F(5917),L=F(7574);class se{constructor(j,P,V){this.kind=j,this.value=P,this.error=V,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,P,V){switch(this.kind){case"N":return j&&j(this.value);case"E":return P&&P(this.error);case"C":return V&&V()}}accept(j,P,V){return j&&"function"==typeof j.next?this.observe(j):this.do(j,P,V)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return Y=this.error,new L.y(P=>P.error(Y));case"C":return(0,u.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new se("N",j):se.undefinedValueNotification}static createError(j){return new se("E",void 0,j)}static createComplete(){return se.completeNotification}}se.completeNotification=new se("C"),se.undefinedValueNotification=new se("N",void 0)},7574:(We,be,F)=>{"use strict";F.d(be,{y:()=>V});var u=F(7393),L=F(9181),fe=F(6490),J=F(6554),se=F(4487);var P=F(2494);let V=(()=>{class ae{constructor(Se){this._isScalar=!1,Se&&(this._subscribe=Se)}lift(Se){const Ce=new ae;return Ce.source=this,Ce.operator=Se,Ce}subscribe(Se,Ce,ce){const{operator:Q}=this,ne=function(ae,xe,Se){if(ae){if(ae instanceof u.L)return ae;if(ae[L.b])return ae[L.b]()}return ae||xe||Se?new u.L(ae,xe,Se):new u.L(fe.c)}(Se,Ce,ce);if(ne.add(Q?Q.call(ne,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!ne.syncErrorThrowable?this._subscribe(ne):this._trySubscribe(ne)),P.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable&&(ne.syncErrorThrowable=!1,ne.syncErrorThrown))throw ne.syncErrorValue;return ne}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Ce){P.v.useDeprecatedSynchronousErrorHandling&&(Se.syncErrorThrown=!0,Se.syncErrorValue=Ce),function(ae){for(;ae;){const{closed:xe,destination:Se,isStopped:Ce}=ae;if(xe||Ce)return!1;ae=Se&&Se instanceof u.L?Se:null}return!0}(Se)?Se.error(Ce):console.warn(Ce)}}forEach(Se,Ce){return new(Ce=$(Ce))((ce,Q)=>{let ne;ne=this.subscribe(Ee=>{try{Se(Ee)}catch(Ie){Q(Ie),ne&&ne.unsubscribe()}},Q,ce)})}_subscribe(Se){const{source:Ce}=this;return Ce&&Ce.subscribe(Se)}[J.L](){return this}pipe(...Se){return 0===Se.length?this:function(ae){return 0===ae.length?se.y:1===ae.length?ae[0]:function(Se){return ae.reduce((Ce,ce)=>ce(Ce),Se)}}(Se)(this)}toPromise(Se){return new(Se=$(Se))((Ce,ce)=>{let Q;this.subscribe(ne=>Q=ne,ne=>ce(ne),()=>Ce(Q))})}}return ae.create=xe=>new ae(xe),ae})();function $(ae){if(ae||(ae=P.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},6490:(We,be,F)=>{"use strict";F.d(be,{c:()=>L});var u=F(2494),te=F(4449);const L={closed:!0,next(fe){},error(fe){if(u.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,te.z)(fe)},complete(){}}},9765:(We,be,F)=>{"use strict";F.d(be,{Yc:()=>se,xQ:()=>Y});var u=F(7574),te=F(7393),L=F(5319),fe=F(7971),re=F(8858),J=F(9181);class se extends te.L{constructor(V){super(V),this.destination=V}}let Y=(()=>{class P extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new se(this)}lift($){const ae=new j(this,this);return ae.operator=$,ae}next($){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:ae}=this,xe=ae.length,Se=ae.slice();for(let Ce=0;Ce<xe;Ce++)Se[Ce].next($)}}error($){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=$,this.isStopped=!0;const{observers:ae}=this,xe=ae.length,Se=ae.slice();for(let Ce=0;Ce<xe;Ce++)Se[Ce].error($);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:$}=this,ae=$.length,xe=$.slice();for(let Se=0;Se<ae;Se++)xe[Se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($){if(this.closed)throw new fe.N;return super._trySubscribe($)}_subscribe($){if(this.closed)throw new fe.N;return this.hasError?($.error(this.thrownError),L.w.EMPTY):this.isStopped?($.complete(),L.w.EMPTY):(this.observers.push($),new re.W(this,$))}asObservable(){const $=new u.y;return $.source=this,$}}return P.create=(V,$)=>new j(V,$),P})();class j extends Y{constructor(V,$){super(),this.destination=V,this.source=$}next(V){const{destination:$}=this;$&&$.next&&$.next(V)}error(V){const{destination:$}=this;$&&$.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:$}=this;return $?this.source.subscribe(V):L.w.EMPTY}}},8858:(We,be,F)=>{"use strict";F.d(be,{W:()=>te});var u=F(5319);class te extends u.w{constructor(fe,re){super(),this.subject=fe,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const fe=this.subject,re=fe.observers;if(this.subject=null,!re||0===re.length||fe.isStopped||fe.closed)return;const J=re.indexOf(this.subscriber);-1!==J&&re.splice(J,1)}}},7393:(We,be,F)=>{"use strict";F.d(be,{L:()=>se});var u=F(9105),te=F(6490),L=F(5319),fe=F(9181),re=F(2494),J=F(4449);class se extends L.w{constructor(P,V,$){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!P){this.destination=te.c;break}if("object"==typeof P){P instanceof se?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new Y(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new Y(this,P,V,$)}}[fe.b](){return this}static create(P,V,$){const ae=new se(P,V,$);return ae.syncErrorThrowable=!1,ae}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class Y extends se{constructor(P,V,$,ae){super(),this._parentSubscriber=P;let xe,Se=this;(0,u.m)(V)?xe=V:V&&(xe=V.next,$=V.error,ae=V.complete,V!==te.c&&(Se=Object.create(V),(0,u.m)(Se.unsubscribe)&&this.add(Se.unsubscribe.bind(Se)),Se.unsubscribe=this.unsubscribe.bind(this))),this._context=Se,this._next=xe,this._error=$,this._complete=ae}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;re.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:$}=re.v;if(this._error)$&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(V.syncErrorThrowable)$?(V.syncErrorValue=P,V.syncErrorThrown=!0):(0,J.z)(P),this.unsubscribe();else{if(this.unsubscribe(),$)throw P;(0,J.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const V=()=>this._complete.call(this._context);re.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,V){try{P.call(this._context,V)}catch($){if(this.unsubscribe(),re.v.useDeprecatedSynchronousErrorHandling)throw $;(0,J.z)($)}}__tryOrSetError(P,V,$){if(!re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,$)}catch(ae){return re.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=ae,P.syncErrorThrown=!0,!0):((0,J.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(We,be,F)=>{"use strict";F.d(be,{w:()=>J});var u=F(9796),te=F(1555),L=F(9105);const re=(()=>{function Y(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((P,V)=>`${V+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return Y.prototype=Object.create(Error.prototype),Y})();class J{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:V,_unsubscribe:$,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof J)P.remove(this);else if(null!==P)for(let xe=0;xe<P.length;++xe)P[xe].remove(this);if((0,L.m)($)){V&&(this._unsubscribe=void 0);try{$.call(this)}catch(xe){j=xe instanceof re?se(xe.errors):[xe]}}if((0,u.k)(ae)){let xe=-1,Se=ae.length;for(;++xe<Se;){const Ce=ae[xe];if((0,te.K)(Ce))try{Ce.unsubscribe()}catch(ce){j=j||[],ce instanceof re?j=j.concat(se(ce.errors)):j.push(ce)}}}if(j)throw new re(j)}add(j){let P=j;if(!j)return J.EMPTY;switch(typeof j){case"function":P=new J(j);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof J)){const ae=P;P=new J,P._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:V}=P;if(null===V)P._parentOrParents=this;else if(V instanceof J){if(V===this)return P;P._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return P;V.push(this)}const $=this._subscriptions;return null===$?this._subscriptions=[P]:$.push(P),P}remove(j){const P=this._subscriptions;if(P){const V=P.indexOf(j);-1!==V&&P.splice(V,1)}}}var Y;function se(Y){return Y.reduce((j,P)=>j.concat(P instanceof re?P.errors:P),[])}J.EMPTY=((Y=new J).closed=!0,Y)},2494:(We,be,F)=>{"use strict";F.d(be,{v:()=>te});let u=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=L},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(We,be,F)=>{"use strict";F.d(be,{IY:()=>fe,Ds:()=>J,ft:()=>Y});var u=F(7393),te=F(7574),L=F(7444);class fe extends u.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends u.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function Y(j,P){if(P.closed)return;if(j instanceof te.y)return j.subscribe(P);let V;try{V=(0,L.s)(j)(P)}catch($){P.error($)}return V}},2441:(We,be,F)=>{"use strict";F.d(be,{c:()=>re,N:()=>J});var u=F(9765),te=F(7574),L=F(5319),fe=F(1307);class re extends te.y{constructor(V,$){super(),this.source=V,this.subjectFactory=$,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new L.w,V.add(this.source.subscribe(new se(this.getSubject(),this))),V.closed&&(this._connection=null,V=L.w.EMPTY)),V}refCount(){return(0,fe.x)()(this)}}const J=(()=>{const P=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class se extends u.Yc{constructor(V,$){super(V),this.connectable=$}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const $=V._connection;V._refCount=0,V._subject=null,V._connection=null,$&&$.unsubscribe()}}}},9193:(We,be,F)=>{"use strict";F.d(be,{E:()=>te,c:()=>L});var u=F(7574);const te=new u.y(re=>re.complete());function L(re){return re?function(re){return new u.y(J=>re.schedule(()=>J.complete()))}(re):te}},4402:(We,be,F)=>{"use strict";F.d(be,{D:()=>Se});var u=F(7574),te=F(7444),L=F(5319),fe=F(6554),se=F(4087),Y=F(377),V=F(4072),$=F(9489);function Se(Ce,ce){return ce?function(Ce,ce){if(null!=Ce){if(function(Ce){return Ce&&"function"==typeof Ce[fe.L]}(Ce))return function(Ce,ce){return new u.y(Q=>{const ne=new L.w;return ne.add(ce.schedule(()=>{const Ee=Ce[fe.L]();ne.add(Ee.subscribe({next(Ie){ne.add(ce.schedule(()=>Q.next(Ie)))},error(Ie){ne.add(ce.schedule(()=>Q.error(Ie)))},complete(){ne.add(ce.schedule(()=>Q.complete()))}}))})),ne})}(Ce,ce);if((0,V.t)(Ce))return function(Ce,ce){return new u.y(Q=>{const ne=new L.w;return ne.add(ce.schedule(()=>Ce.then(Ee=>{ne.add(ce.schedule(()=>{Q.next(Ee),ne.add(ce.schedule(()=>Q.complete()))}))},Ee=>{ne.add(ce.schedule(()=>Q.error(Ee)))}))),ne})}(Ce,ce);if((0,$.z)(Ce))return(0,se.r)(Ce,ce);if(function(Ce){return Ce&&"function"==typeof Ce[Y.hZ]}(Ce)||"string"==typeof Ce)return function(Ce,ce){if(!Ce)throw new Error("Iterable cannot be null");return new u.y(Q=>{const ne=new L.w;let Ee;return ne.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),ne.add(ce.schedule(()=>{Ee=Ce[Y.hZ](),ne.add(ce.schedule(function(){if(Q.closed)return;let Ie,Ke;try{const Dt=Ee.next();Ie=Dt.value,Ke=Dt.done}catch(Dt){return void Q.error(Dt)}Ke?Q.complete():(Q.next(Ie),this.schedule())}))})),ne})}(Ce,ce)}throw new TypeError((null!==Ce&&typeof Ce||Ce)+" is not observable")}(Ce,ce):Ce instanceof u.y?Ce:new u.y((0,te.s)(Ce))}},6693:(We,be,F)=>{"use strict";F.d(be,{n:()=>fe});var u=F(7574),te=F(5015),L=F(4087);function fe(re,J){return J?(0,L.r)(re,J):new u.y((0,te.V)(re))}},6682:(We,be,F)=>{"use strict";F.d(be,{T:()=>re});var u=F(7574),te=F(4869),L=F(3282),fe=F(6693);function re(...J){let se=Number.POSITIVE_INFINITY,Y=null,j=J[J.length-1];return(0,te.K)(j)?(Y=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(se=J.pop())):"number"==typeof j&&(se=J.pop()),null===Y&&1===J.length&&J[0]instanceof u.y?J[0]:(0,L.J)(se)((0,fe.n)(J,Y))}},5917:(We,be,F)=>{"use strict";F.d(be,{of:()=>fe});var u=F(4869),te=F(6693),L=F(4087);function fe(...re){let J=re[re.length-1];return(0,u.K)(J)?(re.pop(),(0,L.r)(re,J)):(0,te.n)(re)}},8002:(We,be,F)=>{"use strict";F.d(be,{U:()=>te});var u=F(7393);function te(re,J){return function(Y){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Y.lift(new L(re,J))}}class L{constructor(J,se){this.project=J,this.thisArg=se}call(J,se){return se.subscribe(new fe(J,this.project,this.thisArg))}}class fe extends u.L{constructor(J,se,Y){super(J),this.project=se,this.count=0,this.thisArg=Y||this}_next(J){let se;try{se=this.project.call(this.thisArg,J,this.count++)}catch(Y){return void this.destination.error(Y)}this.destination.next(se)}}},3282:(We,be,F)=>{"use strict";F.d(be,{J:()=>L});var u=F(9773),te=F(4487);function L(fe=Number.POSITIVE_INFINITY){return(0,u.zg)(te.y,fe)}},9773:(We,be,F)=>{"use strict";F.d(be,{zg:()=>fe});var u=F(8002),te=F(4402),L=F(5345);function fe(Y,j,P=Number.POSITIVE_INFINITY){return"function"==typeof j?V=>V.pipe(fe(($,ae)=>(0,te.D)(Y($,ae)).pipe((0,u.U)((xe,Se)=>j($,xe,ae,Se))),P)):("number"==typeof j&&(P=j),V=>V.lift(new re(Y,P)))}class re{constructor(j,P=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=P}call(j,P){return P.subscribe(new J(j,this.project,this.concurrent))}}class J extends L.Ds{constructor(j,P,V=Number.POSITIVE_INFINITY){super(j),this.project=P,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let P;const V=this.index++;try{P=this.project(j,V)}catch($){return void this.destination.error($)}this.active++,this._innerSub(P)}_innerSub(j){const P=new L.IY(this),V=this.destination;V.add(P);const $=(0,L.ft)(j,P);$!==P&&V.add($)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(We,be,F)=>{"use strict";F.d(be,{QV:()=>L,ht:()=>re});var u=F(7393),te=F(1593);function L(se,Y=0){return function(P){return P.lift(new fe(se,Y))}}class fe{constructor(Y,j=0){this.scheduler=Y,this.delay=j}call(Y,j){return j.subscribe(new re(Y,this.scheduler,this.delay))}}class re extends u.L{constructor(Y,j,P=0){super(Y),this.scheduler=j,this.delay=P}static dispatch(Y){const{notification:j,destination:P}=Y;j.observe(P),this.unsubscribe()}scheduleMessage(Y){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new J(Y,this.destination)))}_next(Y){this.scheduleMessage(te.P.createNext(Y))}_error(Y){this.scheduleMessage(te.P.createError(Y)),this.unsubscribe()}_complete(){this.scheduleMessage(te.P.createComplete()),this.unsubscribe()}}class J{constructor(Y,j){this.notification=Y,this.destination=j}}},1307:(We,be,F)=>{"use strict";F.d(be,{x:()=>te});var u=F(7393);function te(){return function(J){return J.lift(new L(J))}}class L{constructor(J){this.connectable=J}call(J,se){const{connectable:Y}=this;Y._refCount++;const j=new fe(J,Y),P=se.subscribe(j);return j.closed||(j.connection=Y.connect()),P}}class fe extends u.L{constructor(J,se){super(J),this.connectable=se}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const se=J._refCount;if(se<=0)return void(this.connection=null);if(J._refCount=se-1,se>1)return void(this.connection=null);const{connection:Y}=this,j=J._connection;this.connection=null,j&&(!Y||j===Y)&&j.unsubscribe()}}},8819:(We,be,F)=>{"use strict";F.d(be,{B:()=>se});var u=F(2441);var fe=F(1307),re=F(9765);function J(){return new re.xQ}function se(){return Y=>(0,fe.x)()(function(Y,j){return function(V){let $;$="function"==typeof Y?Y:function(){return Y};const ae=Object.create(V,u.N);return ae.source=V,ae.subjectFactory=$,ae}}(J)(Y))}},2639:(We,be,F)=>{"use strict";F.d(be,{R:()=>Ce});var u=F(7574);let te=1;const L=Promise.resolve(),fe={};function re(Q){return Q in fe&&(delete fe[Q],!0)}const J={setImmediate(Q){const ne=te++;return fe[ne]=!0,L.then(()=>re(ne)&&Q()),ne},clearImmediate(Q){re(Q)}};var Y=F(6465),P=F(6102);const ae=new class extends P.v{flush(ne){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Ie,Ke=-1,Dt=Ee.length;ne=ne||Ee.shift();do{if(Ie=ne.execute(ne.state,ne.delay))break}while(++Ke<Dt&&(ne=Ee.shift()));if(this.active=!1,Ie){for(;++Ke<Dt&&(ne=Ee.shift());)ne.unsubscribe();throw Ie}}}(class extends Y.o{constructor(ne,Ee){super(ne,Ee),this.scheduler=ne,this.work=Ee}requestAsyncId(ne,Ee,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(ne,Ee,Ie):(ne.actions.push(this),ne.scheduled||(ne.scheduled=J.setImmediate(ne.flush.bind(ne,null))))}recycleAsyncId(ne,Ee,Ie=0){if(null!==Ie&&Ie>0||null===Ie&&this.delay>0)return super.recycleAsyncId(ne,Ee,Ie);0===ne.actions.length&&(J.clearImmediate(Ee),ne.scheduled=void 0)}});var xe=F(6561);class Se extends u.y{constructor(ne,Ee=0,Ie=ae){super(),this.source=ne,this.delayTime=Ee,this.scheduler=Ie,(!(0,xe.k)(Ee)||Ee<0)&&(this.delayTime=0),(!Ie||"function"!=typeof Ie.schedule)&&(this.scheduler=ae)}static create(ne,Ee=0,Ie=ae){return new Se(ne,Ee,Ie)}static dispatch(ne){const{source:Ee,subscriber:Ie}=ne;return this.add(Ee.subscribe(Ie))}_subscribe(ne){return this.scheduler.schedule(Se.dispatch,this.delayTime,{source:this.source,subscriber:ne})}}function Ce(Q,ne=0){return function(Ie){return Ie.lift(new ce(Q,ne))}}class ce{constructor(ne,Ee){this.scheduler=ne,this.delay=Ee}call(ne,Ee){return new Se(Ee,this.delay,this.scheduler).subscribe(ne)}}},8307:(We,be,F)=>{"use strict";F.d(be,{b:()=>fe});var u=F(7393),te=F(8640),L=F(9105);function fe(se,Y,j){return function(V){return V.lift(new re(se,Y,j))}}class re{constructor(Y,j,P){this.nextOrObserver=Y,this.error=j,this.complete=P}call(Y,j){return j.subscribe(new J(Y,this.nextOrObserver,this.error,this.complete))}}class J extends u.L{constructor(Y,j,P,V){super(Y),this._tapNext=te.Z,this._tapError=te.Z,this._tapComplete=te.Z,this._tapError=P||te.Z,this._tapComplete=V||te.Z,(0,L.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||te.Z,this._tapError=j.error||te.Z,this._tapComplete=j.complete||te.Z)}_next(Y){try{this._tapNext.call(this._context,Y)}catch(j){return void this.destination.error(j)}this.destination.next(Y)}_error(Y){try{this._tapError.call(this._context,Y)}catch(j){return void this.destination.error(j)}this.destination.error(Y)}_complete(){try{this._tapComplete.call(this._context)}catch(Y){return void this.destination.error(Y)}return this.destination.complete()}}},4087:(We,be,F)=>{"use strict";F.d(be,{r:()=>L});var u=F(7574),te=F(5319);function L(fe,re){return new u.y(J=>{const se=new te.w;let Y=0;return se.add(re.schedule(function(){Y!==fe.length?(J.next(fe[Y++]),J.closed||se.add(this.schedule())):J.complete()})),se})}},6465:(We,be,F)=>{"use strict";F.d(be,{o:()=>L});var u=F(5319);class te extends u.w{constructor(re,J){super()}schedule(re,J=0){return this}}class L extends te{constructor(re,J){super(re,J),this.scheduler=re,this.work=J,this.pending=!1}schedule(re,J=0){if(this.closed)return this;this.state=re;const se=this.id,Y=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(Y,se,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(Y,this.id,J),this}requestAsyncId(re,J,se=0){return setInterval(re.flush.bind(re,this),se)}recycleAsyncId(re,J,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return J;clearInterval(J)}execute(re,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(re,J);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,J){let Y,se=!1;try{this.work(re)}catch(j){se=!0,Y=!!j&&j||new Error(j)}if(se)return this.unsubscribe(),Y}_unsubscribe(){const re=this.id,J=this.scheduler,se=J.actions,Y=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Y&&se.splice(Y,1),null!=re&&(this.id=this.recycleAsyncId(J,re,null)),this.delay=null}}},6102:(We,be,F)=>{"use strict";F.d(be,{v:()=>te});let u=(()=>{class L{constructor(re,J=L.now){this.SchedulerAction=re,this.now=J}schedule(re,J=0,se){return new this.SchedulerAction(this,re).schedule(se,J)}}return L.now=()=>Date.now(),L})();class te extends u{constructor(fe,re=u.now){super(fe,()=>te.delegate&&te.delegate!==this?te.delegate.now():re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,re=0,J){return te.delegate&&te.delegate!==this?te.delegate.schedule(fe,re,J):super.schedule(fe,re,J)}flush(fe){const{actions:re}=this;if(this.active)return void re.push(fe);let J;this.active=!0;do{if(J=fe.execute(fe.state,fe.delay))break}while(fe=re.shift());if(this.active=!1,J){for(;fe=re.shift();)fe.unsubscribe();throw J}}}},3637:(We,be,F)=>{"use strict";F.d(be,{z:()=>L,P:()=>fe});var u=F(6465);const L=new(F(6102).v)(u.o),fe=L},7771:(We,be,F)=>{"use strict";F.d(be,{c:()=>J,N:()=>re});var u=F(6465),L=F(6102);const re=new class extends L.v{}(class extends u.o{constructor(Y,j){super(Y,j),this.scheduler=Y,this.work=j}schedule(Y,j=0){return j>0?super.schedule(Y,j):(this.delay=j,this.state=Y,this.scheduler.flush(this),this)}execute(Y,j){return j>0||this.closed?super.execute(Y,j):this._execute(Y,j)}requestAsyncId(Y,j,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(Y,j,P):Y.flush(this)}}),J=re},377:(We,be,F)=>{"use strict";F.d(be,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,be,F)=>{"use strict";F.d(be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,be,F)=>{"use strict";F.d(be,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,be,F)=>{"use strict";F.d(be,{N:()=>te});const te=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(We,be,F)=>{"use strict";function u(te){setTimeout(()=>{throw te},0)}F.d(be,{z:()=>u})},4487:(We,be,F)=>{"use strict";function u(te){return te}F.d(be,{y:()=>u})},9796:(We,be,F)=>{"use strict";F.d(be,{k:()=>u});const u=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(We,be,F)=>{"use strict";F.d(be,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(We,be,F)=>{"use strict";function u(te){return"function"==typeof te}F.d(be,{m:()=>u})},6561:(We,be,F)=>{"use strict";F.d(be,{k:()=>te});var u=F(9796);function te(L){return!(0,u.k)(L)&&L-parseFloat(L)+1>=0}},1555:(We,be,F)=>{"use strict";function u(te){return null!==te&&"object"==typeof te}F.d(be,{K:()=>u})},4072:(We,be,F)=>{"use strict";function u(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}F.d(be,{t:()=>u})},4869:(We,be,F)=>{"use strict";function u(te){return te&&"function"==typeof te.schedule}F.d(be,{K:()=>u})},8640:(We,be,F)=>{"use strict";function u(){}F.d(be,{Z:()=>u})},7444:(We,be,F)=>{"use strict";F.d(be,{s:()=>V});var u=F(5015),te=F(4449),fe=F(377),J=F(6554),Y=F(9489),j=F(4072),P=F(1555);const V=$=>{if($&&"function"==typeof $[J.L])return($=>ae=>{const xe=$[J.L]();if("function"!=typeof xe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return xe.subscribe(ae)})($);if((0,Y.z)($))return(0,u.V)($);if((0,j.t)($))return($=>ae=>($.then(xe=>{ae.closed||(ae.next(xe),ae.complete())},xe=>ae.error(xe)).then(null,te.z),ae))($);if($&&"function"==typeof $[fe.hZ])return($=>ae=>{const xe=$[fe.hZ]();for(;;){let Se;try{Se=xe.next()}catch(Ce){return ae.error(Ce),ae}if(Se.done){ae.complete();break}if(ae.next(Se.value),ae.closed)break}return"function"==typeof xe.return&&ae.add(()=>{xe.return&&xe.return()}),ae})($);{const xe=`You provided ${(0,P.K)($)?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(xe)}}},5015:(We,be,F)=>{"use strict";F.d(be,{V:()=>u});const u=te=>L=>{for(let fe=0,re=te.length;fe<re&&!L.closed;fe++)L.next(te[fe]);L.complete()}},6923:(We,be,F)=>{"use strict";var u=F(7716);let te=null;function L(){return te}const se=new u.OlP("DocumentToken");let Y=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:j,token:n,providedIn:"platform"}),n})();function j(){return(0,u.LFG)(V)}const P=new u.OlP("Location Initialized");let V=(()=>{class n extends Y{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){$()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){$()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=(0,u.Yz7)({factory:ae,token:n,providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function ae(){return new V((0,u.LFG)(se))}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Se(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ce(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:Q,token:n,providedIn:"root"}),n})();function Q(n){const t=(0,u.LFG)(se).location;return new Ee((0,u.LFG)(Y),t&&t.origin||"")}const ne=new u.OlP("appBaseHref");let Ee=(()=>{class n extends ce{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ce(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,c){const f=this.prepareExternalUrl(o+Ce(c));this._platformLocation.pushState(e,r,f)}replaceState(e,r,o,c){const f=this.prepareExternalUrl(o+Ce(c));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Y),u.LFG(ne,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends ce{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=xe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,c){let f=this.prepareExternalUrl(o+Ce(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,o,c){let f=this.prepareExternalUrl(o+Ce(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Y),u.LFG(ne,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(e,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Se(gt(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ce(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,gt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ce(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ce(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(Y))},n.normalizeQueryParams=Ce,n.joinWithSlash=xe,n.stripTrailingSlash=Se,n.\u0275prov=(0,u.Yz7)({factory:Dt,token:n,providedIn:"root"}),n})();function Dt(){return new Ke((0,u.LFG)(ce),(0,u.LFG)(Y))}function gt(n){return n.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))();const Es=u.kL8;class oi{}let Zn=(()=>{class n extends oi{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(Es(r||this.locale)(e)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ki{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bt=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((o,c,f)=>{if(null==o.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new ki(null,this._ngForOf,-1,-1),null===f?void 0:f),E=new ku(o,_);r.push(E)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const _=this._viewContainer.get(c);this._viewContainer.move(_,f);const E=new ku(o,_);r.push(E)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=c,f.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class ku{constructor(t,e){this.record=t,this.view=e}}let Cn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new La,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ea("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ea("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class La{constructor(){this.$implicit=null,this.ngIf=null}}function ea(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let lr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:oi,useClass:Zn}]}),n})();function sa(n){return"server"===n}let Io=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ba((0,u.LFG)(se),window)}),n})();class Ba{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ja(this.window.history)||ja(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ja(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $a extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new $a,te||(te=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Li=Li||document.querySelector("base"),Li?Li.getAttribute("href"):null);return null==e?null:function(n){sn=sn||document.createElement("a"),sn.setAttribute("href",n);const t=sn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Li=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let sn,Li=null;const Lu=new u.OlP("TRANSITION_ID"),br=[{provide:u.ip1,useFactory:function(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=L(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Lu,se,u.zs3],multi:!0}];class Dn{static init(){(0,u.VLi)(new Dn)}addToWindow(t){u.dqk.getAngularTestability=(r,o=!0)=>{const c=t.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,f=!1;const _=function(E){f=f||E,c--,0==c&&r(f)};o.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Vu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=new u.OlP("EventManagerPlugins");let Ne=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const f=o[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ss),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class At{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=L().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let Bl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),en=(()=>{class n extends Bl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,o.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(jl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(jl))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function jl(n){L().remove(n)}const is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bi=/%COMP%/g;function An(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?An(n,o,e):(o=o.replace(bi,n),e.push(o))}return e}function wi(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let no=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new wr(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Wa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case u.ifc.ShadowDom:return new Hl(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=An(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ne),u.LFG(en),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(is[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const c=is[o];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=is[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,o&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wi(r)):this.eventManager.addEventListener(t,e,wi(r))}}class Wa extends wr{constructor(t,e,r,o){super(t),this.component=r;const c=An(o+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(bi,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(bi,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Hl extends wr{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=An(o.id,o.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ao=(()=>{class n extends At{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const No=["alt","control","meta","shift"],Gl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Er={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oy={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ql=(()=>{class n extends At{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let f="";if(No.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),f+=E+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=f,_}static getEventFullKey(e){let r="",o=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Er.hasOwnProperty(t)&&(t=Er[t]))}return Gl[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),No.forEach(c=>{c!=o&&Oy[c](e)&&(r+=c+".")}),r+=o,r}static eventCallback(e,r,o){return c=>{n.getEventFullKey(c)===e&&o.runGuarded(()=>r(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Mo=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){$a.makeCurrent(),Dn.init()},multi:!0},{provide:se,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Yl=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Ss,useClass:Ao,multi:!0,deps:[se,u.R0b,u.Lbi]},{provide:Ss,useClass:ql,multi:!0,deps:[se]},[],{provide:no,useClass:no,deps:[Ne,en,u.AFp]},{provide:u.FYo,useExisting:no},{provide:Bl,useExisting:en},{provide:en,useClass:en,deps:[se]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ne,useClass:Ne,deps:[Ss,u.R0b]},{provide:class{},useClass:Vu,deps:[]},[]];let nf=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Lu,useExisting:u.AFp},br]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Yl,imports:[lr,u.hGG]}),n})();"undefined"!=typeof window&&window;var dn=F(4402),qe=F(5917),Gt=F(9765),ru=F(7971);class gn extends Gt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ru.N;return this._value}next(t){super.next(this._value=t)}}var ro=F(4869),ks=F(9796),Un=F(7393);class iu extends Un.L{notifyNext(t,e,r,o,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ly extends Un.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var io=F(7444),Sn=F(7574);function ec(n,t,e,r,o=new Ly(n,e,r)){if(!o.closed)return t instanceof Sn.y?t.subscribe(o):(0,io.s)(t)(o)}var pa=F(6693);const su={};class tc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ga(t,this.resultSelector))}}class ga extends iu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(su),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(ec(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const o=this.values,f=this.toRespond?o[r]===su?--this.toRespond:this.toRespond:0;o[r]=e,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Vi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ei=F(3282);function ko(...n){return(0,Ei.J)(1)((0,qe.of)(...n))}var Ui=F(9193);function cs(n){return new Sn.y(t=>{let e;try{e=n()}catch(o){return void t.error(o)}return(e?(0,dn.D)(e):(0,Ui.c)()).subscribe(t)})}var Dd=F(2441),ot=F(8002),Bi=F(5345);function Qn(n,t){return"function"==typeof t?e=>e.pipe(Qn((r,o)=>(0,dn.D)(n(r,o)).pipe((0,ot.U)((c,f)=>t(r,c,o,f))))):e=>e.lift(new Tg(n))}class Tg{constructor(t){this.project=t}call(t,e){return e.subscribe(new mn(t,this.project))}}class mn extends Bi.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Bi.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Bi.ft)(t,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $u=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function jr(n){return t=>0===n?(0,Ui.c)():t.lift(new Td(n))}class Td{constructor(t){if(this.total=t,this.total<0)throw new $u}call(t,e){return e.subscribe(new Ig(t,this.total))}}class Ig extends Un.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function oo(...n){const t=n[n.length-1];return(0,ro.K)(t)?(n.pop(),e=>ko(n,e,t)):e=>ko(n,e)}function Hu(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(o){return o.lift(new Id(n,t,e))}}class Id{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Ag(t,this.accumulator,this.seed,this.hasSeed))}}class Ag extends Un.L{constructor(t,e,r,o){super(t),this.accumulator=e,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function hn(n,t){return function(r){return r.lift(new ou(n,t))}}class ou{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ao(t,this.predicate,this.thisArg))}}class ao extends Un.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function uo(n){return function(e){const r=new bn(n),o=e.lift(r);return r.caught=o}}class bn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ds(t,this.selector,this.caught))}}class ds extends Bi.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Bi.IY(this);this.add(r);const o=(0,Bi.ft)(e,r);o!==r&&this.add(o)}}}var tn=F(9773);function au(n,t){return(0,tn.zg)(n,t,1)}function Ad(n){return function(e){return 0===n?(0,Ui.c)():e.lift(new ji(n))}}class ji{constructor(t){if(this.total=t,this.total<0)throw new $u}call(t,e){return e.subscribe(new hs(t,this.total))}}class hs extends Un.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,o=this.count++;e.length<r?e.push(t):e[o%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<r;c++){const f=e++%r;t.next(o[f])}}t.complete()}}function Oo(n=Sd){return t=>t.lift(new ui(n))}class ui{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Os(t,this.errorFactory))}}class Os extends Un.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Sd(){return new Vi}function Gu(n=null){return t=>t.lift(new Po(n))}class Po{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Nd(t,this.defaultValue))}}class Nd extends Un.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Fo=F(4487);function Nn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?hn((o,c)=>n(o,c,r)):Fo.y,jr(1),e?Gu(t):Oo(()=>new Vi))}var Mn=F(8307),lo=F(1307),of=F(5319);class C{constructor(t){this.callback=t}call(t,e){return e.subscribe(new I(t,this.callback))}}class I extends Un.L{constructor(t,e){super(t),this.add(new of.w(e))}}class x{constructor(t,e){this.id=t,this.url=e}}class B extends x{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends x{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends x{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Re extends x{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends x{constructor(t,e,r,o,c){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yt extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ma{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _a{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class uf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _n(n){return new uf(n)}const Md="ngNavigationCancelingError";function lf(n){const t=Error("NavigationCancelingError: "+n);return t[Md]=!0,t}function rc(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))o[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function $i(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!cf(n[o],t[o]))return!1;return!0}function cf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,c)=>r[c]===o)}return n===t}function Vy(n){return Array.prototype.concat.apply([],n)}function lu(n){return n.length>0?n[n.length-1]:null}function Wn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Cr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,dn.D)(Promise.resolve(n)):(0,qe.of)(n)}const Mg={exact:function Rg(n,t,e){if(!hu(n.segments,t.segments)||!xd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Rg(n.children[r],t.children[r],e))return!1;return!0},subset:du},cu={exact:function(n,t){return $i(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cf(n[e],t[e]))},ignored:()=>!0};function ic(n,t,e){return Mg[e.paths](n.root,t.root,e.matrixParams)&&cu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function du(n,t,e){return qu(n,t,t.segments,e)}function qu(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!hu(o,e)||t.hasChildren()||!xd(o,e,r))}if(n.segments.length===e.length){if(!hu(n.segments,e)||!xd(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!du(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(hu(n.segments,o)&&xd(n.segments,o,r)&&n.children[ht])&&qu(n.children[ht],t,c,r)}}function xd(n,t,e){return t.every((r,o)=>cu[e](n[o].parameters,r.parameters))}class Zu{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return hf.serialize(this)}}class Rt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Wn(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lo(this)}}class sc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return ff(this)}}function hu(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class df{}class zu{parse(t){const e=new va(t);return new Zu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${oc(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${ac(e)}=${ac(o)}`).join("&"):`${ac(e)}=${ac(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const hf=new zu;function Lo(n){return n.segments.map(t=>ff(t)).join("/")}function oc(n,t){if(!n.hasChildren())return Lo(n);if(t){const e=n.children[ht]?oc(n.children[ht],!1):"",r=[];return Wn(n.children,(o,c)=>{c!==ht&&r.push(`${c}:${oc(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Wn(n.children,(r,o)=>{o===ht&&(e=e.concat(t(r,o)))}),Wn(n.children,(r,o)=>{o!==ht&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===ht?[oc(n.children[ht],!1)]:[`${o}:${oc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ht]?`${Lo(n)}/${e[0]}`:`${Lo(n)}/(${e.join("//")})`}}function kg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ac(n){return kg(n).replace(/%3B/gi,";")}function fu(n){return kg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uc(n){return decodeURIComponent(n)}function kd(n){return uc(n.replace(/\+/g,"%20"))}function ff(n){return`${fu(n.path)}${function(n){return Object.keys(n).map(t=>`;${fu(t)}=${fu(n[t])}`).join("")}(n.parameters)}`}const Og=/^[^\/()?;=#]+/;function lc(n){const t=n.match(Og);return t?t[0]:""}const $y=/^[^=?&#]+/,Uo=/^[^?&#]+/;class va{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ht]=new Rt(t,e)),r}parseSegment(){const t=lc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new sc(uc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lc(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=lc(this.remaining);o&&(r=o,this.capture(r))}t[uc(e)]=uc(r)}parseQueryParam(t){const e=function(n){const t=n.match($y);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function(n){const t=n.match(Uo);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=kd(e),c=kd(r);if(t.hasOwnProperty(o)){let f=t[o];Array.isArray(f)||(f=[f],t[o]=f),f.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=ht);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[ht]:new Rt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=pf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=pf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=dc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return dc(t,this._root).map(e=>e.value)}}function pf(n,t){if(n===t.value)return t;for(const e of t.children){const r=pf(n,e);if(r)return r}return null}function dc(n,t){if(n===t.value)return[t];for(const e of t.children){const r=dc(n,e);if(r.length)return r.unshift(t),r}return[]}class Bo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function pu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class gf extends Pg{constructor(t,e){super(t),this.snapshot=e,Pd(this,t)}toString(){return this.snapshot.toString()}}function Fg(n,t){const e=function(n,t){const f=new Od([],{},{},"",{},ht,t,null,n.root,-1,{});return new Yu("",new Bo(f,[]))}(n,t),r=new gn([new sc("",{})]),o=new gn({}),c=new gn({}),f=new gn({}),_=new gn(""),E=new Wu(r,o,f,_,c,ht,t,e.root);return E.snapshot=e.root,new gf(new Bo(E,[]),e)}class Wu{constructor(t,e,r,o,c,f,_,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(t=>_n(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(t=>_n(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lg(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],c=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Od{constructor(t,e,r,o,c,f,_,E,T,N,R){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=f,this.component=_,this.routeConfig=E,this._urlSegment=T,this._lastPathIndex=N,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yu extends Pg{constructor(t,e){super(e),this.url=t,Pd(this,e)}toString(){return Ps(this._root)}}function Pd(n,t){t.value._routerState=n,t.children.forEach(e=>Pd(n,e))}function Ps(n){const t=n.children.length>0?` { ${n.children.map(Ps).join(", ")} } `:"";return`${n.value}${t}`}function gu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$i(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),$i(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$i(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),$i(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hc(n,t){return $i(n.params,t.params)&&function(n,t){return hu(n,t)&&n.every((e,r)=>$i(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||hc(n.parent,t.parent))}function fc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return fc(n,r,o);return fc(n,r)})}(n,t,e);return new Bo(r,o)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const f=c.route;return Gy(t,f),f}}const r=function(n){return new Wu(new gn(n.url),new gn(n.params),new gn(n.queryParams),new gn(n.fragment),new gn(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(c=>fc(n,c));return new Bo(r,o)}}function Gy(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Gy(n.children[e],t.children[e])}function Ku(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ho(n){return"object"==typeof n&&null!=n&&n.outlets}function jg(n,t,e,r,o){let c={};return r&&Wn(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new Zu(e.root===n?t:qy(e.root,n,t),c,o)}function qy(n,t,e){const r={};return Wn(n.children,(o,c)=>{r[c]=o===t?e:qy(o,t,e)}),new Rt(n.segments,r)}class yf{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Ku(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(ho);if(o&&o!==lu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vf{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ba(n,t,e){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return pc(n,t,e);const r=function(n,t,e){let r=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return c;const f=n.segments[o],_=e[r];if(ho(_))break;const E=`${_}`,T=r<e.length-1?e[r+1]:null;if(o>0&&void 0===E)break;if(E&&T&&"object"==typeof T&&void 0===T.outlets){if(!qg(E,T,f))return c;r+=2}else{if(!qg(E,{},f))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Rt(n.segments.slice(0,r.pathIndex),{});return c.children[ht]=new Rt(n.segments.slice(r.pathIndex),n.children),pc(c,0,o)}return r.match&&0===o.length?new Rt(n.segments,{}):r.match&&!n.hasChildren()?bf(n,t,e):r.match?pc(n,0,o):bf(n,t,e)}function pc(n,t,e){if(0===e.length)return new Rt(n.segments,{});{const r=function(n){return ho(n[0])?n[0].outlets:{[ht]:n}}(e),o={};return Wn(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[f]=ba(n.children[f],t,c))}),Wn(n.children,(c,f)=>{void 0===r[f]&&(o[f]=c)}),new Rt(n.segments,o)}}function bf(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(ho(c)){const E=Rn(c.outlets);return new Rt(r,E)}if(0===o&&Ku(e[0])){r.push(new sc(n.segments[t].path,Gg(e[0]))),o++;continue}const f=ho(c)?c.outlets[ht]:`${c}`,_=o<e.length-1?e[o+1]:null;f&&_&&Ku(_)?(r.push(new sc(f,Gg(_))),o+=2):(r.push(new sc(f,{})),o++)}return new Rt(r,{})}function Rn(n){const t={};return Wn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=bf(new Rt([],{}),0,e))}),t}function Gg(n){const t={};return Wn(n,(e,r)=>t[r]=`${e}`),t}function qg(n,t,e){return n==e.path&&$i(t,e.parameters)}class Ud{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),gu(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=pu(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,o[f],r),delete o[f]}),Wn(o,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=pu(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=pu(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Ci(c.value.snapshot))}),t.children.length&&this.forwardEvent(new uu(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(gu(o),o===c)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),Bd(_.route)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),E=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=E,f.outlet&&f.outlet.activateWith(o,E),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}function Bd(n){gu(n.value),n.children.forEach(Bd)}class wf{constructor(t,e){this.routes=t,this.module=e}}function fo(n){return"function"==typeof n}function po(n){return n instanceof Zu}const Ju=Symbol("INITIAL_VALUE");function mu(){return Qn(n=>function(...n){let t,e;return(0,ro.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,ks.k)(n[0])&&(n=n[0]),(0,pa.n)(n,e).lift(new tc(t))}(n.map(t=>t.pipe(jr(1),oo(Ju)))).pipe(Hu((t,e)=>{let r=!1;return e.reduce((o,c,f)=>o!==Ju?o:(c===Ju&&(r=!0),r||!1!==c&&f!==e.length-1&&!po(c)?o:c),t)},Ju),hn(t=>t!==Ju),(0,ot.U)(t=>po(t)?t:!0===t),jr(1)))}let Tr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},directives:function(){return[Hd]},encapsulation:2}),n})();function Gi(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];jd(r,Yy(t,r))}}function jd(n,t){n.children&&Gi(n.children,t)}function Yy(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Ef(n){const t=n.children&&n.children.map(Ef),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=Tr),e}function qi(n){return n.outlet||ht}function Cf(n,t){const e=n.filter(r=>qi(r)===t);return e.push(...n.filter(r=>qi(r)!==t)),e}const $r={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qu(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},$r):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||rc)(e,n,t);if(!c)return Object.assign({},$r);const f={};Wn(c.posParams,(E,T)=>{f[T]=E.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function _u(n,t,e,r,o="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>yu(n,t,r)&&qi(r)!==ht)}(n,e,r)){const f=new Rt(t,function(n,t,e,r){const o={};o[ht]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&qi(c)!==ht){const f=new Rt([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,o[qi(c)]=f}return o}(n,t,r,new Rt(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>yu(n,t,r))}(n,e,r)){const f=new Rt(n.segments,function(n,t,e,r,o,c){const f={};for(const _ of r)if(yu(n,e,_)&&!o[qi(_)]){const E=new Rt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===c?n.segments.length:t.length,f[qi(_)]=E}return Object.assign(Object.assign({},o),f)}(n,t,e,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Rt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function yu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function yc(n,t,e,r){return!!(qi(n)===r||r!==ht&&yu(t,e,n))&&("**"===n.path||Qu(t,n,e).matched)}function zg(n,t,e){return 0===t.length&&!n.children[e]}class $d{constructor(t){this.segmentGroup=t||null}}class Tf{constructor(t){this.urlTree=t}}function vu(n){return new Sn.y(t=>t.error(new $d(n)))}function v(n){return new Sn.y(t=>t.error(new Tf(n)))}function p(n){return new Sn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class S{constructor(t,e,r,o,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=_u(this.urlTree.root,[],[],this.config).segmentGroup,e=new Rt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ht).pipe((0,ot.U)(c=>this.createUrlTree(K(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uo(c=>{if(c instanceof Tf)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof $d?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ht).pipe((0,ot.U)(o=>this.createUrlTree(K(o),t.queryParams,t.fragment))).pipe(uo(o=>{throw o instanceof $d?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new Rt([],{[ht]:t}):t;return new Zu(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ot.U)(c=>new Rt([],c))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,dn.D)(o).pipe(au(c=>{const f=r.children[c],_=Cf(e,c);return this.expandSegmentGroup(t,_,f,c).pipe((0,ot.U)(E=>({segment:E,outlet:c})))}),Hu((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?hn((o,c)=>n(o,c,r)):Fo.y,Ad(1),e?Gu(t):Oo(()=>new Vi))}())}expandSegment(t,e,r,o,c,f){return(0,dn.D)(r).pipe(au(_=>this.expandSegmentAgainstRoute(t,e,r,_,o,c,f).pipe(uo(T=>{if(T instanceof $d)return(0,qe.of)(null);throw T}))),Nn(_=>!!_),uo((_,E)=>{if(_ instanceof Vi||"EmptyError"===_.name){if(zg(e,o,c))return(0,qe.of)(new Rt([],{}));throw new $d(e)}throw _}))}expandSegmentAgainstRoute(t,e,r,o,c,f,_){return yc(o,e,c,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,f):vu(e):vu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?v(c):this.lineralizeSegments(r,c).pipe((0,tn.zg)(f=>{const _=new Rt(f,{});return this.expandSegment(t,_,e,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,f){const{matched:_,consumedSegments:E,lastChild:T,positionalParamSegments:N}=Qu(e,o,c);if(!_)return vu(e);const R=this.applyRedirectCommands(E,o.redirectTo,N);return o.redirectTo.startsWith("/")?v(R):this.lineralizeSegments(o,R).pipe((0,tn.zg)(U=>this.expandSegment(t,e,r,U.concat(c.slice(T)),f,!1)))}matchSegmentAgainstRoute(t,e,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,qe.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ot.U)(U=>(r._loadedConfig=U,new Rt(o,{})))):(0,qe.of)(new Rt(o,{}));const{matched:f,consumedSegments:_,lastChild:E}=Qu(e,r,o);if(!f)return vu(e);const T=o.slice(E);return this.getChildConfig(t,r,o).pipe((0,tn.zg)(R=>{const U=R.module,q=R.routes,{segmentGroup:he,slicedSegments:Me}=_u(e,_,T,q),Ve=new Rt(he.segments,he.children);if(0===Me.length&&Ve.hasChildren())return this.expandChildren(U,q,Ve).pipe((0,ot.U)($t=>new Rt(_,$t)));if(0===q.length&&0===Me.length)return(0,qe.of)(new Rt(_,{}));const lt=qi(r)===c;return this.expandSegment(U,Ve,q,Me,lt?ht:c,!0).pipe((0,ot.U)(pn=>new Rt(_.concat(pn.segments),pn.children)))}))}getChildConfig(t,e,r){return e.children?(0,qe.of)(new wf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,qe.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,tn.zg)(o=>{return o?this.configLoader.load(t.injector,e).pipe((0,ot.U)(c=>(e._loadedConfig=c,c))):(n=e,new Sn.y(t=>t.error(lf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,qe.of)(new wf([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;if(!o||0===o.length)return(0,qe.of)(!0);const c=o.map(f=>{const _=t.get(f);let E;if((n=_)&&fo(n.canLoad))E=_.canLoad(e,r);else{if(!fo(_))throw new Error("Invalid CanLoad guard");E=_(e,r)}var n;return Cr(E)});return(0,qe.of)(c).pipe(mu(),(0,Mn.b)(f=>{if(!po(f))return;const _=lf(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,ot.U)(f=>!0===f))}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,qe.of)(r);if(o.numberOfChildren>1||!o.children[ht])return p(t.redirectTo);o=o.children[ht]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const c=this.createSegmentGroup(t,e.root,r,o);return new Zu(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Wn(t,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);r[c]=e[_]}else r[c]=o}),r}createSegmentGroup(t,e,r,o){const c=this.createSegments(t,e.segments,r,o);let f={};return Wn(e.children,(_,E)=>{f[E]=this.createSegmentGroup(t,_,r,o)}),new Rt(c,f)}createSegments(t,e,r,o){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,o):this.findOrReturn(c,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function K(n){const t={};for(const r of Object.keys(n.children)){const c=K(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[ht]){const t=n.children[ht];return new Rt(n.segments.concat(t.segments),t.children)}return n}(new Rt(n.segments,t))}class Fe{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class je{constructor(t,e){this.component=t,this.route=e}}function ut(n,t,e){const r=n._root;return bu(r,t?t._root:null,e,[r.value])}function kn(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function bu(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=pu(t);return n.children.forEach(f=>{(function(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const E=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!hu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!hu(n.url,t.url)||!$i(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hc(n,t)||!$i(n.queryParams,t.queryParams);case"paramsChange":default:return!hc(n,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Fe(r)):(c.data=f.data,c._resolvedData=f._resolvedData),bu(n,t,c.component?_?_.children:null:e,r,o),E&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new je(_.outlet.component,f))}else f&&Xu(t,_,o),o.canActivateChecks.push(new Fe(r)),bu(n,null,c.component?_?_.children:null:e,r,o)})(f,c[f.value.outlet],e,r.concat([f.value]),o),delete c[f.value.outlet]}),Wn(c,(f,_)=>Xu(f,e.getContext(_),o)),o}function Xu(n,t,e){const r=pu(n),o=n.value;Wn(r,(c,f)=>{Xu(c,o.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new je(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Nf{}function Kg(n){return new Sn.y(t=>t.error(n))}class $1{constructor(t,e,r,o,c,f){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=_u(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ht);if(null===e)return null;const r=new Od([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Bo(r,e),c=new Yu(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=Lg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const f=e.children[c],_=Cf(t,c),E=this.processSegmentGroup(_,f,c);if(null===E)return null;r.push(...E)}const o=Jg(r);return o.sort((t,e)=>t.value.outlet===ht?-1:e.value.outlet===ht?1:t.value.outlet.localeCompare(e.value.outlet)),o}processSegment(t,e,r,o){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,r,o);if(null!==f)return f}return zg(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!yc(t,e,r,o))return null;let c,f=[],_=[];if("**"===t.path){const q=r.length>0?lu(r).parameters:{};c=new Od(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vc(t),qi(t),t.component,t,Qy(e),zT(e)+r.length,Qg(t))}else{const q=Qu(e,t,r);if(!q.matched)return null;f=q.consumedSegments,_=r.slice(q.lastChild),c=new Od(f,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vc(t),qi(t),t.component,t,Qy(e),zT(e)+f.length,Qg(t))}const E=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=_u(e,f,_,E.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const q=this.processChildren(E,T);return null===q?null:[new Bo(c,q)]}if(0===E.length&&0===N.length)return[new Bo(c,[])];const R=qi(t)===o,U=this.processSegment(E,T,N,R?ht:o);return null===U?null:[new Bo(c,U)]}}function G1(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jg(n){const t=[],e=new Set;for(const r of n){if(!G1(r)){t.push(r);continue}const o=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=Jg(r.children);t.push(new Bo(r.value,o))}return t.filter(r=>!e.has(r))}function Qy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function zT(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function vc(n){return n.data||{}}function Qg(n){return n.resolve||{}}function ev(n){return Qn(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,ot.U)(()=>t)):(0,qe.of)(t)})}class XT extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xg=new u.OlP("ROUTES");class em{constructor(t,e,r,o){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,ot.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new wf(Vy(f.injector.get(Xg,void 0,u.XFs.Self|u.XFs.Optional)).map(Ef),f)}),uo(c=>{throw e._loader$=void 0,c}));return e._loader$=new Dd.c(o,()=>new Gt.xQ).pipe((0,lo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,dn.D)(this.loader.load(t)):Cr(t()).pipe((0,tn.zg)(e=>e instanceof u.YKP?(0,qe.of)(e):(0,dn.D)(this.compiler.compileModuleAsync(e))))}}class z1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new el,this.attachRef=null}}class el{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new z1,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class tI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function W1(n){throw n}function Y1(n,t,e){return t.parse("/")}function tl(n,t){return(0,qe.of)(null)}const K1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class n{constructor(e,r,o,c,f,_,E,T){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gt.xQ,this.errorHandler=W1,this.malformedUriErrorHandler=Y1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tl,afterPreactivation:tl},this.urlHandlingStrategy=new tI,this.routeReuseStrategy=new XT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const U=f.get(u.R0b);this.isNgZoneEnabled=U instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new Zu(new Rt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new em(_,E,q=>this.triggerEvent(new li(q)),q=>this.triggerEvent(new zn(q))),this.routerState=Fg(this.currentUrlTree,this.rootComponentType),this.transitions=new gn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(hn(o=>0!==o.id),(0,ot.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qn(o=>{let c=!1,f=!1;return(0,qe.of)(o).pipe((0,Mn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qn(_=>{const E=this.browserUrlTree.toString(),T=!this.navigated||_.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return nm(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,qe.of)(_).pipe(Qn(R=>{const U=this.transitions.getValue();return r.next(new B(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions.getValue()?Ui.E:Promise.resolve(R)}),function(n,t,e,r){return Qn(o=>function(n,t,e,r,o){return new S(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ot.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mn.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,t,e,r,o){return(0,tn.zg)(c=>function(n,t,e,r,o="emptyOnly",c="legacy"){try{const f=new $1(n,t,e,r,o,c).recognize();return null===f?Kg(new Nf):(0,qe.of)(f)}catch(f){return Kg(f)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,o).pipe((0,ot.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mn.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const U=new He(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(U)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:q,source:he,restoredState:Me,extras:Ve}=_,lt=new B(U,this.serializeUrl(q),he,Me);r.next(lt);const Ct=Fg(q,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},_),{targetSnapshot:Ct,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Ui.E}),ev(_=>{const{targetSnapshot:E,id:T,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:U,replaceUrl:q}}=_;return this.hooks.beforePreactivation(E,{navigationId:T,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!U,replaceUrl:!!q})}),(0,Mn.b)(_=>{const E=new Ge(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),(0,ot.U)(_=>Object.assign(Object.assign({},_),{guards:ut(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,tn.zg)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,qe.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,dn.D)(n).pipe((0,tn.zg)(o=>function(n,t,e,r,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,qe.of)(!0);const f=c.map(_=>{const E=kn(_,t,o);let T;if(function(n){return n&&fo(n.canDeactivate)}(E))T=Cr(E.canDeactivate(n,t,e,r));else{if(!fo(E))throw new Error("Invalid CanDeactivate guard");T=Cr(E(n,t,e,r))}return T.pipe(Nn())});return(0,qe.of)(f).pipe(mu())}(o.component,o.route,e,t,r)),Nn(o=>!0!==o,!0))}(f,r,o,n).pipe((0,tn.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,r){return(0,dn.D)(t).pipe(au(o=>ko(function(n,t){return null!==n&&t&&t(new ma(n)),(0,qe.of)(!0)}(o.route.parent,r),function(n,t){return null!==n&&t&&t(new _a(n)),(0,qe.of)(!0)}(o.route,r),function(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>cs(()=>{const _=f.guards.map(E=>{const T=kn(E,f.node,e);let N;if(function(n){return n&&fo(n.canActivateChild)}(T))N=Cr(T.canActivateChild(r,n));else{if(!fo(T))throw new Error("Invalid CanActivateChild guard");N=Cr(T(r,n))}return N.pipe(Nn())});return(0,qe.of)(_).pipe(mu())}));return(0,qe.of)(c).pipe(mu())}(n,o.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,qe.of)(!0);const o=r.map(c=>cs(()=>{const f=kn(c,t,e);let _;if(function(n){return n&&fo(n.canActivate)}(f))_=Cr(f.canActivate(t,n));else{if(!fo(f))throw new Error("Invalid CanActivate guard");_=Cr(f(t,n))}return _.pipe(Nn())}));return(0,qe.of)(o).pipe(mu())}(n,o.route,e))),Nn(o=>!0!==o,!0))}(r,c,n,t):(0,qe.of)(_)),(0,ot.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Mn.b)(_=>{if(po(_.guardsResult)){const T=lf(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw T.url=_.guardsResult,T}const E=new Pt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(E)}),hn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),ev(_=>{if(_.guards.canActivateChecks.length)return(0,qe.of)(_).pipe((0,Mn.b)(E=>{const T=new Yt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}),Qn(E=>{let T=!1;return(0,qe.of)(E).pipe(function(n,t){return(0,tn.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,qe.of)(e);let c=0;return(0,dn.D)(o).pipe(au(f=>function(n,t,e,r){return function(n,t,e,r){const o=Object.keys(n);if(0===o.length)return(0,qe.of)({});const c={};return(0,dn.D)(o).pipe((0,tn.zg)(f=>function(n,t,e,r){const o=kn(n,t,r);return Cr(o.resolve?o.resolve(t,e):o(t,e))}(n[f],t,e,r).pipe((0,Mn.b)(_=>{c[f]=_}))),Ad(1),(0,tn.zg)(()=>Object.keys(c).length===o.length?(0,qe.of)(c):Ui.E))}(n._resolve,n,t,r).pipe((0,ot.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Lg(n,e).resolve),null)))}(f.route,r,n,t)),(0,Mn.b)(()=>c++),Ad(1),(0,tn.zg)(f=>c===o.length?(0,qe.of)(e):Ui.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Mn.b)(E=>{const T=new xn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}))}),ev(_=>{const{targetSnapshot:E,id:T,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:U,replaceUrl:q}}=_;return this.hooks.afterPreactivation(E,{navigationId:T,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!U,replaceUrl:!!q})}),(0,ot.U)(_=>{const E=function(n,t,e){const r=fc(n,t._root,e?e._root:void 0);return new gf(r,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:E})}),(0,Mn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,ot.U)(r=>(new Ud(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Mn.b)({next(){c=!0},complete(){c=!0}}),function(n){return t=>t.lift(new C(n))}(()=>{if(!c&&!f){const _=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,_)):this.cancelNavigationTransition(o,_)}this.currentNavigation=null}),uo(_=>{if(f=!0,function(n){return n&&n[Md]}(_)){const E=po(_.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const T=new pe(o.id,this.serializeUrl(o.extractedUrl),_.message);r.next(T),E?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nm(o.source)};this.scheduleNavigation(N,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Re(o.id,this.serializeUrl(o.extractedUrl),_);r.next(E);try{o.resolve(this.errorHandler(_))}catch(T){o.reject(T)}}return Ui.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:c,urlTree:f}=r,_={replaceUrl:!0};if(c){const E=Object.assign({},c);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(_.state=E)}this.scheduleNavigation(f,o,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const o=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!o||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Gi(e),this.config=e.map(Ef),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:E}=r,T=o||this.routerState.root,N=E?this.currentUrlTree.fragment:f;let R=null;switch(_){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,t,e,r,o){if(0===e.length)return jg(t.root,t.root,t,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yf(!0,0,n);let t=0,e=!1;const r=n.reduce((o,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Wn(c.outlets,(E,T)=>{_[T]="string"==typeof E?E.split("/"):E}),[...o,{outlets:_}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===f?(c.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?e=!0:".."===_?t++:""!=_&&o.push(_))}),o):[...o,c]},[]);return new yf(e,t,r)}(e);if(c.toRoot())return jg(t.root,new Rt([],{}),t,r,o);const f=function(n,t,e){if(n.isAbsolute)return new vf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new vf(c,c===t.root,0)}const r=Ku(n.commands[0])?0:1;return function(n,t,e){let r=n,o=t,c=e;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new vf(r,!1,o-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),_=f.processChildren?pc(f.segmentGroup,f.index,c.commands):ba(f.segmentGroup,f.index,c.commands);return jg(f.segmentGroup,_,t,r,o)}(T,this.currentUrlTree,e,R,null!=N?N:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=po(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?Object.assign({},K1):!1===r?Object.assign({},J1):r,po(e))return ic(this.currentUrlTree,e,o);const c=this.parseUrl(e);return ic(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const c=e[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,c,f){var _,E;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=nm(r)&&T&&!nm(T.source),q=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===e.toString();if(N&&q)return Promise.resolve(!0);let he,Me,Ve;f?(he=f.resolve,Me=f.reject,Ve=f.promise):Ve=new Promise((pn,$t)=>{he=pn,Me=$t});const lt=++this.navigationId;let Ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Ct=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Ct=0,this.setTransition({id:lt,targetPageId:Ct,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:he,reject:Me,promise:Ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ve.catch(pn=>Promise.reject(pn))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(e,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new pe(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.DyG),u.LFG(df),u.LFG(el),u.LFG(Ke),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function nm(n){return"imperative"!==n}let Hd=(()=>{class n{constructor(e,r,o,c,f){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||ht,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,E=new sm(e,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(el),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class sm{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Wu?this.route:t===el?this.childContexts:this.parent.get(t,e)}}class nv{}class iv{preload(t,e){return(0,qe.of)(null)}}let om=(()=>{class n{constructor(e,r,o,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new em(r,o,T=>e.triggerEvent(new li(T)),T=>e.triggerEvent(new zn(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(hn(e=>e instanceof ee),au(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(e,c)):c.children&&o.push(this.processRoutes(e,c.children));return(0,dn.D)(o).pipe((0,Ei.J)(),(0,ot.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,qe.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,tn.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Di),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wc=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof B?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ee&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ci&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ci(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Di),u.LFG(Io),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nl=new u.OlP("ROUTER_CONFIGURATION"),X1=new u.OlP("ROUTER_FORROOT_GUARD"),ew=[Ke,{provide:df,useClass:zu},{provide:Di,useFactory:function(n,t,e,r,o,c,f,_={},E,T){const N=new Di(null,n,t,e,r,o,c,Vy(f));return E&&(N.urlHandlingStrategy=E),T&&(N.routeReuseStrategy=T),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(R=>{var U,q;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(q=console.groupEnd)||void 0===q||q.call(console)}),N},deps:[df,el,Ke,u.zs3,u.v3s,u.Sil,Xg,nl,[class{},new u.FiY],[class{},new u.FiY]]},el,{provide:Wu,useFactory:function(n){return n.routerState.root},deps:[Di]},{provide:u.v3s,useClass:u.EAV},om,iv,class{preload(t,e){return e().pipe(uo(()=>(0,qe.of)(null)))}},{provide:nl,useValue:{enableTracing:!1}}];function sv(){return new u.PXZ("Router",Di)}let ov=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[ew,av(e),{provide:X1,useFactory:rI,deps:[[Di,new u.FiY,new u.tp0]]},{provide:nl,useValue:r||{}},{provide:ce,useFactory:tw,deps:[Y,[new u.tBr(ne),new u.FiY],nl]},{provide:wc,useFactory:Qx,deps:[Di,Io,nl]},{provide:nv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:iv},{provide:u.PXZ,multi:!0,useFactory:sv},[uv,{provide:u.ip1,multi:!0,useFactory:nw,deps:[uv]},{provide:rw,useFactory:oI,deps:[uv]},{provide:u.tb,multi:!0,useExisting:rw}]]}}static forChild(e){return{ngModule:n,providers:[av(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(X1,8),u.LFG(Di,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Qx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new wc(n,t,e)}function tw(n,t,e={}){return e.useHash?new Ie(n,t):new Ee(n,t)}function rI(n){return"guarded"}function av(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Xg,multi:!0,useValue:n}]}let uv=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Gt.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(_=>r=_),c=this.injector.get(Di),f=this.injector.get(nl);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(nl),o=this.injector.get(om),c=this.injector.get(wc),f=this.injector.get(Di),_=this.injector.get(u.z2F);e===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function nw(n){return n.appInitializer.bind(n)}function oI(n){return n.bootstrapListener.bind(n)}const rw=new u.OlP("Router Initializer");var iw=F(9105);function di(n,t,e,r){return(0,iw.m)(e)&&(r=e,e=void 0),r?di(n,t,e).pipe((0,ot.U)(o=>(0,ks.k)(o)?r(...o):r(o))):new Sn.y(o=>{sw(n,t,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,e)})}function sw(n,t,e,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(t,e,o),c=()=>f.removeEventListener(t,e,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(t,e),c=()=>f.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,_=n.length;f<_;f++)sw(n[f],t,e,r,o)}r.add(c)}var Gd=F(3637),go=F(6561);function uI(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}class wu{call(t,e){return e.subscribe(new cv(t))}}class cv extends iu{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let r=0;r<e&&!this.hasFirst;r++){const c=ec(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(e)}}var uw=F(8640);new Sn.y(uw.Z);var xf=F(377);function dv(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,pa.n)(n,void 0).lift(new Eu(t))}class Eu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new lm(t,this.resultSelector))}}class lm extends Un.L{constructor(t,e,r=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,ks.k)(t)?e.push(new hv(t)):e.push("function"==typeof t[xf.hZ]?new cm(t[xf.hZ]()):new tR(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let r=0;r<e;r++){let o=t[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,r=this.destination;for(let f=0;f<e;f++){let _=t[f];if("function"==typeof _.hasValue&&!_.hasValue())return}let o=!1;const c=[];for(let f=0;f<e;f++){let _=t[f],E=_.next();if(_.hasCompleted()&&(o=!0),E.done)return void r.complete();c.push(E.value)}this.resultSelector?this._tryresultSelector(c):r.next(c),o&&r.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class cm{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class hv{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[xf.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class tR extends Bi.Ds{constructor(t,e,r){super(t),this.parent=e,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[xf.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,Bi.ft)(this.observable,new Bi.IY(this))}}var fv=F(6682);function Xn(n){return t=>t.lift(new lI(n))}class lI{constructor(t){this.notifier=t}call(t,e){const r=new nR(t),o=(0,Bi.ft)(this.notifier,new Bi.IY(r));return o&&!r.seenValue?(r.add(o),e.subscribe(r)):r}}class nR extends Bi.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class cw{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new cI(t,this.compare,this.keySelector))}}class cI extends Un.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:o}=this;e=o?o(t):t}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}function kf(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new rR(n,e))}}class rR{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new iR(t,this.observables,this.project))}}class iR extends iu{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(ec(this,e[c],void 0,c))}notifyNext(t,e,r){this.values[r]=e;const o=this.toRespond;if(o.length>0){const c=o.indexOf(r);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}F(1593),F(8819);var pv=F(1555);function Of(n,t){return new Sn.y(e=>{const r=n.length;if(0===r)return void e.complete();const o=new Array(r);let c=0,f=0;for(let _=0;_<r;_++){const E=(0,dn.D)(n[_]);let T=!1;e.add(E.subscribe({next:N=>{T||(T=!0,f++),o[_]=N},error:N=>e.error(N),complete:()=>{c++,(c===r||!T)&&(f===r&&e.next(t?t.reduce((N,R,U)=>(N[R]=o[U],N),{}):o),e.complete())}}))}})}let dm=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),il=(()=>{class n extends dm{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ir=new u.OlP("NgValueAccessor"),hw={provide:Ir,useExisting:(0,u.Gpc)(()=>Ec),multi:!0},dR=new u.OlP("CompositionEventMode");let Ec=(()=>{class n extends dm{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(dR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([hw]),u.qOj]}),n})();function sl(n){return null==n||0===n.length}function gv(n){return null!=n&&"number"==typeof n.length}const hi=new u.OlP("NgValidators"),ol=new u.OlP("NgAsyncValidators"),Pf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ut{static min(t){return function(n){return t=>{if(sl(t.value)||sl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(sl(t.value)||sl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return sl(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return sl(n.value)||Pf.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>sl(t.value)||!gv(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>gv(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Ea;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(sl(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return wv(t)}static composeAsync(t){return Cv(t)}}function Ea(n){return null}function yv(n){return null!=n}function Ff(n){const t=(0,u.QGY)(n)?(0,dn.D)(n):n;return(0,u.CqO)(t),t}function pw(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function vv(n,t){return t.map(e=>e(n))}function bv(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function wv(n){if(!n)return null;const t=n.filter(yv);return 0==t.length?null:function(e){return pw(vv(e,t))}}function Ev(n){return null!=n?wv(bv(n)):null}function Cv(n){if(!n)return null;const t=n.filter(yv);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,ks.k)(t))return Of(t,null);if((0,pv.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Of(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Of(n=1===n.length&&(0,ks.k)(n[0])?n[0]:n,null).pipe((0,ot.U)(e=>t(...e)))}return Of(n,null)}(vv(e,t).map(Ff)).pipe((0,ot.U)(pw))}}function Dv(n){return null!=n?Cv(bv(n)):null}function gw(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function gs(n){return n._rawValidators}function mw(n){return n._rawAsyncValidators}function Tv(n){return n?Array.isArray(n)?n:[n]:[]}function Iv(n,t){return Array.isArray(n)?n.includes(t):n===t}function mI(n,t){const e=Tv(t);return Tv(n).forEach(o=>{Iv(e,o)||e.push(o)}),e}function Av(n,t){return Tv(t).filter(e=>!Iv(n,e))}let _I=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n}),n})(),Zi=(()=>{class n extends _I{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class Ca extends _I{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sv{constructor(t){this._cd=t}is(t){var e,r,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[t])}}let Nv=(()=>{class n extends Sv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ca,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),pm=(()=>{class n extends Sv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Zi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Vf(n,t){return[...t.path,n]}function Uf(n,t){kv(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vw(n,t)})}(n,t),function(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vw(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function gm(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),_m(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function kv(n,t){const e=gs(n);null!==t.validator?n.setValidators(gw(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=mw(n);null!==t.asyncValidator?n.setAsyncValidators(gw(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();mm(t._rawValidators,o),mm(t._rawAsyncValidators,o)}function _m(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=gs(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(f=>f!==t.validator);c.length!==o.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const o=mw(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(f=>f!==t.asyncValidator);c.length!==o.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return mm(t._rawValidators,r),mm(t._rawAsyncValidators,r),e}function vw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bf(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function bm(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(c=>{c.constructor===Ec?e=c:function(n){return Object.getPrototypeOf(n.constructor)===il}(c)?r=c:o=c}),o||r||e||null}function jf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Zd="VALID",$f="INVALID",ms="PENDING",al="DISABLED";function Fv(n){return(Tc(n)?n.validators:n)||null}function CI(n){return Array.isArray(n)?Ev(n):n||null}function ul(n,t){return(Tc(t)?t.asyncValidators:n)||null}function Lv(n){return Array.isArray(n)?Dv(n):n||null}function Tc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ic{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=CI(this._rawValidators),this._composedAsyncValidatorFn=Lv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zd}get invalid(){return this.status===$f}get pending(){return this.status==ms}get disabled(){return this.status===al}get enabled(){return this.status!==al}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=CI(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Lv(t)}addValidators(t){this.setValidators(mI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Av(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Av(t,this._rawAsyncValidators))}hasValidator(t){return Iv(this._rawValidators,t)}hasAsyncValidator(t){return Iv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ms,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=al,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zd||this.status===ms)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?al:Zd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ms,this._hasOwnPendingAsyncValidator=!0;const e=Ff(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(o=>{r=r instanceof Ac?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof wm&&r.at(o)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?al:this.errors?$f:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ms)?ms:this._anyControlsHaveStatus($f)?$f:Zd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zd extends Ic{constructor(t=null,e,r){super(Fv(e),ul(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ac extends Ic{constructor(t,e,r){super(Fv(e),ul(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof zd?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,c)=>{r=e(r,o,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class wm extends Ic{constructor(t,e,r){super(Fv(e),ul(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zd?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Wd={provide:Ca,useExisting:(0,u.Gpc)(()=>Vv)},Dw=(()=>Promise.resolve(null))();let Vv=(()=>{class n extends Ca{constructor(e,r,o,c){super(),this.control=new zd,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=bm(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Bf(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Vf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Dw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=""===r||r&&"false"!==r;Dw.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Zi,9),u.Y36(hi,10),u.Y36(ol,10),u.Y36(Ir,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Wd]),u.qOj,u.TTD]}),n})(),Uv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const CR={provide:Ir,useExisting:(0,u.Gpc)(()=>Bv),multi:!0};let Bv=(()=>{class n extends il{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([CR]),u.qOj]}),n})(),Em=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Iw=new u.OlP("NgModelWithFormControlWarning"),Sw={provide:Zi,useExisting:(0,u.Gpc)(()=>Yd)};let Yd=(()=>{class n extends Zi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Uf(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){gm(e.control||null,e,!1),jf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(gm(r||null,e),o instanceof zd&&(Uf(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function(n,t){kv(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return _m(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kv(this.form,this),this._oldForm&&_m(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(hi,10),u.Y36(ol,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Sw]),u.qOj,u.TTD]}),n})();const Hv={provide:Ca,useExisting:(0,u.Gpc)(()=>Zf)};let Zf=(()=>{class n extends Ca{constructor(e,r,o,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=bm(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Bf(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Vf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Zi,13),u.Y36(hi,10),u.Y36(ol,10),u.Y36(Ir,10),u.Y36(Iw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Hv]),u.qOj,u.TTD]}),n._ngModelWarningSentOnce=!1,n})();const Mw={provide:Ir,useExisting:(0,u.Gpc)(()=>Tm),multi:!0};function Gv(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Tm=(()=>{class n extends il{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=this._getOptionId(e);null==r&&this.setProperty("selectedIndex",-1);const o=Gv(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&u.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Mw]),u.qOj]}),n})(),qv=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Gv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Tm,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const xI={provide:Ir,useExisting:(0,u.Gpc)(()=>Im),multi:!0};function Rw(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Im=(()=>{class n extends il{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const o=e.map(c=>this._getOptionId(c));r=(c,f)=>{c._setSelected(o.indexOf(f.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const o=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let f=0;f<c.length;f++){const _=c.item(f),E=this._getOptionValue(_.value);o.push(E)}}else{const c=r.options;for(let f=0;f<c.length;f++){const _=c.item(f);if(_.selected){const E=this._getOptionValue(_.value);o.push(E)}}}this.value=o,e(o)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&u.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([xI]),u.qOj]}),n})(),Zv=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Rw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Rw(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Im,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Em]]}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jw]}),n})(),Hw=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Iw,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jw]}),n})(),Kv=(()=>{class n{group(e,r=null){const o=this._reduceControls(e);let _,c=null,f=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,f=null!=r.asyncValidators?r.asyncValidators:null,_=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,f=null!=r.asyncValidator?r.asyncValidator:null)),new Ac(o,{asyncValidators:f,updateOn:_,validators:c})}control(e,r,o){return new zd(e,r,o)}array(e,r,o){const c=e.map(f=>this._createControl(f));return new wm(c,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof zd||e instanceof Ac||e instanceof wm?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return new n},token:n,providedIn:Hw}),n})();const zi=["*"],HI=["dialog"];function Ta(n){return null!=n}function ll(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const f0={animation:!0,transitionTimerDelayMs:5};let Sr=(()=>{class n{constructor(){this.animation=f0.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const bE=()=>{},{transitionTimerDelayMs:wE}=f0,km=new Map,Nr=(n,t,e,r)=>{let o=r.context||{};const c=km.get(t);if(c)switch(r.runningTransition){case"continue":return Ui.E;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),km.delete(t)}const f=e(t,r.animation,o)||bE;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>f()),(0,qe.of)(void 0).pipe(function(n){return t=>new Sn.y(e=>t.subscribe(f=>n.run(()=>e.next(f)),f=>n.run(()=>e.error(f)),()=>n.run(()=>e.complete())))}(n));const _=new Gt.xQ,E=new Gt.xQ,T=_.pipe(function(...n){return t=>ko(t,(0,qe.of)(...n))}(!0));km.set(t,{transition$:_,complete:()=>{E.next(),E.complete()},context:o});const N=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const R=di(t,"transitionend").pipe(Xn(T),hn(({target:q})=>q===t));(function(...n){if(1===n.length){if(!(0,ks.k)(n[0]))return n[0];n=n[0]}return(0,pa.n)(n,void 0).lift(new wu)})(function(n=0,t,e){let r=-1;return(0,go.k)(t)?r=Number(t)<1?1:Number(t):(0,ro.K)(t)&&(e=t),(0,ro.K)(e)||(e=Gd.P),new Sn.y(o=>{const c=(0,go.k)(n)?n:+n-e.now();return e.schedule(uI,c,{index:0,period:r,subscriber:o})})}(N+wE).pipe(Xn(T)),R,E).pipe(Xn(T)).subscribe(()=>{km.delete(t),n.run(()=>{f(),_.next(),_.complete()})})}),_.asObservable()};let xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),IE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),_0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Ft=(()=>{return(n=Ft||(Ft={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Ft;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Lc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function FA(n){const t=Array.from(n.querySelectorAll(Lc)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r=t.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(t);r=this.offset(t,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(t,e=!0){const r=t.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return e&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(t,e,r,o){const[c="top",f="center"]=r.split("-"),_=o?this.offset(t,!1):this.position(t,!1),E=this.getAllStyles(e),T=parseFloat(E.marginTop),N=parseFloat(E.marginBottom),R=parseFloat(E.marginLeft),U=parseFloat(E.marginRight);let q=0,he=0;switch(c){case"top":q=_.top-(e.offsetHeight+T+N);break;case"bottom":q=_.top+_.height;break;case"left":he=_.left-(e.offsetWidth+R+U);break;case"right":he=_.left+_.width}switch(f){case"top":q=_.top;break;case"bottom":q=_.top+_.height-e.offsetHeight;break;case"left":he=_.left;break;case"right":he=_.left+_.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?he=_.left+_.width/2-e.offsetWidth/2:q=_.top+_.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(he)}px, ${Math.round(q)}px)`;const Me=e.getBoundingClientRect(),Ve=document.documentElement,lt=window.innerHeight||Ve.clientHeight,Ct=window.innerWidth||Ve.clientWidth;return Me.left>=0&&Me.top>=0&&Me.right<=Ct&&Me.bottom<=lt}},new Date(1882,10,12),new Date(2174,10,25);let YE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr,$w]]}),n})(),zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),XE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),eC=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Sr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Sr))},token:n,providedIn:"root"}),n})();class Bc{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}const JA=()=>{};let tC=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):JA}_adjustBody(e){const r=this._document.body,o=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+e}px`,()=>r.style["padding-right"]=o}_isPresent(e){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(e);const o=e.getBoundingClientRect().width-e.clientWidth;return r.removeChild(e),o}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(se))},token:n,providedIn:"root"}),n})(),QA=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(jr(1)).subscribe(()=>{Nr(this._zone,this._el.nativeElement,(e,r)=>{r&&ll(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Nr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,r){2&e&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class V0{close(t){}dismiss(t){}}class nC{constructor(t,e,r,o){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new Gt.xQ,this._dismissed=new Gt.xQ,this._hidden=new Gt.xQ,t.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,f)=>{this._resolve=c,this._reject=f}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(r=>{!1!==r&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,qe.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),dv(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var dh=(()=>{return(n=dh||(dh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",dh;var n})();let XA=(()=>{class n{constructor(e,r,o){this._document=e,this._elRef=r,this._zone=o,this._closed$=new Gt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Gt.xQ,this.hidden=new Gt.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(jr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},f=dv(Nr(this._zone,e,()=>e.classList.remove("show"),r),Nr(this._zone,this._dialogEl.nativeElement,()=>{},r));return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){const e={animation:this.animation,runningTransition:"continue"};dv(Nr(this._zone,this._elRef.nativeElement,(c,f)=>{f&&ll(c),c.classList.add("show")},e),Nr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{di(e,"keydown").pipe(Xn(this._closed$),hn(o=>o.which===Ft.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(dh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;di(this._dialogEl.nativeElement,"mousedown").pipe(Xn(this._closed$),(0,Mn.b)(()=>r=!1),Qn(()=>di(e,"mouseup").pipe(Xn(this._closed$),jr(1))),hn(({target:o})=>e===o)).subscribe(()=>{r=!0}),di(e,"click").pipe(Xn(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(dh.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),o=FA(e)[0];(r||o||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Nr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(se),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&u.Gf(HI,7),2&e){let o;u.iGM(o=u.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:zi,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&e&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),Km=(()=>{class n{constructor(e,r,o,c,f,_){this._applicationRef=e,this._injector=r,this._document=o,this._scrollBar=c,this._rendererFactory=f,this._ngZone=_,this._activeWindowCmptHasChanged=new Gt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const E=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{n.runOutsideAngular(()=>{const o=di(t,"focusin").pipe(Xn(e),(0,ot.U)(c=>c.target));di(t,"keydown").pipe(Xn(e),hn(c=>c.which===Ft.Tab),kf(o)).subscribe(([c,f])=>{const[_,E]=FA(t);(f===_||f===t)&&c.shiftKey&&(E.focus(),c.preventDefault()),f===E&&!c.shiftKey&&(_.focus(),c.preventDefault())}),r&&di(t,"click").pipe(Xn(e),kf(o),(0,ot.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,E.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(E.location.nativeElement)}})}open(e,r,o,c){const f=c.container instanceof HTMLElement?c.container:Ta(c.container)?this._document.querySelector(c.container):this._document.body,_=this._rendererFactory.createRenderer(null,null),E=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!f)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const N=new V0,R=this._getContentRef(e,c.injector||r,o,N,c);let U=!1!==c.backdrop?this._attachBackdrop(e,f):void 0,q=this._attachWindowComponent(e,f,R),he=new nC(q,R,U,c.beforeDismiss);return this._registerModalRef(he),this._registerWindowCmpt(q),he.result.then(E,E),he.result.then(T,T),N.close=Me=>{he.close(Me)},N.dismiss=Me=>{he.dismiss(Me)},this._applyWindowOptions(q.instance,c),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),U&&U.instance&&(this._applyBackdropOptions(U.instance,c),U.changeDetectorRef.detectChanges()),q.changeDetectorRef.detectChanges(),he}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let c=e.resolveComponentFactory(QA).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(e,r,o){let f=e.resolveComponentFactory(XA).create(this._injector,o.nodes);return this._applicationRef.attachView(f.hostView),r.appendChild(f.location.nativeElement),f}_applyWindowOptions(e,r){this._windowAttributes.forEach(o=>{Ta(r[o])&&(e[o]=r[o])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(o=>{Ta(r[o])&&(e[o]=r[o])})}_getContentRef(e,r,o,c,f){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,c):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(e,r,o,c,f):new Bc([])}_createFromTemplateRef(e,r){const c=e.createEmbeddedView({$implicit:r,close(f){r.close(f)},dismiss(f){r.dismiss(f)}});return this._applicationRef.attachView(c),new Bc([c.rootNodes],c)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new Bc([[r]])}_createFromComponent(e,r,o,c,f){const _=e.resolveComponentFactory(o),E=u.zs3.create({providers:[{provide:V0,useValue:c}],parent:r}),T=_.create(E),N=T.location.nativeElement;return f.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new Bc([[N]],T.hostView,T)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(se),u.LFG(tC),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(se),u.LFG(tC),u.LFG(u.FYo),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),U0=(()=>{class n{constructor(e,r,o,c){this._moduleCFR=e,this._injector=r,this._modalStack=o,this._config=c}open(e,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Km),u.LFG(eC))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(Km),u.LFG(eC))},token:n,providedIn:"root"}),n})(),rC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[U0]}),n})(),H0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),cC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),n_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),uS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),ap=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),wC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})(),EC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let dl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lr]]}),n})();const CC=[xc,IE,_0,v0,b0,YE,XE,rC,H0,cC,n_,uS,gC,ap,wC,EC,dl];let DS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[CC,xc,IE,_0,v0,b0,YE,XE,rC,H0,cC,n_,uS,gC,ap,wC,EC,dl]}),n})();function Sk(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u.TgZ(8,"button",4),u.NdJ("click",function(){return u.CHM(e),u.oxw().mostrarModalEditar()}),u._uU(9,"Editar"),u.qZA(),u.qZA(),u.qZA()}if(2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e.email),u.xp6(2),u.Oqu(e.estado),u.xp6(2),u.hij(" ",e.perfil," ")}}function TS(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",5),u.TgZ(1,"div",6),u.TgZ(2,"h5",7),u._uU(3,"\xc9xito"),u.qZA(),u.TgZ(4,"button",8),u.NdJ("click",function(){return u.CHM(e).$implicit.close("Cerrado desde la ventana")}),u.TgZ(5,"span",9),u._uU(6,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",10),u._uU(8," \xbfQuieres confirmar la informacion? (Mira el resultado en consola) "),u.qZA(),u.TgZ(9,"div",11),u.TgZ(10,"button",12),u.NdJ("click",function(){return u.CHM(e).$implicit.close("No")}),u._uU(11,"No"),u.qZA(),u.TgZ(12,"button",13),u.NdJ("click",function(){return u.CHM(e).$implicit.close("Si")}),u._uU(13,"Si"),u.qZA(),u.qZA(),u.qZA()}}let r_=(()=>{class n{constructor(e){this.modalService=e,this.especialistas=[{email:"eppe@gmil.com",perfil:"Especialista",estado:"pendiente"},{email:"eppe@gmil.com",perfil:"Especialista",estado:"pendiente"},{email:"eppe@gmil.com",perfil:"Especialista",estado:"pendiente"}]}ngOnInit(){}mostrarModalEditar(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(U0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-admin"]],decls:17,vars:1,consts:[[1,"container"],[1,"table","tabla"],[4,"ngFor","ngForOf"],["myModalConf",""],[3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h2"),u._uU(2,"Resultados"),u.qZA(),u.TgZ(3,"table",1),u.TgZ(4,"thead"),u.TgZ(5,"tr"),u.TgZ(6,"th"),u._uU(7,"Usuario"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Estado"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Perfil"),u.qZA(),u._UZ(12,"th"),u.qZA(),u.qZA(),u.TgZ(13,"tbody"),u.YNc(14,Sk,10,3,"tr",2),u.qZA(),u.qZA(),u.YNc(15,TS,14,0,"ng-template",null,3,u.W1O),u.qZA()),2&e&&(u.xp6(14),u.Q6J("ngForOf",r.especialistas))},directives:[bt],styles:[""]}),n})(),IS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[["href","registro"],["href","login"]],template:function(e,r){1&e&&(u.TgZ(0,"div"),u.TgZ(1,"a",0),u._uU(2,"Registrarse"),u.qZA(),u._UZ(3,"br"),u.TgZ(4,"a",1),u._uU(5,"Login"),u.qZA(),u.qZA())},styles:[""]}),n})();var ve=F(8239),fh=F(9746),DC=F(7771),W0=F(8858);class TC extends Gt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new IC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let f;if(this.closed)throw new ru.N;if(this.isStopped||this.hasError?f=of.w.EMPTY:(this.observers.push(t),f=new W0.W(this,t)),o&&t.add(t=new fh.ht(t,o)),e)for(let _=0;_<c&&!t.closed;_++)t.next(r[_]);else for(let _=0;_<c&&!t.closed;_++)t.next(r[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||DC.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let f=0;for(;f<c&&!(t-o[f].time<r);)f++;return c>e&&(f=Math.max(f,c-e)),f>0&&o.splice(0,f),o}}class IC{constructor(t,e){this.time=t,this.value=e}}function AC(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let o,f,c=0,_=!1,E=!1;return function(N){let R;c++,!o||_?(_=!1,o=new TC(n,t,r),R=o.subscribe(this),f=N.subscribe({next(U){o.next(U)},error(U){_=!0,o.error(U)},complete(){E=!0,f=void 0,o.complete()}}),E&&(f=void 0)):R=o.subscribe(this),this.add(()=>{c--,R.unsubscribe(),R=void 0,f&&!E&&e&&0===c&&(f.unsubscribe(),f=void 0,o=void 0)})}}(r))}function Y0(n,t){return t?Qn(()=>n,t):Qn(()=>n)}var K0=F(2639),xr=F(6643),_s=F(8939);F(2329);var Gr=F(5452),wn=F(6034),wt=F(3854),Tu=F(5601);const NC=new Map,MC={activated:!1,tokenObservers:[]},Q0={initialized:!1,enabled:!1};function dr(n){return NC.get(n)||MC}function ys(n,t){NC.set(n,t)}function s_(){return Q0}class dp{constructor(t,e,r,o,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new wt.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new wt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const qr=new wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function hp(n){if(!dr(n).activated)throw qr.create("use-before-activation",{appName:n.name})}function eb(n,t){return a_.apply(this,arguments)}function a_(){return(a_=(0,ve.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:r};let f,_;try{f=yield fetch(n,c)}catch(R){throw qr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==f.status)throw qr.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(R){throw qr.create("fetch-parse-error",{originalErrorMessage:R.message})}const E=_.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(E[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function xS(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const l_="firebase-app-check-store";let ft=null;function kS(){return ft||(ft=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(qr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(l_,{keyPath:"compositeKey"})}}}catch(e){t(qr.create("storage-open",{originalErrorMessage:e.message}))}}),ft)}function PC(){return(PC=(0,ve.Z)(function*(n,t){const r=(yield kS()).transaction(l_,"readwrite"),c=r.objectStore(l_).put({compositeKey:n,value:t});return new Promise((f,_)=>{c.onsuccess=E=>{f()},r.onerror=E=>{var T;_(qr.create("storage-set",{originalErrorMessage:null===(T=E.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const c_=new Tu.Yd("@firebase/app-check");function VC(n,t){return(0,wt.hl)()?function(n,t){return function(n,t){return PC.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{c_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function UC(){return s_().enabled}function BC(){return pp.apply(this,arguments)}function pp(){return(pp=(0,ve.Z)(function*(){const n=s_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const BS={error:"UNKNOWN_ERROR"};function jC(n){return wt.US.encodeString(JSON.stringify(n),!1)}function gh(n){return ob.apply(this,arguments)}function ob(){return(ob=(0,ve.Z)(function*(n,t=!1){const e=n.app;hp(e);const r=dr(e);let c,f,o=r.token;if(!o){const _=yield r.cachedTokenPromise;_&&gp(_)&&(o=_,ys(e,Object.assign(Object.assign({},r),{token:o})),$C(e,{token:o.token}))}if(!t&&o&&gp(o))return{token:o.token};if(UC()){const _=yield eb(xS(e,yield BC()),n.platformLoggerProvider);return yield VC(e,_),ys(e,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{o=yield r.provider.getToken()}catch(_){c_.error(_),c=_}return o?(f={token:o.token},ys(e,Object.assign(Object.assign({},r),{token:o})),yield VC(e,o)):f=HS(c),$C(e,f),f})).apply(this,arguments)}function ab(n,t){const e=dr(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ys(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function $C(n,t){const e=dr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function gp(n){return n.expireTimeMillis-Date.now()>0}function HS(n){return{token:jC(BS),error:n}}class GS{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=dr(this.app);for(const e of t)ab(this.app,e.next);return Promise.resolve()}}const YC="app-check-internal";(0,Gr._registerComponent)(new wn.wA("app-check",n=>function(n,t){return new GS(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(YC).initialize()})),(0,Gr._registerComponent)(new wn.wA(YC,n=>function(n){return{getToken:t=>gh(n,t),addTokenListener:t=>function(n,t,e,r){const{app:o}=n,c=dr(o),f={next:e,error:r,type:t},_=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]});if(!_.tokenRefresher){const E=function(n){const{app:t}=n;return new dp((0,ve.Z)(function*(){let r;if(r=dr(t).token?yield gh(n,!0):yield gh(n),r.error)throw r.error}),()=>!0,()=>{const e=dr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=E}if(!_.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),c.token&&gp(c.token)){const E=c.token;Promise.resolve().then(()=>e({token:E.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(E=>{E&&gp(E)&&e({token:E.token})}).catch(()=>{});ys(o,_)}(n,"INTERNAL",t),removeTokenListener:t=>ab(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gr.registerVersion)("@firebase/app-check","0.4.2");class db{constructor(){return(0,xr.vb)("app-check")}}"undefined"!=typeof window&&window;var eD=F(7841);const nD=new u.OlP("angularfire2.auth.use-emulator"),nN=new u.OlP("angularfire2.auth.settings"),rD=new u.OlP("angularfire2.auth.tenant-id"),iD=new u.OlP("angularfire2.auth.langugage-code"),Hc=new u.OlP("angularfire2.auth.use-device-language"),rN=new u.OlP("angularfire.auth.persistence"),hb=(n,t,e,r,o,c,f,_)=>(0,_s.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=o,c&&E.useDeviceLanguage(),f)for(const[T,N]of Object.entries(f))E.settings[T]=N;return _&&E.setPersistence(_),E},[e,r,o,c,f,_]);let h_=(()=>{class n{constructor(e,r,o,c,f,_,E,T,N,R,U,q){const he=new Gt.xQ,Me=(0,qe.of)(void 0).pipe((0,fh.QV)(f.outsideAngular),Qn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4671)))),(0,ot.U)(()=>(0,_s.on)(e,c,r)),(0,ot.U)(Ve=>hb(Ve,c,_,T,N,R,E,U)),AC({bufferSize:1,refCount:!1}));if(sa(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{Me.pipe(Nn()).subscribe();const lt=Me.pipe(Qn($t=>$t.getRedirectResult().then(Tn=>Tn,()=>null)),xr.iC,AC({bufferSize:1,refCount:!1})),Ct=Me.pipe(Qn($t=>new Sn.y(Tn=>({unsubscribe:c.runOutsideAngular(()=>$t.onAuthStateChanged($s=>Tn.next($s),$s=>Tn.error($s),()=>Tn.complete()))})))),pn=Me.pipe(Qn($t=>new Sn.y(Tn=>({unsubscribe:c.runOutsideAngular(()=>$t.onIdTokenChanged($s=>Tn.next($s),$s=>Tn.error($s),()=>Tn.complete()))}))));this.authState=lt.pipe(Y0(Ct),(0,K0.R)(f.outsideAngular),(0,fh.QV)(f.insideAngular)),this.user=lt.pipe(Y0(pn),(0,K0.R)(f.outsideAngular),(0,fh.QV)(f.insideAngular)),this.idToken=this.user.pipe(Qn($t=>$t?(0,dn.D)($t.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(Qn($t=>$t?(0,dn.D)($t.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,fv.T)(lt,he,this.authState.pipe(hn($t=>!$t))).pipe((0,ot.U)($t=>(null==$t?void 0:$t.user)?$t:null),(0,K0.R)(f.outsideAngular),(0,fh.QV)(f.insideAngular))}return(0,_s.pX)(this,Me,c,{spy:{apply:(Ve,lt,Ct)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&Ct.then(pn=>he.next(pn))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_s.Dh),u.LFG(_s.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(xr.HU),u.LFG(nD,8),u.LFG(nN,8),u.LFG(rD,8),u.LFG(iD,8),u.LFG(Hc,8),u.LFG(rN,8),u.LFG(db,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fk=(()=>{class n{constructor(){eD.Z.registerVersion("angularfire",xr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[h_]}),n})(),fb=(()=>{class n{constructor(e){this.afAuth=e}registerUser(e,r){var o=this;return(0,ve.Z)(function*(){const c=yield o.afAuth.createUserWithEmailAndPassword(e,r);return o.sendEmailVerification(),c})()}loginUser(e,r){var o=this;return(0,ve.Z)(function*(){try{return o.afAuth.signInWithEmailAndPassword(e,r)}catch(c){console.log(c)}return null})()}LogOut(){var e=this;return(0,ve.Z)(function*(){e.afAuth.signOut()})()}getCurrentUserFirebase(){return this.afAuth.authState}sendEmailVerification(){var e=this;return(0,ve.Z)(function*(){var r;return null===(r=yield e.afAuth.currentUser)||void 0===r?void 0:r.sendEmailVerification()})()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(h_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iN(n,t){1&n&&(u.TgZ(0,"small",19),u._uU(1,"El email es requerido."),u.qZA())}function pb(n,t){1&n&&(u.TgZ(0,"small",19),u._uU(1,"La clave es requerido."),u.qZA())}let sN=(()=>{class n{constructor(e,r,o){this.fb=e,this.authSrv=r,this.router=o,this.mensaje="",this.formulario=e.group({email:["",[Ut.required,Ut.email]],clave:["",Ut.required]})}ngOnInit(){}login(){var e=this;return(0,ve.Z)(function*(){var r;const o=e.formulario.value;let c={email:o.email,clave:o.clave};try{let f=yield e.authSrv.loginUser(c.email,c.clave);null!=f?(null===(r=f.user)||void 0===r?void 0:r.emailVerified)?e.router.navigate([""]):e.mensaje="Verifique su email.":e.router.navigate(["registro"])}catch(f){console.log(f),e.mensaje=""+f}})()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Kv),u.Y36(fb),u.Y36(Di))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:5,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./../../../assets/user.png","id","icon","alt","User Icon"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email","placeholder","Email",1,"fadeIn","second"],["class","form-text text-muted",4,"ngIf"],["type","password","formControlName","clave","placeholder","Clave",1,"fadeIn","third"],["type","submit","value","Ingresar",1,"fadeIn","fourth",3,"disabled"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","btnradio","id","btnradio1","autocomplete","off","checked","",1,"btn-check"],["for","btnradio1",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio2","autocomplete","off",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio3","autocomplete","off",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-primary"],["for",""],[1,"form-text","text-muted"]],template:function(e,r){if(1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h2",2),u._uU(3," Ingreso"),u.qZA(),u.TgZ(4,"div",3),u._UZ(5,"img",4),u.qZA(),u.TgZ(6,"div"),u.TgZ(7,"form",5),u.NdJ("ngSubmit",function(){return r.login()}),u.TgZ(8,"div",6),u._UZ(9,"input",7),u.YNc(10,iN,2,0,"small",8),u.qZA(),u.TgZ(11,"div",6),u._UZ(12,"input",9),u.YNc(13,pb,2,0,"small",8),u.qZA(),u._UZ(14,"input",10),u.qZA(),u.TgZ(15,"p"),u._uU(16),u.qZA(),u.qZA(),u.TgZ(17,"div",11),u._UZ(18,"input",12),u.TgZ(19,"label",13),u._uU(20,"Especialista"),u.qZA(),u._UZ(21,"input",14),u.TgZ(22,"label",15),u._uU(23,"Paciente"),u.qZA(),u._UZ(24,"input",16),u.TgZ(25,"label",17),u._uU(26,"Administrador"),u.qZA(),u.qZA(),u._UZ(27,"br"),u._UZ(28,"label",18),u.qZA(),u.qZA()),2&e){let o,c;u.xp6(7),u.Q6J("formGroup",r.formulario),u.xp6(3),u.Q6J("ngIf",(null==(o=r.formulario.get("email"))?null:o.hasError("email"))&&(null==(o=r.formulario.get("email"))?null:o.touched)),u.xp6(3),u.Q6J("ngIf",(null==(c=r.formulario.get("clave"))?null:c.hasError("clave"))&&(null==(c=r.formulario.get("clave"))?null:c.touched)),u.xp6(1),u.Q6J("disabled",r.formulario.invalid),u.xp6(2),u.hij(" ",r.mensaje," ")}},directives:[Uv,pm,Yd,Ec,Nv,Zf,Cn],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], [type=email][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%], [type=email][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%], [type=email][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:40%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})();function f_(){return n=>n.lift(new sD)}class sD{call(t,e){return e.subscribe(new oD(t))}}class oD extends Un.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}F(4671);var ze,oN=F(4486),aN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Iu={},gb=gb||{},pt=aN||self;function vp(){}function p_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function mh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var g_="closure_uid_"+(1e9*Math.random()>>>0),uD=0;function uN(n,t,e){return n.call.apply(n.bind,arguments)}function lD(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function fi(n,t,e){return(fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uN:lD).apply(null,arguments)}function m_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function pi(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return t.prototype[o].apply(r,f)}}function gl(){this.s=this.s,this.o=this.o}var wp={};gl.prototype.s=!1,gl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,g_)&&n[g_]||(n[g_]=++uD)}(this);delete wp[n]}},gl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cD=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},__=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&t.call(e,o[c],c,n)};function dD(n){return Array.prototype.concat.apply([],arguments)}function _h(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function y_(n){return/^[\s\xa0]*$/.test(n)}var gi,hD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vs(n,t){return-1!=n.indexOf(t)}function Ep(n,t){return n<t?-1:n>t?1:0}e:{var mb=pt.navigator;if(mb){var v_=mb.userAgent;if(v_){gi=v_;break e}}gi=""}function Cp(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function fD(n){const t={};for(const e in n)t[e]=n[e];return t}var pD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gD(n,t){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)n[e]=r[e];for(let c=0;c<pD.length;c++)e=pD[c],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function _b(n){return _b[" "](n),n}_b[" "]=vp;var Dp,n,yb=vs(gi,"Opera"),Gc=vs(gi,"Trident")||vs(gi,"MSIE"),vb=vs(gi,"Edge"),b_=vb||Gc,bb=vs(gi,"Gecko")&&!(vs(gi.toLowerCase(),"webkit")&&!vs(gi,"Edge"))&&!(vs(gi,"Trident")||vs(gi,"MSIE"))&&!vs(gi,"Edge"),lN=vs(gi.toLowerCase(),"webkit")&&!vs(gi,"Edge");function wb(){var n=pt.document;return n?n.documentMode:void 0}e:{var Eb="",w_=(n=gi,bb?/rv:([^\);]+)(\)|;)/.exec(n):vb?/Edge\/([\d\.]+)/.exec(n):Gc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lN?/WebKit\/(\S+)/.exec(n):yb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(w_&&(Eb=w_?w_[1]:""),Gc){var E_=wb();if(null!=E_&&E_>parseFloat(Eb)){Dp=String(E_);break e}}Dp=Eb}var Vk={};function Yi(){return t=Vk,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=hD(String(Dp)).split("."),e=hD("9").split("."),r=Math.max(t.length,e.length);for(let f=0;0==n&&f<r;f++){var o=t[f]||"",c=e[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Ep(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Ep(0==o[2].length,0==c[2].length)||Ep(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var t}var cN=pt.document&&Gc&&(wb()||parseInt(Dp,10))||void 0,Uk=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pt.addEventListener("test",vp,t),pt.removeEventListener("test",vp,t)}catch(e){}return n}();function hr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Tp(n,t){if(hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(bb){e:{try{_b(t.nodeName);var o=!0;break e}catch(c){}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Cb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tp.Z.h.call(this)}}hr.prototype.h=function(){this.defaultPrevented=!0},pi(Tp,hr);var Cb={2:"touch",3:"pen",4:"mouse"};Tp.prototype.h=function(){Tp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ip="closure_listenable_"+(1e6*Math.random()|0),yD=0;function dN(n,t,e,r,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=o,this.key=++yD,this.ca=this.fa=!1}function C_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function yh(n){this.src=n,this.g={},this.h=0}function D_(n,t){var e=t.type;if(e in n.g){var c,r=n.g[e],o=cD(r,t);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(C_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function T_(n,t,e,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==r)return o}return-1}yh.prototype.add=function(n,t,e,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var f=T_(n,t,r,o);return-1<f?(t=n[f],e||(t.fa=!1)):((t=new dN(t,this.src,c,!!r,o)).fa=e,n.push(t)),t};var vh="closure_lm_"+(1e6*Math.random()|0),Ap={};function hN(n,t,e,r,o){if(r&&r.once)return Tb(n,t,e,r,o);if(Array.isArray(t)){for(var c=0;c<t.length;c++)hN(n,t[c],e,r,o);return null}return e=Sb(e),n&&n[Ip]?n.N(t,e,mh(r)?!!r.capture:!!r,o):Db(n,t,e,!1,r,o)}function Db(n,t,e,r,o,c){if(!t)throw Error("Invalid event type");var f=mh(o)?!!o.capture:!!o,_=Np(n);if(_||(n[vh]=_=new yh(n)),(e=_.add(t,e,r,f,c)).proxy)return e;if(r=function(){var t=Ib;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)Uk||(o=f),void 0===o&&(o=!1),n.addEventListener(t.toString(),r,o);else if(n.attachEvent)n.attachEvent(vD(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function Tb(n,t,e,r,o){if(Array.isArray(t)){for(var c=0;c<t.length;c++)Tb(n,t[c],e,r,o);return null}return e=Sb(e),n&&n[Ip]?n.O(t,e,mh(r)?!!r.capture:!!r,o):Db(n,t,e,!0,r,o)}function Sp(n,t,e,r,o){if(Array.isArray(t))for(var c=0;c<t.length;c++)Sp(n,t[c],e,r,o);else r=mh(r)?!!r.capture:!!r,e=Sb(e),n&&n[Ip]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=T_(c=n.g[t],e,r,o))&&(C_(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete n.g[t],n.h--))):n&&(n=Np(n))&&(t=n.g[t.toString()],n=-1,t&&(n=T_(t,e,r,o)),(e=-1<n?t[n]:null)&&I_(e))}function I_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Ip])D_(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(vD(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=Np(t))?(D_(e,n),0==e.h&&(e.src=null,t[vh]=null)):C_(n)}}}function vD(n){return n in Ap?Ap[n]:Ap[n]="on"+n}function Ib(n,t){if(n.ca)n=!0;else{t=new Tp(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&I_(n),n=e.call(r,t)}return n}function Np(n){return(n=n[vh])instanceof yh?n:null}var Ab="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sb(n){return"function"==typeof n?n:(n[Ab]||(n[Ab]=function(t){return n.handleEvent(t)}),n[Ab])}function Rr(){gl.call(this),this.i=new yh(this),this.P=this,this.I=null}function zr(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new hr(t,n);else if(t instanceof hr)t.target=t.target||n;else{var o=t;gD(t=new hr(r,n),o)}if(o=!0,e)for(var c=e.length-1;0<=c;c--){var f=t.g=e[c];o=Mp(f,r,!0,t)&&o}if(o=Mp(f=t.g=n,r,!0,t)&&o,o=Mp(f,r,!1,t)&&o,e)for(c=0;c<e.length;c++)o=Mp(f=t.g=e[c],r,!1,t)&&o}function Mp(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,c=0;c<t.length;++c){var f=t[c];if(f&&!f.ca&&f.capture==e){var _=f.listener,E=f.ia||f.src;f.fa&&D_(n.i,f),o=!1!==_.call(E,r)&&o}}return o&&!r.defaultPrevented}pi(Rr,gl),Rr.prototype[Ip]=!0,Rr.prototype.removeEventListener=function(n,t,e,r){Sp(this,n,t,e,r)},Rr.prototype.M=function(){if(Rr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)C_(e[r]);delete n.g[t],n.h--}}this.I=null},Rr.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Rr.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var Nb=pt.JSON.stringify;function bD(){var n=xb;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var A_,ED=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pN,n=>n.reset());class pN{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function CD(n){pt.setTimeout(()=>{throw n},0)}function Mb(n,t){A_||function(){var n=pt.Promise.resolve(void 0);A_=function(){n.then(gN)}}(),S_||(A_(),S_=!0),xb.add(n,t)}var S_=!1,xb=new class{constructor(){this.h=this.g=null}add(t,e){const r=ED.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function gN(){for(var n;n=bD();){try{n.h.call(n.g)}catch(e){CD(e)}var t=ED;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}S_=!1}function N_(n,t){Rr.call(this),this.h=n||1,this.g=t||pt,this.j=fi(this.kb,this),this.l=Date.now()}function Rb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function M_(n,t,e){if("function"==typeof n)e&&(n=fi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fi(n.handleEvent,n)}return 2147483647<Number(t)?-1:pt.setTimeout(n,t||0)}function mN(n){n.g=M_(()=>{n.g=null,n.i&&(n.i=!1,mN(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}pi(N_,Rr),(ze=N_.prototype).da=!1,ze.S=null,ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zr(this,"tick"),this.da&&(Rb(this),this.start()))}},ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.M=function(){N_.Z.M.call(this),Rb(this),delete this.g};class Bk extends gl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:mN(this)}M(){super.M(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x_(n){gl.call(this),this.h=n,this.g={}}pi(x_,gl);var _N=[];function yN(n,t,e,r){Array.isArray(e)||(e&&(_N[0]=e.toString()),e=_N);for(var o=0;o<e.length;o++){var c=hN(t,e[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function vN(n){Cp(n.g,function(t,e){this.g.hasOwnProperty(e)&&I_(t)},n),n.g={}}function kb(){this.g=!0}function xp(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<o.length;f++)o[f]=""}}}return Nb(e)}catch(_){return t}}(n,e)+(r?" "+r:"")})}x_.prototype.M=function(){x_.Z.M.call(this),vN(this)},x_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kb.prototype.Aa=function(){this.g=!1},kb.prototype.info=function(){};var bh={},bN=null;function Ob(){return bN=bN||new Rr}function wN(n){hr.call(this,bh.Ma,n)}function R_(n){const t=Ob();zr(t,new wN(t,n))}function TD(n,t){hr.call(this,bh.STAT_EVENT,n),this.stat=t}function Ki(n){const t=Ob();zr(t,new TD(t,n))}function ID(n,t){hr.call(this,bh.Na,n),this.size=t}function k_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){n()},t)}bh.Ma="serverreachability",pi(wN,hr),bh.STAT_EVENT="statevent",pi(TD,hr),bh.Na="timingevent",pi(ID,hr);var Pb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},EN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fb(){}function SD(){}Fb.prototype.h=null;var xD,O_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ND(){hr.call(this,"d")}function MD(){hr.call(this,"c")}function P_(){}function F_(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new x_(this),this.P=Lb,this.W=new N_(n=b_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new RD}function RD(){this.i=null,this.g="",this.h=!1}pi(ND,hr),pi(MD,hr),pi(P_,Fb),P_.prototype.g=function(){return new XMLHttpRequest},P_.prototype.i=function(){return{}},xD=new P_;var Lb=45e3,_l={},Rp={};function Vb(n,t,e){n.K=1,n.v=Op(Go(t)),n.s=e,n.U=!0,kD(n,null)}function kD(n,t){n.F=Date.now(),wh(n),n.A=Go(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),$D(e.h,"t",r),n.C=0,e=n.l.H,n.h=new RD,n.g=rT(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Bk(fi(n.Ia,n,n.g),n.O)),yN(n.V,n.g,"readystatechange",n.gb),t=n.H?fD(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),R_(1),function(n,t,e,r,o,c){n.info(function(){if(n.g)if(c)for(var f="",_=c.split("&"),E=0;E<_.length;E++){var T=_[E].split("=");if(1<T.length){var N=T[0];T=T[1];var R=N.split("_");f=2<=R.length&&"type"==R[1]?f+(N+"=")+T+"&":f+(N+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+e+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function L_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ub(n,t,e){let o,r=!0;for(;!n.I&&n.C<e.length;){if(o=OD(n,e),o==Rp){4==t&&(n.o=4,Ki(14),r=!1),xp(n.j,n.m,null,"[Incomplete Response]");break}if(o==_l){n.o=4,Ki(15),xp(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}xp(n.j,n.m,o,null),PD(n,o)}L_(n)&&o!=Rp&&o!=_l&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ki(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),r1(t),t.L=!0,Ki(11))):(xp(n.j,n.m,e,"[Invalid Chunked Response]"),vl(n),yl(n))}function OD(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?Rp:(e=Number(t.substring(e,r)),isNaN(e)?_l:(r+=1)+e>t.length?Rp:(t=t.substr(r,e),n.C=r+e,t))}function wh(n){n.Y=Date.now()+n.P,CN(n,n.P)}function CN(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=k_(fi(n.eb,n),t)}function kp(n){n.B&&(pt.clearTimeout(n.B),n.B=null)}function yl(n){0==n.l.G||n.I||FN(n.l,n)}function vl(n){kp(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Rb(n.W),vN(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function PD(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Gb(e.i,n)))if(e.I=n.N,!n.J&&Gb(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=k_(fi(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;nr(e),e1(e)}tT(e),Ki(18)}if(1>=zD(e.i)&&e.ka){try{e.ka()}catch(T){}e.ka=void 0}}else El(e,11)}else if((n.J||e.g==n)&&nr(e),!y_(t))for(o=e.Ca.g.parse(t),t=0;t<o.length;t++){let T=o[t];if(e.U=T[0],T=T[1],2==e.G)if("c"==T[0]){e.J=T[1],e.la=T[2];const N=T[3];null!=N&&(e.ma=N,e.h.info("VER="+e.ma));const R=T[4];null!=R&&(e.za=R,e.h.info("SVER="+e.za));const U=T[5];null!=U&&"number"==typeof U&&0<U&&(e.K=r=1.5*U,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const q=n.g;if(q){const he=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var c=r.i;!c.g&&(vs(he,"spdy")||vs(he,"quic")||vs(he,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(Lp(c,c.h),c.h=null))}if(r.D){const Me=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.sa=Me,$n(r.F,r.D,Me))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var f=n;if((r=e).oa=Hp(r,r.H?r.la:null,r.W),f.J){qb(r.i,f);var _=f,E=r.K;E&&_.setTimeout(E),_.B&&(kp(_),wh(_)),r.g=f}else PN(r);0<e.l.length&&q_(e)}else"stop"!=T[0]&&"close"!=T[0]||El(e,7);else 3==e.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?El(e,7):XD(e):"noop"!=T[0]&&e.j&&e.j.wa(T),e.A=0)}R_(4)}catch(T){}}function FD(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(p_(n)||"string"==typeof n)__(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(p_(n)||"string"==typeof n){e=[];for(var r=n.length,o=0;o<r;o++)e.push(o)}else for(o in e=[],r=0,n)e[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(p_(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var c=0;c<o;c++)t.call(void 0,r[c],e&&e[c],n)}}function Eh(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Eh)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function LD(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Ra(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var o={};for(e=t=0;t<n.g.length;)Ra(o,r=n.g[t])||(n.g[e++]=r,o[r]=1),t++;n.g.length=e}}function Ra(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ze=F_.prototype).setTimeout=function(n){this.P=n},ze.gb=function(n){n=n.target;const t=this.L;t&&3==Vs(n)?t.l():this.Ia(n)},ze.Ia=function(n){try{if(n==this.g)e:{const N=Vs(this.g);var t=this.g.Da();const R=this.g.ba();if(!(3>N)&&(3!=N||b_||this.g&&(this.h.h||this.g.ga()||H_(this.g)))){this.I||4!=N||7==t||R_(8==t||0>=R?3:2),kp(this);var e=this.g.ba();this.N=e;t:if(L_(this)){var r=H_(this.g);n="";var o=r.length,c=4==Vs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vl(this),yl(this);var f="";break t}this.h.i=new pt.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:c&&t==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==e,function(n,t,e,r,o,c,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,N,e),this.i){if(this.$&&!this.J){t:{if(this.g){var _,E=this.g;if((_=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y_(_)){var T=_;break t}}T=null}if(!(e=T)){this.i=!1,this.o=3,Ki(12),vl(this),yl(this);break e}xp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PD(this,e)}this.U?(Ub(this,N,f),b_&&this.i&&3==N&&(yN(this.V,this.W,"tick",this.fb),this.W.start())):(xp(this.j,this.m,f,null),PD(this,f)),4==N&&vl(this),this.i&&!this.I&&(4==N?FN(this.l,this):(this.i=!1,wh(this)))}else 400==e&&0<f.indexOf("Unknown SID")?(this.o=3,Ki(12)):(this.o=0,Ki(13)),vl(this),yl(this)}}}catch(N){}},ze.fb=function(){if(this.g){var n=Vs(this.g),t=this.g.ga();this.C<t.length&&(kp(this),Ub(this,n,t),this.i&&4!=n&&wh(this))}},ze.cancel=function(){this.I=!0,vl(this)},ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(R_(3),Ki(17)),vl(this),this.o=2,yl(this)):CN(this,this.Y-n)},(ze=Eh.prototype).R=function(){LD(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ze.T=function(){return LD(this),this.g.concat()},ze.get=function(n,t){return Ra(this.h,n)?this.h[n]:t},ze.set=function(n,t){Ra(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ze.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var o=e[r],c=this.get(o);n.call(t,c,o,this)}};var VD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ch(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ch){this.g=void 0!==t?t:n.g,V_(this,n.j),this.s=n.s,Bb(this,n.i),jb(this,n.m),this.l=n.l,t=n.h;var e=new mi;e.i=t.i,t.g&&(e.g=new Eh(t.g),e.h=t.h),UD(this,e),this.o=n.o}else n&&(e=String(n).match(VD))?(this.g=!!t,V_(this,e[1]||"",!0),this.s=U_(e[2]||""),Bb(this,e[3]||"",!0),jb(this,e[4]),this.l=U_(e[5]||"",!0),UD(this,e[6]||"",!0),this.o=U_(e[7]||"")):(this.g=!!t,this.h=new mi(null,this.g))}function Go(n){return new Ch(n)}function V_(n,t,e){n.j=e?U_(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Bb(n,t,e){n.i=e?U_(t,!0):t}function jb(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function UD(n,t,e){t instanceof mi?(n.h=t,function(n,t){t&&!n.j&&(bl(n),n.i=null,n.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&(B_(this,r),$D(this,o,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Pp(t,$b)),n.h=new mi(t,n.g))}function $n(n,t,e){n.h.set(t,e)}function Op(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function U_(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Fp),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Fp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ch.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Pp(t,BD,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Pp(t,BD,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Pp(e,"/"==e.charAt(0)?IN:TN,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Pp(e,AN)),n.join("")};var BD=/[#\/\?@]/g,TN=/[#\?:]/g,IN=/[#\?]/g,$b=/[#\?@]/g,AN=/#/g;function mi(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function bl(n){n.g||(n.g=new Eh,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),o=null;if(0<=r){var c=n[e].substring(0,r);o=n[e].substring(r+1)}else c=n[e];t(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function B_(n,t){bl(n),t=wl(n,t),Ra(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Ra((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&LD(n)))}function jD(n,t){return bl(n),t=wl(n,t),Ra(n.g.h,t)}function $D(n,t,e){B_(n,t),0<e.length&&(n.i=null,n.g.set(wl(n,t),_h(e)),n.h+=e.length)}function wl(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function qD(n){this.l=n||ZD,n=pt.PerformanceNavigationTiming?0<(n=pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(pt.g&&pt.g.Ea&&pt.g.Ea()&&pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=mi.prototype).add=function(n,t){bl(this),this.i=null,n=wl(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ze.forEach=function(n,t){bl(this),this.g.forEach(function(e,r){__(e,function(o){n.call(t,o,r,this)},this)},this)},ze.T=function(){bl(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var o=n[r],c=0;c<o.length;c++)e.push(t[r]);return e},ze.R=function(n){bl(this);var t=[];if("string"==typeof n)jD(this,n)&&(t=dD(t,this.g.get(wl(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=dD(t,n[e])}return t},ze.set=function(n,t){return bl(this),this.i=null,jD(this,n=wl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ze.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var f=o;""!==r[c]&&(f+="="+encodeURIComponent(String(r[c]))),n.push(f)}}return this.i=n.join("&")};var ZD=10;function Hb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zD(n){return n.h?1:n.g?n.g.size:0}function Gb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Lp(n,t){n.g?n.g.add(t):n.h=t}function qb(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Zb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return _h(n.i)}function Vp(){}function SN(){this.g=new Vp}function qo(n,t,e){const r=e||"";try{FD(n,function(o,c){let f=o;mh(o)&&(f=Nb(o)),t.push(r+c+"="+encodeURIComponent(f))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function zb(n,t,e,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(c){}}function Up(n){this.l=n.$b||null,this.j=n.ib||!1}function Wb(n,t){Rr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Yb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qD.prototype.cancel=function(){if(this.i=Zb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vp.prototype.stringify=function(n){return pt.JSON.stringify(n,void 0)},Vp.prototype.parse=function(n){return pt.JSON.parse(n,void 0)},pi(Up,Fb),Up.prototype.g=function(){return new Wb(this.l,this.j)},Up.prototype.i=function(n){return function(){return n}}({}),pi(Wb,Rr);var Yb=0;function WD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Bp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,j_(n)}function j_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=Wb.prototype).open=function(n,t){if(this.readyState!=Yb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,j_(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||pt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bp(this)),this.readyState=Yb},ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,j_(this)),this.g&&(this.readyState=3,j_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==pt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WD(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Bp(this):j_(this),3==this.readyState&&WD(this)}},ze.Ua=function(n){this.g&&(this.response=this.responseText=n,Bp(this))},ze.Ta=function(n){this.g&&(this.response=n,Bp(this))},ze.ha=function(){this.g&&Bp(this)},ze.setRequestHeader=function(n,t){this.v.append(n,t)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Wb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MN=pt.JSON.parse;function tr(n){Rr.call(this),this.headers=new Eh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YD,this.K=this.L=!1}pi(tr,Rr);var YD="",xN=/^https?$/i,KD=["POST","PUT"];function Wk(n){return"content-type"==n.toLowerCase()}function Kb(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Jb(n),$_(n)}function Jb(n){n.D||(n.D=!0,zr(n,"complete"),zr(n,"error"))}function JD(n){if(n.h&&void 0!==gb&&(!n.C[1]||4!=Vs(n)||2!=n.ba()))if(n.v&&4==Vs(n))M_(n.Fa,0,n);else if(zr(n,"readystatechange"),4==Vs(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===_){var o=String(n.H).match(VD)[1]||null;if(!o&&pt.self&&pt.self.location){var c=pt.self.location.protocol;o=c.substr(0,c.length-1)}r=!xN.test(o?o.toLowerCase():"")}e=r}if(e)zr(n,"complete"),zr(n,"success");else{n.m=6;try{var f=2<Vs(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",Jb(n)}}finally{$_(n)}}}function $_(n,t){if(n.g){Qb(n);const e=n.g,r=n.C[0]?vp:null;n.g=null,n.C=null,t||zr(n,"ready");try{e.onreadystatechange=r}catch(o){}}}function Qb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(pt.clearTimeout(n.A),n.A=null)}function Vs(n){return n.g?n.g.readyState:0}function H_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xb(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return Cp(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):$n(n,t,e))}function jp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function kN(n){this.za=0,this.l=[],this.h=new kb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jp("baseRetryDelayMs",5e3,n),this.$a=jp("retryDelaySeedMs",1e4,n),this.Ya=jp("forwardChannelMaxRetries",2,n),this.ra=jp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new qD(n&&n.concurrentRequestLimit),this.Ca=new SN,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function XD(n){if(t1(n),3==n.G){var t=n.V++,e=Go(n.F);$n(e,"SID",n.J),$n(e,"RID",t),$n(e,"TYPE","terminate"),$p(n,e),(t=new F_(n,n.h,t,void 0)).K=2,t.v=Op(Go(e)),e=!1,pt.navigator&&pt.navigator.sendBeacon&&(e=pt.navigator.sendBeacon(t.v.toString(),"")),!e&&pt.Image&&((new Image).src=t.v,e=!0),e||(t.g=rT(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wh(t)}nT(n)}function e1(n){n.g&&(r1(n),n.g.cancel(),n.g=null)}function t1(n){e1(n),n.u&&(pt.clearTimeout(n.u),n.u=null),nr(n),n.i.cancel(),n.m&&("number"==typeof n.m&&pt.clearTimeout(n.m),n.m=null)}function G_(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&q_(n)}function q_(n){Hb(n.i)||n.m||(n.m=!0,Mb(n.Ha,n),n.C=0)}function eT(n,t){var e;e=t?t.m:n.V++;const r=Go(n.F);$n(r,"SID",n.J),$n(r,"RID",e),$n(r,"AID",n.U),$p(n,r),n.o&&n.s&&Xb(r,n.o,n.s),e=new F_(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=n1(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Lp(n.i,e),Vb(e,r,t)}function $p(n,t){n.j&&FD({},function(e,r){$n(t,r,e)})}function n1(n,t,e){e=Math.min(n.l.length,e);var r=n.j?fi(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const f=["count="+e];-1==c?0<e?(c=o[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let _=!0;for(let E=0;E<e;E++){let T=o[E].h;const N=o[E].g;if(T-=c,0>T)c=Math.max(0,o[E].h-100),_=!1;else try{qo(N,f,"req"+T+"_")}catch(R){r&&r(N)}}if(_){r=f.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function PN(n){n.g||n.u||(n.Y=1,Mb(n.Ga,n),n.A=0)}function tT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=k_(fi(n.Ga,n),i1(n,n.A)),n.A++,0))}function r1(n){null!=n.B&&(pt.clearTimeout(n.B),n.B=null)}function Z_(n){n.g=new F_(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Go(n.oa);$n(t,"RID","rpc"),$n(t,"SID",n.J),$n(t,"CI",n.N?"0":"1"),$n(t,"AID",n.U),$p(n,t),$n(t,"TYPE","xmlhttp"),n.o&&n.s&&Xb(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Op(Go(t)),e.s=null,e.U=!0,kD(e,n)}function nr(n){null!=n.v&&(pt.clearTimeout(n.v),n.v=null)}function FN(n,t){var e=null;if(n.g==t){nr(n),r1(n),n.g=null;var r=2}else{if(!Gb(n.i,t))return;e=t.D,qb(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var o=n.C;zr(r=Ob(),new ID(r,e,t,o)),q_(n)}else PN(n);else if(3==(o=t.o)||0==o&&0<n.I||!(1==r&&function(n,t){return!(zD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=k_(fi(n.Ha,n,t),i1(n,n.C)),n.C++,0)))}(n,t)||2==r&&tT(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}function i1(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function El(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=fi(n.jb,n);e||(e=new Ch("//www.google.com/images/cleardot.gif"),pt.location&&"http"==pt.location.protocol||V_(e,"https"),Op(e)),function(n,t){const e=new kb;if(pt.Image){const r=new Image;r.onload=m_(zb,e,r,"TestLoadImage: loaded",!0,t),r.onerror=m_(zb,e,r,"TestLoadImage: error",!1,t),r.onabort=m_(zb,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=m_(zb,e,r,"TestLoadImage: timeout",!1,t),pt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else Ki(2);n.G=0,n.j&&n.j.va(t),nT(n),t1(n)}function nT(n){n.G=0,n.I=-1,n.j&&((0!=Zb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,_h(n.l),n.l.length=0),n.j.ua())}function Hp(n,t,e){let r=function(n){return n instanceof Ch?Go(n):new Ch(n,void 0)}(e);if(""!=r.i)t&&Bb(r,t+"."+r.i),jb(r,r.m);else{const o=pt.location;r=function(n,t,e,r){var o=new Ch(null,void 0);return n&&V_(o,n),t&&Bb(o,t),e&&jb(o,e),r&&(o.l=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,e)}return n.aa&&Cp(n.aa,function(o,c){$n(r,c,o)}),e=n.sa,(t=n.D)&&e&&$n(r,t,e),$n(r,"VER",n.ma),$p(n,r),r}function rT(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tr(e&&n.Ba&&!n.qa?new Up({ib:!0}):n.qa)).L=n.H,t}function iT(){}function Gp(){if(Gc&&!(10<=Number(cN)))throw Error("Environmental error: no available transport.")}function kr(n,t){Rr.call(this),this.g=new kN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!y_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!y_(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Cl(this)}function s1(n){ND.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function z_(){MD.call(this),this.status=1}function Cl(n){this.g=n}(ze=tr.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xD.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:xD),this.g.onreadystatechange=fi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(c){return void Kb(this,c)}n=e||"";const o=new Eh(this.headers);r&&FD(r,function(c,f){o.set(f,c)}),r=function(n){e:{var t=Wk;const e=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<e;o++)if(o in r&&t.call(void 0,r[o],o,n)){t=o;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(o.T()),e=pt.FormData&&n instanceof pt.FormData,!(0<=cD(KD,t))||r||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qb(this),0<this.B&&((this.K=function(n){return Gc&&Yi()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fi(this.pa,this)):this.A=M_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Kb(this,c)}},ze.pa=function(){void 0!==gb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zr(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zr(this,"complete"),zr(this,"abort"),$_(this))},ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$_(this,!0)),tr.Z.M.call(this)},ze.Fa=function(){this.s||(this.F||this.v||this.l?JD(this):this.cb())},ze.cb=function(){JD(this)},ze.ba=function(){try{return 2<Vs(this)?this.g.status:-1}catch(n){return-1}},ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ze.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),MN(t)}},ze.Da=function(){return this.m},ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=kN.prototype).ma=8,ze.G=1,ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new F_(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=fD(c),gD(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=n1(this,o,t),$n(e=Go(this.F),"RID",n),$n(e,"CVER",22),this.D&&$n(e,"X-HTTP-Session-Id",this.D),$p(this,e),this.o&&c&&Xb(e,this.o,c),Lp(this.i,o),this.Ra&&$n(e,"TYPE","init"),this.ja?($n(e,"$req",t),$n(e,"SID","null"),o.$=!0,Vb(o,e,null)):Vb(o,e,t),this.G=2}}else 3==this.G&&(n?eT(this,n):0==this.l.length||Hb(this.i)||eT(this))},ze.Ga=function(){if(this.u=null,Z_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=k_(fi(this.bb,this),n)}},ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ki(10),e1(this),Z_(this))},ze.ab=function(){null!=this.v&&(this.v=null,e1(this),tT(this),Ki(19))},ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ki(2)):(this.h.info("Failed to ping google.com"),Ki(1))},(ze=iT.prototype).xa=function(){},ze.wa=function(){},ze.va=function(){},ze.ua=function(){},ze.Oa=function(){},Gp.prototype.g=function(n,t){return new kr(n,t)},pi(kr,Rr),kr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Mb(fi(n.hb,n,t))),Ki(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Hp(n,null,n.W),q_(n)},kr.prototype.close=function(){XD(this.g)},kr.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,G_(this.g,t)}else this.v?((t={}).__data__=Nb(n),G_(this.g,t)):G_(this.g,n)},kr.prototype.M=function(){this.g.j=null,delete this.j,XD(this.g),delete this.g,kr.Z.M.call(this)},pi(s1,ND),pi(z_,MD),pi(Cl,iT),Cl.prototype.xa=function(){zr(this.g,"a")},Cl.prototype.wa=function(n){zr(this.g,new s1(n))},Cl.prototype.va=function(n){zr(this.g,new z_(n))},Cl.prototype.ua=function(){zr(this.g,"b")},Gp.prototype.createWebChannel=Gp.prototype.g,kr.prototype.send=kr.prototype.u,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,Pb.NO_ERROR=0,Pb.TIMEOUT=8,Pb.HTTP_ERROR=6,EN.COMPLETE="complete",SD.EventType=O_,O_.OPEN="a",O_.CLOSE="b",O_.ERROR="c",O_.MESSAGE="d",Rr.prototype.listen=Rr.prototype.N,tr.prototype.listenOnce=tr.prototype.O,tr.prototype.getLastError=tr.prototype.La,tr.prototype.getLastErrorCode=tr.prototype.Da,tr.prototype.getStatus=tr.prototype.ba,tr.prototype.getResponseJson=tr.prototype.Qa,tr.prototype.getResponseText=tr.prototype.ga,tr.prototype.send=tr.prototype.ea;var LN=Iu.createWebChannelTransport=function(){return new Gp},W_=Iu.getStatEventTarget=function(){return Ob()},o1=Iu.ErrorCode=Pb,a1=Iu.EventType=EN,sT=Iu.Event=bh,Or=Iu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yk=Iu.FetchXmlHttpFactory=Up,Y_=Iu.WebChannel=SD,VN=Iu.XhrIo=tr;const UN="@firebase/firestore";class fr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let Dh="9.1.3";const qc=new Tu.Yd("@firebase/firestore");function oT(){return qc.logLevel}function Le(n,...t){if(qc.logLevel<=Tu.in.DEBUG){const e=t.map(u1);qc.debug(`Firestore (${Dh}): ${n}`,...e)}}function pr(n,...t){if(qc.logLevel<=Tu.in.ERROR){const e=t.map(u1);qc.error(`Firestore (${Dh}): ${n}`,...e)}}function qp(n,...t){if(qc.logLevel<=Tu.in.WARN){const e=t.map(u1);qc.warn(`Firestore (${Dh}): ${n}`,...e)}}function u1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function et(n="Unexpected state"){const t=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: `+n;throw pr(t),new Error(t)}function Et(n,t){n||et()}function $e(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class aT{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class jN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(fr.UNAUTHENTICATED))}shutdown(){}}class $N{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class HN{constructor(t){this.t=t,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let o=this.i;const c=T=>this.i!==o?(o=this.i,e(T)):Promise.resolve();let f=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new _i,t.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const T=f;t.enqueueRetryable((0,ve.Z)(function*(){yield T.promise,yield c(r.currentUser)}))},E=T=>{Le("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>E(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(Le("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new _i)}},0),_()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Le("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new aT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Et(null===t||"string"==typeof t),new fr(t)}}class GN{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=fr.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class Zo{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new GN(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Us{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.g(r),this.p=r=>e.writeSequenceNumber(r))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function qN(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}Us.T=-1;class uT{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=qN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<e&&(r+=t.charAt(o[c]%t.length))}return r}}function Ht(n,t){return n<t?-1:n>t?1:0}function Zp(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}function lT(n){return n+"\0"}class Wr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Wr.fromMillis(Date.now())}static fromDate(t){return Wr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Wr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new Wr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Th(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Dl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ZN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zp{constructor(t,e,r){void 0===e?e=0:e>t.length&&et(),void 0===r?r=t.length-e:r>t.length-e&&et(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===zp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zp?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const c=t.get(o),f=e.get(o);if(c<f)return-1;if(c>f)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class on extends zp{construct(t,e,r){return new on(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new on(e)}static emptyPath(){return new on([])}}const Jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends zp{construct(t,e,r){return new Ai(t,e,r)}static isValidIdentifier(t){return Jk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(t){const e=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let f=!1;for(;o<t.length;){const _=t[o];if("\\"===_){if(o+1===t.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const E=t[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=E,o+=2}else"`"===_?(f=!f,o++):"."!==_||f?(r+=_,o++):(c(),o++)}if(c(),f)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(e)}static emptyPath(){return new Ai([])}}class Tl{constructor(t){this.fields=t,t.sort(Ai.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zp(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class Yr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Yr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Yr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const WN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(n){if(Et(!!n),"string"==typeof n){let t=0;const e=WN.exec(n);if(Et(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ih(n){return"string"==typeof n?Yr.fromBase64String(n):Yr.fromUint8Array(n)}function l1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function vo(n){const t=n.mapValue.fields.__previous_value__;return l1(t)?vo(t):t}function K_(n){const t=Zc(n.mapValue.fields.__local_write_time__.timestampValue);return new Wr(t.seconds,t.nanos)}function Il(n){return null==n}function J_(n){return 0===n&&1/n==-1/0}function c1(n){return"number"==typeof n&&Number.isInteger(n)&&!J_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(on.fromString(t))}static fromName(t){return new Je(on.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===on.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return on.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new on(t.slice()))}}function Al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l1(n)?4:10:et()}function bo(n,t){const e=Al(n);if(e!==Al(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return K_(n).isEqual(K_(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Zc(r.timestampValue),f=Zc(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Ih(n.bytesValue).isEqual(Ih(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return gr(r.geoPointValue.latitude)===gr(o.geoPointValue.latitude)&&gr(r.geoPointValue.longitude)===gr(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return gr(r.integerValue)===gr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=gr(r.doubleValue),f=gr(o.doubleValue);return c===f?J_(c)===J_(f):isNaN(c)&&isNaN(f)}return!1}(n,t);case 9:return Zp(n.arrayValue.values||[],t.arrayValue.values||[],bo);case 10:return function(r,o){const c=r.mapValue.fields||{},f=o.mapValue.fields||{};if(Th(c)!==Th(f))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===f[_]||!bo(c[_],f[_])))return!1;return!0}(n,t);default:return et()}var o}function zc(n,t){return void 0!==(n.values||[]).find(e=>bo(e,t))}function Sl(n,t){const e=Al(n),r=Al(t);if(e!==r)return Ht(e,r);switch(e){case 0:return 0;case 1:return Ht(n.booleanValue,t.booleanValue);case 2:return function(o,c){const f=gr(o.integerValue||o.doubleValue),_=gr(c.integerValue||c.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(n,t);case 3:return Wp(n.timestampValue,t.timestampValue);case 4:return Wp(K_(n),K_(t));case 5:return Ht(n.stringValue,t.stringValue);case 6:return function(o,c){const f=Ih(o),_=Ih(c);return f.compareTo(_)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const f=o.split("/"),_=c.split("/");for(let E=0;E<f.length&&E<_.length;E++){const T=Ht(f[E],_[E]);if(0!==T)return T}return Ht(f.length,_.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const f=Ht(gr(o.latitude),gr(c.latitude));return 0!==f?f:Ht(gr(o.longitude),gr(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,c){const f=o.values||[],_=c.values||[];for(let E=0;E<f.length&&E<_.length;++E){const T=Sl(f[E],_[E]);if(T)return T}return Ht(f.length,_.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,c){const f=o.fields||{},_=Object.keys(f),E=c.fields||{},T=Object.keys(E);_.sort(),T.sort();for(let N=0;N<_.length&&N<T.length;++N){const R=Ht(_[N],T[N]);if(0!==R)return R;const U=Sl(f[_[N]],E[T[N]]);if(0!==U)return U}return Ht(_.length,T.length)}(n.mapValue,t.mapValue);default:throw et()}}function Wp(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ht(n,t);const e=Zc(n),r=Zc(t),o=Ht(e.seconds,r.seconds);return 0!==o?o:Ht(e.nanos,r.nanos)}function Ah(n){return Q_(n)}function Q_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Zc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ih(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const f of r.values||[])c?c=!1:o+=",",o+=Q_(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",f=!0;for(const _ of o)f?f=!1:c+=",",c+=`${_}:${Q_(r.fields[_])}`;return c+"}"}(n.mapValue):et();var t}function Yp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function d1(n){return!!n&&"integerValue"in n}function h1(n){return!!n&&"arrayValue"in n}function f1(n){return!!n&&"nullValue"in n}function cT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function X_(n){return!!n&&"mapValue"in n}function Kp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Dl(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Kp(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Kp(n.arrayValue.values[e]);return t}return Object.assign({},n)}class Kr{constructor(t){this.value=t}static empty(){return new Kr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!X_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kp(e)}setAll(t){let e=Ai.emptyPath(),r={},o=[];t.forEach((f,_)=>{if(!e.isImmediateParentOf(_)){const E=this.getFieldsMap(e);this.applyChanges(E,r,o),r={},o=[],e=_.popLast()}f?r[_.lastSegment()]=Kp(f):o.push(_.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,o)}delete(t){const e=this.field(t.popLast());X_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return bo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];X_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Dl(e,(o,c)=>t[o]=c);for(const o of r)delete t[o]}clone(){return new Kr(Kp(this.value))}}function dT(n){const t=[];return Dl(n.fields,(e,r)=>{const o=new Ai([e]);if(X_(r)){const c=dT(r.mapValue).fields;if(0===c.length)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new Tl(t)}class Bt{constructor(t,e,r,o,c){this.key=t,this.documentType=e,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new Bt(t,0,Mt.min(),Kr.empty(),0)}static newFoundDocument(t,e,r){return new Bt(t,1,e,r,0)}static newNoDocument(t,e){return new Bt(t,2,e,Kr.empty(),0)}static newUnknownDocument(t,e){return new Bt(t,3,e,Kr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Bt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Bt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jp{constructor(t,e=null,r=[],o=[],c=null,f=null,_=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=_,this.A=null}}function Qp(n,t=null,e=[],r=[],o=null,c=null,f=null){return new Jp(n,t,e,r,o,c,f)}function Sh(n){const t=$e(n);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Ah(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Il(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Mh(t.startAt)),t.endAt&&(e+="|ub:",e+=Mh(t.endAt)),t.A=e}return t.A}function Nh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!nM(n.orderBy[o],t.orderBy[o]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((e=n.filters[o]).op!==(r=t.filters[o]).op||!e.field.isEqual(r.field)||!bo(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ty(n.startAt,t.startAt)&&ty(n.endAt,t.endAt)}function Xp(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Jr extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,r):new KN(t,e,r):"array-contains"===e?new XN(t,r):"in"===e?new eM(t,r):"not-in"===e?new tM(t,r):"array-contains-any"===e?new Nl(t,r):new Jr(t,e,r)}static R(t,e,r){return"in"===e?new JN(t,r):new QN(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(Sl(e,this.value)):null!==e&&Al(this.value)===Al(e)&&this.P(Sl(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class KN extends Jr{constructor(t,e,r){super(t,e,r),this.key=Je.fromName(r.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.P(e)}}class JN extends Jr{constructor(t,e){super(t,"in",e),this.keys=p1(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class QN extends Jr{constructor(t,e){super(t,"not-in",e),this.keys=p1(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function p1(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Je.fromName(r.referenceValue))}class XN extends Jr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return h1(e)&&zc(e.arrayValue,this.value)}}class eM extends Jr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&zc(this.value.arrayValue,e)}}class tM extends Jr{constructor(t,e){super(t,"not-in",e)}matches(t){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!zc(this.value.arrayValue,e)}}class Nl extends Jr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!h1(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}}class Au{constructor(t,e){this.position=t,this.before=e}}function Mh(n){return`${n.before?"b":"a"}:${n.position.map(t=>Ah(t)).join(",")}`}class xh{constructor(t,e="asc"){this.field=t,this.dir=e}}function nM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function hT(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const c=t[o],f=n.position[o];if(r=c.field.isKeyField()?Je.comparator(Je.fromName(f.referenceValue),e.key):Sl(f,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function ty(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!bo(n.position[e],t.position[e]))return!1;return!0}class Su{constructor(t,e=null,r=[],o=[],c=null,f="F",_=null,E=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=E,this.V=null,this.S=null}}function g1(n,t,e,r,o,c,f,_){return new Su(n,t,e,r,o,c,f,_)}function Wc(n){return new Su(n)}function ny(n){return!Il(n.limit)&&"F"===n.limitType}function ry(n){return!Il(n.limit)&&"L"===n.limitType}function m1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zo(n){for(const t of n.filters)if(t.v())return t.field;return null}function Yc(n){return null!==n.collectionGroup}function Wo(n){const t=$e(n);if(null===t.V){t.V=[];const e=zo(t),r=m1(t);if(null!==e&&null===r)e.isKeyField()||t.V.push(new xh(e)),t.V.push(new xh(Ai.keyField(),"asc"));else{let o=!1;for(const c of t.explicitOrderBy)t.V.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new xh(Ai.keyField(),c))}}}return t.V}function Ji(n){const t=$e(n);if(!t.S)if("F"===t.limitType)t.S=Qp(t.path,t.collectionGroup,Wo(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const c of Wo(t))e.push(new xh(c.field,"desc"===c.dir?"asc":"desc"));const r=t.endAt?new Au(t.endAt.position,!t.endAt.before):null,o=t.startAt?new Au(t.startAt.position,!t.startAt.before):null;t.S=Qp(t.path,t.collectionGroup,e,t.filters,t.limit,r,o)}return t.S}function Kc(n,t,e){return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function eg(n,t){return Nh(Ji(n),Ji(t))&&n.limitType===t.limitType}function fT(n){return`${Sh(Ji(n))}|lt:${n.limitType}`}function _1(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${Ah(r.value)}`;var r}).join(", ")}]`),Il(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+Mh(n.startAt)),n.endAt&&(t+=", endAt: "+Mh(n.endAt)),`Target(${t})`}(Ji(n))}; limitType=${n.limitType})`}function Rh(n,t){return t.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):Je.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,r){for(const o of e.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!hT(e.startAt,Wo(e),r)||e.endAt&&hT(e.endAt,Wo(e),r)));var e,r}function y1(n){return(t,e)=>{let r=!1;for(const o of Wo(n)){const c=pT(o,t,e);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function pT(n,t,e){const r=n.field.isKeyField()?Je.comparator(t.key,e.key):function(o,c,f){const _=c.data.field(o),E=f.data.field(o);return null!==_&&null!==E?Sl(_,E):et()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}function v1(n,t){if(n.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J_(t)?"-0":t}}function iy(n){return{integerValue:""+n}}function gT(n,t){return c1(t)?iy(t):v1(n,t)}class sy{constructor(){this._=void 0}}function mT(n,t,e){return n instanceof kh?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(e,t):n instanceof Qc?rM(n,t):n instanceof Oh?iM(n,t):function(r,o){const c=oy(r,o),f=_T(c)+_T(r.C);return d1(c)&&d1(r.C)?iy(f):v1(r.N,f)}(n,t)}function Jc(n,t,e){return n instanceof Qc?rM(n,t):n instanceof Oh?iM(n,t):e}function oy(n,t){return n instanceof tg?d1(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class kh extends sy{}class Qc extends sy{constructor(t){super(),this.elements=t}}function rM(n,t){const e=yT(t);for(const r of n.elements)e.some(o=>bo(o,r))||e.push(r);return{arrayValue:{values:e}}}class Oh extends sy{constructor(t){super(),this.elements=t}}function iM(n,t){let e=yT(t);for(const r of n.elements)e=e.filter(o=>!bo(o,r));return{arrayValue:{values:e}}}class tg extends sy{constructor(t,e){super(),this.N=t,this.C=e}}function _T(n){return gr(n.integerValue||n.doubleValue)}function yT(n){return h1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ay{constructor(t,e){this.field=t,this.transform=e}}class Xk{constructor(t,e){this.version=t,this.transformResults=e}}class Pr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Pr}static exists(t){return new Pr(void 0,t)}static updateTime(t){return new Pr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uy(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class b1{}function eO(n,t,e){n instanceof a?function(r,o,c){const f=r.value.clone(),_=h(r.fieldTransforms,o,c.transformResults);f.setAll(_),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):n instanceof l?function(r,o,c){if(!uy(r.precondition,o))return void o.convertToUnknownDocument(c.version);const f=h(r.fieldTransforms,o,c.transformResults),_=o.data;_.setAll(d(r)),_.setAll(f),o.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function vT(n,t,e){var o;n instanceof a?function(r,o,c){if(!uy(r.precondition,o))return;const f=r.value.clone(),_=m(r.fieldTransforms,c,o);f.setAll(_),o.convertToFoundDocument(s(o),f).setHasLocalMutations()}(n,t,e):n instanceof l?function(r,o,c){if(!uy(r.precondition,o))return;const f=m(r.fieldTransforms,c,o),_=o.data;_.setAll(d(r)),_.setAll(f),o.convertToFoundDocument(s(o),_).setHasLocalMutations()}(n,t,e):uy(n.precondition,o=t)&&o.convertToNoDocument(Mt.min())}function tO(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),c=oy(r.transform,o||null);null!=c&&(null==e&&(e=Kr.empty()),e.set(r.field,c))}return e||null}function i(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&Zp(e,r,(o,c)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Qc&&r instanceof Qc||e instanceof Oh&&r instanceof Oh?Zp(e.elements,r.elements,bo):e instanceof tg&&r instanceof tg?bo(e.C,r.C):e instanceof kh&&r instanceof kh);var e,r}(o,c))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function s(n){return n.isFoundDocument()?n.version:Mt.min()}class a extends b1{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}}class l extends b1{constructor(t,e,r,o,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function d(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function h(n,t,e){const r=new Map;Et(n.length===e.length);for(let o=0;o<e.length;o++){const c=n[o],f=c.transform,_=t.data.field(c.field);r.set(c.field,Jc(f,_,e[o]))}return r}function m(n,t,e){const r=new Map;for(const o of n){const c=o.transform,f=e.data.field(o.field);r.set(o.field,mT(c,f,t))}return r}class y extends b1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class b extends b1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class D{constructor(t){this.count=t}}var A,M;function O(n){switch(n){default:return et();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function H(n){if(void 0===n)return pr("GRPC error has no .code"),me.UNKNOWN;switch(n){case A.OK:return me.OK;case A.CANCELLED:return me.CANCELLED;case A.UNKNOWN:return me.UNKNOWN;case A.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case A.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case A.INTERNAL:return me.INTERNAL;case A.UNAVAILABLE:return me.UNAVAILABLE;case A.UNAUTHENTICATED:return me.UNAUTHENTICATED;case A.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case A.NOT_FOUND:return me.NOT_FOUND;case A.ALREADY_EXISTS:return me.ALREADY_EXISTS;case A.PERMISSION_DENIED:return me.PERMISSION_DENIED;case A.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case A.ABORTED:return me.ABORTED;case A.OUT_OF_RANGE:return me.OUT_OF_RANGE;case A.UNIMPLEMENTED:return me.UNIMPLEMENTED;case A.DATA_LOSS:return me.DATA_LOSS;default:return et()}}(M=A||(A={}))[M.OK=0]="OK",M[M.CANCELLED=1]="CANCELLED",M[M.UNKNOWN=2]="UNKNOWN",M[M.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",M[M.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",M[M.NOT_FOUND=5]="NOT_FOUND",M[M.ALREADY_EXISTS=6]="ALREADY_EXISTS",M[M.PERMISSION_DENIED=7]="PERMISSION_DENIED",M[M.UNAUTHENTICATED=16]="UNAUTHENTICATED",M[M.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",M[M.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",M[M.ABORTED=10]="ABORTED",M[M.OUT_OF_RANGE=11]="OUT_OF_RANGE",M[M.UNIMPLEMENTED=12]="UNIMPLEMENTED",M[M.INTERNAL=13]="INTERNAL",M[M.UNAVAILABLE=14]="UNAVAILABLE",M[M.DATA_LOSS=15]="DATA_LOSS";class Z{constructor(t,e){this.comparator=t,this.root=e||X.EMPTY}insert(t,e){return new Z(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,X.BLACK,null,null))}remove(t){return new Z(this.comparator,this.root.remove(t,this.comparator).copy(null,null,X.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new de(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new de(this.root,t,this.comparator,!1)}getReverseIterator(){return new de(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new de(this.root,t,this.comparator,!0)}}class de{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class X{constructor(t,e,r,o,c){this.key=t,this.value=e,this.color=null!=r?r:X.RED,this.left=null!=o?o:X.EMPTY,this.right=null!=c?c:X.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,c){return new X(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,e,r),null):0===c?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return X.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return X.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,X.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,X.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const t=this.left.check();if(t!==this.right.check())throw et();return t+(this.isRed()?0:1)}}X.EMPTY=null,X.RED=!0,X.BLACK=!1,X.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,t,e,r,o){return this}insert(n,t,e){return new X(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Te{constructor(t){this.comparator=t,this.data=new Z(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new we(this.data.getIterator())}getIteratorFrom(t){return new we(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Te)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Te(this.comparator);return e.data=t,e}}class we{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Xe=new Z(Je.comparator);function Qe(){return Xe}const jt=new Z(Je.comparator);function rr(){return jt}const wo=new Z(Je.comparator);function Ph(){return wo}const Fh=new Te(Je.comparator);function qt(...n){let t=Fh;for(const e of n)t=t.add(e);return t}const Lh=new Te(Ht);function Vh(){return Lh}class Xc{constructor(t,e,r,o,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,ed.createSynthesizedTargetChangeForCurrentChange(t,e)),new Xc(Mt.min(),r,Vh(),Qe(),qt())}}class ed{constructor(t,e,r,o,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e){return new ed(Yr.EMPTY_BYTE_STRING,e,qt(),qt(),qt())}}class Uh{constructor(t,e,r,o){this.k=t,this.removedTargetIds=e,this.key=r,this.$=o}}class ly{constructor(t,e){this.targetId=t,this.O=e}}class nO{constructor(t,e,r=Yr.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class rO{constructor(){this.F=0,this.M=sO(),this.L=Yr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=qt(),e=qt(),r=qt();return this.M.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:et()}}),new ed(this.L,this.B,t,e,r)}G(){this.U=!1,this.M=sO()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class NF{constructor(t){this.tt=t,this.et=new Map,this.nt=Qe(),this.st=iO(),this.it=new Te(Ht)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,e=>{const r=this.ut(e);switch(t.state){case 0:this.ht(e)&&r.j(t.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(t.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(e);break;case 3:this.ht(e)&&(r.Z(),r.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),r.j(t.resumeToken));break;default:et()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((r,o)=>{this.ht(o)&&e(o)})}ft(t){const e=t.targetId,r=t.O.count,o=this.dt(e);if(o){const c=o.target;if(Xp(c))if(0===r){const f=new Je(c.path);this.at(e,f,Bt.newNoDocument(f,Mt.min()))}else Et(1===r);else this.wt(e)!==r&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((c,f)=>{const _=this.dt(f);if(_){if(c.current&&Xp(_.target)){const E=new Je(_.target.path);null!==this.nt.get(E)||this.gt(f,E)||this.at(f,E,Bt.newNoDocument(E,t))}c.K&&(e.set(f,c.W()),c.G())}});let r=qt();this.st.forEach((c,f)=>{let _=!0;f.forEachWhile(E=>{const T=this.dt(E);return!T||2===T.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const o=new Xc(t,e,this.it,this.nt,r);return this.nt=Qe(),this.st=iO(),this.it=new Te(Ht),o}ot(t,e){if(!this.ht(t))return;const r=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,r),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,r){if(!this.ht(t))return;const o=this.ut(t);this.gt(t,e)?o.H(e,1):o.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),r&&(this.nt=this.nt.insert(e,r))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new rO,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Te(Ht),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new rO),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function iO(){return new Z(Je.comparator)}function sO(){return new Z(Je.comparator)}const MF={asc:"ASCENDING",desc:"DESCENDING"},xF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class RF{constructor(t,e){this.databaseId=t,this.D=e}}function w1(n,t){return n.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oO(n,t){return n.D?t.toBase64():t.toUint8Array()}function kF(n,t){return w1(n,t.toTimestamp())}function Si(n){return Et(!!n),Mt.fromTimestamp(function(t){const e=Zc(t);return new Wr(e.seconds,e.nanos)}(n))}function sM(n,t){return(e=n,new on(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function aO(n){const t=on.fromString(n);return Et(vO(t)),t}function E1(n,t){return sM(n.databaseId,t.path)}function Ml(n,t){const e=aO(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(lO(e))}function oM(n,t){return sM(n.databaseId,t)}function uO(n){const t=aO(n);return 4===t.length?on.emptyPath():lO(t)}function C1(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lO(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cO(n,t,e){return{name:E1(n,t),fields:e.value.mapValue.fields}}function dO(n,t,e){const r=Ml(n,t.name),o=Si(t.updateTime),c=new Kr({mapValue:{fields:t.fields}}),f=Bt.newFoundDocument(r,o,c);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function bT(n,t){let e;if(t instanceof a)e={update:cO(n,t.key,t.value)};else if(t instanceof y)e={delete:E1(n,t.key)};else if(t instanceof l)e={update:cO(n,t.key,t.data),updateMask:$F(t.fieldMask)};else{if(!(t instanceof b))return et();e={verify:E1(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(o,c){const f=c.transform;if(f instanceof kh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Qc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Oh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof tg)return{fieldPath:c.field.canonicalString(),increment:f.C};throw et()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:kF(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:et()),e;var o}function hO(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Pr.updateTime(Si(o.updateTime)):void 0!==o.exists?Pr.exists(o.exists):Pr.none():Pr.none(),r=t.updateTransforms?t.updateTransforms.map(o=>function(c,f){let _=null;"setToServerValue"in f?(Et("REQUEST_TIME"===f.setToServerValue),_=new kh):"appendMissingElements"in f?_=new Qc(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new Oh(f.removeAllFromArray.values||[]):"increment"in f?_=new tg(c,f.increment):et();const E=Ai.fromServerFormat(f.fieldPath);return new ay(E,_)}(n,o)):[];var o;if(t.update){const o=Ml(n,t.update.name),c=new Kr({mapValue:{fields:t.update.fields}});if(t.updateMask){const f=new Tl((t.updateMask.fieldPaths||[]).map(T=>Ai.fromServerFormat(T)));return new l(o,c,f,e,r)}return new a(o,c,e,r)}if(t.delete){const o=Ml(n,t.delete);return new y(o,e)}if(t.verify){const o=Ml(n,t.verify);return new b(o,e)}return et()}function fO(n,t){return{documents:[oM(n,t.path)]}}function pO(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=oM(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=oM(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0===_.length)return;const E=_.map(T=>function(N){if("=="===N.op){if(cT(N.value))return{unaryFilter:{field:cy(N.field),op:"IS_NAN"}};if(f1(N.value))return{unaryFilter:{field:cy(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(cT(N.value))return{unaryFilter:{field:cy(N.field),op:"IS_NOT_NAN"}};if(f1(N.value))return{unaryFilter:{field:cy(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cy(N.field),op:UF(N.op),value:N.value}}}(T));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(t.filters);o&&(e.structuredQuery.where=o);const c=function(_){if(0!==_.length)return _.map(E=>{return{field:cy((T=E).field),direction:VF(T.dir)};var T})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=(E=t.limit,n.D||Il(E)?E:{value:E});var E;return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=_O(t.startAt)),t.endAt&&(e.structuredQuery.endAt=_O(t.endAt)),e}function gO(n){let t=uO(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Et(1===r);const N=e.from[0];N.allDescendants?o=N.collectionId:t=t.child(N.collectionId)}let c=[];e.where&&(c=mO(e.where));let f=[];e.orderBy&&(f=e.orderBy.map(N=>{return new xh(dy((R=N).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let _=null;e.limit&&(_=function(N){let R;return R="object"==typeof N?N.value:N,Il(R)?null:R}(e.limit));let E=null;e.startAt&&(E=yO(e.startAt));let T=null;return e.endAt&&(T=yO(e.endAt)),g1(t,o,f,c,_,"F",E,T)}function mO(n){return n?void 0!==n.unaryFilter?[jF(n)]:void 0!==n.fieldFilter?[BF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>mO(t)).reduce((t,e)=>t.concat(e)):et():[]}function _O(n){return{before:n.before,values:n.position}}function yO(n){return new Au(n.values||[],!!n.before)}function VF(n){return MF[n]}function UF(n){return xF[n]}function cy(n){return{fieldPath:n.canonicalString()}}function dy(n){return Ai.fromServerFormat(n.fieldPath)}function BF(n){return Jr.create(dy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}function jF(n){switch(n.unaryFilter.op){case"IS_NAN":const t=dy(n.unaryFilter.field);return Jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=dy(n.unaryFilter.field);return Jr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dy(n.unaryFilter.field);return Jr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dy(n.unaryFilter.field);return Jr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function $F(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Nu(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bO(t)),t=HF(n.get(e),t);return bO(t)}function HF(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function bO(n){return n+"\x01\x01"}function td(n){const t=n.length;if(Et(t>=2),2===t)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const e=t-2,r=[];let o="";for(let c=0;c<t;){const f=n.indexOf("\x01",c);switch((f<0||f>e)&&et(),n.charAt(f+1)){case"\x01":const _=n.substring(c,f);let E;0===o.length?E=_:(o+=_,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(c,f),o+="\0";break;case"\x11":o+=n.substring(c,f+1);break;default:et()}c=f+2}return new on(r)}class GF{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Yo{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}Yo.store="owner",Yo.key="owner";class Bh{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}Bh.store="mutationQueues",Bh.keyPath="userId";class Hn{constructor(t,e,r,o,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}Hn.store="mutations",Hn.keyPath="batchId",Hn.userMutationsIndex="userMutationsIndex",Hn.userMutationsKeyPath=["userId","batchId"];class bs{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Nu(e)]}static key(t,e,r){return[t,Nu(e),r]}}bs.store="documentMutations",bs.PLACEHOLDER=new bs;class qF{constructor(t,e){this.path=t,this.readTime=e}}class ZF{constructor(t,e){this.path=t,this.version=e}}class mr{constructor(t,e,r,o,c,f){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=f}}mr.store="remoteDocuments",mr.readTimeIndex="readTimeIndex",mr.readTimeIndexPath="readTime",mr.collectionReadTimeIndex="collectionReadTimeIndex",mr.collectionReadTimeIndexPath=["parentPath","readTime"];class xl{constructor(t){this.byteSize=t}}xl.store="remoteDocumentGlobal",xl.key="remoteDocumentGlobalKey";class Eo{constructor(t,e,r,o,c,f,_){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=_}}Eo.store="targets",Eo.keyPath="targetId",Eo.queryTargetsIndexName="queryTargetsIndex",Eo.queryTargetsKeyPath=["canonicalId","targetId"];class Qi{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}Qi.store="targetDocuments",Qi.keyPath=["targetId","path"],Qi.documentTargetsIndex="documentTargetsIndex",Qi.documentTargetsKeyPath=["path","targetId"];class Ko{constructor(t,e,r,o){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Ko.key="targetGlobalKey",Ko.store="targetGlobal";class ng{constructor(t,e){this.collectionId=t,this.parent=e}}ng.store="collectionParents",ng.keyPath=["collectionId","parent"];class nd{constructor(t,e,r,o){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=o}}nd.store="clientMetadata",nd.keyPath="clientId";class hy{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}hy.store="bundles",hy.keyPath="bundleId";class fy{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}fy.store="namedQueries",fy.keyPath="name";const zF=[Bh.store,Hn.store,bs.store,mr.store,Eo.store,Yo.store,Ko.store,Qi.store,nd.store,xl.store,ng.store,hy.store,fy.store],wO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ke((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ke?e:ke.resolve(e)}catch(e){return ke.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ke.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ke.reject(e)}static resolve(t){return new ke((e,r)=>{e(t)})}static reject(t){return new ke((e,r)=>{r(t)})}static waitFor(t){return new ke((e,r)=>{let o=0,c=0,f=!1;t.forEach(_=>{++o,_.next(()=>{++c,f&&c===o&&e()},E=>r(E))}),f=!0,c===o&&e()})}static or(t){let e=ke.resolve(!1);for(const r of t)e=e.next(o=>o?ke.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,c)=>{r.push(e.call(this,o,c))}),this.waitFor(r)}}class wT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new _i,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new D1(t,e.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=aM(r.target.error);this.Et.reject(new D1(t,o))}}static open(t,e,r,o){try{return new wT(e,t.transaction(o,r))}catch(c){throw new D1(e,c)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new YF(e)}}class Mu{constructor(t,e,r){this.name=t,this.version=e,this.At=r,12.2===Mu.Rt((0,wt.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),ig(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,wt.hl)())return!1;if(Mu.Pt())return!0;const t=(0,wt.z$)(),e=Mu.Rt(t),r=0<e&&e<10,o=Mu.vt(t),c=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||c)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const c=indexedDB.open(e.name,e.version);c.onsuccess=f=>{r(f.target.result)},c.onblocked=()=>{o(new D1(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const _=f.target.error;o("VersionError"===_.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new D1(t,_))},c.onupgradeneeded=f=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',f.oldVersion),e.At.Ct(f.target.result,c.transaction,f.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=r=>e.Nt(r)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,o){var c=this;return(0,ve.Z)(function*(){const f="readonly"===e;let _=0;for(;;){++_;try{c.db=yield c.Dt(t);const E=wT.open(c.db,t,f?"readonly":"readwrite",r),T=o(E).catch(N=>(E.abort(N),ke.reject(N))).toPromise();return T.catch(()=>{}),yield E.It,T}catch(E){const T="FirebaseError"!==E.name&&_<3;if(Le("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),c.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WF{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return ig(this.kt.delete())}}class D1 extends Oe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function rg(n){return"IndexedDbTransactionError"===n.name}class YF{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ig(r)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),ig(this.store.add(t))}get(t){return ig(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),ig(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),ig(this.store.count())}Lt(t,e){const r=this.cursor(this.options(t,e)),o=[];return this.Bt(r,(c,f)=>{o.push(f)}).next(()=>o)}Ut(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(c,f,_)=>_.delete())}Kt(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.Bt(o,e)}jt(t){const e=this.cursor({});return new ke((r,o)=>{e.onerror=c=>{const f=aM(c.target.error);o(f)},e.onsuccess=c=>{const f=c.target.result;f?t(f.primaryKey,f.value).next(_=>{_?f.continue():r()}):r()}})}Bt(t,e){const r=[];return new ke((o,c)=>{t.onerror=f=>{c(f.target.error)},t.onsuccess=f=>{const _=f.target.result;if(!_)return void o();const E=new WF(_),T=e(_.primaryKey,_.value,E);if(T instanceof ke){const N=T.catch(R=>(E.done(),ke.reject(R)));r.push(N)}E.isDone?o():null===E.Ft?_.continue():_.continue(E.Ft)}}).next(()=>ke.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.qt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ig(n){return new ke((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const o=aM(r.target.error);e(o)}})}let CO=!1;function aM(n){const t=Mu.Rt((0,wt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CO||(CO=!0,setTimeout(()=>{throw r},0)),r}}return n}class DO extends EO{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function Co(n,t){const e=$e(n);return Mu.St(e.Qt,t)}class uM{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&eO(c,t,r[o])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&vT(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&vT(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Mt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qt())}isEqual(t){return this.batchId===t.batchId&&Zp(this.mutations,t.mutations,(e,r)=>i(e,r))&&Zp(this.baseMutations,t.baseMutations,(e,r)=>i(e,r))}}class lM{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Et(t.mutations.length===r.length);let o=Ph();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new lM(t,e,r,o)}}class jh{constructor(t,e,r,o,c=Mt.min(),f=Mt.min(),_=Yr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(t){return new jh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class TO{constructor(t){this.Wt=t}}function cM(n,t){if(t.document)return dO(n.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Je.fromSegments(t.noDocument.path),r=gy(t.noDocument.readTime),o=Bt.newNoDocument(e,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){const e=Je.fromSegments(t.unknownDocument.path),r=gy(t.unknownDocument.version);return Bt.newUnknownDocument(e,r)}return et()}function IO(n,t,e){const r=dM(e),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){const c={name:E1(_=n.Wt,(E=t).key),fields:E.data.value.mapValue.fields,updateTime:w1(_,E.version.toTimestamp())};return new mr(null,null,c,t.hasCommittedMutations,r,o)}var _,E;if(t.isNoDocument()){const c=t.key.path.toArray(),f=py(t.version),_=t.hasCommittedMutations;return new mr(null,new qF(c,f),null,_,r,o)}if(t.isUnknownDocument()){const c=t.key.path.toArray(),f=py(t.version);return new mr(new ZF(c,f),null,null,!0,r,o)}return et()}function dM(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function AO(n){const t=new Wr(n[0],n[1]);return Mt.fromTimestamp(t)}function py(n){const t=n.toTimestamp();return new GF(t.seconds,t.nanoseconds)}function gy(n){const t=new Wr(n.seconds,n.nanoseconds);return Mt.fromTimestamp(t)}function my(n,t){const e=(t.baseMutations||[]).map(c=>hO(n.Wt,c));for(let c=0;c<t.mutations.length-1;++c){const f=t.mutations[c];c+1<t.mutations.length&&void 0!==t.mutations[c+1].transform&&(f.updateTransforms=t.mutations[c+1].transform.fieldTransforms,t.mutations.splice(c+1,1),++c)}const r=t.mutations.map(c=>hO(n.Wt,c)),o=Wr.fromMillis(t.localWriteTimeMs);return new uM(t.batchId,o,e,r)}function T1(n){const t=gy(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?gy(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var o;return void 0!==n.query.documents?(Et(1===(o=n.query).documents.length),r=Ji(Wc(uO(o.documents[0])))):r=Ji(gO(n.query)),new jh(r,n.targetId,0,n.lastListenSequenceNumber,t,e,Yr.fromBase64String(n.resumeToken))}function SO(n,t){const e=py(t.snapshotVersion),r=py(t.lastLimboFreeSnapshotVersion);let o;o=Xp(t.target)?fO(n.Wt,t.target):pO(n.Wt,t.target);const c=t.resumeToken.toBase64();return new Eo(t.targetId,Sh(t.target),e,c,t.sequenceNumber,r,o)}function hM(n){const t=gO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Kc(t,t.limit,"L"):t}class KF{getBundleMetadata(t,e){return NO(t).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:gy(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return NO(t).put({bundleId:(r=e).id,createTime:py(Si(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return MO(t).get(e).next(r=>{if(r)return{name:(o=r).name,query:hM(o.bundledQuery),readTime:gy(o.readTime)};var o})}saveNamedQuery(t,e){return MO(t).put({name:(r=e).name,readTime:py(Si(r.readTime)),bundledQuery:r.bundledQuery});var r}}function NO(n){return Co(n,hy.store)}function MO(n){return Co(n,fy.store)}class JF{constructor(){this.Gt=new fM}addToCollectionParentIndex(t,e){return this.Gt.add(e),ke.resolve()}getCollectionParents(t,e){return ke.resolve(this.Gt.getEntries(e))}}class fM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Te(on.comparator),c=!o.has(r);return this.index[e]=o.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Te(on.comparator)).toArray()}}class QF{constructor(){this.zt=new fM}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const c={collectionId:r,parent:Nu(o)};return xO(t).put(c)}return ke.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[lT(e),""],!1,!0);return xO(t).Lt(o).next(c=>{for(const f of c){if(f.collectionId!==e)break;r.push(td(f.parent))}return r})}}function xO(n){return Co(n,ng.store)}const RO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Do(t,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kO(n,t,e){const r=n.store(Hn.store),o=n.store(bs.store),c=[],f=IDBKeyRange.only(e.batchId);let _=0;const E=r.Kt({range:f},(N,R,U)=>(_++,U.delete()));c.push(E.next(()=>{Et(1===_)}));const T=[];for(const N of e.mutations){const R=bs.key(t,N.key.path,e.batchId);c.push(o.delete(R)),T.push(N.key)}return ke.waitFor(c).next(()=>T)}function ET(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw et();t=n.noDocument}return JSON.stringify(t).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class pM{constructor(t,e,r,o){this.userId=t,this.N=e,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(t,e,r,o){Et(""!==t.uid);const c=t.isAuthenticated()?t.uid:"";return new pM(c,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $h(t).Kt({index:Hn.userMutationsIndex,range:r},(o,c,f)=>{e=!1,f.done()}).next(()=>e)}addMutationBatch(t,e,r,o){const c=_y(t),f=$h(t);return f.add({}).next(_=>{Et("number"==typeof _);const E=new uM(_,e,r,o),T=function(U,q,he){const Me=he.baseMutations.map(lt=>bT(U.Wt,lt)),Ve=he.mutations.map(lt=>bT(U.Wt,lt));return new Hn(q,he.batchId,he.localWriteTime.toMillis(),Me,Ve)}(this.N,this.userId,E),N=[];let R=new Te((U,q)=>Ht(U.canonicalString(),q.canonicalString()));for(const U of o){const q=bs.key(this.userId,U.key.path,_);R=R.add(U.key.path.popLast()),N.push(f.put(T)),N.push(c.put(q,bs.PLACEHOLDER))}return R.forEach(U=>{N.push(this.Ht.addToCollectionParentIndex(t,U))}),t.addOnCommittedListener(()=>{this.Jt[_]=E.keys()}),ke.waitFor(N).next(()=>E)})}lookupMutationBatch(t,e){return $h(t).get(e).next(r=>r?(Et(r.userId===this.userId),my(this.N,r)):null)}Xt(t,e){return this.Jt[e]?ke.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const o=r.keys();return this.Jt[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return $h(t).Kt({index:Hn.userMutationsIndex,range:o},(f,_,E)=>{_.userId===this.userId&&(Et(_.batchId>=r),c=my(this.N,_)),E.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $h(t).Kt({index:Hn.userMutationsIndex,range:e,reverse:!0},(o,c,f)=>{r=c.batchId,f.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $h(t).Lt(Hn.userMutationsIndex,e).next(r=>r.map(o=>my(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=bs.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),c=[];return _y(t).Kt({range:o},(f,_,E)=>{const[T,N,R]=f,U=td(N);if(T===this.userId&&e.path.isEqual(U))return $h(t).get(R).next(q=>{if(!q)throw et();Et(q.userId===this.userId),c.push(my(this.N,q))});E.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Te(Ht);const o=[];return e.forEach(c=>{const f=bs.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(f),E=_y(t).Kt({range:_},(T,N,R)=>{const[U,q,he]=T,Me=td(q);U===this.userId&&c.path.isEqual(Me)?r=r.add(he):R.done()});o.push(E)}),ke.waitFor(o).next(()=>this.Zt(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,c=bs.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(c);let _=new Te(Ht);return _y(t).Kt({range:f},(E,T,N)=>{const[R,U,q]=E,he=td(U);R===this.userId&&r.isPrefixOf(he)?he.length===o&&(_=_.add(q)):N.done()}).next(()=>this.Zt(t,_))}Zt(t,e){const r=[],o=[];return e.forEach(c=>{o.push($h(t).get(c).next(f=>{if(null===f)throw et();Et(f.userId===this.userId),r.push(my(this.N,f))}))}),ke.waitFor(o).next(()=>r)}removeMutationBatch(t,e){return kO(t.Qt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),ke.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ke.resolve();const r=IDBKeyRange.lowerBound(bs.prefixForUser(this.userId)),o=[];return _y(t).Kt({range:r},(c,f,_)=>{if(c[0]===this.userId){const E=td(c[1]);o.push(E)}else _.done()}).next(()=>{Et(0===o.length)})})}containsKey(t,e){return OO(t,this.userId,e)}ee(t){return PO(t).get(this.userId).next(e=>e||new Bh(this.userId,-1,""))}}function OO(n,t,e){const r=bs.prefixForPath(t,e.path),o=r[1],c=IDBKeyRange.lowerBound(r);let f=!1;return _y(n).Kt({range:c,qt:!0},(_,E,T)=>{const[N,R,U]=_;N===t&&R===o&&(f=!0),T.done()}).next(()=>f)}function $h(n){return Co(n,Hn.store)}function _y(n){return Co(n,bs.store)}function PO(n){return Co(n,Bh.store)}class sg{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new sg(0)}static ie(){return new sg(-1)}}class XF{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const r=new sg(e.highestTargetId);return e.highestTargetId=r.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(e=>Mt.fromTimestamp(new Wr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.re(t).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.oe(t,o)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.re(t).next(r=>(r.targetCount+=1,this.ce(e,r),this.oe(t,r))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>yy(t).delete(e.targetId)).next(()=>this.re(t)).next(r=>(Et(r.targetCount>0),r.targetCount-=1,this.oe(t,r)))}removeTargets(t,e,r){let o=0;const c=[];return yy(t).Kt((f,_)=>{const E=T1(_);E.sequenceNumber<=e&&null===r.get(E.targetId)&&(o++,c.push(this.removeTargetData(t,E)))}).next(()=>ke.waitFor(c)).next(()=>o)}forEachTarget(t,e){return yy(t).Kt((r,o)=>{const c=T1(o);e(c)})}re(t){return FO(t).get(Ko.key).next(e=>(Et(null!==e),e))}oe(t,e){return FO(t).put(Ko.key,e)}ae(t,e){return yy(t).put(SO(this.N,e))}ce(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.re(t).next(e=>e.targetCount)}getTargetData(t,e){const r=Sh(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return yy(t).Kt({range:o,index:Eo.queryTargetsIndexName},(f,_,E)=>{const T=T1(_);Nh(e,T.target)&&(c=T,E.done())}).next(()=>c)}addMatchingKeys(t,e,r){const o=[],c=Hh(t);return e.forEach(f=>{const _=Nu(f.path);o.push(c.put(new Qi(r,_))),o.push(this.referenceDelegate.addReference(t,r,f))}),ke.waitFor(o)}removeMatchingKeys(t,e,r){const o=Hh(t);return ke.forEach(e,c=>{const f=Nu(c.path);return ke.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(t,r,c)])})}removeMatchingKeysForTargetId(t,e){const r=Hh(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=Hh(t);let c=qt();return o.Kt({range:r,qt:!0},(f,_,E)=>{const T=td(f[1]),N=new Je(T);c=c.add(N)}).next(()=>c)}containsKey(t,e){const r=Nu(e.path),o=IDBKeyRange.bound([r],[lT(r)],!1,!0);let c=0;return Hh(t).Kt({index:Qi.documentTargetsIndex,qt:!0,range:o},([f,_],E,T)=>{0!==f&&(c++,T.done())}).next(()=>c>0)}Tt(t,e){return yy(t).get(e).next(r=>r?T1(r):null)}}function yy(n){return Co(n,Eo.store)}function FO(n){return Co(n,Ko.store)}function Hh(n){return Co(n,Qi.store)}function og(n){return gM.apply(this,arguments)}function gM(){return(gM=(0,ve.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==wO)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function LO([n,t],[e,r]){const o=Ht(n,e);return 0===o?Ht(t,r):o}class eL{constructor(t){this.ue=t,this.buffer=new Te(LO),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();LO(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class tL{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const r=this.de?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(o){rg(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield og(o)}yield e._e(t)}))}}class nL{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return ke.resolve(Us.T);const r=new eL(e);return this.me.forEachTarget(t,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(t,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.me.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(RO)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RO):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let r,o,c,f,_,E,T;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(r=R,_=Date.now(),this.removeTargets(t,r,e))).next(R=>(c=R,E=Date.now(),this.removeOrphanedDocuments(t,r))).next(R=>(T=Date.now(),oT()<=Tu.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-N}ms\n\tDetermined least recently used ${o} in `+(_-f)+`ms\n\tRemoved ${c} targets in `+(E-_)+`ms\n\tRemoved ${R} documents in `+(T-E)+`ms\nTotal Duration: ${T-N}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}class rL{constructor(t,e){this.db=t,this.garbageCollector=new nL(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}Te(t){let e=0;return this.ye(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(r,o)=>e(o))}addReference(t,e,r){return CT(t,r)}removeReference(t,e,r){return CT(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return CT(t,e)}Ie(t,e){return function(r,o){let c=!1;return PO(r).jt(f=>OO(r,f,o).next(_=>(_&&(c=!0),ke.resolve(!_)))).next(()=>c)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ee(t,(f,_)=>{if(_<=e){const E=this.Ie(t,f).next(T=>{if(!T)return c++,r.getEntry(t,f).next(()=>(r.removeEntry(f),Hh(t).delete([0,Nu(f.path)])))});o.push(E)}}).next(()=>ke.waitFor(o)).next(()=>r.apply(t)).next(()=>c)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return CT(t,e)}Ee(t,e){const r=Hh(t);let o,c=Us.T;return r.Kt({index:Qi.documentTargetsIndex},([f,_],{path:E,sequenceNumber:T})=>{0===f?(c!==Us.T&&e(new Je(td(o)),c),c=T,o=E):c=Us.T}).next(()=>{c!==Us.T&&e(new Je(td(o)),c)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function CT(n,t){return Hh(n).put((r=n.currentSequenceNumber,new Qi(0,Nu(t.path),r)));var r}class vy{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,e]);o.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return 1===r.length?delete this.inner[e]:r.splice(o,1),!0;return!1}forEach(t){Dl(this.inner,(e,r)=>{for(const[o,c]of r)t(o,c)})}isEmpty(){return ZN(this.inner)}}class VO{constructor(){this.changes=new vy(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Mt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Bt.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ke.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iL{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,r){return Gh(t).put(DT(e),r)}removeEntry(t,e){const r=Gh(t),o=DT(e);return r.delete(o)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Ae(t,r)))}getEntry(t,e){return Gh(t).get(DT(e)).next(r=>this.Re(e,r))}be(t,e){return Gh(t).get(DT(e)).next(r=>({document:this.Re(e,r),size:ET(r)}))}getEntries(t,e){let r=Qe();return this.Pe(t,e,(o,c)=>{const f=this.Re(o,c);r=r.insert(o,f)}).next(()=>r)}ve(t,e){let r=Qe(),o=new Z(Je.comparator);return this.Pe(t,e,(c,f)=>{const _=this.Re(c,f);r=r.insert(c,_),o=o.insert(c,ET(f))}).next(()=>({documents:r,Ve:o}))}Pe(t,e,r){if(e.isEmpty())return ke.resolve();const o=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator();let f=c.getNext();return Gh(t).Kt({range:o},(_,E,T)=>{const N=Je.fromSegments(_);for(;f&&Je.comparator(f,N)<0;)r(f,null),f=c.getNext();f&&f.isEqual(N)&&(r(f,E),f=c.hasNext()?c.getNext():null),f?T.Mt(f.path.toArray()):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,r){let o=Qe();const c=e.path.length+1,f={};if(r.isEqual(Mt.min())){const _=e.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=e.path.toArray(),E=dM(r);f.range=IDBKeyRange.lowerBound([_,E],!0),f.index=mr.collectionReadTimeIndex}return Gh(t).Kt(f,(_,E,T)=>{if(_.length!==c)return;const N=cM(this.N,E);e.path.isPrefixOf(N.key.path)?Rh(e,N)&&(o=o.insert(N.key,N)):T.done()}).next(()=>o)}newChangeBuffer(t){return new sL(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return UO(t).get(xl.key).next(e=>(Et(!!e),e))}Ae(t,e){return UO(t).put(xl.key,e)}Re(t,e){if(e){const r=cM(this.N,e);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return Bt.newInvalidDocument(t)}}class sL extends VO{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new vy(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(t){const e=[];let r=0,o=new Te((c,f)=>Ht(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const _=this.De.get(c);if(f.document.isValidDocument()){const E=IO(this.Se.N,f.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=ET(E)-_,e.push(this.Se.addEntry(t,c,E))}else if(r-=_,this.trackRemovals){const E=IO(this.Se.N,Bt.newNoDocument(c,Mt.min()),this.getReadTime(c));e.push(this.Se.addEntry(t,c,E))}else e.push(this.Se.removeEntry(t,c))}),o.forEach(c=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,c))}),e.push(this.Se.updateMetadata(t,r)),ke.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(r=>(this.De.set(e,r.size),r.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:r,Ve:o})=>(o.forEach((c,f)=>{this.De.set(c,f)}),r))}}function UO(n){return Co(n,xl.store)}function Gh(n){return Co(n,mr.store)}function DT(n){return n.path.toArray()}class oL{constructor(t){this.N=t}Ct(t,e,r,o){Et(r<o&&r>=0&&o<=11);const c=new wT("createOrUpgrade",e);var _;r<1&&o>=1&&(t.createObjectStore(Yo.store),(_=t).createObjectStore(Bh.store,{keyPath:Bh.keyPath}),_.createObjectStore(Hn.store,{keyPath:Hn.keyPath,autoIncrement:!0}).createIndex(Hn.userMutationsIndex,Hn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(bs.store),BO(t),function(_){_.createObjectStore(mr.store)}(t));let f=ke.resolve();return r<3&&o>=3&&(0!==r&&(function(_){_.deleteObjectStore(Qi.store),_.deleteObjectStore(Eo.store),_.deleteObjectStore(Ko.store)}(t),BO(t)),f=f.next(()=>function(_){const E=_.store(Ko.store),T=new Ko(0,0,Mt.min().toTimestamp(),0);return E.put(Ko.key,T)}(c))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(_,E){return E.store(Hn.store).Lt().next(T=>{_.deleteObjectStore(Hn.store),_.createObjectStore(Hn.store,{keyPath:Hn.keyPath,autoIncrement:!0}).createIndex(Hn.userMutationsIndex,Hn.userMutationsKeyPath,{unique:!0});const N=E.store(Hn.store),R=T.map(U=>N.put(U));return ke.waitFor(R)})}(t,c))),f=f.next(()=>{!function(_){_.createObjectStore(nd.store,{keyPath:nd.keyPath})}(t)})),r<5&&o>=5&&(f=f.next(()=>this.Ce(c))),r<6&&o>=6&&(f=f.next(()=>(function(_){_.createObjectStore(xl.store)}(t),this.Ne(c)))),r<7&&o>=7&&(f=f.next(()=>this.xe(c))),r<8&&o>=8&&(f=f.next(()=>this.ke(t,c))),r<9&&o>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(t),function(_){const E=_.objectStore(mr.store);E.createIndex(mr.readTimeIndex,mr.readTimeIndexPath,{unique:!1}),E.createIndex(mr.collectionReadTimeIndex,mr.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&o>=10&&(f=f.next(()=>this.$e(c))),r<11&&o>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(hy.store,{keyPath:hy.keyPath})})(t),function(_){_.createObjectStore(fy.store,{keyPath:fy.keyPath})}(t)})),f}Ne(t){let e=0;return t.store(mr.store).Kt((r,o)=>{e+=ET(o)}).next(()=>{const r=new xl(e);return t.store(xl.store).put(xl.key,r)})}Ce(t){const e=t.store(Bh.store),r=t.store(Hn.store);return e.Lt().next(o=>ke.forEach(o,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(Hn.userMutationsIndex,f).next(_=>ke.forEach(_,E=>{Et(E.userId===c.userId);const T=my(this.N,E);return kO(t,c.userId,T).next(()=>{})}))}))}xe(t){const e=t.store(Qi.store),r=t.store(mr.store);return t.store(Ko.store).get(Ko.key).next(o=>{const c=[];return r.Kt((f,_)=>{const E=new on(f),T=[0,Nu(E)];c.push(e.get(T).next(N=>N?ke.resolve():e.put(new Qi(0,Nu(E),o.highestListenSequenceNumber))))}).next(()=>ke.waitFor(c))})}ke(t,e){t.createObjectStore(ng.store,{keyPath:ng.keyPath});const r=e.store(ng.store),o=new fM,c=f=>{if(o.add(f)){const _=f.lastSegment(),E=f.popLast();return r.put({collectionId:_,parent:Nu(E)})}};return e.store(mr.store).Kt({qt:!0},(f,_)=>{const E=new on(f);return c(E.popLast())}).next(()=>e.store(bs.store).Kt({qt:!0},([f,_,E],T)=>{const N=td(_);return c(N.popLast())}))}$e(t){const e=t.store(Eo.store);return e.Kt((r,o)=>{const c=T1(o),f=SO(this.N,c);return e.put(f)})}}function BO(n){n.createObjectStore(Qi.store,{keyPath:Qi.keyPath}).createIndex(Qi.documentTargetsIndex,Qi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Eo.store,{keyPath:Eo.keyPath}).createIndex(Eo.queryTargetsIndexName,Eo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ko.store)}const mM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _M{constructor(t,e,r,o,c,f,_,E,T,N){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=c,this.window=f,this.document=_,this.Fe=T,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=R=>Promise.resolve(),!_M.bt())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rL(this,o),this.We=e+"main",this.N=new TO(E),this.Ge=new Mu(this.We,11,new oL(this.N)),this.ze=new XF(this.referenceDelegate,this.N),this.Ht=new QF,this.He=new iL(this.N,this.Ht),this.Je=new KF,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,mM);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new Us(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var r=(0,ve.Z)(function*(o){if(e.started)return t(o)});return function(o){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,ve.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>TT(t).put(new nd(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(rg(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return I1(t).get(Yo.key).next(e=>ke.resolve(this.cn(e)))}un(t){return TT(t).delete(this.clientId)}hn(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Co(r,nd.store);return o.Lt().next(c=>{const f=t.fn(c,18e5),_=c.filter(E=>-1===f.indexOf(E));return ke.forEach(_,E=>o.delete(E.clientId)).next(()=>_)})}).catch(()=>[]);if(t.Ye)for(const r of e)t.Ye.removeItem(t.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?ke.resolve(!0):I1(t).get(Yo.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.cn(e)&&this.networkEnabled)return!0;if(!this.cn(e)){if(!e.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,mM);return!1}}return!(!this.networkEnabled||!this.inForeground)||TT(t).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&_)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[Yo.store,nd.store],e=>{const r=new DO(e,Us.T);return t.on(r).next(()=>t.un(r))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(r=>this.ln(r.updateTimeMs,e)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>TT(t).Lt().next(e=>this.fn(e,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(t){return pM.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,r){let c;return Le("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",zF,f=>(c=new DO(f,this.Le?this.Le.next():Us.T),"readwrite-primary"===e?this.sn(c).next(_=>!!_||this.rn(c)).next(_=>{if(!_)throw pr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(me.FAILED_PRECONDITION,wO);return r(c)}).next(_=>this.an(c).next(()=>_)):this.Tn(c).next(()=>r(c)))).then(f=>(c.raiseOnCommittedEvent(),f))}Tn(t){return I1(t).get(Yo.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,mM)})}an(t){const e=new Yo(this.clientId,this.allowTabSynchronization,Date.now());return I1(t).put(Yo.key,e)}static bt(){return Mu.bt()}on(t){const e=I1(t);return e.get(Yo.key).next(r=>this.cn(r)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(Yo.key)):ke.resolve())}ln(t,e){const r=Date.now();return!(t<r-e||t>r&&(pr(`Detected an update time that is in the future: ${t} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const r=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){pr("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function I1(n){return Co(n,Yo.store)}function TT(n){return Co(n,nd.store)}function yM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class aL{constructor(t,e){this.progress=t,this.En=e}}class jO{constructor(t,e,r){this.He=t,this.In=e,this.Ht=r}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Rn(t,e,r))}Rn(t,e,r){return this.He.getEntry(t,e).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(t,e){t.forEach((r,o)=>{for(const c of e)c.applyToLocalView(o)})}Pn(t,e){return this.He.getEntries(t,e).next(r=>this.vn(t,r).next(()=>r))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return Je.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(t,e.path):Yc(e)?this.Sn(t,e,r):this.Dn(t,e,r);var o}Vn(t,e){return this.An(t,new Je(e)).next(r=>{let o=rr();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(t,e,r){const o=e.collectionGroup;let c=rr();return this.Ht.getCollectionParents(t,o).next(f=>ke.forEach(f,_=>{const E=(T=e,N=_.child(o),new Su(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Dn(t,E,r).next(T=>{T.forEach((N,R)=>{c=c.insert(N,R)})})}).next(()=>c))}Dn(t,e,r){let o,c;return this.He.getDocumentsMatchingQuery(t,e,r).next(f=>(o=f,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(f=>(c=f,this.Cn(t,c,o).next(_=>{o=_;for(const E of c)for(const T of E.mutations){const N=T.key;let R=o.get(N);null==R&&(R=Bt.newInvalidDocument(N),o=o.insert(N,R)),vT(T,R,E.localWriteTime),R.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((f,_)=>{Rh(e,_)||(o=o.remove(f))}),o))}Cn(t,e,r){let o=qt();for(const f of e)for(const _ of f.mutations)_ instanceof l&&null===r.get(_.key)&&(o=o.add(_.key));let c=r;return this.He.getEntries(t,o).next(f=>(f.forEach((_,E)=>{E.isFoundDocument()&&(c=c.insert(_,E))}),c))}}class vM{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Nn=r,this.xn=o}static kn(t,e){let r=qt(),o=qt();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new vM(t,e.fromCache,r,o)}}class $O{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,r,o){return 0===(c=e).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(Mt.min())?this.Fn(t,e):this.On.Pn(t,o).next(c=>{const f=this.Mn(e,c);return(ny(e)||ry(e))&&this.Ln(e.limitType,f,o,r)?this.Fn(t,e):(oT()<=Tu.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_1(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(_=>(f.forEach(E=>{_=_.insert(E.key,E)}),_)))});var c}Mn(t,e){let r=new Te(y1(t));return e.forEach((o,c)=>{Rh(t,c)&&(r=r.add(c))}),r}Ln(t,e,r,o){if(r.size!==e.size)return!0;const c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Fn(t,e){return oT()<=Tu.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",_1(e)),this.On.getDocumentsMatchingQuery(t,e,Mt.min())}}class uL{constructor(t,e,r,o){this.persistence=t,this.Bn=e,this.N=o,this.Un=new Z(Ht),this.qn=new vy(c=>Sh(c),Nh),this.Kn=Mt.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new jO(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function HO(n,t,e,r){return new uL(n,t,e,r)}function GO(n,t){return bM.apply(this,arguments)}function bM(){return(bM=(0,ve.Z)(function*(n,t){const e=$e(n);let r=e.In,o=e.Qn;const c=yield e.persistence.runTransaction("Handle user change","readonly",f=>{let _;return e.In.getAllMutationBatches(f).next(E=>(_=E,r=e.persistence.getMutationQueue(t),o=new jO(e.jn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(f))).next(E=>{const T=[],N=[];let R=qt();for(const U of _){T.push(U.batchId);for(const q of U.mutations)R=R.add(q.key)}for(const U of E){N.push(U.batchId);for(const q of U.mutations)R=R.add(q.key)}return o.Pn(f,R).next(U=>({Wn:U,removedBatchIds:T,addedBatchIds:N}))})});return e.In=r,e.Qn=o,e.Bn.$n(e.Qn),c})).apply(this,arguments)}function lL(n,t){const e=$e(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),c=e.jn.newChangeBuffer({trackRemovals:!0});return function(f,_,E,T){const N=E.batch,R=N.keys();let U=ke.resolve();return R.forEach(q=>{U=U.next(()=>T.getEntry(_,q)).next(he=>{const Me=E.docVersions.get(q);Et(null!==Me),he.version.compareTo(Me)<0&&(N.applyToRemoteDocument(he,E),he.isValidDocument()&&T.addEntry(he,E.commitVersion))})}),U.next(()=>f.In.removeMutationBatch(_,N))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.In.performConsistencyCheck(r)).next(()=>e.Qn.Pn(r,o))})}function qO(n){const t=$e(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function cL(n,t){const e=$e(n),r=t.snapshotVersion;let o=e.Un;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=e.jn.newChangeBuffer({trackRemovals:!0});o=e.Un;const _=[];t.targetChanges.forEach((T,N)=>{const R=o.get(N);if(!R)return;_.push(e.ze.removeMatchingKeys(c,T.removedDocuments,N).next(()=>e.ze.addMatchingKeys(c,T.addedDocuments,N)));const U=T.resumeToken;if(U.approximateByteSize()>0){const q=R.withResumeToken(U,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(N,q),he=R,Ve=T,Et((Me=q).resumeToken.approximateByteSize()>0),(0===he.resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&_.push(e.ze.updateTargetData(c,q))}var he,Me,Ve});let E=Qe();if(t.documentUpdates.forEach((T,N)=>{t.resolvedLimboDocuments.has(T)&&_.push(e.persistence.referenceDelegate.updateLimboDocument(c,T))}),_.push(ZO(c,f,t.documentUpdates,r,void 0).next(T=>{E=T})),!r.isEqual(Mt.min())){const T=e.ze.getLastRemoteSnapshotVersion(c).next(N=>e.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(T)}return ke.waitFor(_).next(()=>f.apply(c)).next(()=>e.Qn.vn(c,E)).next(()=>E)}).then(c=>(e.Un=o,c))}function ZO(n,t,e,r,o){let c=qt();return e.forEach(f=>c=c.add(f)),t.getEntries(n,c).next(f=>{let _=Qe();return e.forEach((E,T)=>{const N=f.get(E),R=(null==o?void 0:o.get(E))||r;T.isNoDocument()&&T.version.isEqual(Mt.min())?(t.removeEntry(E,R),_=_.insert(E,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(t.addEntry(T,R),_=_.insert(E,T)):Le("LocalStore","Ignoring outdated watch update for ",E,". Current version:",N.version," Watch version:",T.version)}),_})}function dL(n,t){const e=$e(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.In.getNextMutationBatchAfterBatchId(r,t)))}function by(n,t){const e=$e(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.ze.getTargetData(r,t).next(c=>c?(o=c,ke.resolve(o)):e.ze.allocateTargetId(r).next(f=>(o=new jh(t,f,0,r.currentSequenceNumber),e.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Un=e.Un.insert(r.targetId,r),e.qn.set(t,r.targetId)),r})}function wy(n,t,e){return wM.apply(this,arguments)}function wM(){return(wM=(0,ve.Z)(function*(n,t,e){const r=$e(n),o=r.Un.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!rg(f))throw f;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${f}`)}r.Un=r.Un.remove(t),r.qn.delete(o.target)})).apply(this,arguments)}function IT(n,t,e){const r=$e(n);let o=Mt.min(),c=qt();return r.persistence.runTransaction("Execute query","readonly",f=>function(_,E,T){const N=$e(_),R=N.qn.get(T);return void 0!==R?ke.resolve(N.Un.get(R)):N.ze.getTargetData(E,T)}(r,f,Ji(t)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(f,_.targetId).next(E=>{c=E})}).next(()=>r.Bn.getDocumentsMatchingQuery(f,t,e?o:Mt.min(),e?c:qt())).next(_=>({documents:_,Gn:c})))}function zO(n,t){const e=$e(n),r=$e(e.ze),o=e.Un.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,t).next(f=>f?f.target:null))}function WO(n){const t=$e(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,o,c){const f=$e(r);let _=Qe(),E=dM(c);const T=Gh(o),N=IDBKeyRange.lowerBound(E,!0);return T.Kt({index:mr.readTimeIndex,range:N},(R,U)=>{const q=cM(f.N,U);_=_.insert(q.key,q),E=U.readTime}).next(()=>({En:_,readTime:AO(E)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:r})=>(t.Kn=r,e))}function EM(){return(EM=(0,ve.Z)(function*(n){const t=$e(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const o=Gh(r);let c=Mt.min();return o.Kt({index:mr.readTimeIndex,reverse:!0},(f,_,E)=>{_.readTime&&(c=AO(_.readTime)),E.done()}).next(()=>c)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function CM(){return(CM=(0,ve.Z)(function*(n,t,e,r){const o=$e(n);let c=qt(),f=Qe(),_=Ph();for(const N of e){const R=t.zn(N.metadata.name);N.document&&(c=c.add(R)),f=f.insert(R,t.Hn(N)),_=_.insert(R,t.Jn(N.metadata.readTime))}const E=o.jn.newChangeBuffer({trackRemovals:!0}),T=yield by(o,(N=r,Ji(Wc(on.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>ZO(N,E,f,Mt.min(),_).next(R=>(E.apply(N),R)).next(R=>o.ze.removeMatchingKeysForTargetId(N,T.targetId).next(()=>o.ze.addMatchingKeys(N,c,T.targetId)).next(()=>o.Qn.vn(N,R)).next(()=>R)))})).apply(this,arguments)}function pL(n,t){return DM.apply(this,arguments)}function DM(){return(DM=(0,ve.Z)(function*(n,t,e=qt()){const r=yield by(n,Ji(hM(t.bundledQuery))),o=$e(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const f=Si(t.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.Je.saveNamedQuery(c,t);const _=r.withResumeToken(Yr.EMPTY_BYTE_STRING,f);return o.Un=o.Un.insert(_.targetId,_),o.ze.updateTargetData(c,_).next(()=>o.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.ze.addMatchingKeys(c,e,r.targetId)).next(()=>o.Je.saveNamedQuery(c,t))})})).apply(this,arguments)}class gL{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return ke.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var r;return this.Yn.set(e.id,{id:(r=e).id,version:r.version,createTime:Si(r.createTime)}),ke.resolve()}getNamedQuery(t,e){return ke.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(r=e).name,query:hM(r.bundledQuery),readTime:Si(r.readTime)}),ke.resolve();var r}}class TM{constructor(){this.Zn=new Te(Ni.ts),this.es=new Te(Ni.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const r=new Ni(t,e);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.rs(new Ni(t,e))}os(t,e){t.forEach(r=>this.removeReference(r,e))}cs(t){const e=new Je(new on([])),r=new Ni(e,t),o=new Ni(e,t+1),c=[];return this.es.forEachInRange([r,o],f=>{this.rs(f),c.push(f.key)}),c}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Je(new on([])),r=new Ni(e,t),o=new Ni(e,t+1);let c=qt();return this.es.forEachInRange([r,o],f=>{c=c.add(f.key)}),c}containsKey(t){const e=new Ni(t,0),r=this.Zn.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Ni{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Je.comparator(t.key,e.key)||Ht(t.ls,e.ls)}static ns(t,e){return Ht(t.ls,e.ls)||Je.comparator(t.key,e.key)}}class mL{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Te(Ni.ts)}checkEmpty(t){return ke.resolve(0===this.In.length)}addMutationBatch(t,e,r,o){const c=this.fs;this.fs++;const f=new uM(c,e,r,o);this.In.push(f);for(const _ of o)this.ds=this.ds.add(new Ni(_.key,c)),this.Ht.addToCollectionParentIndex(t,_.key.path.popLast());return ke.resolve(f)}lookupMutationBatch(t,e){return ke.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const o=this._s(e+1),c=o<0?0:o;return ke.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return ke.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ni(e,0),o=new Ni(e,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,o],f=>{const _=this.ws(f.ls);c.push(_)}),ke.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Te(Ht);return e.forEach(o=>{const c=new Ni(o,0),f=new Ni(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,f],_=>{r=r.add(_.ls)})}),ke.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let c=r;Je.isDocumentKey(c)||(c=c.child(""));const f=new Ni(new Je(c),0);let _=new Te(Ht);return this.ds.forEachWhile(E=>{const T=E.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(_=_.add(E.ls)),!0)},f),ke.resolve(this.gs(_))}gs(t){const e=[];return t.forEach(r=>{const o=this.ws(r);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){Et(0===this.ys(e.batchId,"removed")),this.In.shift();let r=this.ds;return ke.forEach(e.mutations,o=>{const c=new Ni(o.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.ds=r})}te(t){}containsKey(t,e){const r=new Ni(e,0),o=this.ds.firstAfterOrEqual(r);return ke.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return ke.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class _L{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new Z(Je.comparator),this.size=0}addEntry(t,e,r){const o=e.key,c=this.docs.get(o),f=c?c.size:0,_=this.ps(e);return this.docs=this.docs.insert(o,{document:e.clone(),size:_,readTime:r}),this.size+=_-f,this.Ht.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ke.resolve(r?r.document.clone():Bt.newInvalidDocument(e))}getEntries(t,e){let r=Qe();return e.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():Bt.newInvalidDocument(o))}),ke.resolve(r)}getDocumentsMatchingQuery(t,e,r){let o=Qe();const c=new Je(e.path.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:_,value:{document:E,readTime:T}}=f.getNext();if(!e.path.isPrefixOf(_.path))break;T.compareTo(r)<=0||Rh(e,E)&&(o=o.insert(E.key,E.clone()))}return ke.resolve(o)}Ts(t,e){return ke.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new yL(this)}getSize(t){return ke.resolve(this.size)}}class yL extends VO{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?e.push(this.Se.addEntry(t,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),ke.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class vL{constructor(t){this.persistence=t,this.Es=new vy(e=>Sh(e),Nh),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Is=0,this.As=new TM,this.targetCount=0,this.Rs=sg.se()}forEachTarget(t,e){return this.Es.forEach((r,o)=>e(o)),ke.resolve()}getLastRemoteSnapshotVersion(t){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ke.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Is&&(this.Is=e),ke.resolve()}ae(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new sg(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,ke.resolve()}updateTargetData(t,e){return this.ae(e),ke.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,ke.resolve()}removeTargets(t,e,r){let o=0;const c=[];return this.Es.forEach((f,_)=>{_.sequenceNumber<=e&&null===r.get(_.targetId)&&(this.Es.delete(f),c.push(this.removeMatchingKeysForTargetId(t,_.targetId)),o++)}),ke.waitFor(c).next(()=>o)}getTargetCount(t){return ke.resolve(this.targetCount)}getTargetData(t,e){const r=this.Es.get(e)||null;return ke.resolve(r)}addMatchingKeys(t,e,r){return this.As.ss(e,r),ke.resolve()}removeMatchingKeys(t,e,r){this.As.os(e,r);const o=this.persistence.referenceDelegate,c=[];return o&&e.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),ke.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),ke.resolve()}getMatchingKeysForTargetId(t,e){const r=this.As.hs(e);return ke.resolve(r)}containsKey(t,e){return ke.resolve(this.As.containsKey(e))}}class bL{constructor(t,e){this.bs={},this.Le=new Us(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new vL(this),this.Ht=new JF,this.He=new _L(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new TO(e),this.Je=new gL(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new mL(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,r){Le("MemoryPersistence","Starting transaction:",t);const o=new wL(this.Le.next());return this.referenceDelegate.vs(),r(o).next(c=>this.referenceDelegate.Vs(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ss(t,e){return ke.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class wL extends EO{constructor(t){super(),this.currentSequenceNumber=t}}class IM{constructor(t){this.persistence=t,this.Ds=new TM,this.Cs=null}static Ns(t){return new IM(t)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(t,e,r){return this.Ds.addReference(r,e),this.xs.delete(r.toString()),ke.resolve()}removeReference(t,e,r){return this.Ds.removeReference(r,e),this.xs.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),ke.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.xs,r=>{const o=Je.fromPath(r);return this.ks(t,o).next(c=>{c||e.removeEntry(o)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return ke.or([()=>ke.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function YO(n,t){return`firestore_clients_${n}_${t}`}function KO(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function AM(n,t){return`firestore_targets_${n}_${t}`}class AT{constructor(t,e,r,o){this.user=t,this.batchId=e,this.state=r,this.error=o}static $s(t,e,r){const o=JSON.parse(r);let c,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(c=new Oe(o.error.code,o.error.message))),f?new AT(t,e,o.state,c):(pr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class A1{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static $s(t,e){const r=JSON.parse(e);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Oe(r.error.code,r.error.message))),c?new A1(t,r.state,o):(pr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ST{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Vh();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=c1(r.activeTargetIds[f]),c=c.add(r.activeTargetIds[f]);return o?new ST(t,c):(pr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class SM{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new SM(e.clientId,e.onlineState):(pr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class NM{constructor(){this.activeTargetIds=Vh()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MM{constructor(t,e,r,o,c){this.window=t,this.Oe=e,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Z(Ht),this.started=!1,this.Ks=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=YO(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new NM),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.pn();for(const o of e){if(o===t.Ls)continue;const c=t.getItem(YO(t.persistenceKey,o));if(c){const f=ST.$s(o,c);f&&(t.qs=t.qs.insert(f.clientId,f))}}t.Ys();const r=t.storage.getItem(t.Hs);if(r){const o=t.Xs(r);o&&t.Zs(o)}for(const o of t.Ks)t.Us(o);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,r){this.ei(t,e,r),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(AM(this.persistenceKey,t));if(r){const o=A1.$s(t,r);o&&(e=o.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(AM(this.persistenceKey,t))}updateQueryState(t,e,r){this.ii(t,e,r)}handleUserChange(t,e,r){e.forEach(o=>{this.ni(o)}),this.currentUser=t,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==r.key)if(e.Ws.test(r.key)){if(null==r.newValue){const o=e.ai(r.key);return e.ci(o,null)}{const o=e.ui(r.key,r.newValue);if(o)return e.ci(o.clientId,o)}}else if(e.Gs.test(r.key)){if(null!==r.newValue){const o=e.hi(r.key,r.newValue);if(o)return e.li(o)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const o=e.fi(r.key,r.newValue);if(o)return e.di(o)}}else if(r.key===e.Hs){if(null!==r.newValue){const o=e.Xs(r.newValue);if(o)return e.Zs(o)}}else if(r.key===e.Qs){const o=function(c){let f=Us.T;if(null!=c)try{const _=JSON.parse(c);Et("number"==typeof _),f=_}catch(_){pr("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(r.newValue);o!==Us.T&&e.sequenceNumberHandler(o)}else if(r.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,r){const o=new AT(this.currentUser,t,e,r),c=KO(this.persistenceKey,this.currentUser,t);this.setItem(c,o.Os())}ni(t){const e=KO(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,r){const o=AM(this.persistenceKey,t),c=new A1(t,e,r);this.setItem(o,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const r=this.ai(t);return ST.$s(r,e)}hi(t,e){const r=this.Gs.exec(t),o=Number(r[1]);return AT.$s(new fr(void 0!==r[2]?r[2]:null),o,e)}fi(t,e){const r=this.zs.exec(t),o=Number(r[1]);return A1.$s(o,e)}Xs(t){return SM.$s(t)}li(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ci(t,e){const r=e?this.qs.insert(t,e):this.qs.remove(t),o=this.ti(this.qs),c=this.ti(r),f=[],_=[];return c.forEach(E=>{o.has(E)||f.push(E)}),o.forEach(E=>{c.has(E)||_.push(E)}),this.syncEngine.gi(f,_).then(()=>{this.qs=r})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=Vh();return t.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class JO{constructor(){this.yi=new NM,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,r){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new NM,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class EL{Ti(t){}shutdown(){}}class QO{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const CL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class DL{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class TL extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,r,o){const c=this.Bi(t,e);Le("RestConnection","Sending: ",c,r);const f={};return this.Ui(f,o),this.qi(t,c,f,r).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw qp("RestConnection",`${t} failed with error: `,_,"url: ",c,"request:",r),_})}Ki(t,e,r,o){return this.Li(t,e,r,o)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+Dh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const r in e.authHeaders)e.authHeaders.hasOwnProperty(r)&&(t[r]=e.authHeaders[r])}Bi(t,e){return`${this.Fi}/v1/${e}:${CL[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,r,o){return new Promise((c,f)=>{const _=new VN;_.listenOnce(a1.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case o1.NO_ERROR:const T=_.getResponseJson();Le("Connection","XHR received:",JSON.stringify(T)),c(T);break;case o1.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),f(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case o1.HTTP_ERROR:const N=_.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const R=_.getResponseJson().error;if(R&&R.status&&R.message){const U=function(q){const he=q.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(he)>=0?he:me.UNKNOWN}(R.status);f(new Oe(U,R.message))}else f(new Oe(me.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const E=JSON.stringify(o);_.send(e,"POST",E,r,15)})}ji(t,e){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=LN(),c=W_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Yk({})),this.Ui(f.initMessageHeaders,e),(0,wt.uI)()||(0,wt.b$)()||(0,wt.d)()||(0,wt.w1)()||(0,wt.Mn)()||(0,wt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Le("Connection","Creating WebChannel: "+_,f);const E=o.createWebChannel(_,f);let T=!1,N=!1;const R=new DL({vi:q=>{N?Le("Connection","Not sending because WebChannel is closed:",q):(T||(Le("Connection","Opening WebChannel transport."),E.open(),T=!0),Le("Connection","WebChannel sending:",q),E.send(q))},Vi:()=>E.close()}),U=(q,he,Me)=>{q.listen(he,Ve=>{try{Me(Ve)}catch(lt){setTimeout(()=>{throw lt},0)}})};return U(E,Y_.EventType.OPEN,()=>{N||Le("Connection","WebChannel transport opened.")}),U(E,Y_.EventType.CLOSE,()=>{N||(N=!0,Le("Connection","WebChannel transport closed"),R.$i())}),U(E,Y_.EventType.ERROR,q=>{N||(N=!0,qp("Connection","WebChannel transport errored:",q),R.$i(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),U(E,Y_.EventType.MESSAGE,q=>{var he;if(!N){const Me=q.data[0];Et(!!Me);const Ve=Me,lt=Ve.error||(null===(he=Ve[0])||void 0===he?void 0:he.error);if(lt){Le("Connection","WebChannel received error:",lt);const Ct=lt.status;let pn=function(Tn){const $s=A[Tn];if(void 0!==$s)return H($s)}(Ct),$t=lt.message;void 0===pn&&(pn=me.INTERNAL,$t="Unknown error status: "+Ct+" with message "+lt.message),N=!0,R.$i(new Oe(pn,$t)),E.close()}else Le("Connection","WebChannel received:",Me),R.Oi(Me)}}),U(c,sT.STAT_EVENT,q=>{q.stat===Or.PROXY?Le("Connection","Detected buffering proxy"):q.stat===Or.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.ki()},0),R}}function XO(){return"undefined"!=typeof window?window:null}function NT(){return"undefined"!=typeof document?document:null}function S1(n){return new RF(n,!0)}class xM{constructor(t,e,r=1e3,o=1.5,c=6e4){this.Oe=t,this.timerId=e,this.Qi=r,this.Wi=o,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,e-r);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class eP{constructor(t,e,r,o,c,f){this.Oe=t,this.er=r,this.nr=o,this.credentialsProvider=c,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new xM(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var t=this;return(0,ve.Z)(function*(){t.ar()&&(yield t.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(t){this._r(),this.stream.send(t)}dr(){var t=this;return(0,ve.Z)(function*(){if(t.cr())return t.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(t,e){var r=this;return(0,ve.Z)(function*(){r._r(),r.rr.cancel(),r.sr++,3!==t?r.rr.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(pr(e.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),r.rr.Yi()):e&&e.code===me.UNAUTHENTICATED&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.mr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ci(e)})()}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===e&&this.yr(r)},r=>{t(()=>{const o=new Oe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(o)})})}yr(t){const e=this.gr(this.sr);this.stream=this.Tr(t),this.stream.Si(()=>{e(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{e(()=>this.pr(r))}),this.stream.onMessage(r=>{e(()=>this.onMessage(r))})}ur(){var t=this;this.state=4,this.rr.Xi((0,ve.Z)(function*(){t.state=0,t.start()}))}pr(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget(()=>this.sr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IL extends eP{constructor(t,e,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,r,c),this.N=o}Tr(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(E=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:et(),o=t.targetChange.targetIds||[],c=function(E,T){return E.D?(Et(void 0===T||"string"==typeof T),Yr.fromBase64String(T||"")):(Et(void 0===T||T instanceof Uint8Array),Yr.fromUint8Array(T||new Uint8Array))}(n,t.targetChange.resumeToken),f=t.targetChange.cause,_=f&&function(E){const T=void 0===E.code?me.UNKNOWN:H(E.code);return new Oe(T,E.message||"")}(f);e=new nO(r,o,c,_||null)}else if("documentChange"in t){const r=t.documentChange,o=Ml(n,r.document.name),c=Si(r.document.updateTime),f=new Kr({mapValue:{fields:r.document.fields}}),_=Bt.newFoundDocument(o,c,f);e=new Uh(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const r=t.documentDelete,o=Ml(n,r.document),c=r.readTime?Si(r.readTime):Mt.min(),f=Bt.newNoDocument(o,c);e=new Uh([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in t){const r=t.documentRemove,o=Ml(n,r.document);e=new Uh([],r.removedTargetIds||[],o,null)}else{if(!("filter"in t))return et();{const r=t.filter,c=new D(r.count||0);e=new ly(r.targetId,c)}}var E;return e}(this.N,t),r=function(o){if(!("targetChange"in o))return Mt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Mt.min():c.readTime?Si(c.readTime):Mt.min()}(t);return this.listener.Er(e,r)}Ir(t){const e={};e.database=C1(this.N),e.addTarget=function(o,c){let f;const _=c.target;return f=Xp(_)?{documents:fO(o,_)}:{query:pO(o,_)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=oO(o,c.resumeToken):c.snapshotVersion.compareTo(Mt.min())>0&&(f.readTime=w1(o,c.snapshotVersion.toTimestamp())),f}(this.N,t);const r=function(n,t){const e=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.wr(e)}Ar(t){const e={};e.database=C1(this.N),e.removeTarget=t,this.wr(e)}}class AL extends eP{constructor(t,e,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle",e,r,c),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(t){return this.nr.ji("Write",t)}onMessage(t){if(Et(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(n,t){return n&&n.length>0?(Et(void 0!==t),n.map(e=>function(r,o){let c=Si(r.updateTime?r.updateTime:o);return c.isEqual(Mt.min())&&(c=Si(o)),new Xk(c,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.vr(r,e)}return Et(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=C1(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>bT(this.N,r))};this.wr(e)}}class SL extends class{}{constructor(t,e,r){super(),this.credentials=t,this.nr=e,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,r){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(t,e,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Oe(me.UNKNOWN,o.toString())})}Ki(t,e,r){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(t,e,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class NL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(pr(e),this.$r=!1):Le("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class ML{constructor(t,e,r,o,c){var f=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=c,this.Qr.Ti(_=>{r.enqueueAndForget((0,ve.Z)(function*(){var E;qh(f)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ve.Z)(function*(T){const N=$e(T);N.Kr.add(4),yield Ey(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield N1(N)}),function(T){return E.apply(this,arguments)})(f))}))}),this.Wr=new NL(r,o)}}function N1(n){return RM.apply(this,arguments)}function RM(){return(RM=(0,ve.Z)(function*(n){if(qh(n))for(const t of n.jr)yield t(!0)})).apply(this,arguments)}function Ey(n){return kM.apply(this,arguments)}function kM(){return(kM=(0,ve.Z)(function*(n){for(const t of n.jr)yield t(!1)})).apply(this,arguments)}function MT(n,t){const e=$e(n);e.qr.has(t.targetId)||(e.qr.set(t.targetId,t),FM(e)?PM(e):Dy(e).cr()&&OM(e,t))}function M1(n,t){const e=$e(n),r=Dy(e);e.qr.delete(t),r.cr()&&tP(e,t),0===e.qr.size&&(r.cr()?r.lr():qh(e)&&e.Wr.set("Unknown"))}function OM(n,t){n.Gr.Y(t.targetId),Dy(n).Ir(t)}function tP(n,t){n.Gr.Y(t),Dy(n).Ar(t)}function PM(n){n.Gr=new NF({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>n.qr.get(t)||null}),Dy(n).start(),n.Wr.Or()}function FM(n){return qh(n)&&!Dy(n).ar()&&n.qr.size>0}function qh(n){return 0===$e(n).Kr.size}function nP(n){n.Gr=void 0}function xL(n){return LM.apply(this,arguments)}function LM(){return(LM=(0,ve.Z)(function*(n){n.qr.forEach((t,e)=>{OM(n,t)})})).apply(this,arguments)}function RL(n,t){return VM.apply(this,arguments)}function VM(){return(VM=(0,ve.Z)(function*(n,t){nP(n),FM(n)?(n.Wr.Lr(t),PM(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function kL(n,t,e){return UM.apply(this,arguments)}function UM(){return(UM=(0,ve.Z)(function*(n,t,e){if(n.Wr.set("Online"),t instanceof nO&&2===t.state&&t.cause)try{yield(r=(0,ve.Z)(function*(o,c){const f=c.cause;for(const _ of c.targetIds)o.qr.has(_)&&(yield o.remoteSyncer.rejectListen(_,f),o.qr.delete(_),o.Gr.removeTarget(_))}),function(o,c){return r.apply(this,arguments)})(n,t)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield xT(n,r)}else if(t instanceof Uh?n.Gr.rt(t):t instanceof ly?n.Gr.ft(t):n.Gr.ct(t),!e.isEqual(Mt.min()))try{const r=yield qO(n.localStore);e.compareTo(r)>=0&&(yield function(o,c){const f=o.Gr._t(c);return f.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const T=o.qr.get(E);T&&o.qr.set(E,T.withResumeToken(_.resumeToken,c))}}),f.targetMismatches.forEach(_=>{const E=o.qr.get(_);if(!E)return;o.qr.set(_,E.withResumeToken(Yr.EMPTY_BYTE_STRING,E.snapshotVersion)),tP(o,_);const T=new jh(E.target,_,1,E.sequenceNumber);OM(o,T)}),o.remoteSyncer.applyRemoteEvent(f)}(n,e))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield xT(n,r)}var r})).apply(this,arguments)}function xT(n,t,e){return BM.apply(this,arguments)}function BM(){return(BM=(0,ve.Z)(function*(n,t,e){if(!rg(t))throw t;n.Kr.add(1),yield Ey(n),n.Wr.set("Offline"),e||(e=()=>qO(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Kr.delete(1),yield N1(n)}))})).apply(this,arguments)}function rP(n,t){return t().catch(e=>xT(n,e,t))}function Cy(n){return jM.apply(this,arguments)}function jM(){return(jM=(0,ve.Z)(function*(n){const t=$e(n),e=Zh(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;OL(t);)try{const o=yield dL(t.localStore,r);if(null===o){0===t.Ur.length&&e.lr();break}r=o.batchId,PL(t,o)}catch(o){yield xT(t,o)}iP(t)&&sP(t)})).apply(this,arguments)}function OL(n){return qh(n)&&n.Ur.length<10}function PL(n,t){n.Ur.push(t);const e=Zh(n);e.cr()&&e.br&&e.Pr(t.mutations)}function iP(n){return qh(n)&&!Zh(n).ar()&&n.Ur.length>0}function sP(n){Zh(n).start()}function FL(n){return $M.apply(this,arguments)}function $M(){return($M=(0,ve.Z)(function*(n){Zh(n).Sr()})).apply(this,arguments)}function LL(n){return HM.apply(this,arguments)}function HM(){return(HM=(0,ve.Z)(function*(n){const t=Zh(n);for(const e of n.Ur)t.Pr(e.mutations)})).apply(this,arguments)}function VL(n,t,e){return GM.apply(this,arguments)}function GM(){return(GM=(0,ve.Z)(function*(n,t,e){const r=n.Ur.shift(),o=lM.from(r,t,e);yield rP(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Cy(n)})).apply(this,arguments)}function UL(n,t){return qM.apply(this,arguments)}function qM(){return(qM=(0,ve.Z)(function*(n,t){var e;t&&Zh(n).br&&(yield(e=(0,ve.Z)(function*(r,o){if(O(c=o.code)&&c!==me.ABORTED){const f=r.Ur.shift();Zh(r).hr(),yield rP(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield Cy(r)}var c}),function(r,o){return e.apply(this,arguments)})(n,t)),iP(n)&&sP(n)})).apply(this,arguments)}function ZM(n,t){return zM.apply(this,arguments)}function zM(){return(zM=(0,ve.Z)(function*(n,t){const e=$e(n);t?(e.Kr.delete(2),yield N1(e)):t||(e.Kr.add(2),yield Ey(e),e.Wr.set("Unknown"))})).apply(this,arguments)}function Dy(n){return n.zr||(n.zr=function(t,e,r){const o=$e(t);return o.Cr(),new IL(e,o.nr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:xL.bind(null,n),Ci:RL.bind(null,n),Er:kL.bind(null,n)}),n.jr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.zr.hr(),FM(n)?PM(n):n.Wr.set("Unknown")):(yield n.zr.stop(),nP(n))});return function(e){return t.apply(this,arguments)}}())),n.zr}function Zh(n){return n.Hr||(n.Hr=function(t,e,r){const o=$e(t);return o.Cr(),new AL(e,o.nr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:FL.bind(null,n),Ci:UL.bind(null,n),Vr:LL.bind(null,n),vr:VL.bind(null,n)}),n.jr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Hr.hr(),yield Cy(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),n.Hr}class WM{constructor(t,e,r,o,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(t,e,r,o,c){const f=Date.now()+r,_=new WM(t,e,f,o,c);return _.start(r),_}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,t){if(pr("AsyncQueue",`${t}: ${n}`),rg(n))return new Oe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Iy{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Je.comparator(e.key,r.key):(e,r)=>Je.comparator(e.key,r.key),this.keyedMap=rr(),this.sortedSet=new Z(this.comparator)}static emptySet(t){return new Iy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Iy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Iy;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class oP{constructor(){this.Jr=new Z(Je.comparator)}track(t){const e=t.doc.key,r=this.Jr.get(e);r?0!==t.type&&3===r.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==r.type?this.Jr=this.Jr.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Jr=this.Jr.remove(e):1===t.type&&2===r.type?this.Jr=this.Jr.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):et():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal((e,r)=>{t.push(r)}),t}}class Ay{constructor(t,e,r,o,c,f,_,E){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=E}static fromInitialDocuments(t,e,r,o){const c=[];return e.forEach(f=>{c.push({type:0,doc:f})}),new Ay(t,e,Iy.emptySet(e),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class BL{constructor(){this.Xr=void 0,this.listeners=[]}}class jL{constructor(){this.queries=new vy(t=>fT(t),eg),this.onlineState="Unknown",this.Zr=new Set}}function YM(n,t){return KM.apply(this,arguments)}function KM(){return(KM=(0,ve.Z)(function*(n,t){const e=$e(n),r=t.query;let o=!1,c=e.queries.get(r);if(c||(o=!0,c=new BL),o)try{c.Xr=yield e.onListen(r)}catch(f){const _=Ty(f,`Initialization of query '${_1(t.query)}' failed`);return void t.onError(_)}e.queries.set(r,c),c.listeners.push(t),t.eo(e.onlineState),c.Xr&&t.no(c.Xr)&&XM(e)})).apply(this,arguments)}function JM(n,t){return QM.apply(this,arguments)}function QM(){return(QM=(0,ve.Z)(function*(n,t){const e=$e(n),r=t.query;let o=!1;const c=e.queries.get(r);if(c){const f=c.listeners.indexOf(t);f>=0&&(c.listeners.splice(f,1),o=0===c.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)})).apply(this,arguments)}function $L(n,t){const e=$e(n);let r=!1;for(const o of t){const f=e.queries.get(o.query);if(f){for(const _ of f.listeners)_.no(o)&&(r=!0);f.Xr=o}}r&&XM(e)}function HL(n,t,e){const r=$e(n),o=r.queries.get(t);if(o)for(const c of o.listeners)c.onError(e);r.queries.delete(t)}function XM(n){n.Zr.forEach(t=>{t.next()})}class ex{constructor(t,e,r){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)3!==o.type&&r.push(o);t=new Ay(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}oo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(t){t=Ay.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class GL{constructor(t,e){this.payload=t,this.byteLength=e}ho(){return"metadata"in this.payload}}class aP{constructor(t){this.N=t}zn(t){return Ml(this.N,t)}Hn(t){return t.metadata.exists?dO(this.N,t.document,!1):Bt.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Si(t)}}class qL{constructor(t,e,r){this.lo=t,this.localStore=e,this.N=r,this.queries=[],this.documents=[],this.progress=uP(t)}fo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}wo(t){const e=new Map,r=new aP(this.N);for(const o of t)if(o.metadata.queries){const c=r.zn(o.metadata.name);for(const f of o.metadata.queries){const _=(e.get(f)||qt()).add(c);e.set(f,_)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function(n,t,e,r){return CM.apply(this,arguments)}(t.localStore,new aP(t.N),t.documents,t.lo.id),r=t.wo(t.documents);for(const o of t.queries)yield pL(t.localStore,o,r.get(o.name));return t.progress.taskState="Success",new aL(Object.assign({},t.progress),e)})()}}function uP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lP{constructor(t){this.key=t}}class cP{constructor(t){this.key=t}}class dP{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=qt(),this.mutatedKeys=qt(),this.po=y1(t),this.To=new Iy(this.po)}get Eo(){return this._o}Io(t,e){const r=e?e.Ao:new oP,o=e?e.To:this.To;let c=e?e.mutatedKeys:this.mutatedKeys,f=o,_=!1;const E=ny(this.query)&&o.size===this.query.limit?o.last():null,T=ry(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((N,R)=>{const U=o.get(N),q=Rh(this.query,R)?R:null,he=!!U&&this.mutatedKeys.has(U.key),Me=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Ve=!1;U&&q?U.data.isEqual(q.data)?he!==Me&&(r.track({type:3,doc:q}),Ve=!0):this.Ro(U,q)||(r.track({type:2,doc:q}),Ve=!0,(E&&this.po(q,E)>0||T&&this.po(q,T)<0)&&(_=!0)):!U&&q?(r.track({type:0,doc:q}),Ve=!0):U&&!q&&(r.track({type:1,doc:U}),Ve=!0,(E||T)&&(_=!0)),Ve&&(q?(f=f.add(q),c=Me?c.add(N):c.delete(N)):(f=f.delete(N),c=c.delete(N)))}),ny(this.query)||ry(this.query))for(;f.size>this.query.limit;){const N=ny(this.query)?f.last():f.first();f=f.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{To:f,Ao:r,Ln:_,mutatedKeys:c}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const o=this.To;this.To=t.To,this.mutatedKeys=t.mutatedKeys;const c=t.Ao.Yr();c.sort((T,N)=>function(R,U){const q=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return q(R)-q(U)}(T.type,N.type)||this.po(T.doc,N.doc)),this.bo(r);const f=e?this.Po():[],_=0===this.yo.size&&this.current?1:0,E=_!==this.mo;return this.mo=_,0!==c.length||E?{snapshot:new Ay(this.query,t.To,o,c,t.mutatedKeys,0===_,E,!1),vo:f}:{vo:f}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({To:this.To,Ao:new oP,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.To.has(t)&&!this.To.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach(e=>this._o=this._o.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=qt(),this.To.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const e=[];return t.forEach(r=>{this.yo.has(r)||e.push(new cP(r))}),this.yo.forEach(r=>{t.has(r)||e.push(new lP(r))}),e}So(t){this._o=t.Gn,this.yo=qt();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return Ay.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class ZL{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class zL{constructor(t){this.key=t,this.Co=!1}}class WL{constructor(t,e,r,o,c,f){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new vy(_=>fT(_),eg),this.ko=new Map,this.$o=new Set,this.Oo=new Z(Je.comparator),this.Fo=new Map,this.Mo=new TM,this.Lo={},this.Bo=new Map,this.Uo=sg.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function YL(n,t){return tx.apply(this,arguments)}function tx(){return(tx=(0,ve.Z)(function*(n,t){const e=Dx(n);let r,o;const c=e.xo.get(t);if(c)r=c.targetId,e.sharedClientState.addLocalQueryTarget(r),o=c.view.Do();else{const f=yield by(e.localStore,Ji(t)),_=e.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield nx(e,t,r,"current"===_),e.isPrimaryClient&&MT(e.remoteStore,f)}return o})).apply(this,arguments)}function nx(n,t,e,r){return rx.apply(this,arguments)}function rx(){return(rx=(0,ve.Z)(function*(n,t,e,r){n.Ko=(N,R,U)=>{return(q=(0,ve.Z)(function*(he,Me,Ve,lt){let Ct=Me.view.Io(Ve);Ct.Ln&&(Ct=yield IT(he.localStore,Me.query,!1).then(({documents:Tn})=>Me.view.Io(Tn,Ct)));const pn=lt&&lt.targetChanges.get(Me.targetId),$t=Me.view.applyChanges(Ct,he.isPrimaryClient,pn);return fx(he,Me.targetId,$t.vo),$t.snapshot}),function(he,Me,Ve,lt){return q.apply(this,arguments)})(n,N,R,U);var q};const o=yield IT(n.localStore,t,!0),c=new dP(t,o.Gn),f=c.Io(o.documents),_=ed.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),E=c.applyChanges(f,n.isPrimaryClient,_);fx(n,e,E.vo);const T=new ZL(t,e,c);return n.xo.set(t,T),n.ko.has(e)?n.ko.get(e).push(t):n.ko.set(e,[t]),E.snapshot})).apply(this,arguments)}function KL(n,t){return ix.apply(this,arguments)}function ix(){return(ix=(0,ve.Z)(function*(n,t){const e=$e(n),r=e.xo.get(t),o=e.ko.get(r.targetId);if(o.length>1)return e.ko.set(r.targetId,o.filter(c=>!eg(c,t))),void e.xo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wy(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),M1(e.remoteStore,r.targetId),Sy(e,r.targetId)}).catch(og))):(Sy(e,r.targetId),yield wy(e.localStore,r.targetId,!0))})).apply(this,arguments)}function sx(){return(sx=(0,ve.Z)(function*(n,t,e){const r=Tx(n);try{const o=yield function(c,f){const _=$e(c),E=Wr.now(),T=f.reduce((R,U)=>R.add(U.key),qt());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",R=>_.Qn.Pn(R,T).next(U=>{N=U;const q=[];for(const he of f){const Me=tO(he,N.get(he.key));null!=Me&&q.push(new l(he.key,Me,dT(Me.value.mapValue),Pr.exists(!0)))}return _.In.addMutationBatch(R,E,q,f)})).then(R=>(R.applyToLocalDocumentSet(N),{batchId:R.batchId,changes:N}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(c,f,_){let E=c.Lo[c.currentUser.toKey()];E||(E=new Z(Ht)),E=E.insert(f,_),c.Lo[c.currentUser.toKey()]=E}(r,o.batchId,e),yield rd(r,o.changes),yield Cy(r.remoteStore)}catch(o){const c=Ty(o,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function hP(n,t){return ox.apply(this,arguments)}function ox(){return(ox=(0,ve.Z)(function*(n,t){const e=$e(n);try{const r=yield cL(e.localStore,t);t.targetChanges.forEach((o,c)=>{const f=e.Fo.get(c);f&&(Et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Co=!0:o.modifiedDocuments.size>0?Et(f.Co):o.removedDocuments.size>0&&(Et(f.Co),f.Co=!1))}),yield rd(e,r,t)}catch(r){yield og(r)}})).apply(this,arguments)}function fP(n,t,e){const r=$e(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.xo.forEach((c,f)=>{const _=f.view.eo(t);_.snapshot&&o.push(_.snapshot)}),function(c,f){const _=$e(c);_.onlineState=f;let E=!1;_.queries.forEach((T,N)=>{for(const R of N.listeners)R.eo(f)&&(E=!0)}),E&&XM(_)}(r.eventManager,t),o.length&&r.No.Er(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function QL(n,t,e){return ax.apply(this,arguments)}function ax(){return(ax=(0,ve.Z)(function*(n,t,e){const r=$e(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Fo.get(t),c=o&&o.key;if(c){let f=new Z(Je.comparator);f=f.insert(c,Bt.newNoDocument(c,Mt.min()));const _=qt().add(c),E=new Xc(Mt.min(),new Map,new Te(Ht),f,_);yield hP(r,E),r.Oo=r.Oo.remove(c),r.Fo.delete(t),px(r)}else yield wy(r.localStore,t,!1).then(()=>Sy(r,t,e)).catch(og)})).apply(this,arguments)}function XL(n,t){return ux.apply(this,arguments)}function ux(){return(ux=(0,ve.Z)(function*(n,t){const e=$e(n),r=t.batch.batchId;try{const o=yield lL(e.localStore,t);hx(e,r,null),dx(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield rd(e,o)}catch(o){yield og(o)}})).apply(this,arguments)}function e2(n,t,e){return lx.apply(this,arguments)}function lx(){return(lx=(0,ve.Z)(function*(n,t,e){const r=$e(n);try{const o=yield function(c,f){const _=$e(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return _.In.lookupMutationBatch(E,f).next(N=>(Et(null!==N),T=N.keys(),_.In.removeMutationBatch(E,N))).next(()=>_.In.performConsistencyCheck(E)).next(()=>_.Qn.Pn(E,T))})}(r.localStore,t);hx(r,t,e),dx(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield rd(r,o)}catch(o){yield og(o)}})).apply(this,arguments)}function cx(){return(cx=(0,ve.Z)(function*(n,t){const e=$e(n);qh(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const f=$e(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.In.getHighestUnacknowledgedBatchId(_))}(e.localStore);if(-1===r)return void t.resolve();const o=e.Bo.get(r)||[];o.push(t),e.Bo.set(r,o)}catch(r){const o=Ty(r,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}})).apply(this,arguments)}function dx(n,t){(n.Bo.get(t)||[]).forEach(e=>{e.resolve()}),n.Bo.delete(t)}function hx(n,t,e){const r=$e(n);let o=r.Lo[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(e?c.reject(e):c.resolve(),o=o.remove(t)),r.Lo[r.currentUser.toKey()]=o}}function Sy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.ko.get(t))n.xo.delete(r),e&&n.No.jo(r,e);n.ko.delete(t),n.isPrimaryClient&&n.Mo.cs(t).forEach(r=>{n.Mo.containsKey(r)||pP(n,r)})}function pP(n,t){n.$o.delete(t.path.canonicalString());const e=n.Oo.get(t);null!==e&&(M1(n.remoteStore,e),n.Oo=n.Oo.remove(t),n.Fo.delete(e),px(n))}function fx(n,t,e){for(const r of e)r instanceof lP?(n.Mo.addReference(r.key,t),n2(n,r)):r instanceof cP?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Mo.removeReference(r.key,t),n.Mo.containsKey(r.key)||pP(n,r.key)):et()}function n2(n,t){const e=t.key,r=e.path.canonicalString();n.Oo.get(e)||n.$o.has(r)||(Le("SyncEngine","New document in limbo: "+e),n.$o.add(r),px(n))}function px(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const t=n.$o.values().next().value;n.$o.delete(t);const e=new Je(on.fromString(t)),r=n.Uo.next();n.Fo.set(r,new zL(e)),n.Oo=n.Oo.insert(e,r),MT(n.remoteStore,new jh(Ji(Wc(e.path)),r,2,Us.T))}}function rd(n,t,e){return gx.apply(this,arguments)}function gx(){return(gx=(0,ve.Z)(function*(n,t,e){const r=$e(n),o=[],c=[],f=[];var _;r.xo.isEmpty()||(r.xo.forEach((_,E)=>{f.push(r.Ko(E,t,e).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,T.fromCache?"not-current":"current"),o.push(T);const N=vM.kn(E.targetId,T);c.push(N)}}))}),yield Promise.all(f),r.No.Er(o),yield(_=(0,ve.Z)(function*(E,T){const N=$e(E);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ke.forEach(T,U=>ke.forEach(U.Nn,q=>N.persistence.referenceDelegate.addReference(R,U.targetId,q)).next(()=>ke.forEach(U.xn,q=>N.persistence.referenceDelegate.removeReference(R,U.targetId,q)))))}catch(R){if(!rg(R))throw R;Le("LocalStore","Failed to update sequence numbers: "+R)}for(const R of T){const U=R.targetId;if(!R.fromCache){const q=N.Un.get(U),Me=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);N.Un=N.Un.insert(U,Me)}}}),function(E,T){return _.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function r2(n,t){return mx.apply(this,arguments)}function mx(){return(mx=(0,ve.Z)(function*(n,t){const e=$e(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const r=yield GO(e.localStore,t);e.currentUser=t,(o=e).Bo.forEach(f=>{f.forEach(_=>{_.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield rd(e,r.Wn)}var o})).apply(this,arguments)}function i2(n,t){const e=$e(n),r=e.Fo.get(t);if(r&&r.Co)return qt().add(r.key);{let o=qt();const c=e.ko.get(t);if(!c)return o;for(const f of c){const _=e.xo.get(f);o=o.unionWith(_.view.Eo)}return o}}function s2(n,t){return _x.apply(this,arguments)}function _x(){return(_x=(0,ve.Z)(function*(n,t){const e=$e(n),r=yield IT(e.localStore,t.query,!0),o=t.view.So(r);return e.isPrimaryClient&&fx(e,t.targetId,o.vo),o})).apply(this,arguments)}function o2(n){return yx.apply(this,arguments)}function yx(){return(yx=(0,ve.Z)(function*(n){const t=$e(n);return WO(t.localStore).then(e=>rd(t,e))})).apply(this,arguments)}function a2(n,t,e,r){return vx.apply(this,arguments)}function vx(){return(vx=(0,ve.Z)(function*(n,t,e,r){const o=$e(n),c=yield function(f,_){const E=$e(f),T=$e(E.In);return E.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Xt(N,_).next(R=>R?E.Qn.Pn(N,R):ke.resolve(null)))}(o.localStore,t);var _;null!==c?("pending"===e?yield Cy(o.remoteStore):"acknowledged"===e||"rejected"===e?(hx(o,t,r||null),dx(o,t),_=t,$e($e(o.localStore).In).te(_)):et(),yield rd(o,c)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function bx(){return(bx=(0,ve.Z)(function*(n,t){const e=$e(n);if(Dx(e),Tx(e),!0===t&&!0!==e.qo){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield gP(e,r.toArray());e.qo=!0,yield ZM(e.remoteStore,!0);for(const c of o)MT(e.remoteStore,c)}else if(!1===t&&!1!==e.qo){const r=[];let o=Promise.resolve();e.ko.forEach((c,f)=>{e.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(Sy(e,f),wy(e.localStore,f,!0))),M1(e.remoteStore,f)}),yield o,yield gP(e,r),function(c){const f=$e(c);f.Fo.forEach((_,E)=>{M1(f.remoteStore,E)}),f.Mo.us(),f.Fo=new Map,f.Oo=new Z(Je.comparator)}(e),e.qo=!1,yield ZM(e.remoteStore,!1)}})).apply(this,arguments)}function gP(n,t,e){return wx.apply(this,arguments)}function wx(){return(wx=(0,ve.Z)(function*(n,t,e){const r=$e(n),o=[],c=[];for(const f of t){let _;const E=r.ko.get(f);if(E&&0!==E.length){_=yield by(r.localStore,Ji(E[0]));for(const T of E){const N=r.xo.get(T),R=yield s2(r,N);R.snapshot&&c.push(R.snapshot)}}else{const T=yield zO(r.localStore,f);_=yield by(r.localStore,T),yield nx(r,mP(T),f,!1)}o.push(_)}return r.No.Er(c),o})).apply(this,arguments)}function mP(n){return g1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function l2(n){const t=$e(n);return $e($e(t.localStore).persistence).pn()}function c2(n,t,e,r){return Ex.apply(this,arguments)}function Ex(){return(Ex=(0,ve.Z)(function*(n,t,e,r){const o=$e(n);if(o.qo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(t))switch(e){case"current":case"not-current":{const c=yield WO(o.localStore),f=Xc.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield rd(o,c,f);break}case"rejected":yield wy(o.localStore,t,!0),Sy(o,t,r);break;default:et()}})).apply(this,arguments)}function d2(n,t,e){return Cx.apply(this,arguments)}function Cx(){return(Cx=(0,ve.Z)(function*(n,t,e){const r=Dx(n);if(r.qo){for(const o of t){if(r.ko.has(o)){Le("SyncEngine","Adding an already active target "+o);continue}const c=yield zO(r.localStore,o),f=yield by(r.localStore,c);yield nx(r,mP(c),f.targetId,!1),MT(r.remoteStore,f)}for(const o of e)r.ko.has(o)&&(yield wy(r.localStore,o,!1).then(()=>{M1(r.remoteStore,o),Sy(r,o)}).catch(og))}})).apply(this,arguments)}function Dx(n){const t=$e(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QL.bind(null,t),t.No.Er=$L.bind(null,t.eventManager),t.No.jo=HL.bind(null,t.eventManager),t}function Tx(n){const t=$e(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,t),t}class _P{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.N=S1(t.databaseInfo.databaseId),e.sharedClientState=e.Wo(t),e.persistence=e.Go(t),yield e.persistence.start(),e.gcScheduler=e.zo(t),e.localStore=e.Ho(t)})()}zo(t){return null}Ho(t){return HO(this.persistence,new $O,t.initialUser,this.N)}Go(t){return new bL(IM.Ns,this.N)}Wo(t){return new JO}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class yP extends _P{constructor(t,e,r){super(),this.Jo=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield e().call(r,t),yield function(n){return EM.apply(this,arguments)}(r.localStore),yield r.Jo.initialize(r,t),yield Tx(r.Jo.syncEngine),yield Cy(r.Jo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ho(t){return HO(this.persistence,new $O,t.initialUser,this.N)}zo(t){return new tL(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Go(t){const e=yM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new _M(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,XO(),NT(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(t){return new JO}}class f2 extends yP{constructor(t,e){super(t,e,!1),this.Jo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield e().call(r,t);const o=r.Jo.syncEngine;r.sharedClientState instanceof MM&&(r.sharedClientState.syncEngine={_i:a2.bind(null,o),mi:c2.bind(null,o),gi:d2.bind(null,o),pn:l2.bind(null,o),wi:o2.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,ve.Z)(function*(f){yield function(n,t){return bx.apply(this,arguments)}(r.Jo.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Wo(t){const e=XO();if(!MM.bt(e))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new MM(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class Ix{initialize(t,e){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>fP(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=r2.bind(null,r.syncEngine),yield ZM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new jL}createDatastore(t){const e=S1(t.databaseInfo.databaseId),r=new TL(t.databaseInfo);return new SL(t.credentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,o=t.asyncQueue,c=_=>fP(this.syncEngine,_,0),f=QO.bt()?new QO:new EL,new ML(e,r,o,c,f);var e,r,o,c,f}createSyncEngine(t,e){return function(r,o,c,f,_,E,T){const N=new WL(r,o,c,f,_,E);return T&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const r=$e(e);Le("RemoteStore","RemoteStore shutting down."),r.Kr.add(5),yield Ey(r),r.Qr.shutdown(),r.Wr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function vP(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class p2{constructor(t,e){this.Zo=t,this.N=e,this.metadata=new _i,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(r=>{r&&r.ho()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Zo.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}Qo(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.ea()})()}ea(){var t=this;return(0,ve.Z)(function*(){const e=yield t.na();if(null===e)return null;const r=t.ta.decode(e),o=Number(r);isNaN(o)&&t.sa(`length string (${r}) is not valid number`);const c=yield t.ia(o);return new GL(JSON.parse(c),e.length+o)})()}ra(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}na(){var t=this;return(0,ve.Z)(function*(){for(;t.ra()<0&&!(yield t.oa()););if(0===t.buffer.length)return null;const e=t.ra();e<0&&t.sa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}ia(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.oa())&&e.sa("Reached the end of bundle when more is expected.");const r=e.ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}sa(t){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${t}`)}oa(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Zo.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class g2{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ve.Z)(function*(c,f){const _=$e(c),E=C1(_.N)+"/documents",T={documents:f.map(q=>E1(_.N,q))},N=yield _.Ki("BatchGetDocuments",E,T),R=new Map;N.forEach(q=>{const he=function(n,t){return"found"in t?function(e,r){Et(!!r.found);const o=Ml(e,r.found.name),c=Si(r.found.updateTime),f=new Kr({mapValue:{fields:r.found.fields}});return Bt.newFoundDocument(o,c,f)}(n,t):"missing"in t?function(e,r){Et(!!r.missing),Et(!!r.readTime);const o=Ml(e,r.missing),c=Si(r.readTime);return Bt.newNoDocument(o,c)}(n,t):et()}(_.N,q);R.set(he.key.toString(),he)});const U=[];return f.forEach(q=>{const he=R.get(q.toString());Et(!!he),U.push(he)}),U}),function(c,f){return o.apply(this,arguments)})(e.datastore,t);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new y(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const c=Je.fromPath(o);t.mutations.push(new b(c,t.precondition(c)))}),yield(r=(0,ve.Z)(function*(o,c){const f=$e(o),_=C1(f.N)+"/documents",E={writes:c.map(T=>bT(f.N,T))};yield f.Li("Commit",_,E)}),function(o,c){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw et();e=Mt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Pr.updateTime(e):Pr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Mt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pr.updateTime(e)}return Pr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class m2{constructor(t,e,r,o){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=o,this.aa=5,this.rr=new xM(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var t=this;this.rr.Xi((0,ve.Z)(function*(){const e=new g2(t.datastore),r=t.ua(e);r&&r.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(c=>{t.ha(c)}))}).catch(o=>{t.ha(o)})}))}ua(t){try{const e=this.updateFunction(t);return!Il(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(t){this.aa>0&&this.la(t)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(t)}la(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!O(e)}return!1}}class _2{constructor(t,e,r){var o=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=r,this.user=fr.UNAUTHENTICATED,this.clientId=uT.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var c=(0,ve.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield o.credentialListener(f),o.user=f});return function(f){return c.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(r){const o=Ty(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function bP(n,t){return Ax.apply(this,arguments)}function Ax(){return(Ax=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,ve.Z)(function*(c){r.isEqual(c)||(yield GO(t.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function wP(n,t){return Sx.apply(this,arguments)}function Sx(){return(Sx=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Nx(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(o=>{return(c=(0,ve.Z)(function*(f,_){const E=$e(f);E.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const T=qh(E);E.Kr.add(3),yield Ey(E),T&&E.Wr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(_),E.Kr.delete(3),yield N1(E)}),function(f,_){return c.apply(this,arguments)})(t.remoteStore,o);var c}),n.onlineComponents=t})).apply(this,arguments)}function Nx(n){return Mx.apply(this,arguments)}function Mx(){return(Mx=(0,ve.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield bP(n,new _P)),n.offlineComponents})).apply(this,arguments)}function kT(n){return xx.apply(this,arguments)}function xx(){return(xx=(0,ve.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield wP(n,new Ix)),n.onlineComponents})).apply(this,arguments)}function EP(n){return Nx(n).then(t=>t.persistence)}function Rx(n){return Nx(n).then(t=>t.localStore)}function CP(n){return kT(n).then(t=>t.remoteStore)}function kx(n){return kT(n).then(t=>t.syncEngine)}function Ny(n){return Ox.apply(this,arguments)}function Ox(){return(Ox=(0,ve.Z)(function*(n){const t=yield kT(n),e=t.eventManager;return e.onListen=YL.bind(null,t.syncEngine),e.onUnlisten=KL.bind(null,t.syncEngine),e})).apply(this,arguments)}function DP(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,c,f,_,E){const T=new RT({next:R=>{c.enqueueAndForget(()=>JM(o,N));const U=R.docs.has(f);!U&&R.fromCache?E.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&_&&"server"===_.source?E.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(R)},error:R=>E.reject(R)}),N=new ex(Wc(f.path),T,{includeMetadataChanges:!0,uo:!0});return YM(o,N)}(yield Ny(n),n.asyncQueue,t,e,r)})),r.promise}function TP(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,c,f,_,E){const T=new RT({next:R=>{c.enqueueAndForget(()=>JM(o,N)),R.fromCache&&"server"===_.source?E.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(R)},error:R=>E.reject(R)}),N=new ex(f,T,{includeMetadataChanges:!0,uo:!0});return YM(o,N)}(yield Ny(n),n.asyncQueue,t,e,r)})),r.promise}class I2{constructor(t,e,r,o,c,f,_,E){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=E}}class My{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof My&&t.projectId===this.projectId&&t.database===this.database}}const IP=new Map;function Px(n,t,e){if(!e)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function AP(n,t,e,r){if(!0===t&&!0===r)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function SP(n){if(!Je.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NP(n){if(Je.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":et()}function nn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=OT(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function MP(n,t){if(t<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class xP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,AP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class x1{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xP({}),this._settingsFrozen=!1,t instanceof My?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new My(r.options.projectId)}(t))}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xP(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new jN;switch(e.type){case"gapi":const r=e.client;return Et(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Zo(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=IP.get(t);e&&(Le("ComponentProvider","Removing Datastore"),IP.delete(t),e.terminate())}(this),Promise.resolve()}}class Gn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gn(this.firestore,t,this._key)}}class ws{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ws(this.firestore,t,this._query)}}class Rl extends ws{constructor(t,e,r){super(t,e,Wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gn(this.firestore,null,new Je(t))}withConverter(t){return new Rl(this.firestore,t,this._path)}}function RP(n,t,...e){if(n=(0,wt.m9)(n),Px("collection","path",t),n instanceof x1){const r=on.fromString(t,...e);return NP(r),new Rl(n,null,r)}{if(!(n instanceof Gn||n instanceof Rl))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(t,...e));return NP(r),new Rl(n.firestore,null,r)}}function PT(n,t,...e){if(n=(0,wt.m9)(n),1===arguments.length&&(t=uT.I()),Px("doc","path",t),n instanceof x1){const r=on.fromString(t,...e);return SP(r),new Gn(n,null,new Je(r))}{if(!(n instanceof Gn||n instanceof Rl))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(t,...e));return SP(r),new Gn(n.firestore,n instanceof Rl?n.converter:null,new Je(r))}}function kP(n,t){return n=(0,wt.m9)(n),t=(0,wt.m9)(t),(n instanceof Gn||n instanceof Rl)&&(t instanceof Gn||t instanceof Rl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function OP(n,t){return n=(0,wt.m9)(n),t=(0,wt.m9)(t),n instanceof ws&&t instanceof ws&&n.firestore===t.firestore&&eg(n._query,t._query)&&n.converter===t.converter}class N2{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new xM(this,"async_queue_retry"),this.Ta=()=>{const e=NT();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const t=NT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ea(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=NT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ta)}}enqueue(t){if(this.Ea(),this.wa)return new Promise(()=>{});const e=new _i;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.da.push(t),this.Aa()))}Aa(){var t=this;return(0,ve.Z)(function*(){if(0!==t.da.length){try{yield t.da[0](),t.da.shift(),t.rr.reset()}catch(e){if(!rg(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.da.length>0&&t.rr.Xi(()=>t.Aa())}})()}Ia(t){const e=this.fa.then(()=>(this.ga=!0,t().catch(r=>{throw this.ma=r,this.ga=!1,pr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=e,e}enqueueAfterDelay(t,e,r){this.Ea(),this.pa.indexOf(t)>-1&&(e=0);const o=WM.createAndSchedule(this,t,e,r,c=>this.Ra(c));return this._a.push(o),o}Ea(){this.ma&&et()}verifyOperationInProgress(){}ba(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.fa,yield e}while(e!==t.fa)})()}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then(()=>{this._a.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()})}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function Fx(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class M2{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class _r extends x1{constructor(t,e){super(t,e),this.type="firestore",this._queue=new N2,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||PP(this),this._firestoreClient.terminate()}}function yi(n){return n._firestoreClient||PP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PP(n){var t;const e=n._freezeSettings(),r=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new I2(n._databaseId,c,n._persistenceKey,(_=e).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new _2(n._credentials,n._queue,r)}function FP(n,t,e){const r=new _i;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield bP(n,e),yield wP(n,t),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===me.FAILED_PRECONDITION||c.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function LP(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class id{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kl(Yr.fromBase64String(t))}catch(e){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new kl(Yr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ag{constructor(t){this._methodName=t}}class FT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}const B2=/^__.*__$/;class j2{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new l(t,this.data,this.fieldMask,e,this.fieldTransforms):new a(t,this.data,e,this.fieldTransforms)}}class VP{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new l(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function UP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class LT{constructor(t,e,r,o,c,f){this.settings=t,this.databaseId=e,this.N=r,this.ignoreUndefinedProperties=o,void 0===c&&this.Sa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new LT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.Ca({path:r,xa:!1});return o.ka(t),o}$a(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.Ca({path:r,xa:!1});return o.Sa(),o}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return UT(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(UP(this.Da)&&B2.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class $2{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=r||S1(t)}Ba(t,e,r,o=!1){return new LT({Da:t,methodName:e,La:r,path:Ai.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ug(n){const t=n._freezeSettings(),e=S1(n._databaseId);return new $2(n._databaseId,!!t.ignoreUndefinedProperties,e)}function VT(n,t,e,r,o,c={}){const f=n.Ba(c.merge||c.mergeFields?2:0,t,e,o);Bx("Data must be an object, but it was:",f,r);const _=$P(r,f);let E,T;if(c.merge)E=new Tl(f.fieldMask),T=f.fieldTransforms;else if(c.mergeFields){const N=[];for(const R of c.mergeFields){const U=jx(t,R,e);if(!f.contains(U))throw new Oe(me.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);GP(N,U)||N.push(U)}E=new Tl(N),T=f.fieldTransforms.filter(R=>E.covers(R.field))}else E=null,T=f.fieldTransforms;return new j2(new Kr(_),E,T)}class R1 extends ag{_toFieldTransform(t){if(2!==t.Da)throw t.Fa(1===t.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof R1}}function BP(n,t,e){return new LT({Da:3,La:t.settings.La,methodName:n._methodName,xa:e},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Lx extends ag{_toFieldTransform(t){return new ay(t.path,new kh)}isEqual(t){return t instanceof Lx}}class H2 extends ag{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=BP(this,t,!0),r=this.Ua.map(c=>lg(c,e)),o=new Qc(r);return new ay(t.path,o)}isEqual(t){return this===t}}class G2 extends ag{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=BP(this,t,!0),r=this.Ua.map(c=>lg(c,e)),o=new Oh(r);return new ay(t.path,o)}isEqual(t){return this===t}}class q2 extends ag{constructor(t,e){super(t),this.qa=e}_toFieldTransform(t){const e=new tg(t.N,gT(t.N,this.qa));return new ay(t.path,e)}isEqual(t){return this===t}}function Vx(n,t,e,r){const o=n.Ba(1,t,e);Bx("Data must be an object, but it was:",o,r);const c=[],f=Kr.empty();Dl(r,(E,T)=>{const N=$x(t,E,e);T=(0,wt.m9)(T);const R=o.$a(N);if(T instanceof R1)c.push(N);else{const U=lg(T,R);null!=U&&(c.push(N),f.set(N,U))}});const _=new Tl(c);return new VP(f,_,o.fieldTransforms)}function Ux(n,t,e,r,o,c){const f=n.Ba(1,t,e),_=[jx(t,r,e)],E=[o];if(c.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<c.length;U+=2)_.push(jx(t,c[U])),E.push(c[U+1]);const T=[],N=Kr.empty();for(let U=_.length-1;U>=0;--U)if(!GP(T,_[U])){const q=_[U];let he=E[U];he=(0,wt.m9)(he);const Me=f.$a(q);if(he instanceof R1)T.push(q);else{const Ve=lg(he,Me);null!=Ve&&(T.push(q),N.set(q,Ve))}}const R=new Tl(T);return new VP(N,R,f.fieldTransforms)}function jP(n,t,e,r=!1){return lg(e,n.Ba(r?4:3,t))}function lg(n,t){if(HP(n=(0,wt.m9)(n)))return Bx("Unsupported field value:",t,n),$P(n,t);if(n instanceof ag)return function(e,r){if(!UP(r.Da))throw r.Fa(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fa(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,r){const o=[];let c=0;for(const f of e){let _=lg(f,r.Oa(c));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),c++}return{arrayValue:{values:o}}}(n,t)}return function(e,r){if(null===(e=(0,wt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gT(r.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=Wr.fromDate(e);return{timestampValue:w1(r.N,o)}}if(e instanceof Wr){const o=new Wr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:w1(r.N,o)}}if(e instanceof FT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kl)return{bytesValue:oO(r.N,e._byteString)};if(e instanceof Gn){const o=r.databaseId,c=e.firestore._databaseId;if(!c.isEqual(o))throw r.Fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sM(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Fa(`Unsupported field value: ${OT(e)}`)}(n,t)}function $P(n,t){const e={};return ZN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dl(n,(r,o)=>{const c=lg(o,t.Na(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function HP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wr||n instanceof FT||n instanceof kl||n instanceof Gn||n instanceof ag)}function Bx(n,t,e){if(!HP(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OT(e);throw t.Fa("an object"===r?n+" a custom object":n+" "+r)}var r}function jx(n,t,e){if((t=(0,wt.m9)(t))instanceof id)return t._internalPath;if("string"==typeof t)return $x(n,t);throw UT("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const Z2=new RegExp("[~\\*/\\[\\]]");function $x(n,t,e){if(t.search(Z2)>=0)throw UT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new id(...t.split("."))._internalPath}catch(r){throw UT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function UT(n,t,e,r,o){const c=r&&!r.isEmpty(),f=void 0!==o;let _=`Function ${t}() called with invalid data`;e&&(_+=" (via `toFirestore()`)"),_+=". ";let E="";return(c||f)&&(E+=" (found",c&&(E+=` in field ${r}`),f&&(E+=` in document ${o}`),E+=")"),new Oe(me.INVALID_ARGUMENT,_+n+E)}function GP(n,t){return n.some(e=>e.isEqual(t))}class k1{constructor(t,e,r,o,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(BT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class z2 extends k1{data(){return super.data()}}function BT(n,t){return"string"==typeof t?$x(n,t):t instanceof id?t._internalPath:t._delegate._internalPath}class cg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sd extends k1{constructor(t,e,r,o,c,f){super(t,e,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new O1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(BT("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class O1 extends sd{data(t={}){return super.data(t)}}class zh{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new cg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new O1(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new O1(r._firestore,r._userDataWriter,f.doc.key,f.doc,new cg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const _=new O1(r._firestore,r._userDataWriter,f.doc.key,f.doc,new cg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,T=-1;return 0!==f.type&&(E=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),T=c.indexOf(f.doc.key)),{type:W2(f.type),doc:_,oldIndex:E,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function W2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function qP(n,t){return n instanceof sd&&t instanceof sd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof zh&&t instanceof zh&&n._firestore===t._firestore&&OP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function ZP(n){if(ry(n)&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P1{}function Wh(n,...t){for(const e of t)n=e._apply(n);return n}class Y2 extends P1{constructor(t,e,r){super(),this.Ka=t,this.ja=e,this.Qa=r,this.type="where"}_apply(t){const e=ug(t.firestore),r=function(o,c,f,_,E,T,N){let R;if(E.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){QP(N,T);const q=[];for(const he of N)q.push(JP(_,o,he));R={arrayValue:{values:q}}}else R=JP(_,o,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||QP(N,T),R=jP(f,"where",N,"in"===T||"not-in"===T);const U=Jr.create(E,T,R);return function(q,he){if(he.v()){const Ve=zo(q);if(null!==Ve&&!Ve.isEqual(he.field))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${he.field.toString()}'`);const lt=m1(q);null!==lt&&XP(0,he.field,lt)}const Me=function(Ve,lt){for(const Ct of Ve.filters)if(lt.indexOf(Ct.op)>=0)return Ct.op;return null}(q,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(he.op));if(null!==Me)throw new Oe(me.INVALID_ARGUMENT,Me===he.op?`Invalid query. You cannot use more than one '${he.op.toString()}' filter.`:`Invalid query. You cannot use '${he.op.toString()}' filters with '${Me.toString()}' filters.`)}(o,U),U}(t._query,0,e,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new ws(t.firestore,t.converter,function(o,c){const f=o.filters.concat([c]);return new Su(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(t._query,r))}}class J2 extends P1{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(r,o,c){if(null!==r.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new xh(o,c);return function(_,E){if(null===m1(_)){const T=zo(_);null!==T&&XP(0,T,E.field)}}(r,f),f}(t._query,this.Ka,this.Wa);return new ws(t.firestore,t.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Su(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class zP extends P1{constructor(t,e,r){super(),this.type=t,this.Ga=e,this.za=r}_apply(t){return new ws(t.firestore,t.converter,Kc(t._query,this.Ga,this.za))}}class WP extends P1{constructor(t,e,r){super(),this.type=t,this.Ha=e,this.Ja=r}_apply(t){const e=KP(t,this.type,this.Ha,this.Ja);return new ws(t.firestore,t.converter,(o=e,new Su((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class YP extends P1{constructor(t,e,r){super(),this.type=t,this.Ha=e,this.Ja=r}_apply(t){const e=KP(t,this.type,this.Ha,this.Ja);return new ws(t.firestore,t.converter,(o=e,new Su((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function KP(n,t,e,r){if(e[0]=(0,wt.m9)(e[0]),e[0]instanceof k1)return function(o,c,f,_,E){if(!_)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const T=[];for(const N of Wo(o))if(N.field.isKeyField())T.push(Yp(c,_.key));else{const R=_.data.field(N.field);if(l1(R))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const U=N.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}T.push(R)}return new Au(T,E)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const o=ug(n.firestore);return function(c,f,_,E,T,N){const R=c.explicitOrderBy;if(T.length>R.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let q=0;q<T.length;q++){const he=T[q];if(R[q].field.isKeyField()){if("string"!=typeof he)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof he}`);if(!Yc(c)&&-1!==he.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${E}() must be a plain document ID, but '${he}' contains a slash.`);const Me=c.path.child(on.fromString(he));if(!Je.isDocumentKey(Me))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${E}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Ve=new Je(Me);U.push(Yp(f,Ve))}else{const Me=jP(_,E,he);U.push(Me)}}return new Au(U,N)}(n._query,n.firestore._databaseId,o,t,e,r)}}function JP(n,t,e){if("string"==typeof(e=(0,wt.m9)(e))){if(""===e)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yc(t)&&-1!==e.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(on.fromString(e));if(!Je.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yp(n,new Je(r))}if(e instanceof Gn)return Yp(n,e._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${OT(e)}.`)}function QP(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function XP(n,t,e){if(!e.isEqual(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Hx{convertValue(t,e="none"){switch(Al(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ih(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw et()}}convertObject(t,e){const r={};return Dl(t.fields,(o,c)=>{r[o]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new FT(gr(t.latitude),gr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=vo(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(K_(t));default:return null}}convertTimestamp(t){const e=Zc(t);return new Wr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=on.fromString(t);Et(vO(r));const o=new My(r.get(1),r.get(3)),c=new Je(r.popFirst(5));return o.isEqual(e)||pr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function jT(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class sV extends Hx{constructor(t){super(),this.firestore=t}convertBytes(t){return new kl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,e)}}class eF{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ug(t)}set(t,e,r){this._verifyNotCommitted();const o=Yh(t,this._firestore),c=jT(o.converter,e,r),f=VT(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,Pr.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const c=Yh(t,this._firestore);let f;return f="string"==typeof(e=(0,wt.m9)(e))||e instanceof id?Ux(this._dataReader,"WriteBatch.update",c._key,e,r,o):Vx(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(f.toMutation(c._key,Pr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yh(t,this._firestore);return this._mutations=this._mutations.concat(new y(e._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,t){if((n=(0,wt.m9)(n)).firestore!==t)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dg extends Hx{constructor(t){super(),this.firestore=t}convertBytes(t){return new kl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,e)}}function tF(n,t,e){n=nn(n,Gn);const r=nn(n.firestore,_r),o=jT(n.converter,t,e);return xy(r,[VT(ug(r),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,Pr.none())])}function nF(n,t,e,...r){n=nn(n,Gn);const o=nn(n.firestore,_r),c=ug(o);let f;return f="string"==typeof(t=(0,wt.m9)(t))||t instanceof id?Ux(c,"updateDoc",n._key,t,e,r):Vx(c,"updateDoc",n._key,t),xy(o,[f.toMutation(n._key,Pr.exists(!0))])}function rF(n,...t){var e,r,o;n=(0,wt.m9)(n);let c={includeMetadataChanges:!1},f=0;"object"!=typeof t[f]||Fx(t[f])||(c=t[f],f++);const _={includeMetadataChanges:c.includeMetadataChanges};if(Fx(t[f])){const R=t[f];t[f]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[f+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),t[f+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let E,T,N;if(n instanceof Gn)T=nn(n.firestore,_r),N=Wc(n._key.path),E={next:R=>{t[f]&&t[f](Gx(T,n,R))},error:t[f+1],complete:t[f+2]};else{const R=nn(n,ws);T=nn(R.firestore,_r),N=R._query;const U=new dg(T);E={next:q=>{t[f]&&t[f](new zh(T,U,R,q))},error:t[f+1],complete:t[f+2]},ZP(n._query)}return function(R,U,q,he){const Me=new RT(he),Ve=new ex(U,Me,q);return R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return YM(yield Ny(R),Ve)})),()=>{Me.Xo(),R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return JM(yield Ny(R),Ve)}))}}(yi(T),N,_,E)}function xy(n,t){return function(e,r){const o=new _i;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,t,e){return sx.apply(this,arguments)}(yield kx(e),r,o)})),o.promise}(yi(n),t)}function Gx(n,t,e){const r=e.docs.get(t._key),o=new dg(n);return new sd(n,o,t._key,r,new cg(e.hasPendingWrites,e.fromCache),t.converter)}class gV extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ug(t)}get(t){const e=Yh(t,this._firestore),r=new sV(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return et();const c=o[0];if(c.isFoundDocument())return new k1(this._firestore,r,c.key,c,e.converter);if(c.isNoDocument())return new k1(this._firestore,r,e._key,null,e.converter);throw et()})}set(t,e,r){const o=Yh(t,this._firestore),c=jT(o.converter,e,r),f=VT(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(t,e,r,...o){const c=Yh(t,this._firestore);let f;return f="string"==typeof(e=(0,wt.m9)(e))||e instanceof id?Ux(this._dataReader,"Transaction.update",c._key,e,r,o):Vx(this._dataReader,"Transaction.update",c._key,e),this._transaction.update(c._key,f),this}delete(t){const e=Yh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yh(t,this._firestore),r=new dg(this._firestore);return super.get(t).then(o=>new sd(this._firestore,r,e._key,o._document,new cg(!1,!1),e.converter))}}function qx(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function iF(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function sF(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){Dh=n})(Gr.SDK_VERSION),(0,Gr._registerComponent)(new wn.wA("firestore",(n,{options:t})=>{const e=n.getProvider("app").getImmediate(),r=new _r(e,new HN(n.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,Gr.registerVersion)(UN,"3.1.1",void 0),(0,Gr.registerVersion)(UN,"3.1.1","esm2017");class F1{constructor(t){this._delegate=t}static fromBase64String(t){return sF(),new F1(kl.fromBase64String(t))}static fromUint8Array(t){return iF(),new F1(kl.fromUint8Array(t))}toBase64(){return sF(),this._delegate.toBase64()}toUint8Array(){return iF(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zx(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class IV{enableIndexedDbPersistence(t,e){return function(n,t){LP(n=nn(n,_r));const e=yi(n),r=n._freezeSettings(),o=new Ix;return FP(e,o,new yP(o,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){LP(n=nn(n,_r));const t=yi(n),e=n._freezeSettings(),r=new Ix;return FP(t,r,new f2(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(r){if(!Mu.bt())return Promise.resolve();const o=r+"main";yield Mu.delete(o)}),function(r){return e.apply(this,arguments)})(yM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class oF{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof My||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&qp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var o;const c=(n=nn(n,x1))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==t&&qp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=fr.MOCK_USER;else{f=(0,wt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new fr(E)}n._credentials=new $N(new aT(f,_))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield EP(n),e=yield CP(n);return t.setNetworkEnabled(!0),function(r){const o=$e(r);return o.Kr.delete(0),N1(o)}(e)}))}(yi(n=nn(n,_r)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield EP(n),e=yield CP(n);return t.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(o){const c=$e(o);c.Kr.add(0),yield Ey(c),c.Wr.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(yi(n=nn(n,_r)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,AP("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new _i;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,t){return cx.apply(this,arguments)}(yield kx(t),e)})),e.promise}(yi(n=nn(n,_r)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new RT(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Ny(n),o=e,$e(r).Zr.add(o),void o.next();var r,o})),()=>{e.Xo(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Ny(n),o=e,void $e(r).Zr.delete(o);var r,o}))}}(yi(n=nn(n,_r)),Fx(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ry(this,RP(this._delegate,t))}catch(e){throw Bs(e,"collection()","Firestore.collection()")}}doc(t){try{return new ka(this,PT(this._delegate,t))}catch(e){throw Bs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new js(this,function(n,t){if(n=nn(n,x1),Px("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ws(n,null,(e=t,new Su(on.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(o=n,kT(o).then(c=>c.datastore));var o;new m2(n.asyncQueue,r,t,e).run()})),e.promise}(yi(n),e=>t(new gV(n,e)))}(this._delegate,e=>t(new aF(this,e)))}batch(){return yi(this._delegate),new uF(new eF(this._delegate,t=>xy(this._delegate,t)))}loadBundle(t){return function(n,t){const e=yi(n=nn(n,_r)),r=new M2;return function(n,t,e,r){const o=function(c,f){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,E=function(E,T){if(E instanceof Uint8Array)return vP(E,T);if(E instanceof ArrayBuffer)return vP(new Uint8Array(E),T);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new p2(E,f);var E}(e,S1(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function(n,t,e){const r=$e(n);var o;(o=(0,ve.Z)(function*(c,f,_){try{const E=yield f.getMetadata();if(yield function(U,q){const he=$e(U),Me=Si(q.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",Ve=>he.Je.getBundleMetadata(Ve,q.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(Me)>=0)}(c.localStore,E))return yield f.close(),void _._completeWith((U=E,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));_._updateProgress(uP(E));const T=new qL(E,c.localStore,f.N);let N=yield f.Qo();for(;N;){const U=yield T.fo(N);U&&_._updateProgress(U),N=yield f.Qo()}const R=yield T.complete();yield rd(c,R.En,void 0),yield function(U,q){const he=$e(U);return he.persistence.runTransaction("Save bundle","readwrite",Me=>he.Je.saveBundleMetadata(Me,q))}(c.localStore,E),_._completeWith(R.progress)}catch(E){qp("SyncEngine",`Loading bundle failed with ${E}`),_._failWith(E)}var U}),function(c,f,_){return o.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield kx(n),o,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,r){const o=$e(e);return o.persistence.runTransaction("Get named query","readonly",c=>o.Je.getNamedQuery(c,r))}(yield Rx(n),t)}))}(yi(n=nn(n,_r)),t).then(e=>e?new ws(n,null,e.query):null)}(this._delegate,t).then(e=>e?new js(this,e):null)}}class $T extends Hx{constructor(t){super(),this.firestore=t}convertBytes(t){return new F1(new kl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ka.forKey(e,this.firestore,null)}}class aF{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new $T(t)}get(t){const e=fg(t);return this._delegate.get(e).then(r=>new L1(this._firestore,new sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const o=fg(t);return r?(qx("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const c=fg(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,r,...o),this}delete(t){const e=fg(t);return this._delegate.delete(e),this}}class uF{constructor(t){this._delegate=t}set(t,e,r){const o=fg(t);return r?(qx("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const c=fg(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,r,...o),this}delete(t){const e=fg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class hg{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new O1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new V1(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=hg.INSTANCES;let o=r.get(t);o||(o=new WeakMap,r.set(t,o));let c=o.get(e);return c||(c=new hg(t,new $T(t),e),o.set(e,c)),c}}hg.INSTANCES=new WeakMap;class ka{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $T(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ka(e,new Gn(e._delegate,r,new Je(t)))}static forKey(t,e,r){return new ka(e,new Gn(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ry(this.firestore,RP(this._delegate,t))}catch(e){throw Bs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,wt.m9)(t))instanceof Gn&&kP(this._delegate,t)}set(t,e){e=qx("DocumentReference.set",e);try{return e?tF(this._delegate,t,e):tF(this._delegate,t)}catch(r){throw Bs(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?nF(this._delegate,t):nF(this._delegate,t,e,...r)}catch(o){throw Bs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return xy(nn(n.firestore,_r),[new y(n._key,Pr.none())])}(this._delegate)}onSnapshot(...t){const e=lF(t),r=cF(t,o=>new L1(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return rF(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=nn(n,Gn);const t=nn(n.firestore,_r),e=yi(t),r=new dg(t);return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,c,f){try{const _=yield function(E,T){const N=$e(E);return N.persistence.runTransaction("read document","readonly",R=>N.Qn.An(R,T))}(o,c);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const E=Ty(_,`Failed to get document '${c} from cache`);f.reject(E)}}),function(o,c,f){return r.apply(this,arguments)})(yield Rx(n),t,e);var r})),e.promise}(e,n._key).then(o=>new sd(t,r,n._key,o,new cg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=nn(n,Gn);const t=nn(n.firestore,_r);return DP(yi(t),n._key,{source:"server"}).then(e=>Gx(t,n,e))}(this._delegate):function(n){n=nn(n,Gn);const t=nn(n.firestore,_r);return DP(yi(t),n._key).then(e=>Gx(t,n,e))}(this._delegate),e.then(r=>new L1(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new ka(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}function Bs(n,t,e){return n.message=n.message.replace(t,e),n}function lF(n){for(const t of n)if("object"==typeof t&&!Zx(t))return t;return{}}function cF(n,t){var e,r;let o;return o=Zx(n[0])?n[0]:Zx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(t(c))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class L1{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return qP(this._delegate,t._delegate)}}class V1 extends L1{data(t){const e=this._delegate.data(t);return function(n,t){n||et()}(void 0!==e),e}}class js{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $T(t)}where(t,e,r){try{return new js(this.firestore,Wh(this._delegate,function(n,t,e){const r=t,o=BT("where",n);return new Y2(o,r,e)}(t,e,r)))}catch(o){throw Bs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new js(this.firestore,Wh(this._delegate,function(n,t="asc"){const e=t,r=BT("orderBy",n);return new J2(r,e)}(t,e)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new js(this.firestore,Wh(this._delegate,function(n){return MP("limit",n),new zP("limit",n,"F")}(t)))}catch(e){throw Bs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new js(this.firestore,Wh(this._delegate,function(n){return MP("limitToLast",n),new zP("limitToLast",n,"L")}(t)))}catch(e){throw Bs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new js(this.firestore,Wh(this._delegate,function(...n){return new WP("startAt",n,!0)}(...t)))}catch(e){throw Bs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new js(this.firestore,Wh(this._delegate,function(...n){return new WP("startAfter",n,!1)}(...t)))}catch(e){throw Bs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new js(this.firestore,Wh(this._delegate,function(...n){return new YP("endBefore",n,!0)}(...t)))}catch(e){throw Bs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new js(this.firestore,Wh(this._delegate,function(...n){return new YP("endAt",n,!1)}(...t)))}catch(e){throw Bs(e,"endAt()","Query.endAt()")}}isEqual(t){return OP(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=nn(n,ws);const t=nn(n.firestore,_r),e=yi(t),r=new dg(t);return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,c,f){try{const _=yield IT(o,c,!0),E=new dP(c,_.Gn),T=E.Io(_.documents),N=E.applyChanges(T,!1);f.resolve(N.snapshot)}catch(_){const E=Ty(_,`Failed to execute query '${c} against cache`);f.reject(E)}}),function(o,c,f){return r.apply(this,arguments)})(yield Rx(n),t,e);var r})),e.promise}(e,n._query).then(o=>new zh(t,r,n,o))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=nn(n,ws);const t=nn(n.firestore,_r),e=yi(t),r=new dg(t);return TP(e,n._query,{source:"server"}).then(o=>new zh(t,r,n,o))}(this._delegate):function(n){n=nn(n,ws);const t=nn(n.firestore,_r),e=yi(t),r=new dg(t);return ZP(n._query),TP(e,n._query).then(o=>new zh(t,r,n,o))}(this._delegate),e.then(r=>new zx(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=lF(t),r=cF(t,o=>new zx(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return rF(this._delegate,e,r)}withConverter(t){return new js(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}class SV{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new V1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new V1(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new SV(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new V1(this._firestore,r))})}isEqual(t){return qP(this._delegate,t._delegate)}}class Ry extends js{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ka(this.firestore,t):null}doc(t){try{return new ka(this.firestore,void 0===t?PT(this._delegate):PT(this._delegate,t))}catch(e){throw Bs(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=nn(n.firestore,_r),r=PT(n),o=jT(n.converter,t);return xy(e,[VT(ug(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new ka(this.firestore,e))}isEqual(t){return kP(this._delegate,t._delegate)}withConverter(t){return new Ry(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}function fg(n){return nn(n,Gn)}class Wx{constructor(...t){this._delegate=new id(...t)}static documentId(){return new Wx(Ai.keyField().canonicalString())}isEqual(t){return(t=(0,wt.m9)(t))instanceof id&&this._delegate._internalPath.isEqual(t._internalPath)}}class pg{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Lx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new pg(t)}static delete(){const t=new R1("deleteField");return t._methodName="FieldValue.delete",new pg(t)}static arrayUnion(...t){const e=function(...n){return new H2("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new pg(e)}static arrayRemove(...t){const e=function(...n){return new G2("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new pg(e)}static increment(t){const e=function(n){return new q2("increment",n)}(t);return e._methodName="FieldValue.increment",new pg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const NV={Firestore:oF,GeoPoint:FT,Timestamp:Wr,Blob:F1,Transaction:aF,WriteBatch:uF,DocumentReference:ka,DocumentSnapshot:L1,Query:js,QueryDocumentSnapshot:V1,QuerySnapshot:zx,CollectionReference:Ry,FieldPath:Wx,FieldValue:pg,setLogLevel:function(n){!function(n){qc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function dF(n,t){return function(n,t=Gd.z){return new Sn.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function Yx(n,t){return dF(n,t).pipe((0,ot.U)(e=>({payload:e,type:"query"})))}function HT(n,t){return Yx(n,t).pipe(oo(void 0),f_(),(0,ot.U)(([e,r])=>{const o=r.payload.docChanges(),c=o.map(f=>({type:f.type,payload:f}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,_)=>{const E=o.find(N=>N.doc.ref.isEqual(f.ref)),T=null==e?void 0:e.payload.docs.find(N=>N.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&T&&JSON.stringify(T.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),c}))}function hF(n,t,e){return HT(n,e).pipe(Hu((r,o)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Kx(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Kx(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Kx(n,t.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),t),[]),function(n,t){return e=>e.lift(new cw(n,t))}(),(0,ot.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Kx(n,t,e,...r){const o=n.slice();return o.splice(t,e,...r),o}function fF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new wn.wA("firestore-compat",e=>((t,e)=>new oF(t,e,new IV))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},NV)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(oN.Z);class pF{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=HT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ot.U)(r=>r.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(oo(void 0),f_(),hn(([r,o])=>o.length>0||!r),(0,ot.U)(([r,o])=>o),xr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Hu((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=fF(t);return hF(this.query,e,this.afs.schedulers.outsideAngular).pipe(xr.iC)}valueChanges(t={}){return Yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),xr.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(xr.iC)}add(t){return this.ref.add(t)}doc(t){return new gF(this.ref.doc(t),this.afs)}}class gF{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:o,query:c}=yF(r,e);return new pF(o,c,this.afs)}snapshotChanges(){return function(n,t){return dF(n,t).pipe(oo(void 0),f_(),(0,ot.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe(xr.iC)}}class FV{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?HT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),hn(e=>e.length>0),xr.iC):HT(this.query,this.afs.schedulers.outsideAngular).pipe(xr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Hu((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=fF(t);return hF(this.query,e,this.afs.schedulers.outsideAngular).pipe(xr.iC)}valueChanges(t={}){return Yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),xr.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(xr.iC)}}const mF=new u.OlP("angularfire2.enableFirestorePersistence"),_F=new u.OlP("angularfire2.firestore.persistenceSettings"),LV=new u.OlP("angularfire2.firestore.settings"),VV=new u.OlP("angularfire2.firestore.use-emulator");function yF(n,t=(e=>e)){return{query:t(n),ref:n}}let GT=(()=>{class n{constructor(e,r,o,c,f,_,E,T,N,R,U,q,he,Me,Ve,lt,Ct){this.schedulers=E;const pn=(0,_s.on)(e,_,r),$t=N;R&&hb(pn,_,U,he,Me,Ve,q,lt),[this.firestore,this.persistenceEnabled$]=(0,_s.cc)(`${pn.name}.firestore`,"AngularFirestore",pn.name,()=>{const Tn=_.runOutsideAngular(()=>pn.firestore());if(c&&Tn.settings(c),$t&&Tn.useEmulator(...$t),o&&!sa(f)){const $s=()=>{try{return(0,dn.D)(Tn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(qT){return"undefined"!=typeof console&&console.warn(qT),(0,qe.of)(!1)}};return[Tn,_.runOutsideAngular($s)]}return[Tn,(0,qe.of)(!1)]},[c,$t,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:f}=yF(o,r),_=this.schedulers.ngZone.run(()=>c);return new pF(_,f,this)}collectionGroup(e,r){const o=r||(f=>f),c=this.firestore.collectionGroup(e);return new FV(o(c),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new gF(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_s.Dh),u.LFG(_s.xv,8),u.LFG(mF,8),u.LFG(LV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(xr.HU),u.LFG(_F,8),u.LFG(VV,8),u.LFG(h_,8),u.LFG(nD,8),u.LFG(nN,8),u.LFG(rD,8),u.LFG(iD,8),u.LFG(Hc,8),u.LFG(rN,8),u.LFG(db,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UV=(()=>{class n{constructor(){eD.Z.registerVersion("angularfire",xr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:mF,useValue:!0},{provide:_F,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[GT]}),n})(),BV=(()=>{class n{constructor(e){this.afs=e,this.pacientesCollection=e.collection("pacientes"),this.encuestas=this.pacientesCollection.valueChanges()}registrarPaciente(e){return this.pacientesCollection=this.afs.collection("pacientes"),this.pacientesCollection.add(Object.assign({},e))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(GT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jV=(()=>{class n{constructor(e){this.afs=e,this.especialistasCollection=e.collection("especialistas"),this.especialistas=this.especialistasCollection.valueChanges()}registrarEspecialista(e){return this.especialistasCollection=this.afs.collection("especialistas"),this.especialistasCollection.add(Object.assign({},e))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(GT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$V=(()=>{class n{constructor(e){this.afs=e,this.especialidadesCollection=e.collection("especialidades"),this.encuestas=this.especialidadesCollection.valueChanges()}registrarEspecialidad(e){return this.especialidadesCollection=this.afs.collection("especialidades"),this.especialidadesCollection.add(Object.assign({},e))}traerEspecialidades(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(GT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HV(n,t){if(1&n&&(u.TgZ(0,"option",7),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.s9C("value",e),u.xp6(1),u.hij(" ",e," ")}}function GV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El Nombre es requerido."),u.qZA())}function qV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El apellido es requerido."),u.qZA())}function ZV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La edad es requerida."),u.qZA())}function zV(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"La edad minima es 18."),u.qZA())}function WV(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"La edad maxima es 99."),u.qZA())}function YV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El dni es requerido."),u.qZA())}function KV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La obraSocial es requerida."),u.qZA())}function JV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El email es requerido."),u.qZA())}function QV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La clave es requerida."),u.qZA())}function XV(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La imagen1 es requerida."),u.qZA())}function eU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La imagen2 es requerida."),u.qZA())}function tU(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"form",8),u.NdJ("ngSubmit",function(){return u.CHM(e),u.oxw(2).aceptarPaciente()}),u.TgZ(2,"div",9),u._UZ(3,"input",10),u.YNc(4,GV,2,0,"small",11),u.qZA(),u.TgZ(5,"div",9),u._UZ(6,"input",12),u.YNc(7,qV,2,0,"small",11),u.qZA(),u.TgZ(8,"div",9),u._UZ(9,"input",13),u.YNc(10,ZV,2,0,"small",11),u.YNc(11,zV,2,0,"small",14),u.YNc(12,WV,2,0,"small",14),u.qZA(),u.TgZ(13,"div",9),u._UZ(14,"input",15),u.YNc(15,YV,2,0,"small",11),u.qZA(),u.TgZ(16,"div",9),u._UZ(17,"input",16),u.YNc(18,KV,2,0,"small",11),u.qZA(),u.TgZ(19,"div",9),u._UZ(20,"input",17),u.YNc(21,JV,2,0,"small",11),u.qZA(),u.TgZ(22,"div",9),u._UZ(23,"input",18),u.YNc(24,QV,2,0,"small",11),u.qZA(),u.TgZ(25,"div",9),u._UZ(26,"input",19),u.YNc(27,XV,2,0,"small",11),u.qZA(),u.TgZ(28,"div",9),u._UZ(29,"input",20),u.YNc(30,eU,2,0,"small",11),u.qZA(),u.TgZ(31,"button",21),u._uU(32,"ENVIAR"),u.qZA(),u.qZA(),u._uU(33),u.qZA()}if(2&n){const e=u.oxw(2);let r,o,c,f,_,E,T,N,R,U,q;u.xp6(1),u.Q6J("formGroup",e.formulario),u.xp6(3),u.Q6J("ngIf",(null==(r=e.formulario.get("nombre"))?null:r.hasError("required"))&&(null==(r=e.formulario.get("nombre"))?null:r.touched)),u.xp6(3),u.Q6J("ngIf",(null==(o=e.formulario.get("apellido"))?null:o.hasError("apellido"))&&(null==(o=e.formulario.get("apellido"))?null:o.touched)),u.xp6(3),u.Q6J("ngIf",(null==(c=e.formulario.get("edad"))?null:c.hasError("required"))&&(null==(c=e.formulario.get("edad"))?null:c.touched)),u.xp6(1),u.Q6J("ngIf",(null==(f=e.formulario.get("edad"))?null:f.hasError("min"))&&(null==(f=e.formulario.get("edad"))?null:f.touched)),u.xp6(1),u.Q6J("ngIf",(null==(_=e.formulario.get("edad"))?null:_.hasError("max"))&&(null==(_=e.formulario.get("edad"))?null:_.touched)),u.xp6(3),u.Q6J("ngIf",(null==(E=e.formulario.get("dni"))?null:E.hasError("dni"))&&(null==(E=e.formulario.get("dni"))?null:E.touched)),u.xp6(3),u.Q6J("ngIf",(null==(T=e.formulario.get("obraSocial"))?null:T.hasError("obraSocial"))&&(null==(T=e.formulario.get("obraSocial"))?null:T.touched)),u.xp6(3),u.Q6J("ngIf",(null==(N=e.formulario.get("email"))?null:N.hasError("email"))&&(null==(N=e.formulario.get("email"))?null:N.touched)),u.xp6(3),u.Q6J("ngIf",(null==(R=e.formulario.get("clave"))?null:R.hasError("clave"))&&(null==(R=e.formulario.get("clave"))?null:R.touched)),u.xp6(3),u.Q6J("ngIf",(null==(U=e.formulario.get("imagen1"))?null:U.hasError("imagen1"))&&(null==(U=e.formulario.get("imagen1"))?null:U.touched)),u.xp6(3),u.Q6J("ngIf",(null==(q=e.formulario.get("imagen2"))?null:q.hasError("imagen2"))&&(null==(q=e.formulario.get("imagen2"))?null:q.touched)),u.xp6(1),u.Q6J("disabled",e.formulario.invalid),u.xp6(2),u.hij(" ",e.mensaje," ")}}function nU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El Nombre es requerido."),u.qZA())}function rU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El apellido es requerido."),u.qZA())}function iU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La edad es requerida."),u.qZA())}function sU(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"La edad minima es 18."),u.qZA())}function oU(n,t){1&n&&(u.TgZ(0,"small",23),u._uU(1,"La edad maxima es 99."),u.qZA())}function aU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El dni es requerido."),u.qZA())}function uU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"El email es requerido."),u.qZA())}function lU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La clave es requerida."),u.qZA())}function cU(n,t){1&n&&(u.TgZ(0,"small",22),u._uU(1,"La imagen1 es requerida."),u.qZA())}function dU(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"form",8),u.NdJ("ngSubmit",function(){return u.CHM(e),u.oxw(2).aceptarEspecialista()}),u.TgZ(2,"div",9),u._UZ(3,"input",24),u.YNc(4,nU,2,0,"small",11),u.qZA(),u.TgZ(5,"div",9),u._UZ(6,"input",12),u.YNc(7,rU,2,0,"small",11),u.qZA(),u.TgZ(8,"div",9),u._UZ(9,"input",13),u.YNc(10,iU,2,0,"small",11),u.YNc(11,sU,2,0,"small",14),u.YNc(12,oU,2,0,"small",14),u.qZA(),u.TgZ(13,"div",9),u._UZ(14,"input",15),u.YNc(15,aU,2,0,"small",11),u.qZA(),u.TgZ(16,"label"),u._uU(17,"Elegir una opcion: "),u.qZA(),u.TgZ(18,"select",25),u.TgZ(19,"option",26),u._uU(20,"Cardiologia"),u.qZA(),u.TgZ(21,"option"),u._uU(22,"Nutricion"),u.qZA(),u.qZA(),u._UZ(23,"br"),u.TgZ(24,"button",27),u._uU(25,"Crear especialidad"),u.qZA(),u._UZ(26,"br"),u.TgZ(27,"div",9),u._UZ(28,"input",17),u.YNc(29,uU,2,0,"small",11),u.qZA(),u.TgZ(30,"div",9),u._UZ(31,"input",18),u.YNc(32,lU,2,0,"small",11),u.qZA(),u.TgZ(33,"div",9),u._UZ(34,"input",19),u.YNc(35,cU,2,0,"small",11),u.qZA(),u.TgZ(36,"button",21),u._uU(37,"ENVIAR"),u.qZA(),u.qZA(),u._uU(38),u.TgZ(39,"div",28),u.TgZ(40,"div",29),u.TgZ(41,"div",30),u.TgZ(42,"div",31),u.TgZ(43,"h5",32),u._uU(44,"Nueva especialidad"),u.qZA(),u._UZ(45,"button",33),u.qZA(),u.TgZ(46,"div",34),u.TgZ(47,"form",8),u.NdJ("ngSubmit",function(){return u.CHM(e),u.oxw(2).aceptarEspecialidad()}),u.TgZ(48,"div",35),u.TgZ(49,"label",36),u._uU(50,"Especialidad:"),u.qZA(),u._UZ(51,"input",37),u.qZA(),u.qZA(),u.qZA(),u.TgZ(52,"div",38),u.TgZ(53,"button",39),u._uU(54,"Cancelar"),u.qZA(),u.TgZ(55,"button",40),u._uU(56,"Guardar"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&n){const e=u.oxw(2);let r,o,c,f,_,E,T,N,R;u.xp6(1),u.Q6J("formGroup",e.formularioEspecialista),u.xp6(3),u.Q6J("ngIf",(null==(r=e.formularioEspecialista.get("nombre_"))?null:r.hasError("required"))&&(null==(r=e.formularioEspecialista.get("nombre_"))?null:r.touched)),u.xp6(3),u.Q6J("ngIf",(null==(o=e.formularioEspecialista.get("apellido"))?null:o.hasError("apellido"))&&(null==(o=e.formularioEspecialista.get("apellido"))?null:o.touched)),u.xp6(3),u.Q6J("ngIf",(null==(c=e.formularioEspecialista.get("edad"))?null:c.hasError("required"))&&(null==(c=e.formularioEspecialista.get("edad"))?null:c.touched)),u.xp6(1),u.Q6J("ngIf",(null==(f=e.formularioEspecialista.get("edad"))?null:f.hasError("min"))&&(null==(f=e.formularioEspecialista.get("edad"))?null:f.touched)),u.xp6(1),u.Q6J("ngIf",(null==(_=e.formularioEspecialista.get("edad"))?null:_.hasError("max"))&&(null==(_=e.formularioEspecialista.get("edad"))?null:_.touched)),u.xp6(3),u.Q6J("ngIf",(null==(E=e.formularioEspecialista.get("dni"))?null:E.hasError("dni"))&&(null==(E=e.formularioEspecialista.get("dni"))?null:E.touched)),u.xp6(14),u.Q6J("ngIf",(null==(T=e.formularioEspecialista.get("email"))?null:T.hasError("email"))&&(null==(T=e.formularioEspecialista.get("email"))?null:T.touched)),u.xp6(3),u.Q6J("ngIf",(null==(N=e.formularioEspecialista.get("clave"))?null:N.hasError("clave"))&&(null==(N=e.formularioEspecialista.get("clave"))?null:N.touched)),u.xp6(3),u.Q6J("ngIf",(null==(R=e.formularioEspecialista.get("imagen1"))?null:R.hasError("imagen1"))&&(null==(R=e.formularioEspecialista.get("imagen1"))?null:R.touched)),u.xp6(1),u.Q6J("disabled",e.formularioEspecialista.invalid),u.xp6(2),u.hij(" ",e.mensaje," "),u.xp6(9),u.Q6J("formGroup",e.formulario_Especialidad),u.xp6(8),u.Q6J("disabled",e.formulario_Especialidad.invalid)}}function hU(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,tU,34,14,"div",6),u.YNc(2,dU,57,14,"div",6),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngIf",e.paciente&&null!=e.paciente),u.xp6(1),u.Q6J("ngIf",!e.paciente&&null!=e.paciente)}}const fU=[{path:"",component:IS},{path:"registro",component:(()=>{class n{constructor(e,r,o,c,f,_,E){this.fb=e,this.fbesp=r,this.router=o,this.pacienteSrv=c,this.especialistasSrv=f,this.especialidadesSrv=_,this.authSrv=E,this.tipoUsuario=["Especialista","Paciente"],this.opcionSeleccionado="0",this.verSeleccion="",this.completarForm=!0,this.mensaje="",this.paciente=null,this.formulario=e.group({nombre:["",[Ut.required]],apellido:["",[Ut.required]],edad:["",[Ut.required,Ut.min(18),Ut.max(99)]],dni:["",[Ut.required,Ut.pattern("^[0-9]*$"),Ut.maxLength(10),Ut.minLength(10)]],obraSocial:["",Ut.required],email:["",[Ut.required,Ut.email]],clave:["",Ut.required],imagen1:["",Ut.required],imagen2:["",Ut.required]}),this.formularioEspecialista=r.group({nombre_:["",[Ut.required]],apellido:["",[Ut.required]],edad:["",[Ut.required,Ut.min(18),Ut.max(99)]],dni:["",[Ut.required,Ut.pattern("^[0-9]*$"),Ut.maxLength(10),Ut.minLength(10)]],especialidad:["",Ut.required],email:["",[Ut.required,Ut.email]],clave:["",Ut.required],imagen1:["",Ut.required]}),this.formulario_Especialidad=e.group({nombre:["",[Ut.required]]})}ngOnInit(){}capturar(){this.verSeleccion=this.opcionSeleccionado,this.paciente="Paciente"==this.verSeleccion}aceptarPaciente(){var e=this;return(0,ve.Z)(function*(){const r=e.formulario.value;e.completarForm=!1;let o={nombre:r.nombre,apellido:r.apellido,edad:r.edad,dni:r.dni,email:r.email,obraSocial:r.obraSocial,clave:r.clave,imagen1:r.imagen1,imagen2:r.imagen2,perfil:"paciente"};try{(yield e.authSrv.registerUser(o.email,o.clave))&&e.pacienteSrv.registrarPaciente(o).then(f=>{console.log(o),e.mensaje="Usuario creado"})}catch(c){console.log(c),e.mensaje=""+c}})()}aceptarEspecialista(){var e=this;return(0,ve.Z)(function*(){const r=e.formularioEspecialista.value;e.completarForm=!1;let o={nombre:r.nombre_,apellido:r.apellido,edad:r.edad,dni:r.dni,email:r.email,especialidad:r.especialidad,clave:r.clave,imagen1:r.imagen1,perfil:"especialista",estado:"pendiente"};try{(yield e.authSrv.registerUser(o.email,o.clave))&&e.especialistasSrv.registrarEspecialista(o).then(f=>{console.log(o),e.mensaje="Usuario creado"})}catch(c){console.log(c),e.mensaje=""+c}})()}aceptarEspecialidad(){const e=this.formulario_Especialidad.value;this.completarForm=!1;let r={nombre:e.nombre};this.especialidadesSrv.registrarEspecialidad(r).then(o=>{console.log(r),this.mensaje="Especialidad creada"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Kv),u.Y36(Kv),u.Y36(Di),u.Y36(BV),u.Y36(jV),u.Y36($V),u.Y36(fb))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro"]],decls:13,vars:3,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[3,"ngModel","ngModelChange","change"],["selected","","value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","nombre","placeholder","Nombre",1,"fadeIn","second"],["class","form-text text-muted",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"fadeIn","second"],["type","number","formControlName","edad","placeholder","Edad",1,"fadeIn","second"],["id","edadHelp2","class","form-text text-muted",4,"ngIf"],["type","number","formControlName","dni","placeholder","DNI",1,"fadeIn","second"],["type","text","formControlName","obraSocial","placeholder","Obra social",1,"fadeIn","second"],["type","email","formControlName","email","placeholder","Email",1,"fadeIn","second"],["type","password","formControlName","clave","placeholder","Clave",1,"fadeIn","third"],["type","text","formControlName","imagen1","placeholder","Imagen",1,"fadeIn","second"],["type","text","formControlName","imagen2","placeholder","Imagen",1,"fadeIn","second"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"form-text","text-muted"],["id","edadHelp2",1,"form-text","text-muted"],["type","text","formControlName","nombre_","placeholder","Nombre",1,"fadeIn","second"],["name","especialidad","formControlName","especialidad"],["selected",""],["type","button","data-bs-toggle","modal","data-bs-target","exampleModal",1,"btn","btn-primary"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","nombre",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h2",2),u._uU(3," Registro"),u.qZA(),u._UZ(4,"br"),u.TgZ(5,"label"),u._uU(6,"\xbfQue tipo de usuario esta por registrar?"),u.qZA(),u.TgZ(7,"select",3),u.NdJ("ngModelChange",function(c){return r.opcionSeleccionado=c})("change",function(){return r.capturar()}),u.TgZ(8,"option",4),u._uU(9,"Elegir opcion"),u.qZA(),u.YNc(10,HV,2,2,"option",5),u.qZA(),u._UZ(11,"br"),u.YNc(12,hU,3,2,"div",6),u.qZA(),u.qZA()),2&e&&(u.xp6(7),u.Q6J("ngModel",r.opcionSeleccionado),u.xp6(3),u.Q6J("ngForOf",r.tipoUsuario),u.xp6(2),u.Q6J("ngIf",null!=r.paciente))},directives:[Tm,Nv,Vv,qv,Zv,bt,Cn,Uv,pm,Yd,Ec,Zf,Bv],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:40%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})()},{path:"login",component:sN},{path:"homeAdmin",component:r_}];let pU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ov.forRoot(fU)],ov]}),n})(),gU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar","navbar-light",2,"background-color","#e3f2fd"],[1,"nav","justify-content-end"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","registro",1,"nav-link"],["href","login",1,"nav-link"],["href","#","tabindex","-1","aria-disabled","true",1,"nav-link","disabled"]],template:function(e,r){1&e&&(u.TgZ(0,"nav",0),u.TgZ(1,"ul",1),u.TgZ(2,"li",2),u.TgZ(3,"a",3),u._uU(4,"Inicio"),u.qZA(),u.qZA(),u.TgZ(5,"li",2),u.TgZ(6,"a",4),u._uU(7,"Registro"),u.qZA(),u.qZA(),u.TgZ(8,"li",2),u.TgZ(9,"a",5),u._uU(10,"Login"),u.qZA(),u.qZA(),u.TgZ(11,"li",2),u.TgZ(12,"a",6),u._uU(13,"Disabled"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[zm],styles:[""]}),n})(),mU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:12,vars:0,consts:[["data-stellar-background-ratio","5"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-12","border-top"],[1,"col-md-4","col-sm-6"],[1,"copyright-text"],[1,"col-md-2","col-sm-2","text-align-center"],[1,"angle-up-btn"],["href","#top","data-wow-delay","1.2s",1,"smoothScroll","wow","fadeInUp"],[1,"fa","fa-angle-up"]],template:function(e,r){1&e&&(u.TgZ(0,"footer",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"p"),u._uU(7,"Copyright \xa9 2018 Your Company | Design: Tooplate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"div",7),u.TgZ(10,"a",8),u._UZ(11,"i",9),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[""]}),n})(),_U=(()=>{class n{constructor(){this.title="ClinicaTP"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&(u._UZ(0,"app-navbar"),u._UZ(1,"router-outlet"),u._UZ(2,"app-footer"))},directives:[gU,Hd,mU],styles:[""]}),n})();const vF_firebase={apiKey:"AIzaSyC22xa6jkjuAokYLpk6-yxGZqDPLCbGz7Q",authDomain:"tpclinica-282c4.firebaseapp.com",projectId:"tpclinica-282c4",storageBucket:"tpclinica-282c4.appspot.com",messagingSenderId:"280488327089",appId:"1:280488327089:web:5dd19cb67214056891af90"};let yU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[_U]}),n.\u0275inj=u.cJS({providers:[],imports:[[lr,nf,pU,$w,Hw,_s.hO.initializeApp(vF_firebase),Fk,UV,DS]]}),n})();(0,u.G48)(),Mo().bootstrapModule(yU).catch(n=>console.error(n))},4762:(We,be,F)=>{"use strict";function fe(ie,ue){var _e={};for(var le in ie)Object.prototype.hasOwnProperty.call(ie,le)&&ue.indexOf(le)<0&&(_e[le]=ie[le]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(le=Object.getOwnPropertySymbols(ie);Pe<le.length;Pe++)ue.indexOf(le[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ie,le[Pe])&&(_e[le[Pe]]=ie[le[Pe]])}return _e}function Y(ie,ue,_e,le){return new(_e||(_e=Promise))(function(ge,ct){function Zt(_t){try{mt(le.next(_t))}catch(yt){ct(yt)}}function En(_t){try{mt(le.throw(_t))}catch(yt){ct(yt)}}function mt(_t){_t.done?ge(_t.value):function(ge){return ge instanceof _e?ge:new _e(function(ct){ct(ge)})}(_t.value).then(Zt,En)}mt((le=le.apply(ie,ue||[])).next())})}function j(ie,ue){var le,Pe,ge,ct,_e={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return ct={next:Zt(0),throw:Zt(1),return:Zt(2)},"function"==typeof Symbol&&(ct[Symbol.iterator]=function(){return this}),ct;function Zt(mt){return function(_t){return function(mt){if(le)throw new TypeError("Generator is already executing.");for(;_e;)try{if(le=1,Pe&&(ge=2&mt[0]?Pe.return:mt[0]?Pe.throw||((ge=Pe.return)&&ge.call(Pe),0):Pe.next)&&!(ge=ge.call(Pe,mt[1])).done)return ge;switch(Pe=0,ge&&(mt=[2&mt[0],ge.value]),mt[0]){case 0:case 1:ge=mt;break;case 4:return _e.label++,{value:mt[1],done:!1};case 5:_e.label++,Pe=mt[1],mt=[0];continue;case 7:mt=_e.ops.pop(),_e.trys.pop();continue;default:if(!(ge=(ge=_e.trys).length>0&&ge[ge.length-1])&&(6===mt[0]||2===mt[0])){_e=0;continue}if(3===mt[0]&&(!ge||mt[1]>ge[0]&&mt[1]<ge[3])){_e.label=mt[1];break}if(6===mt[0]&&_e.label<ge[1]){_e.label=ge[1],ge=mt;break}if(ge&&_e.label<ge[2]){_e.label=ge[2],_e.ops.push(mt);break}ge[2]&&_e.ops.pop(),_e.trys.pop();continue}mt=ue.call(ie,_e)}catch(_t){mt=[6,_t],Pe=0}finally{le=ge=0}if(5&mt[0])throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}([mt,_t])}}}function $(ie){var ue="function"==typeof Symbol&&Symbol.iterator,_e=ue&&ie[ue],le=0;if(_e)return _e.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&le>=ie.length&&(ie=void 0),{value:ie&&ie[le++],done:!ie}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(ie,ue){var _e="function"==typeof Symbol&&ie[Symbol.iterator];if(!_e)return ie;var Pe,ct,le=_e.call(ie),ge=[];try{for(;(void 0===ue||ue-- >0)&&!(Pe=le.next()).done;)ge.push(Pe.value)}catch(Zt){ct={error:Zt}}finally{try{Pe&&!Pe.done&&(_e=le.return)&&_e.call(le)}finally{if(ct)throw ct.error}}return ge}function Ce(ie,ue,_e){if(_e||2===arguments.length)for(var ge,le=0,Pe=ue.length;le<Pe;le++)(ge||!(le in ue))&&(ge||(ge=Array.prototype.slice.call(ue,0,le)),ge[le]=ue[le]);return ie.concat(ge||Array.prototype.slice.call(ue))}F.d(be,{_T:()=>fe,mG:()=>Y,Jh:()=>j,XA:()=>$,CR:()=>ae,ev:()=>Ce})},8239:(We,be,F)=>{"use strict";function u(L,fe,re,J,se,Y,j){try{var P=L[Y](j),V=P.value}catch($){return void re($)}P.done?fe(V):Promise.resolve(V).then(J,se)}function te(L){return function(){var fe=this,re=arguments;return new Promise(function(J,se){var Y=L.apply(fe,re);function j(V){u(Y,J,se,j,P,"next",V)}function P(V){u(Y,J,se,j,P,"throw",V)}j(void 0)})}}F.d(be,{Z:()=>te})}},We=>{We(We.s=6923)}]);