(self.webpackChunkclinica_tp=self.webpackChunkclinica_tp||[]).push([[179],{8255:Ye=>{function we(F){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+F+"'");throw l.code="MODULE_NOT_FOUND",l})}we.keys=()=>[],we.resolve=we,we.id=8255,Ye.exports=we},7716:(Ye,we,F)=>{"use strict";F.d(we,{deG:()=>Yf,tb:()=>Aw,AFp:()=>Sw,ip1:()=>as,CZH:()=>hf,hGG:()=>sT,z2F:()=>Ef,sBO:()=>uD,Sil:()=>_f,_Vd:()=>ud,EJc:()=>Qt,SBq:()=>za,qLn:()=>g,vpe:()=>Ka,gxx:()=>xu,tBr:()=>Ml,XFs:()=>Ke,OlP:()=>vn,zs3:()=>qn,ZZ4:()=>Kp,aQg:()=>Db,soG:()=>ju,YKP:()=>dD,v3s:()=>Og,h0i:()=>Ou,PXZ:()=>Kl,R0b:()=>As,FiY:()=>Ao,Lbi:()=>Nt,g9A:()=>Lr,Qsj:()=>eD,FYo:()=>$_,JOm:()=>Ds,Tiy:()=>Eb,q3G:()=>Fn,tp0:()=>Sr,EAV:()=>tT,Rgc:()=>zh,dDg:()=>vf,DyG:()=>ws,q4F:()=>G_,GfV:()=>CA,s_b:()=>q_,ifc:()=>Ue,eFA:()=>Td,G48:()=>AN,Gpc:()=>B,X6Q:()=>kw,_c5:()=>Ei,VLi:()=>Iy,c2e:()=>Nw,zSh:()=>zc,wAp:()=>ut,vHH:()=>Ae,EiD:()=>Pc,mCW:()=>yu,qzn:()=>xc,JVY:()=>bm,pB0:()=>Pl,eBb:()=>Rc,L6k:()=>ip,LAX:()=>ia,cg1:()=>A_,Tjo:()=>VN,kL8:()=>SC,yhl:()=>La,dqk:()=>nn,sIi:()=>Lp,CqO:()=>xr,QGY:()=>$0,F4k:()=>iC,RDi:()=>Wd,AaK:()=>K,z3N:()=>ra,qOj:()=>SE,TTD:()=>gr,_Bn:()=>WC,xp6:()=>W1,uIk:()=>R0,Tol:()=>K0,DjV:()=>wC,ekj:()=>D_,Suo:()=>dw,Xpm:()=>Hr,lG2:()=>nu,Yz7:()=>tn,cJS:()=>xt,oAB:()=>ga,Yjl:()=>lo,Y36:()=>Up,_UZ:()=>nC,BQk:()=>H0,ynx:()=>j0,qZA:()=>B0,TgZ:()=>U0,EpF:()=>rC,n5z:()=>Cc,Ikx:()=>TC,SDv:()=>Zh,QtT:()=>V_,pQV:()=>L_,LFG:()=>bn,$8M:()=>sh,NdJ:()=>Jc,CRH:()=>cy,oxw:()=>Qc,ALo:()=>mg,lcZ:()=>ow,Hsn:()=>sC,F$t:()=>G0,Q6J:()=>L0,s9C:()=>Ru,MGl:()=>v_,VKq:()=>tw,WLB:()=>pg,kEZ:()=>rf,iGM:()=>uy,MAs:()=>$E,CHM:()=>lc,LSH:()=>bh,kYT:()=>tu,Udp:()=>Y0,YNc:()=>HE,W1O:()=>vg,_uU:()=>mr,Oqu:()=>S_,hij:()=>td,Gf:()=>cw});var l=F(9765),ne=F(5319),L=F(7574),he=F(6682),ie=F(8819);function Q(i){for(let s in i)if(i[s]===Q)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function H(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const P=Q({__forward_ref__:Q});function B(i){return i.__forward_ref__=B,i.toString=function(){return K(this())},i}function $(i){return le(i)?i():i}function le(i){return"function"==typeof i&&i.hasOwnProperty(P)&&i.__forward_ref__===B}class Ae extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}function Tt(i,s){const a=s?` in ${s}`:"";throw new Ae("201",`No provider for ${re(i)} found${a}`)}function vt(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function tn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function xt(i){return{providers:i.providers||[],imports:i.imports||[]}}function hr(i){return sr(i,Os)||sr(i,Bi)}function sr(i,s){return i.hasOwnProperty(s)?i[s]:null}function ao(i){return i&&(i.hasOwnProperty(ri)||i.hasOwnProperty(Ps))?i[ri]:null}const Os=Q({\u0275prov:Q}),ri=Q({\u0275inj:Q}),Bi=Q({ngInjectableDef:Q}),Ps=Q({ngInjectorDef:Q});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let Mn;function si(i){const s=Mn;return Mn=i,s}function ot(i,s,a){const u=hr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ke.Optional?null:void 0!==s?s:void Tt(K(i),"Injector")}function jt(i){return{toString:i}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),Ue=(()=>((Ue=Ue||{})[Ue.Emulated=0]="Emulated",Ue[Ue.None=2]="None",Ue[Ue.ShadowDom=3]="ShadowDom",Ue))();const rt="undefined"!=typeof globalThis&&globalThis,Ti="undefined"!=typeof window&&window,us="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nn=rt||"undefined"!=typeof global&&global||Ti||us,Z={},q=[],z=Q({\u0275cmp:Q}),Te=Q({\u0275dir:Q}),ae=Q({\u0275pipe:Q}),ze=Q({\u0275mod:Q}),ft=Q({\u0275loc:Q}),Ut=Q({\u0275fac:Q}),rn=Q({__NG_ELEMENT_ID__:Q});let hn=0;function Hr(i){return jt(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ue.Emulated,id:"c",styles:i.styles||q,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,_=i.pipes;return u.id+=hn++,u.inputs=tl(i.inputs,a),u.outputs=tl(i.outputs),f&&f.forEach(y=>y(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Xn):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(ai):null,u})}function Xn(i){return or(i)||function(i){return i[Te]||null}(i)}function ai(i){return function(i){return i[ae]||null}(i)}const el={};function ga(i){return jt(()=>{const s={type:i.type,bootstrap:i.bootstrap||q,declarations:i.declarations||q,imports:i.imports||q,exports:i.exports||q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(el[i.id]=i.type),s})}function tu(i,s){return jt(()=>{const a=Hi(i,!0);a.declarations=s.declarations||q,a.imports=s.imports||q,a.exports=s.exports||q})}function tl(i,s){if(null==i)return Z;const a={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=u,s&&(s[d]=f)}return a}const nu=Hr;function lo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function or(i){return i[z]||null}function Hi(i,s){const a=i[ze]||null;if(!a&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return a}function ds(i){return Array.isArray(i)&&"object"==typeof i[1]}function Cr(i){return Array.isArray(i)&&!0===i[1]}function iu(i){return 0!=(8&i.flags)}function su(i){return 2==(2&i.flags)}function pr(i){return 1==(1&i.flags)}function qr(i){return null!==i.template}function jn(i){return 0!=(512&i[2])}function Vs(i,s){return i.hasOwnProperty(Ut)?i[Ut]:null}class Zd{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function gr(){return po}function po(i){return i.type.prototype.ngOnChanges&&(i.setInput=go),am}function am(){const i=sc(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Z)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function go(i,s,a,u){const d=sc(i)||function(i,s){return i[qi]=s}(i,{previous:Z,current:null}),f=d.current||(d.current={}),_=d.previous,y=this.declaredInputs[a],E=_[y];f[y]=new Zd(E&&E.currentValue,s,_===Z),i[u]=s}gr.ngInherit=!0;const qi="__ngSimpleChanges__";function sc(i){return i[qi]||null}let al;function Wd(i){al=i}function mo(){return void 0!==al?al:"undefined"!=typeof document?document:void 0}function ln(i){return!!i.listen}const zi={createRenderer:(i,s)=>mo()};function un(i){for(;Array.isArray(i);)i=i[0];return i}function _o(i,s){return un(s[i])}function Dr(i,s){return un(s[i.index])}function au(i,s){return i.data[s]}function fs(i,s){return i[s]}function Zr(i,s){const a=s[i];return ds(a)?a:a[0]}function dl(i){return 4==(4&i[2])}function ac(i){return 128==(128&i[2])}function Us(i,s){return null==s?null:i[s]}function Ca(i){i[18]=0}function vo(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const lt={lFrame:Qd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fl(){return lt.bindingsEnabled}function Ne(){return lt.lFrame.lView}function At(){return lt.lFrame.tView}function lc(i){return lt.lFrame.contextLView=i,i[8]}function sn(){let i=uc();for(;null!==i&&64===i.type;)i=i.parent;return i}function uc(){return lt.lFrame.currentTNode}function ps(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Ii(i,s){const a=lt.lFrame;a.currentTNode=i,a.isParent=s}function uu(){return lt.lFrame.isParent}function Da(){lt.lFrame.isParent=!1}function Ta(){return lt.isInCheckNoChangesMode}function Ia(i){lt.isInCheckNoChangesMode=i}function xn(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Si(){return lt.lFrame.bindingIndex}function bo(){return lt.lFrame.bindingIndex++}function Tr(i){const s=lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Sa(i){lt.lFrame.inI18n=i}function cc(i,s){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,dc(s)}function dc(i){lt.lFrame.currentDirectiveIndex=i}function Jd(){return lt.lFrame.currentQueryIndex}function ml(i){lt.lFrame.currentQueryIndex=i}function _l(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function yl(i,s,a){if(a&Ke.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=_l(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const u=lt.lFrame=Zo();return u.currentTNode=s,u.lView=i,!0}function vl(i){const s=Zo(),a=i[1];lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Zo(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?Qd(i):s}function Qd(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Xd(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const eh=Xd;function zo(){const i=Xd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return lt.lFrame.selectedIndex}function bl(i){lt.lFrame.selectedIndex=i}function Hn(){const i=lt.lFrame;return au(i.tView,i.selectedIndex)}function Aa(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:S}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Na(i,s,a){gc(i,s,3,a)}function wl(i,s,a,u){(3&i[2])===a&&gc(i,s,a,u)}function $n(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function gc(i,s,a,u){const f=null!=u?u:-1,_=s.length-1;let y=0;for(let E=void 0!==u?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=u&&y>=u)break}else s[E]<0&&(i[18]+=65536),(y<f||-1==f)&&(mc(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function mc(i,s,a,u){const d=a[u]<0,f=a[u+1],y=i[d?-a[u]:a[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class cu{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function _s(i,s,a){const u=ln(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const _=a[d++],y=a[d++],E=a[d++];u?i.setAttribute(s,y,E,_):s.setAttributeNS(_,y,E)}else{const _=f,y=a[++d];ys(_)?u&&i.setProperty(s,_,y):u?i.setAttribute(s,_,y):s.setAttribute(_,y),d++}}return d}function nh(i){return 3===i||4===i||6===i}function ys(i){return 64===i.charCodeAt(0)}function Hs(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||rh(i,a,d,null,-1===a||2===a?s[++u]:null)}}return i}function rh(i,s,a,u,d){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){_=-1;break}if(y>s){_=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===u)return void(null!==d&&(i[f+1]=d));if(u===i[f+1])return void(i[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==d&&i.splice(f++,0,d)}function En(i){return-1!==i}function $s(i){return 32767&i}function Yo(i,s){let a=function(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Cl=!0;function Ma(i){const s=Cl;return Cl=i,s}let bc=0;function Gs(i,s){const a=Kt(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Ko(u.data,i),Ko(s,null),Ko(u.blueprint,null));const d=Ge(i,s),f=i.injectorIndex;if(En(d)){const _=$s(d),y=Yo(d,s),E=y[1].data;for(let D=0;D<8;D++)s[f+D]=y[_+D]|E[_+D]}return s[f+8]=d,f}function Ko(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Kt(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ge(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){const f=d[1],_=f.type;if(u=2===_?f.declTNode:1===_?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function qt(i,s,a){!function(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(rn)&&(u=a[rn]),null==u&&(u=a[rn]=bc++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function yn(i,s,a){if(a&Ke.Optional)return i;Tt(s,"NodeInjector")}function wo(i,s,a,u){if(a&Ke.Optional&&void 0===u&&(u=null),0==(a&(Ke.Self|Ke.Host))){const d=i[9],f=si(void 0);try{return d?d.get(s,u,a&Ke.Optional):ot(s,u,a&Ke.Optional)}finally{si(f)}}return yn(u,s,a)}function qs(i,s,a,u=Ke.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(rn)?i[rn]:void 0;return"number"==typeof s?s>=0?255&s:Tl:s}(a);if("function"==typeof f){if(!yl(s,i,u))return u&Ke.Host?yn(d,a,u):wo(s,a,u,d);try{const _=f(u);if(null!=_||u&Ke.Optional)return _;Tt(a)}finally{eh()}}else if("number"==typeof f){let _=null,y=Kt(i,s),E=-1,D=u&Ke.Host?s[16][6]:null;for((-1===y||u&Ke.SkipSelf)&&(E=-1===y?Ge(i,s):s[y+8],-1!==E&&Il(u,!1)?(_=s[1],y=$s(E),s=Yo(E,s)):y=-1);-1!==y;){const S=s[1];if(xa(f,y,S.data)){const R=yv(y,s,a,_,u,D);if(R!==Rn)return R}E=s[y+8],-1!==E&&Il(u,s[1].data[y+8]===D)&&xa(f,y,s)?(_=S,y=$s(E),s=Yo(E,s)):y=-1}}}return wo(s,a,u,d)}const Rn={};function Tl(){return new vs(sn(),Ne())}function yv(i,s,a,u,d,f){const _=s[1],y=_.data[i+8],S=Eo(y,_,a,null==u?su(y)&&Cl:u!=_&&0!=(3&y.type),d&Ke.Host&&f===y);return null!==S?Cn(s,_,S,y):Rn}function Eo(i,s,a,u,d){const f=i.providerIndexes,_=s.data,y=1048575&f,E=i.directiveStart,S=f>>20,O=d?y+S:i.directiveEnd;for(let G=u?y:y+S;G<O;G++){const W=_[G];if(G<E&&a===W||G>=E&&W.type===a)return G}if(d){const G=_[E];if(G&&qr(G)&&G.type===a)return E}return null}function Cn(i,s,a,u){let d=i[a];const f=s.data;if(function(i){return i instanceof cu}(d)){const _=d;_.resolving&&function(i,s){throw new Ae("200",`Circular dependency in DI detected for ${i}`)}(re(f[a]));const y=Ma(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?si(_.injectImpl):null;yl(i,u,Ke.Default);try{d=i[a]=_.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function(i,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(u){const _=po(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==E&&si(E),Ma(y),_.resolving=!1,eh()}}return d}function xa(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Il(i,s){return!(i&Ke.Self||i&Ke.Host&&s)}class vs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a){return qs(this._tNode,this._lView,s,void 0,a)}}function Cc(i){return jt(()=>{const s=i.prototype.constructor,a=s[Ut]||Ra(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const f=d[Ut]||Ra(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ra(i){return le(i)?()=>{const s=Ra($(i));return s&&s()}:Vs(i)}function sh(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const f=a[d];if(nh(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(sn(),i)}const Ai="__parameters__";function bs(i,s,a){return jt(()=>{const u=function(i){return function(...a){if(i){const u=i(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return y.annotation=_,y;function y(E,D,S){const R=E.hasOwnProperty(Ai)?E[Ai]:Object.defineProperty(E,Ai,{value:[]})[Ai];for(;R.length<=S;)R.push(null);return(R[S]=R[S]||[]).push(_),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class vn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yf=new vn("AnalyzeForEntryComponents"),ws=Function;function Ji(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Ji(u,s)):s!==i&&s.push(u)}return s}function Es(i,s){i.forEach(a=>Array.isArray(a)?Es(a,s):s(a))}function Qo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function di(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Zs(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function kn(i,s,a){let u=So(i,s);return u>=0?i[1|u]=a:(u=~u,function(i,s,a,u){let d=i.length;if(d==s)i.push(a,u);else if(1===d)i.push(u,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function On(i,s){const a=So(i,s);if(a>=0)return i[1|a]}function So(i,s){return function(i,s,a){let u=0,d=i.length>>a;for(;d!==u;){const f=u+(d-u>>1),_=i[f<<a];if(s===_)return f<<a;_>s?d=f:u=f+1}return~(d<<a)}(i,s,1)}const Lt={},Jt="__NG_DI_FLAG__",Pn="ngTempTokenPath",tr=/\n/gm,Nl="__source",Ni=Q({provide:String,useValue:Q});let fi;function pt(i){const s=fi;return fi=i,s}function Qf(i,s=Ke.Default){if(void 0===fi)throw new Error("inject() must be called from an injection context");return null===fi?ot(i,void 0,s):fi.get(i,s&Ke.Optional?null:void 0,s)}function bn(i,s=Ke.Default){return(Mn||Qf)($(i),s)}function Fa(i){const s=[];for(let a=0;a<i.length;a++){const u=$(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,f=Ke.Default;for(let _=0;_<u.length;_++){const y=u[_],E=fm(y);"number"==typeof E?-1===E?d=y.token:f|=E:d=y}s.push(bn(d,f))}else s.push(bn(u))}return s}function Dc(i,s){return i[Jt]=s,i.prototype[Jt]=s,i}function fm(i){return i[Jt]}function Qi(i,s,a,u){const d=i[Pn];throw s[Nl]&&d.unshift(s[Nl]),i.message=function(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=K(s);if(Array.isArray(s))d=s.map(K).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let y=s[_];f.push(_+":"+("string"==typeof y?JSON.stringify(y):K(y)))}d=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${i.replace(tr,"\n  ")}`}("\n"+i.message,d,a,u),i.ngTokenPath=d,i[Pn]=null,i}const Ml=Dc(bs("Inject",i=>({token:i})),-1),Ao=Dc(bs("Optional"),8),Sr=Dc(bs("SkipSelf"),4);let mu;function ta(i){var s;return(null===(s=function(){if(void 0===mu&&(mu=null,nn.trustedTypes))try{mu=nn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return mu}())||void 0===s?void 0:s.createHTML(i))||i}class na{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ev extends na{getTypeName(){return"HTML"}}class vm extends na{getTypeName(){return"Style"}}class Mc extends na{getTypeName(){return"Script"}}class Cv extends na{getTypeName(){return"URL"}}class Dv extends na{getTypeName(){return"ResourceURL"}}function ra(i){return i instanceof na?i.changingThisBreaksApplicationSecurity:i}function xc(i,s){const a=La(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function La(i){return i instanceof na&&i.getTypeName()||null}function bm(i){return new Ev(i)}function ip(i){return new vm(i)}function Rc(i){return new Mc(i)}function ia(i){return new Cv(i)}function Pl(i){return new Dv(i)}function sp(i){const s=new op(i);return function(){try{return!!(new window.DOMParser).parseFromString(ta(""),"text/html")}catch(i){return!1}}()?new wm(s):s}class wm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ta(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class op{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ta(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ta(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Em=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yu(i){return(i=String(i)).match(Em)||i.match(mh)?i:"unsafe:"+i}function _h(i){return(i=String(i)).split(",").map(s=>yu(s.trim())).join(", ")}function zs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Fl(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const kc=zs("area,br,col,hr,img,wbr"),yh=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oc=zs("rp,rt"),ap=Fl(kc,Fl(yh,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fl(Oc,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fl(Oc,yh)),vu=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),No=zs("srcset"),lp=Fl(vu,No,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sm=zs("script,style,template");class up{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!ap.hasOwnProperty(a))return this.sanitizedSomething=!0,!Sm.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const f=u.item(d),_=f.name,y=_.toLowerCase();if(!lp.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=f.value;vu[y]&&(E=yu(E)),No[y]&&(E=_h(E)),this.buf.push(" ",_,'="',Am(E),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();ap.hasOwnProperty(a)&&!kc.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Am(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Sv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Av=/([^\#-~ |!])/g;function Am(i){return i.replace(/&/g,"&amp;").replace(Sv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Av,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Va;function Pc(i,s){let a=null;try{Va=Va||sp(i);let u=s?String(s):"";a=Va.getInertBodyElement(u);let d=5,f=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=f,f=a.innerHTML,a=Va.getInertBodyElement(u)}while(u!==f);return ta((new up).sanitizeChildren(vh(a)||a))}finally{if(a){const u=vh(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function vh(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function bh(i){const s=function(){const i=Ne();return i&&i[12]}();return s?s.sanitize(Fn.URL,i)||"":xc(i,"URL")?ra(i):yu(X(i))}const Ll="__ngContext__";function Nr(i,s){i[Ll]=s}function Ch(i){const s=function(i){return i[Ll]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Bl(i){return i.ngOriginalError}function p(i,...s){i.error(...s)}class g{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=this._findContext(s),d=(i=s)&&i.ngErrorLogger||p;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(Bl(s)):null}_findOriginalError(s){let a=s&&Bl(s);for(;a&&Bl(a);)a=Bl(a);return a||null}}const k=/^>|^->|<!--|-->|--!>|<!-$/g,J=/(<|>)/;const mp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nn))();function Ws(i){return i instanceof Function?i():i}var Ds=(()=>((Ds=Ds||{})[Ds.Important=1]="Important",Ds[Ds.DashCase=2]="DashCase",Ds))();let vp;function Pm(i,s){return vp(i,s)}function bp(i){const s=i[3];return Cr(s)?s[3]:s}function Fm(i){return kv(i[13])}function k1(i){return kv(i[4])}function kv(i){for(;null!==i&&!Cr(i);)i=i[4];return i}function Bc(i,s,a,u,d){if(null!=u){let f,_=!1;Cr(u)?f=u:ds(u)&&(_=!0,u=u[0]);const y=un(u);0===i&&null!==a?null==d?V1(s,a,y):Du(s,a,y,d||null,!0):1===i&&null!==a?Du(s,a,y,d||null,!0):2===i?Uv(s,y,_):3===i&&s.destroyNode(y),null!=f&&function(i,s,a,u,d){const f=a[7];f!==un(a)&&Bc(s,i,u,f,d);for(let y=10;y<a.length;y++){const E=a[y];Hc(E[1],E,i,s,u,f)}}(s,i,f,a,d)}}function Lm(i,s){return ln(i)?i.createText(s):i.createTextNode(s)}function O1(i,s,a){ln(i)?i.setValue(s,a):s.textContent=a}function cI(i,s){return i.createComment(function(i){return i.replace(k,s=>s.replace(J,"\u200b$1\u200b"))}(s))}function Ov(i,s,a){return ln(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Vm(i,s){const a=i[9],u=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,vo(d,-1)),a.splice(u,1)}function Um(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const d=u[17];null!==d&&d!==i&&Vm(d,u),s>0&&(i[a-1][4]=u[4]);const f=di(i,10+s);!function(i,s){Hc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function P1(i,s){if(!(256&s[2])){const a=s[11];ln(a)&&a.destroyNode&&Hc(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Cu(i[1],i);for(;s;){let a=null;if(ds(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)ds(s)&&Cu(s[1],s),s=s[3];null===s&&(s=i),ds(s)&&Cu(s[1],s),a=s&&s[4]}s=a}}(s)}}function Cu(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof cu)){const f=a[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const y=d[f[_]],E=f[_+1];try{E.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,u=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],y="function"==typeof _?_(s):un(s[_]),E=u[d=a[f+2]],D=a[f+3];"boolean"==typeof D?y.removeEventListener(a[f],E,D):D>=0?u[d=D]():u[d=-D].unsubscribe(),f+=2}else{const _=u[d=a[f+1]];a[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&ln(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Cr(s[3])){a!==s[3]&&Vm(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function F1(i,s,a){return L1(i,s.parent,a)}function L1(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===Ue.None||d===Ue.Emulated)return null}return Dr(u,a)}function Du(i,s,a,u,d){ln(i)?i.insertBefore(s,a,u,d):s.insertBefore(a,u,d)}function V1(i,s,a){ln(i)?i.appendChild(s,a):s.appendChild(a)}function U1(i,s,a,u,d){null!==u?Du(i,s,a,u,d):V1(i,s,a)}function Bm(i,s){return ln(i)?i.parentNode(s):s.parentNode}function Hm(i,s,a){return jc(i,s,a)}function $m(i,s,a){return 40&i.type?Dr(i,a):null}let Fv,jc=$m;function B1(i,s){jc=i,Fv=s}function Th(i,s,a,u){const d=F1(i,u,s),f=s[11],y=Hm(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)U1(f,d,a[E],y,!1);else U1(f,d,a,y,!1);void 0!==Fv&&Fv(f,u,s,a,d)}function Gm(i,s){if(null!==s){const a=s.type;if(3&a)return Dr(s,i);if(4&a)return Vv(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Gm(i,u);{const d=i[s.index];return Cr(d)?Vv(-1,d):un(d)}}if(32&a)return Pm(s,i)()||un(i[s.index]);{const u=Lv(i,s);return null!==u?Array.isArray(u)?u[0]:Gm(bp(i[16]),u):Gm(i,s.next)}}return null}function Lv(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Vv(i,s){const a=10+i+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return Gm(u,d)}return s[7]}function Uv(i,s,a){const u=Bm(i,s);u&&function(i,s,a,u){ln(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}function qm(i,s,a,u,d,f,_){for(;null!=a;){const y=u[a.index],E=a.type;if(_&&0===s&&(y&&Nr(un(y),u),a.flags|=4),64!=(64&a.flags))if(8&E)qm(i,s,a.child,u,d,f,!1),Bc(s,i,d,y,f);else if(32&E){const D=Pm(a,u);let S;for(;S=D();)Bc(s,i,d,S,f);Bc(s,i,d,y,f)}else 16&E?Tu(i,s,u,a,d,f):Bc(s,i,d,y,f);a=_?a.projectionNext:a.next}}function Hc(i,s,a,u,d,f){qm(a,u,i.firstChild,s,d,f,!1)}function Tu(i,s,a,u,d,f){const _=a[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)Bc(s,i,d,E[D],f);else qm(i,s,E,_[3],d,f,!0)}function H1(i,s,a){ln(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Bv(i,s,a){ln(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function jv(i,s,a){let u=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===u||i.charCodeAt(d+f)<=32)return d}a=d+1}}const $1="ng-template";function vI(i,s,a){let u=0;for(;u<i.length;){let d=i[u++];if(a&&"class"===d){if(d=i[u],-1!==jv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Hv(i){return 4===i.type&&i.value!==$1}function bI(i,s,a){return s===(4!==i.type||a?i.value:$1)}function wI(i,s,a){let u=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(nh(i[s]))return s;return i.length}(d);let _=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!bI(i,E,a)||""===E&&1===s.length){if(oa(u))return!1;_=!0}}else{const D=8&u?E:s[++y];if(8&u&&null!==i.attrs){if(!vI(i.attrs,D,a)){if(oa(u))return!1;_=!0}continue}const R=$v(8&u?"class":E,d,Hv(i),a);if(-1===R){if(oa(u))return!1;_=!0;continue}if(""!==D){let O;O=R>f?"":d[R+1].toLowerCase();const G=8&u?O:null;if(G&&-1!==jv(G,D,0)||2&u&&D!==O){if(oa(u))return!1;_=!0}}}}else{if(!_&&!oa(u)&&!oa(E))return!1;if(_&&oa(E))continue;_=!1,u=E|1&u}}return oa(u)||_}function oa(i){return 0==(1&i)}function $v(i,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let f=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function G1(i,s,a=!1){for(let u=0;u<s.length;u++)if(wI(i,s[u],a))return!0;return!1}function CR(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let d=0;d<i.length;d++)if(i[d]!==u[d])continue e;return!0}}return!1}function Z1(i,s){return i?":not("+s.trim()+")":s}function DR(i){let s=i[0],a=1,u=2,d="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&u){const y=i[++a];d+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!oa(_)&&(s+=Z1(f,d),d=""),u=_,f=f||!oa(u);a++}return""!==d&&(s+=Z1(f,d)),s}const It={};function W1(i){Y1(At(),Ne(),Ir()+i,Ta())}function Y1(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Na(s,f,a)}else{const f=i.preOrderHooks;null!==f&&wl(s,f,0,a)}bl(a)}function $c(i,s){return i<<17|s<<2}function Ro(i){return i>>17&32767}function Zm(i){return 2|i}function Hl(i){return(131068&i)>>2}function qv(i,s){return-131069&i|s<<2}function zm(i){return 1|i}function Kv(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],f=a[u+1];if(-1!==f){const _=i.data[f];ml(d),_.contentQueries(2,s[f],f)}}}function Tp(i,s,a,u,d,f,_,y,E,D){const S=s.blueprint.slice();return S[0]=d,S[2]=140|u,Ca(S),S[3]=S[15]=i,S[8]=a,S[10]=_||i&&i[10],S[11]=y||i&&i[11],S[12]=E||i&&i[12]||null,S[9]=D||i&&i[9]||null,S[6]=f,S[16]=2==s.type?i[16]:S,S}function Ht(i,s,a,u,d){let f=i.data[s];if(null===f)f=Jm(i,s,a,u,d),lt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=d;const _=ps();f.injectorIndex=null===_?-1:_.injectorIndex}return Ii(f,!0),f}function Jm(i,s,a,u,d){const f=uc(),_=uu(),E=i.data[s]=function(i,s,a,u,d,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,u,d);return null===i.firstChild&&(i.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}function qc(i,s,a,u){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function Ih(i,s,a){vl(s);try{const u=i.viewQuery;null!==u&&Mp(1,u,a);const d=i.template;null!==d&&Jv(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Kv(i,s),i.staticViewQueries&&Mp(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)g0(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,zo()}}function Zc(i,s,a,u){const d=s[2];if(256==(256&d))return;vl(s);const f=Ta();try{Ca(s),function(i){lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Jv(i,s,a,2,u);const _=3==(3&d);if(!f)if(_){const D=i.preOrderCheckHooks;null!==D&&Na(s,D,null)}else{const D=i.preOrderHooks;null!==D&&wl(s,D,0,null),$n(s,0)}if(function(i){for(let s=Fm(i);null!==s;s=k1(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],f=d[3];0==(1024&d[2])&&vo(f,1),d[2]|=1024}}}(s),function(i){for(let s=Fm(i);null!==s;s=k1(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];ac(u)&&Zc(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&Kv(i,s),!f)if(_){const D=i.contentCheckHooks;null!==D&&Na(s,D)}else{const D=i.contentHooks;null!==D&&wl(s,D,1),$n(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)bl(~d);else{const f=d,_=a[++u],y=a[++u];cc(_,f),y(2,s[f])}}}finally{bl(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)t_(i,s[a])}(s,y);const E=i.viewQuery;if(null!==E&&Mp(2,E,u),!f)if(_){const D=i.viewCheckHooks;null!==D&&Na(s,D)}else{const D=i.viewHooks;null!==D&&wl(s,D,2),$n(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,vo(s[3],-1))}finally{zo()}}function tE(i,s,a,u){const d=s[10],f=!Ta(),_=dl(s);try{f&&!_&&d.begin&&d.begin(),_&&Ih(i,s,u),Zc(i,s,a,u)}finally{f&&!_&&d.end&&d.end()}}function Jv(i,s,a,u,d){const f=Ir(),_=2&u;try{bl(-1),_&&s.length>20&&Y1(i,s,20,Ta()),a(u,d)}finally{bl(f)}}function Qv(i,s,a){if(iu(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function Qm(i,s,a){!fl()||(function(i,s,a,u){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Gs(a,s),Nr(u,s);const _=a.initialInputs;for(let y=d;y<f;y++){const E=i.data[y],D=qr(E);D&&UR(s,a,E);const S=Cn(s,i,y,a);Nr(S,s),null!==_&&BR(0,y-d,S,E,0,_),D&&(Zr(a.index,s)[8]=S)}}(i,s,a,Dr(a,s)),128==(128&a.flags)&&function(i,s,a){const u=a.directiveStart,d=a.directiveEnd,_=a.index,y=lt.lFrame.currentDirectiveIndex;try{bl(_);for(let E=u;E<d;E++){const D=i.data[E],S=s[E];dc(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Xm(D,S)}}finally{bl(-1),dc(y)}}(i,s,a))}function Ba(i,s,a=Dr){const u=s.localNames;if(null!==u){let d=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],y=-1===_?a(s,i):i[_];i[d++]=y}}}function Xv(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ip(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ip(i,s,a,u,d,f,_,y,E,D){const S=20+u,R=S+d,O=function(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:It);return a}(S,R),G="function"==typeof D?D():D;return O[1]={type:i,blueprint:O,template:a,queries:null,viewQuery:y,declTNode:s,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:G,incompleteFirstPass:!1}}function n0(i,s,a,u){const d=s_(s);null===a?d.push(u):(d.push(a),i.firstCreatePass&&xp(i).push(u,d.length-1))}function s0(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function Ts(i,s,a,u,d,f,_,y){const E=Dr(s,a);let S,D=s.inputs;!y&&null!=D&&(S=D[u])?(Rp(i,a,S,u,d),su(s)&&function(i,s){const a=Zr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=_?_(d,s.value||"",u):d,ln(f)?f.setProperty(E,u,d):ys(u)||(E.setProperty?E.setProperty(u,d):E[u]=d))}function ja(i,s,a,u){let d=!1;if(fl()){const f=function(i,s,a){const u=i.directiveRegistry;let d=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];G1(a,_.selectors,!1)&&(d||(d=[]),qt(Gs(a,s),i,_.type),qr(_)?(Sp(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===u?null:{"":-1};if(null!==f){d=!0,sE(a,i.data.length,f.length);for(let S=0;S<f.length;S++){const R=f[S];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,D=qc(i,s,f.length,null);for(let S=0;S<f.length;S++){const R=f[S];a.mergedAttrs=Hs(a.mergedAttrs,R.hostAttrs),PI(i,a,s,D,R),f0(D,R,_),null!==R.contentQueries&&(a.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=128);const O=R.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!E&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),D++}!function(i,s){const u=s.directiveEnd,d=i.data,f=s.attrs,_=[];let y=null,E=null;for(let D=s.directiveStart;D<u;D++){const S=d[D],R=S.inputs,O=null===f||Hv(s)?null:jR(R,f);_.push(O),y=s0(R,D,y),E=s0(S.outputs,D,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=y,s.outputs=E}(i,a)}_&&function(i,s,a){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Ae("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],f)}}}(a,u,_)}return a.mergedAttrs=Hs(a.mergedAttrs,a.attrs),d}function c0(i,s,a,u,d,f){const _=f.hostBindings;if(_){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(u,d,_)}}function Xm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Sp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function f0(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;qr(s)&&(a[""]=i)}}function sE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function PI(i,s,a,u,d){i.data[u]=d;const f=d.factory||(d.factory=Vs(d.type)),_=new cu(f,qr(d),null);i.blueprint[u]=_,a[u]=_,c0(i,s,0,u,qc(i,a,d.hostVars,It),d)}function UR(i,s,a){const u=Dr(s,i),d=Xv(a),f=i[10],_=r_(i,Tp(i,d,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=_}function oE(i,s,a,u,d,f,_){if(null==f)ln(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==_?X(f):_(f,u||"",d);ln(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}function BR(i,s,a,u,d,f){const _=f[s];if(null!==_){const y=u.setInput;for(let E=0;E<_.length;){const D=_[E++],S=_[E++],R=_[E++];null!==y?u.setInput(a,R,D,S):a[S]=R}}}function jR(i,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Ap(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function t_(i,s){const a=Zr(s,i);if(ac(a)){const u=a[1];80&a[2]?Zc(u,a,u.template,a[8]):a[5]>0&&p0(a)}}function p0(i){for(let u=Fm(i);null!==u;u=k1(u))for(let d=10;d<u.length;d++){const f=u[d];if(1024&f[2]){const _=f[1];Zc(_,f,_.template,f[8])}else f[5]>0&&p0(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Zr(a[u],i);ac(d)&&d[5]>0&&p0(d)}}function g0(i,s){const a=Zr(s,i),u=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Ih(u,a,a[8])}function r_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function m0(i){for(;i;){i[2]|=64;const s=bp(i);if(jn(i)&&!s)return i;i=s}return null}function i_(i,s,a){const u=s[10];u.begin&&u.begin();try{Zc(i,s,i.template,a)}catch(d){throw Sh(s,d),d}finally{u.end&&u.end()}}function lE(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=Ch(a),d=u[1];tE(d,u,d.template,a)}}(i[8])}function Mp(i,s,a){ml(0),s(i,a)}const uE=(()=>Promise.resolve(null))();function s_(i){return i[7]||(i[7]=[])}function xp(i){return i.cleanup||(i.cleanup=[])}function Sh(i,s){const a=i[9],u=a?a.get(g,null):null;u&&u.handleError(s)}function Rp(i,s,a,u,d){for(let f=0;f<a.length;){const _=a[f++],y=a[f++],E=s[_],D=i.data[_];null!==D.setInput?D.setInput(E,d,u,y):E[y]=d}}function Mu(i,s,a){let u=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const y=s[_];"number"==typeof y?f=y:1==f?d=H(d,y):2==f&&(u=H(u,y+": "+s[++_]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=d:i.classesWithoutHost=d}const xu=new vn("INJECTOR",-1);class v0{get(s,a=Lt){if(a===Lt){const u=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw u.name="NullInjectorError",u}return a}}const zc=new vn("Set Injector scope."),Wc={},Ah={};let Yc;function o_(){return void 0===Yc&&(Yc=new v0),Yc}function jI(i,s=null,a=null,u){return new kp(i,a,s||o_(),u)}class kp{constructor(s,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Es(a,y=>this.processProvider(y,s,a)),Es([s],y=>this.processInjectorType(y,[],f)),this.records.set(xu,Pp(void 0,this));const _=this.records.get(zc);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:K(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Lt,u=Ke.Default){this.assertNotDestroyed();const d=pt(this),f=si(void 0);try{if(!(u&Ke.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof vn)&&hr(s);y=E&&this.injectableDefInScope(E)?Pp(Op(s),Wc):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(u&Ke.Self?o_():this.parent).get(s,a=u&Ke.Optional&&a===Lt?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Pn]=_[Pn]||[]).unshift(K(s)),d)throw _;return Qi(_,s,"R3InjectorError",this.source)}throw _}finally{si(f),pt(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(K(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,u){if(!(s=$(s)))return!1;let d=ao(s);const f=null==d&&s.ngModule||void 0,_=void 0===f?s:f,y=-1!==u.indexOf(_);if(void 0!==f&&(d=ao(f)),null==d)return!1;if(null!=d.imports&&!y){let S;u.push(_);try{Es(d.imports,R=>{this.processInjectorType(R,a,u)&&(void 0===S&&(S=[]),S.push(R))})}finally{}if(void 0!==S)for(let R=0;R<S.length;R++){const{ngModule:O,providers:G}=S[R];Es(G,W=>this.processProvider(W,O,G||q))}}this.injectorDefTypes.add(_);const E=Vs(_)||(()=>new _);this.records.set(_,Pp(E,Wc));const D=d.providers;if(null!=D&&!y){const S=s;Es(D,R=>this.processProvider(R,S,D))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let d=Nh(s=$(s))?s:$(s&&s.provide);const f=$I(i=s)?Pp(void 0,i.useValue):Pp(HI(i),Wc);var i;if(Nh(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Pp(void 0,Wc,!0),_.factory=()=>Fa(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===Wc&&(a.value=Ah,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=$(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Op(i){const s=hr(i),a=null!==s?s.factory:Vs(i);if(null!==a)return a;if(i instanceof vn)throw new Error(`Token ${K(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=Zs(s,"?");throw new Error(`Can't resolve all parameters for ${K(i)}: (${u.join(", ")}).`)}const a=function(i){const s=i&&(i[Os]||i[Bi]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function HI(i,s,a){let u;if(Nh(i)){const d=$(i);return Vs(d)||Op(d)}if($I(i))u=()=>$(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Fa(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>bn($(i.useExisting));else{const d=$(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Vs(d)||Op(d);u=()=>new d(...Fa(i.deps))}return u}function Pp(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function $I(i){return null!==i&&"object"==typeof i&&Ni in i}function Nh(i){return"function"==typeof i}const fE=function(i,s,a){return function(i,s=null,a=null,u){const d=jI(i,s,a,u);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let qn=(()=>{class i{static create(a,u){return Array.isArray(a)?fE(a,u,""):fE(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Lt,i.NULL=new v0,i.\u0275prov=tn({token:i,providedIn:"any",factory:()=>bn(xu)}),i.__NG_ELEMENT_ID__=-1,i})();function IE(i,s){Aa(Ch(i)[1],sn())}function SE(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let d;if(qr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){u.push(d);const _=i;_.inputs=AE(i.inputs),_.declaredInputs=AE(i.declaredInputs),_.outputs=AE(i.outputs);const y=d.hostBindings;y&&xE(i,y);const E=d.viewQuery,D=d.contentQueries;if(E&&NE(i,E),D&&ME(i,D),oe(i.inputs,d.inputs),oe(i.declaredInputs,d.declaredInputs),oe(i.outputs,d.outputs),qr(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const y=f[_];y&&y.ngInherit&&y(i),y===SE&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Hs(d.hostAttrs,a=Hs(a,d.hostAttrs))}}(u)}function AE(i){return i===Z?{}:i===q?[]:i}function NE(i,s){const a=i.viewQuery;i.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function ME(i,s){const a=i.contentQueries;i.contentQueries=a?(u,d,f)=>{s(u,d,f),a(u,d,f)}:s}function xE(i,s){const a=i.hostBindings;i.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let g_=null;function Rh(){if(!g_){const i=nn.Symbol;if(i&&i.iterator)g_=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(g_=u)}}}return g_}class aa{constructor(s){this.wrapped=s}static wrap(s){return new aa(s)}static unwrap(s){return aa.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof aa}}function Lp(i){return!!x0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Rh()in i)}function x0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function rs(i,s,a){return i[s]=a}function xi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Kc(i,s,a,u){const d=xi(i,s,a);return xi(i,s+1,u)||d}function R0(i,s,a,u){const d=Ne();return xi(d,bo(),s)&&(At(),function(i,s,a,u,d,f){const _=Dr(i,s);oE(s[11],_,f,i.value,a,u,d)}(Hn(),d,i,s,a,u)),R0}function Oh(i,s,a,u){return xi(i,bo(),a)?s+X(a)+u:It}function Lh(i,s,a,u,d,f,_,y,E,D){const R=function(i,s,a,u,d,f){const _=Kc(i,s,a,u);return Kc(i,s+2,d,f)||_}(i,Si(),a,d,_,E);return Tr(4),R?s+X(a)+u+X(d)+f+X(_)+y+X(E)+D:It}function HE(i,s,a,u,d,f,_,y){const E=Ne(),D=At(),S=i+20,R=D.firstCreatePass?function(i,s,a,u,d,f,_,y,E){const D=s.consts,S=Ht(s,i,4,_||null,Us(D,y));ja(s,a,S,Us(D,E)),Aa(s,S);const R=S.tViews=Ip(2,S,u,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,S),R.queries=s.queries.embeddedTView(S)),S}(S,D,E,s,a,u,d,f,_):D.data[S];Ii(R,!1);const O=E[11].createComment("");Th(D,E,O,R),Nr(O,E),r_(E,E[S]=Ap(O,E,O,R)),pr(R)&&Qm(D,E,R),null!=_&&Ba(E,R,y)}function $E(i){return fs(lt.lFrame.contextLView,20+i)}function Up(i,s=Ke.Default){const a=Ne();return null===a?bn(i,s):qs(sn(),a,$(i),s)}function L0(i,s,a){const u=Ne();return xi(u,bo(),s)&&Ts(At(),Hn(),u,i,s,u[11],a,!1),L0}function V0(i,s,a,u,d){const _=d?"class":"style";Rp(i,a,s.inputs[_],_,u)}function U0(i,s,a,u){const d=Ne(),f=At(),_=20+i,y=d[11],E=d[_]=Ov(y,s,lt.lFrame.currentNamespace),D=f.firstCreatePass?function(i,s,a,u,d,f,_){const y=s.consts,D=Ht(s,i,2,d,Us(y,f));return ja(s,a,D,Us(y,_)),null!==D.attrs&&Mu(D,D.attrs,!1),null!==D.mergedAttrs&&Mu(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(_,f,d,0,s,a,u):f.data[_];Ii(D,!0);const S=D.mergedAttrs;null!==S&&_s(y,E,S);const R=D.classes;null!==R&&Bv(y,E,R);const O=D.styles;null!==O&&H1(y,E,O),64!=(64&D.flags)&&Th(f,d,E,D),0===lt.lFrame.elementDepthCount&&Nr(E,d),lt.lFrame.elementDepthCount++,pr(D)&&(Qm(f,d,D),Qv(f,D,d)),null!==u&&Ba(d,D)}function B0(){let i=sn();uu()?Da():(i=i.parent,Ii(i,!1));const s=i;lt.lFrame.elementDepthCount--;const a=At();a.firstCreatePass&&(Aa(a,i),iu(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&V0(a,s,Ne(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&V0(a,s,Ne(),s.stylesWithoutHost,!1)}function nC(i,s,a,u){U0(i,s,a,u),B0()}function j0(i,s,a){const u=Ne(),d=At(),f=i+20,_=d.firstCreatePass?function(i,s,a,u,d){const f=s.consts,_=Us(f,u),y=Ht(s,i,8,"ng-container",_);return null!==_&&Mu(y,_,!0),ja(s,a,y,Us(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,u,s,a):d.data[f];Ii(_,!0);const y=u[f]=u[11].createComment("");Th(d,u,y,_),Nr(y,u),pr(_)&&(Qm(d,u,_),Qv(d,_,u)),null!=a&&Ba(u,_)}function H0(){let i=sn();const s=At();uu()?Da():(i=i.parent,Ii(i,!1)),s.firstCreatePass&&(Aa(s,i),iu(i)&&s.queries.elementEnd(i))}function rC(){return Ne()}function $0(i){return!!i&&"function"==typeof i.then}function iC(i){return!!i&&"function"==typeof i.subscribe}const xr=iC;function Jc(i,s,a,u){const d=Ne(),f=At(),_=sn();return function(i,s,a,u,d,f,_,y){const E=pr(u),S=i.firstCreatePass&&xp(i),R=s[8],O=s_(s);let G=!0;if(3&u.type||y){const te=Dr(u,s),Oe=y?y(te):te,Ce=O.length,Xe=y?dt=>y(un(dt[u.index])):u.index;if(ln(a)){let dt=null;if(!y&&E&&(dt=function(i,s,a,u){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===u){const y=s[7],E=d[f+2];return y.length>E?y[E]:null}"string"==typeof _&&(f+=2)}return null}(i,s,d,u.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=f,dt.__ngLastListenerFn__=f,G=!1;else{f=$a(u,s,R,f,!1);const Bt=a.listen(Oe,d,f);O.push(f,Bt),S&&S.push(d,Xe,Ce,Ce+1)}}else f=$a(u,s,R,f,!0),Oe.addEventListener(d,f,_),O.push(f),S&&S.push(d,Xe,Ce,_)}else f=$a(u,s,R,f,!1);const W=u.outputs;let fe;if(G&&null!==W&&(fe=W[d])){const te=fe.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const Jn=s[fe[Oe]][fe[Oe+1]].subscribe(f),ls=O.length;O.push(f,Jn),S&&S.push(d,u.index,ls,-(ls+1))}}}(f,d,d[11],_,i,s,!!a,u),Jc}function Vn(i,s,a,u){try{return!1!==a(u)}catch(d){return Sh(i,d),!1}}function $a(i,s,a,u,d){return function f(_){if(_===Function)return u;const y=2&i.flags?Zr(i.index,s):s;0==(32&s[2])&&m0(y);let E=Vn(s,0,u,_),D=f.__ngNextListenerFn__;for(;D;)E=Vn(s,0,D,_)&&E,D=D.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function Qc(i=1){return function(i){return(lt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function NS(i,s){let a=null;const u=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===u?G1(i,f,!0):CR(u,f))return d}else a=d}return a}function G0(i){const s=Ne()[16][6];if(!s.projection){const u=s.projection=Zs(i?i.length:1,null),d=u.slice();let f=s.child;for(;null!==f;){const _=i?NS(f,i):0;null!==_&&(d[_]?d[_].projectionNext=f:u[_]=f,d[_]=f),f=f.next}}}function sC(i,s=0,a){const u=Ne(),d=At(),f=Ht(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Da(),64!=(64&f.flags)&&function(i,s,a){Tu(s[11],0,s,a,F1(i,a,s),Hm(a.parent||s[6],a,s))}(d,u,f)}function Ru(i,s,a){return v_(i,"",s,"",a),Ru}function v_(i,s,a,u,d){const f=Ne(),_=Oh(f,s,a,u);return _!==It&&Ts(At(),Hn(),f,i,_,f[11],d,!1),v_}function cC(i,s,a,u,d){const f=i[a+1],_=null===s;let y=u?Ro(f):Hl(f),E=!1;for(;0!==y&&(!1===E||_);){const S=i[y+1];z0(i[y],s)&&(E=!0,i[y+1]=u?zm(S):Zm(S)),y=u?Ro(S):Hl(S)}E&&(i[a+1]=u?Zm(f):zm(f))}function z0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&So(i,s)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function w_(i){return i.substring(Or.key,Or.keyEnd)}function E_(i,s){const a=Or.textEnd;return a===s?-1:(s=Or.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Or.key=s,a),Xc(i,s,a))}function Xc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Y0(i,s,a){return Yr(i,s,a,!1),Y0}function D_(i,s){return Yr(i,s,null,!0),D_}function K0(i){Oo(kn,qa,i,!0)}function qa(i,s){for(let a=function(i){return function(i){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=i.length}(i),E_(i,Xc(i,0,Or.textEnd))}(s);a>=0;a=E_(s,a))kn(i,w_(s),!0)}function Yr(i,s,a,u){const d=Ne(),f=At(),_=Tr(2);f.firstUpdatePass&&$h(f,i,_,u),s!==It&&xi(d,_,s)&&VS(f,f.data[Ir()],d,d[11],i,d[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(ra(i)))),i}(s,a),u,_)}function Oo(i,s,a,u){const d=At(),f=Tr(2);d.firstUpdatePass&&$h(d,null,f,u);const _=Ne();if(a!==It&&xi(_,f,a)){const y=d.data[Ir()];if(X0(y,u)&&!FS(d,f)){let E=u?y.classesWithoutHost:y.stylesWithoutHost;null!==E&&(a=H(E,a||"")),V0(d,y,_,a,u)}else!function(i,s,a,u,d,f,_,y){d===It&&(d=q);let E=0,D=0,S=0<d.length?d[0]:null,R=0<f.length?f[0]:null;for(;null!==S||null!==R;){const O=E<d.length?d[E+1]:void 0,G=D<f.length?f[D+1]:void 0;let fe,W=null;S===R?(E+=2,D+=2,O!==G&&(W=R,fe=G)):null===R||null!==S&&S<R?(E+=2,W=S):(D+=2,W=R,fe=G),null!==W&&VS(i,s,a,u,W,fe,_,y),S=E<d.length?d[E]:null,R=D<f.length?f[D]:null}}(d,y,_,_[11],_[f+1],_[f+1]=function(i,s,a){if(null==a||""===a)return q;const u=[],d=ra(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(u,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(u,f,d[f]);else"string"==typeof d&&s(u,d);return u}(i,s,a),u,f)}}function FS(i,s){return s>=i.expandoStartIndex}function $h(i,s,a,u){const d=i.data;if(null===d[a+1]){const f=d[Ir()],_=FS(i,a);X0(f,u)&&null===s&&!_&&(s=!1),s=function(i,s,a,u){const d=function(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=jp(a=J0(null,i,s,a,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=J0(d,i,s,a,u),null===f){let E=function(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Hl(u))return i[Ro(u)]}(i,s,u);void 0!==E&&Array.isArray(E)&&(E=J0(null,i,s,E[1],u),E=jp(E,s.attrs,u),function(i,s,a,u){i[Ro(a?s.classBindings:s.styleBindings)]=u}(i,s,u,E))}else f=function(i,s,a){let u;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)u=jp(u,i[f].hostAttrs,a);return jp(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,u),function(i,s,a,u,d,f){let _=f?s.classBindings:s.styleBindings,y=Ro(_),E=Hl(_);i[u]=a;let S,D=!1;if(Array.isArray(a)){const R=a;S=R[1],(null===S||So(R,S)>0)&&(D=!0)}else S=a;if(d)if(0!==E){const O=Ro(i[y+1]);i[u+1]=$c(O,y),0!==O&&(i[O+1]=qv(i[O+1],u)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],u)}else i[u+1]=$c(y,0),0!==y&&(i[y+1]=qv(i[y+1],u)),y=u;else i[u+1]=$c(E,0),0===y?y=u:i[E+1]=qv(i[E+1],u),E=u;D&&(i[u+1]=Zm(i[u+1])),cC(i,S,u,!0),cC(i,S,u,!1),function(i,s,a,u,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&So(f,s)>=0&&(a[u+1]=zm(a[u+1]))}(s,S,i,u,f),_=$c(y,E),f?s.classBindings=_:s.styleBindings=_}(d,f,s,a,_,u)}}function J0(i,s,a,u,d){let f=null;const _=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<_&&(f=s[y],u=jp(u,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),u}function jp(i,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),kn(i,_,!!a||s[++f]))}return void 0===i?null:i}function VS(i,s,a,u,d,f,_,y){if(!(3&s.type))return;const E=i.data,D=E[y+1];I_(function(i){return 1==(1&i)}(D)?Q0(E,s,a,d,Hl(D),_):void 0)||(I_(f)||function(i){return 2==(2&i)}(D)&&(f=Q0(E,null,a,d,y,_)),function(i,s,a,u,d){const f=ln(i);if(s)d?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:Ds.DashCase;if(null==d)f?i.removeStyle(a,u,_):a.style.removeProperty(u);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),_|=Ds.Important),f?i.setStyle(a,u,d,_):a.style.setProperty(u,d,y?"important":"")}}}(u,_,_o(Ir(),a),d,f))}function Q0(i,s,a,u,d,f){const _=null===s;let y;for(;d>0;){const E=i[d],D=Array.isArray(E),S=D?E[1]:E,R=null===S;let O=a[d+1];O===It&&(O=R?q:void 0);let G=R?On(O,u):S===u?O:void 0;if(D&&!I_(G)&&(G=On(E,u)),I_(G)&&(y=G,_))return y;const W=i[d+1];d=_?Ro(W):Hl(W)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(y=On(E,u))}return y}function I_(i){return void 0!==i}function X0(i,s){return 0!=(i.flags&(s?16:32))}function mr(i,s=""){const a=Ne(),u=At(),d=i+20,f=u.firstCreatePass?Ht(u,d,1,s,null):u.data[d],_=a[d]=Lm(a[11],s);Th(u,a,_,f),Ii(f,!1)}function S_(i){return td("",i,""),S_}function td(i,s,a){const u=Ne(),d=Oh(u,i,s,a);return d!==It&&function(i,s,a){const u=_o(s,i);O1(i[11],u,a)}(u,Ir(),d),td}function wC(i,s,a,u,d,f,_,y,E){Oo(kn,qa,Lh(Ne(),i,s,a,u,d,f,_,y,E),!0)}function TC(i,s,a){const u=Ne();return xi(u,bo(),s)&&Ts(At(),Hn(),u,i,s,u[11],a,!0),TC}const id=void 0;var qp=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let sd={};function A_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ab(s);if(a)return a;const u=s.split("-")[0];if(a=ab(u),a)return a;if("en"===u)return qp;throw new Error(`Missing locale data for the locale "${i}".`)}function SC(i){return A_(i)[ut.PluralCase]}function ab(i){return i in sd||(sd[i]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[i]),sd[i]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const XS=["zero","one","two","few","many"],lb="en-US",M_={marker:"element"},ub={marker:"ICU"};var cr=(()=>((cr=cr||{})[cr.SHIFT=2]="SHIFT",cr[cr.APPEND_EAGERLY=1]="APPEND_EAGERLY",cr[cr.COMMENT=2]="COMMENT",cr))();let tA=lb;function MC(i){(function(i,s){null==i&&vt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(tA=i.toLowerCase().replace(/_/g,"-"))}function nA(i,s,a){const u=s.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?$m(i,0,a):un(a[d])}function rA(i,s,a,u,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let _=u,y=null;if(3&s.type||(y=_,_=d),null!==_&&0==(2&s.flags))for(let E=1;E<f.length;E++)Du(i,_,a[f[E]],y,!1)}}function iA(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];sA(u)||wk(u,s)&&null===Ek(u)&&Ck(u,s.index)}}function sA(i){return!(64&i.type)}function wk(i,s){return sA(s)||i.index>s.index}function Ek(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function Ck(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(B1(nA,rA),i.insertBeforeIndex=s)}function Zp(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Ik(i,s,a){const u=Jm(i,a,64,null,null);return iA(s,u),u}function cb(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function oA(i){return i>>>17}function aA(i){return(131070&i)>>>1}let is=0,pn=0;function RC(i,s,a,u){const d=a[11];let _,f=null;for(let y=0;y<s.length;y++){const E=s[y];if("string"==typeof E){const D=s[++y];null===a[D]&&(a[D]=Lm(d,E))}else if("number"==typeof E)switch(1&E){case 0:const D=oA(E);let S,R;if(null===f&&(f=D,_=Bm(d,u)),D===f?(S=u,R=_):(S=null,R=un(a[D])),null!==R){const fe=aA(E);Du(d,R,a[fe],S,!1);const Oe=Zp(i,fe);if(null!==Oe&&"object"==typeof Oe){const Ce=cb(Oe,a);null!==Ce&&RC(i,Oe.create[Ce],a,a[Oe.anchorIdx])}}break;case 1:const G=s[++y],W=s[++y];oE(d,_o(E>>>1,a),null,null,G,W,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${E}"`)}else switch(E){case ub:const D=s[++y],S=s[++y];null===a[S]&&Nr(a[S]=cI(d,D),a);break;case M_:const R=s[++y],O=s[++y];null===a[O]&&Nr(a[O]=Ov(d,R,null),a)}}}function kC(i,s,a,u,d){for(let f=0;f<a.length;f++){const _=a[f],y=a[++f];if(_&d){let E="";for(let D=f+1;D<=f+y;D++){const S=a[D];if("string"==typeof S)E+=S;else if("number"==typeof S)if(S<0)E+=X(s[u-S]);else{const R=S>>>2;switch(3&S){case 1:const O=a[++D],G=a[++D],W=i.data[R];"string"==typeof W?oE(s[11],s[R],null,W,O,E,G):Ts(i,W,s,O,E,s[11],G,!1);break;case 0:const fe=s[R];null!==fe&&O1(s[11],fe,E);break;case 2:Ak(i,Zp(i,R),s,E);break;case 3:x_(i,Zp(i,R),u,s)}}}}else{const E=a[f+1];if(E>0&&3==(3&E)){const S=Zp(i,E>>>2);s[S.currentCaseLViewIndex]<0&&x_(i,S,u,s)}}f+=y}}function x_(i,s,a,u){let d=u[s.currentCaseLViewIndex];if(null!==d){let f=is;d<0&&(d=u[s.currentCaseLViewIndex]=~d,f=-1),kC(i,u,s.update[d],a,f)}}function Ak(i,s,a,u){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const u=function(i,s){const a=SC(s)(parseInt(i,10)),u=XS[a];return void 0!==u?u:"other"}(s,tA);a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,u);if(cb(s,a)!==d&&(qh(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const _=a[s.anchorIdx];_&&RC(i,s.create[d],a,_)}}function qh(i,s,a){let u=cb(s,a);if(null!==u){const d=s.remove[u];for(let f=0;f<d.length;f++){const _=d[f];if(_>0){const y=_o(_,a);null!==y&&Uv(a[11],y)}else qh(i,Zp(i,~_),a)}}}function OC(){const i=[];let a,u,s=-1;function f(y,E){s=0;const D=cb(y,E);u=null!==D?y.remove[D]:q}function _(){if(s<u.length){const y=u[s++];return y>0?a[y]:(i.push(s,u),f(a[1].data[~y],a),_())}return 0===i.length?null:(u=i.pop(),s=i.pop(),_())}return function(y,E){for(a=E;i.length;)i.pop();return f(y.value,E),_}}const Za=/\ufffd(\d+):?\d*\ufffd/gi,k_=/\ufffd(\d+)\ufffd/,pb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ad=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,PC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,kk=/\uE500/g;function lA(i,s,a,u,d,f,_){const y=qc(i,u,1,null);let E=y<<cr.SHIFT,D=ps();s===D&&(D=null),null===D&&(E|=cr.APPEND_EAGERLY),_&&(E|=cr.COMMENT,function(i){void 0===vp&&(vp=i())}(OC)),d.push(E,null===f?"":f);const S=Jm(i,y,_?32:1,null===f?"":f,null);iA(a,S);const R=S.index;return Ii(S,!1),null!==D&&s!==D&&function(i,s){let a=i.insertBeforeIndex;null===a?(B1(nA,rA),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&vt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(D,R),S}function Fk(i,s,a,u,d,f,_){const y=_.match(Za),E=lA(i,s,a,f,u,y?null:_,!1);y&&Wp(d,_,E.index,null,0,null)}function Wp(i,s,a,u,d,f){const _=i.length,y=_+1;i.push(null,null);const E=_+2,D=s.split(Za);let S=0;for(let R=0;R<D.length;R++){const O=D[R];if(1&R){const G=d+parseInt(O,10);i.push(-1-G),S|=uA(G)}else""!==O&&i.push(O)}return i.push(a<<2|(u?1:0)),u&&i.push(u,f),i[_]=S,i[y]=i.length-E,S}function uA(i){return 1<<Math.min(i,31)}function cA(i){let s,f,a="",u=0,d=!1;for(;null!==(s=ad.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(u=s.index,d=!1):(a+=i.substring(u,s.index+s[0].length),f=s[1],d=!0);return a+=i.substr(u),a}function dA(i,s,a,u,d,f){let _=0;const y={type:d.type,currentCaseLViewIndex:qc(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(uA(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,f),function(i,s,a){const u=i.data[s];null===u?i.data[s]=a:u.value=a}(i,f,y);const E=d.values;for(let D=0;D<E.length;D++){const S=E[D],R=[];for(let O=0;O<S.length;O++){const G=S[O];if("string"!=typeof G){const W=R.push(G)-1;S[O]=`\x3c!--\ufffd${W}\ufffd--\x3e`}}_=LC(i,y,s,a,u,d.cases[D],S.join(""),R)|_}_&&function(i,s,a){i.push(s,1,a<<2|3)}(a,_,f)}function jk(i){const s=[],a=[];let u=1,d=0;const f=FC(i=i.replace(pb,function(_,y,E){return u="select"===E?0:1,d=parseInt(y.substr(1),10),""}));for(let _=0;_<f.length;){let y=f[_++].trim();1===u&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const E=FC(f[_++]);s.length>a.length&&a.push(E)}return{type:u,mainBinding:d,cases:s,values:a}}function FC(i){if(!i)return[];let s=0;const a=[],u=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const E=i.substring(s,y);pb.test(E)?u.push(jk(E)):u.push(E),s=y+1}}else{if(0==a.length){const E=i.substring(s,y);u.push(E),s=y+1}a.push("{")}}const _=i.substring(s);return u.push(_),u}function LC(i,s,a,u,d,f,_,y){const E=[],D=[],S=[];s.cases.push(f),s.create.push(E),s.remove.push(D),s.update.push(S);const O=sp(mo()).getInertBodyElement(_),G=vh(O)||O;return G?VC(i,s,a,u,E,D,S,G,d,y,0):0}function VC(i,s,a,u,d,f,_,y,E,D,S){let R=0,O=y.firstChild;for(;O;){const G=qc(i,a,1,null);switch(O.nodeType){case Node.ELEMENT_NODE:const W=O,fe=W.tagName.toLowerCase();if(ap.hasOwnProperty(fe)){gb(d,M_,fe,E,G),i.data[G]=fe;const Xe=W.attributes;for(let dt=0;dt<Xe.length;dt++){const Bt=Xe.item(dt),Jn=Bt.name.toLowerCase();Bt.value.match(Za)?lp.hasOwnProperty(Jn)&&Wp(_,Bt.value,G,Bt.name,0,vu[Jn]?yu:No[Jn]?_h:null):F_(d,G,Bt)}R=VC(i,s,a,u,d,f,_,O,G,D,S+1)|R,O_(f,G,S)}break;case Node.TEXT_NODE:const te=O.textContent||"",Oe=te.match(Za);gb(d,null,Oe?"":te,E,G),O_(f,G,S),Oe&&(R=Wp(_,te,G,null,0,null)|R);break;case Node.COMMENT_NODE:const Ce=k_.exec(O.textContent||"");if(Ce){const dt=D[parseInt(Ce[1],10)];gb(d,ub,"",E,G),dA(i,a,u,E,dt,G),UC(f,G,S)}}O=O.nextSibling}return R}function O_(i,s,a){0===a&&i.push(s)}function UC(i,s,a){0===a&&(i.push(~s),i.push(s))}function gb(i,s,a,u,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,u,d))}function F_(i,s,a){i.push(s<<1|1,a.name,a.value)}function _b(i,s,a=-1){const u=At(),d=Ne(),f=20+i,_=Us(u.consts,s),y=ps();u.firstCreatePass&&function(i,s,a,u,d,f){const _=ps(),y=[],E=[],D=[[]],S=function(i){return i.replace(kk," ")}(d=function(i,s){if(function(i){return-1===i}(s))return cA(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return cA(i.substring(a,u))}}(d,f)).split(PC);for(let R=0;R<S.length;R++){let O=S[R];if(0==(1&R)){const G=FC(O);for(let W=0;W<G.length;W++){let fe=G[W];if(0==(1&W)){const te=fe;""!==te&&Fk(i,_,D[0],y,E,a,te)}else{const te=fe;if("object"!=typeof te)throw new Error(`Unable to parse ICU expression in "${d}" message.`);dA(i,a,E,s,te,lA(i,_,D[0],a,y,"",!0).index)}}}else{const G=47===O.charCodeAt(0),fe=(O.charCodeAt(G?1:0),20+Number.parseInt(O.substring(G?2:1)));if(G)D.shift(),Ii(ps(),!1);else{const te=Ik(i,D[0],fe);D.unshift([]),Ii(te,!0)}}}i.data[u]={create:y,update:E}}(u,null===y?0:y.index,d,f,_,a);const E=u.data[f],S=L1(u,y===d[6]?null:y,d);(function(i,s,a,u){const d=i[11];for(let f=0;f<s.length;f++){const _=s[f++],y=s[f],E=(_&cr.COMMENT)===cr.COMMENT,D=(_&cr.APPEND_EAGERLY)===cr.APPEND_EAGERLY,S=_>>>cr.SHIFT;let R=i[S];null===R&&(R=i[S]=E?d.createComment(y):Lm(d,y)),D&&null!==a&&Du(d,a,R,u,!1)}})(d,E.create,S,y&&8&y.type?d[y.index]:null),Sa(!0)}function Zh(i,s,a){_b(i,s,a),Sa(!1)}function L_(i){return function(i){i&&(is|=1<<Math.min(pn,31)),pn++}(xi(Ne(),bo(),i)),L_}function V_(i){!function(i,s,a){if(pn>0){const u=i.data[a];kC(i,s,Array.isArray(u)?u:u.update,Si()-pn-1,is)}is=0,pn=0}(At(),Ne(),i+20)}function U_(i,s,a,u,d){if(i=$(i),Array.isArray(i))for(let f=0;f<i.length;f++)U_(i[f],s,a,u,d);else{const f=At(),_=Ne();let y=Nh(i)?i:$(i.provide),E=HI(i);const D=sn(),S=1048575&D.providerIndexes,R=D.directiveStart,O=D.providerIndexes>>20;if(Nh(i)||!i.multi){const G=new cu(E,d,Up),W=B_(y,s,d?S:S+O,R);-1===W?(qt(Gs(D,_),f,y),ZC(f,i,s.length),s.push(y),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(G),_.push(G)):(a[W]=G,_[W]=G)}else{const G=B_(y,s,S+O,R),W=B_(y,s,S,S+O),fe=G>=0&&a[G],te=W>=0&&a[W];if(d&&!te||!d&&!fe){qt(Gs(D,_),f,y);const Oe=function(i,s,a,u,d){const f=new cu(i,a,Up);return f.multi=[],f.index=s,f.componentProviders=0,zC(f,d,u&&!a),f}(d?vb:yb,a.length,d,u,E);!d&&te&&(a[W].providerFactory=Oe),ZC(f,i,s.length,0),s.push(y),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(Oe),_.push(Oe)}else ZC(f,i,G>-1?G:W,zC(a[d?W:G],E,!d&&u));!d&&u&&te&&a[W].componentProviders++}}}function ZC(i,s,a,u){const d=Nh(s);if(d||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=y.indexOf(a);-1===E?y.push(a,[u,_]):y[E+1].push(u,_)}else y.push(a,_)}}}function zC(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function B_(i,s,a,u){for(let d=a;d<u;d++)if(s[d]===i)return d;return-1}function yb(i,s,a,u){return j_(this.multi,[])}function vb(i,s,a,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=Cn(a,a[1],this.providerFactory.index,u);f=y.slice(0,_),j_(d,f);for(let E=_;E<y.length;E++)f.push(y[E])}else f=[],j_(d,f);return f}function j_(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function WC(i,s=[]){return a=>{a.providersResolver=(u,d)=>function(i,s,a){const u=At();if(u.firstCreatePass){const d=qr(i);U_(a,u.data,u.blueprint,d,!0),U_(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class YC{}const wb="ngComponent";class KC{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${K(i)}. Did you add it to @NgModule.entryComponents?`);return s[wb]=i,s}(s)}}let ud=(()=>{class i{}return i.NULL=new KC,i})();function Yp(...i){}function cd(i,s){return new za(Dr(i,s))}const QC=function(){return cd(sn(),Ne())};let za=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=QC,i})();function XC(i){return i instanceof za?i.nativeElement:i}class $_{}let eD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>tD(),i})();const tD=function(){const i=Ne(),a=Zr(sn().index,i);return function(i){return i[11]}(ds(a)?a:i)};let Eb=(()=>{class i{}return i.\u0275prov=tn({token:i,providedIn:"root",factory:()=>null}),i})();class CA{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const G_=new CA("12.2.10");class nD{constructor(){}supports(s){return Lp(s)}create(s){return new TA(s)}}const zk=(i,s)=>s;class TA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||zk}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,f=null;for(;a||u;){const _=!u||a&&a.currentIndex<iD(u,d,f)?a:u,y=iD(_,d,f),E=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const D=y-d,S=E-d;if(D!=S){for(let O=0;O<D;O++){const G=O<f.length?f[O]:f[O]=0,W=G+O;S<=W&&W<D&&(f[O]=G+1)}f[_.previousIndex]=S-D}}y!==E&&s(_,y,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Lp(s))throw new Error(`Error trying to diff '${K(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],_=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,f,_,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,y),u=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Rh()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,y=>{_=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,y,_,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,_,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new Wk(a,u),f,d),s}_verifyReinsertion(s,a,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Cb),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Wk{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Cb{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new rD,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iD(i,s,a){const u=i.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class sD{constructor(){}supports(s){return s instanceof Map||x0(s)}create(){return new oD}}class oD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||x0(s)))throw new Error(`Error trying to diff '${K(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new IA(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class IA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aD(){return new Kp([new nD])}let Kp=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||aD()),deps:[[i,new Sr,new Ao]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:aD}),i})();function lD(){return new Db([new sD])}let Db=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||lD()),deps:[[i,new Sr,new Ao]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=tn({token:i,providedIn:"root",factory:lD}),i})();function Jp(i,s,a,u,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(un(f)),Cr(f))for(let y=10;y<f.length;y++){const E=f[y],D=E[1].firstChild;null!==D&&Jp(E[1],E,D,u)}const _=a.type;if(8&_)Jp(i,s,a.child,u);else if(32&_){const y=Pm(a,s);let E;for(;E=y();)u.push(E)}else if(16&_){const y=Lv(s,a);if(Array.isArray(y))u.push(...y);else{const E=bp(s[16]);Jp(E[1],E,y,u,!0)}}a=d?a.projectionNext:a.next}return u}class Qp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Jp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Cr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Um(s,u),di(a,u))}this._attachedToViewContainer=!1}P1(this._lView[1],this._lView)}onDestroy(s){n0(this._lView[1],this._lView,null,s)}markForCheck(){m0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){i_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Ia(!0);try{i_(i,s,a)}finally{Ia(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Hc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class AA extends Qp{constructor(s){super(s),this._view=s}detectChanges(){lE(this._view)}checkNoChanges(){!function(i){Ia(!0);try{lE(i)}finally{Ia(!1)}}(this._view)}get context(){return null}}const Kk=function(i){return function(i,s,a){if(su(i)&&!a){const u=Zr(i.index,s);return new Qp(u,u)}return 47&i.type?new Qp(s[16],s):null}(sn(),Ne(),16==(16&i))};let uD=(()=>{class i{}return i.__NG_ELEMENT_ID__=Kk,i})();const RA=[new sD],cD=new Kp([new nD]),kA=new Db(RA),FA=function(){return Tb(sn(),Ne())};let zh=(()=>{class i{}return i.__NG_ELEMENT_ID__=FA,i})();const LA=zh,VA=class extends LA{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Tp(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),Ih(a,u,s),new Qp(u)}};function Tb(i,s){return 4&i.type?new VA(s,i,cd(i,s)):null}class Ou{}class dD{}const Ib=function(){return Po(sn(),Ne())};let q_=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ib,i})();const ss=q_,HA=class extends ss{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ge(this._hostTNode,this._hostLView);if(En(s)){const a=Yo(s,this._hostLView),u=$s(s);return new vs(a[1].data[u+8],a)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Sb(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const d=s.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(s,a,u,d,f){const _=u||this.parentInjector;if(!f&&null==s.ngModule&&_){const E=_.get(Ou,null);E&&(f=E)}const y=s.create(_,d,void 0,f);return this.insert(y.hostView,a),y}insert(s,a){const u=s._lView,d=u[1];if(Cr(u[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const R=u[3],O=new HA(R,R[6],R[3]);O.detach(O.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,u){const d=10+u,f=a.length;u>0&&(a[d-1][4]=s),u<f-10?(s[4]=a[d],Qo(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,u,_,f);const y=Vv(f,_),E=u[11],D=Bm(E,_[7]);return null!==D&&function(i,s,a,u,d,f){u[0]=d,u[6]=s,Hc(i,u,a,1,d,f)}(d,_[6],E,u,D,y),s.attachToViewContainerRef(),Qo(pe(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Sb(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Um(this._lContainer,a);u&&(di(pe(this._lContainer),a),P1(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Um(this._lContainer,a);return u&&null!=di(pe(this._lContainer),a)?new Qp(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Sb(i){return i[8]}function pe(i){return i[8]||(i[8]=[])}function Po(i,s){let a;const u=s[i.index];if(Cr(u))a=u;else{let d;if(8&i.type)d=un(u);else{const f=s[11];d=f.createComment("");const _=Dr(i,s);Du(f,Bm(f,_),d,function(i,s){return ln(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=Ap(u,s,d,i),r_(s,a)}return new HA(a,i,s)}const Wa={};class ty extends ud{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=or(s);return new ny(a,this.ngModule)}}function Wb(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const cg=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mp});class ny extends YC{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(DR).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Wb(this.componentDef.inputs)}get outputs(){return Wb(this.componentDef.outputs)}create(s,a,u,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,u,d)=>{const f=i.get(a,Wa,d);return f!==Wa||u===Wa?f:s.get(a,u,d)}}}(s,d.injector):s,_=f.get($_,zi),y=f.get(Eb,null),E=_.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=u?function(i,s,a){if(ln(i))return i.selectRootElement(s,a===Ue.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Ov(_.createRenderer(null,this.componentDef),D,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(D)),R=this.componentDef.onPush?576:528,O=function(i,s){return{components:[],scheduler:i||mp,clean:uE,playerHandler:s||null,flags:0}}(),G=Ip(0,null,null,1,0,null,null,null,null,null),W=Tp(null,G,O,R,null,null,_,E,y,f);let fe,te;vl(W);try{const Oe=function(i,s,a,u,d,f){const _=a[1];a[20]=i;const E=Ht(_,20,2,"#host",null),D=E.mergedAttrs=s.hostAttrs;null!==D&&(Mu(E,D,!0),null!==i&&(_s(d,i,D),null!==E.classes&&Bv(d,i,E.classes),null!==E.styles&&H1(d,i,E.styles)));const S=u.createRenderer(i,s),R=Tp(a,Xv(s),null,s.onPush?64:16,a[20],E,u,S,f||null,null);return _.firstCreatePass&&(qt(Gs(E,a),_,s.type),Sp(_,E),sE(E,a.length,1)),r_(a,R),a[20]=R}(S,this.componentDef,W,_,E);if(S)if(u)_s(E,S,["ng-version",G_.full]);else{const{attrs:Ce,classes:Xe}=function(i){const s=[],a=[];let u=1,d=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++u]):8===d&&a.push(f);else{if(!oa(d))break;d=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ce&&_s(E,S,Ce),Xe&&Xe.length>0&&Bv(E,S,Xe.join(" "))}if(te=au(G,20),void 0!==a){const Ce=te.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const dt=a[Xe];Ce.push(null!=dt?Array.from(dt):null)}}fe=function(i,s,a,u,d){const f=a[1],_=function(i,s,a){const u=sn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),PI(i,u,s,qc(i,s,1,null),a));const d=Cn(s,i,u.directiveStart,u);Nr(d,s);const f=Dr(u,s);return f&&Nr(f,s),d}(f,a,s);if(u.components.push(_),i[8]=_,d&&d.forEach(E=>E(_,s)),s.contentQueries){const E=sn();s.contentQueries(1,_,E.directiveStart)}const y=sn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(bl(y.index),c0(a[1],y,0,y.directiveStart,y.directiveEnd,s),Xm(s,_)),_}(Oe,this.componentDef,W,O,[IE]),Ih(G,W,null)}finally{zo()}return new dg(this.componentType,fe,cd(te,W),W,te)}}class dg extends class{}{constructor(s,a,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new AA(d),this.componentType=s}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const nf=new Map;class MD extends Ou{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ty(this);const u=Hi(s),d=s[ft]||null;d&&MC(d),this._bootstrapComponents=Ws(u.bootstrap),this._r3Injector=jI(s,a,[{provide:Ou,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],K(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=qn.THROW_IF_NOT_FOUND,u=Ke.Default){return s===qn||s===Ou||s===xu?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ew extends dD{constructor(s){super(),this.moduleType=s,null!==Hi(s)&&function(i){const s=new Set;!function a(u){const d=Hi(u,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${K(s)} vs ${K(s.name)}`)}(f,nf.get(f),u),nf.set(f,u));const _=Ws(d.imports);for(const y of _)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new MD(this.moduleType,s)}}function tw(i,s,a,u){return sw(Ne(),xn(),i,s,a,u)}function pg(i,s,a,u,d){return function(i,s,a,u,d,f,_){const y=s+a;return Kc(i,y,d,f)?rs(i,y+2,_?u.call(_,d,f):u(d,f)):la(i,y+2)}(Ne(),xn(),i,s,a,u,d)}function rf(i,s,a,u,d,f){return function(i,s,a,u,d,f,_,y){const E=s+a;return function(i,s,a,u,d){const f=Kc(i,s,a,u);return xi(i,s+2,d)||f}(i,E,d,f,_)?rs(i,E+3,y?u.call(y,d,f,_):u(d,f,_)):la(i,E+3)}(Ne(),xn(),i,s,a,u,d,f)}function la(i,s){const a=i[s];return a===It?void 0:a}function sw(i,s,a,u,d,f){const _=s+a;return xi(i,_,d)?rs(i,_+1,f?u.call(f,d):u(d)):la(i,_+1)}function mg(i,s){const a=At();let u;const d=i+20;a.firstCreatePass?(u=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}throw new Ae("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const f=u.factory||(u.factory=Vs(u.type)),_=si(Up);try{const y=Ma(!1),E=f();return Ma(y),function(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Ne(),d,E),E}finally{si(_)}}function ow(i,s,a){const u=i+20,d=Ne(),f=fs(d,u);return function(i,s){aa.isWrapped(s)&&(s=aa.unwrap(s),i[Si()]=It);return s}(d,function(i,s){return i[1].data[s].pure}(d,u)?sw(d,xn(),s,f.transform,a,f):f.transform(a))}function sy(i){return s=>{setTimeout(i,void 0,s)}}const Ka=class extends l.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var d,f,_;let y=s,E=a||(()=>null),D=u;if(s&&"object"==typeof s){const R=s;y=null===(d=R.next)||void 0===d?void 0:d.bind(R),E=null===(f=R.error)||void 0===f?void 0:f.bind(R),D=null===(_=R.complete)||void 0===_?void 0:_.bind(R)}this.__isAsync&&(E=sy(E),y&&(y=sy(y)),D&&(D=sy(D)));const S=super.subscribe({next:y,error:E,complete:D});return s instanceof ne.w&&s.add(S),S}};function hN(){return this._results[Rh()]()}class oy{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Rh(),u=oy.prototype;u[a]||(u[a]=hN)}get changes(){return this._changes||(this._changes=new Ka)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=Ji(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],f=s[u];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ay{constructor(s){this.queryList=s,this.matches=null}clone(){return new ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<u;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new ly(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==af(s,a).matches&&this.queries[a].setDirty()}}class aw{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Bu{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,d);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new Bu(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class lw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new lw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(s,a,pN(a,f)),this.matchTNodeWithReadOption(s,a,Eo(a,s,f,!1,!1))}else u===zh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Eo(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===za||d===q_||d===zh&&4&a.type)this.addMatch(a.index,-2);else{const f=Eo(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function pN(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function gN(i,s,a,u){return-1===a?function(i,s){return 11&i.type?cd(i,s):4&i.type?Tb(i,s):null}(s,i):-2===a?function(i,s,a){return a===za?cd(s,i):a===zh?Tb(s,i):a===q_?Po(s,i):void 0}(i,s,u):Cn(i,i[1],a,s)}function uw(i,s,a,u){const d=s[19].queries[u];if(null===d.matches){const f=i.data,_=a.matches,y=[];for(let E=0;E<_.length;E+=2){const D=_[E];y.push(D<0?null:gN(s,f[D],_[E+1],a.metadata.read))}d.matches=y}return d.matches}function yg(i,s,a,u){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const _=uw(i,s,d,a);for(let y=0;y<f.length;y+=2){const E=f[y];if(E>0)u.push(_[y/2]);else{const D=f[y+1],S=s[-E];for(let R=10;R<S.length;R++){const O=S[R];O[17]===O[3]&&yg(O[1],O,D,u)}if(null!==S[9]){const R=S[9];for(let O=0;O<R.length;O++){const G=R[O];yg(G[1],G,D,u)}}}}}return u}function uy(i){const s=Ne(),a=At(),u=Jd();ml(u+1);const d=af(a,u);if(i.dirty&&dl(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?yg(a,s,u,[]):uw(a,s,d,u);i.reset(f,XC),i.notifyOnChanges()}return!0}return!1}function cw(i,s,a){const u=At();u.firstCreatePass&&(PD(u,new aw(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),OD(u,Ne(),s)}function dw(i,s,a,u){const d=At();if(d.firstCreatePass){const f=sn();PD(d,new aw(s,a,u),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}OD(d,Ne(),a)}function cy(){return i=Ne(),s=Jd(),i[19].queries[s].queryList;var i,s}function OD(i,s,a){const u=new oy(4==(4&a));n0(i,s,u,u.destroy),null===s[19]&&(s[19]=new ly),s[19].queries.push(new ay(u))}function PD(i,s,a){null===i.queries&&(i.queries=new Bu),i.queries.track(new lw(s,a))}function af(i,s){return i.queries.getByIndex(s)}function vg(i,s){return Tb(i,s)}const as=new vn("Application Initializer");let hf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Yp,this.reject=Yp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if($0(f))a.push(f);else if(xr(f)){const _=new Promise((y,E)=>{f.subscribe({complete:y,error:E})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(bn(as,8))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const Sw=new vn("AppId"),ff={provide:Sw,useFactory:function(){return`${yy()}${yy()}${yy()}`},deps:[]};function yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lr=new vn("Platform Initializer"),Nt=new vn("Platform ID"),Aw=new vn("appBootstrapListener");let Nw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const ju=new vn("LocaleId"),Qt=new vn("DefaultCurrencyCode");class Hu{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Mg=function(i){return new ew(i)},ZD=Mg,wy=function(i){return Promise.resolve(Mg(i))},Qe=function(i){const s=Mg(i),u=Ws(Hi(i).declarations).reduce((d,f)=>{const _=or(f);return _&&d.push(new ny(_)),d},[]);return new Hu(s,u)},Dd=Qe,mf=function(i){return Promise.resolve(Qe(i))};let _f=(()=>{class i{constructor(){this.compileModuleSync=ZD,this.compileModuleAsync=wy,this.compileModuleAndAllComponentsSync=Dd,this.compileModuleAndAllComponentsAsync=mf}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();const Cy=(()=>Promise.resolve(0))();function xg(i){"undefined"==typeof Zone?Cy.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class As{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=nn.requestAnimationFrame,s=nn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Dy(i),i.isCheckStableRunning=!0,yf(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Dy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,f,_,y)=>{try{return Nn(i),a.invokeTask(d,f,_,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),WD(i)}},onInvoke:(a,u,d,f,_,y,E)=>{try{return Nn(i),a.invoke(d,f,_,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),WD(i)}},onHasTask:(a,u,d,f)=>{a.hasTask(d,f),u===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Dy(i),yf(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!As.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(As.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,zD,Yp,Yp);try{return f.runTask(_,a,u)}finally{f.cancelTask(_)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const zD={};function yf(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Dy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Nn(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function WD(i){i._nesting--,yf(i)}class YD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}let vf=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{As.assertNotInAngularZone(),xg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(bn(As))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})(),KD=(()=>{class i{constructor(){this._applications=new Map,wi.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return wi.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();class Ty{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function Iy(i){wi=i}let wi=new Ty,JD=!0,QD=!1;function kw(){return QD=!0,JD}function AN(){if(QD)throw new Error("Cannot enable prod mode after platform setup.");JD=!1}let Vo;const Ow=new vn("AllowMultipleToken");class Kl{constructor(s,a){this.name=s,this.token=a}}function Td(i,s,a=[]){const u=`Platform: ${s}`,d=new vn(u);return(f=[])=>{let _=Ny();if(!_||_.injector.get(Ow,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const y=a.concat(f).concat({provide:d,useValue:!0},{provide:zc,useValue:"platform"});!function(i){if(Vo&&!Vo.destroyed&&!Vo.injector.get(Ow,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vo=i.get(My);const s=i.get(Lr,null);s&&s.forEach(a=>a())}(qn.create({providers:y,name:u}))}return function(i){const s=Ny();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function Ny(){return Vo&&!Vo.destroyed?Vo:null}let My=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const y=function(i,s){let a;return a="noop"===i?new YD:("zone.js"===i?void 0:i)||new As({enableLongStackTrace:kw(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:As,useValue:y}];return y.run(()=>{const D=qn.create({providers:E,parent:this.injector,name:a.moduleType.name}),S=a.create(D),R=S.injector.get(g,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:G=>{R.handleError(G)}});S.onDestroy(()=>{Id(this._modules,S),O.unsubscribe()})}),function(i,s,a){try{const u=a();return $0(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(R,y,()=>{const O=S.injector.get(hf);return O.runInitializers(),O.donePromise.then(()=>(MC(S.injector.get(ju,lb)||lb),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,u=[]){const d=Qs({},u);return function(i,s,a){const u=new ew(a);return Promise.resolve(u)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const u=a.injector.get(Ef);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${K(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(bn(qn))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function Qs(i,s){return Array.isArray(s)?s.reduce(Qs,i):Object.assign(Object.assign({},i),s)}let Ef=(()=>{class i{constructor(a,u,d,f,_){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),E=new L.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{As.assertNotInAngularZone(),xg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{As.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=(0,he.T)(y,E.pipe((0,ie.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof YC?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ou),y=d.create(qn.NULL,[],u||d.selector,f),E=y.location.nativeElement,D=y.injector.get(vf,null),S=D&&y.injector.get(KD);return D&&S&&S.registerApplication(E,D),y.onDestroy(()=>{this.detachView(y.hostView),Id(this.components,y),S&&S.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Id(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Aw,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(bn(As),bn(qn),bn(g),bn(ud),bn(hf))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function Id(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class Og{}class kN{}const ON={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tT=(()=>{class i{constructor(a,u){this._compiler=a,this._config=u||ON}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[u,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(u).then(f=>f[d]).then(f=>Sd(f,u,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[u,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(_=>_[d+f]).then(_=>Sd(_,u,d))}}return i.\u0275fac=function(a){return new(a||i)(bn(_f),bn(kN,8))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),i})();function Sd(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const VN=function(i){return null},Ei=Td(null,"core",[{provide:Nt,useValue:"unknown"},{provide:My,deps:[qn]},{provide:KD,deps:[]},{provide:Nw,deps:[]}]),Zw=[{provide:Ef,useClass:Ef,deps:[As,qn,g,ud,hf]},{provide:cg,deps:[As],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:hf,useClass:hf,deps:[[new Ao,as]]},{provide:_f,useClass:_f,deps:[]},ff,{provide:Kp,useFactory:function(){return cD},deps:[]},{provide:Db,useFactory:function(){return kA},deps:[]},{provide:ju,useFactory:function(i){return MC(i=i||"undefined"!=typeof $localize&&$localize.locale||lb),i},deps:[[new Ml(ju),new Ao,new Sr]]},{provide:Qt,useValue:"USD"}];let sT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(bn(Ef))},i.\u0275mod=ga({type:i}),i.\u0275inj=xt({providers:Zw}),i})()},8939:(Ye,we,F)=>{"use strict";F.d(we,{hO:()=>le,xv:()=>H,Dh:()=>K,GT:()=>Q,cc:()=>Me,on:()=>P,pX:()=>ie});var l=F(7716),ne=F(7841),L=F(6643);Ye=F.hmd(Ye);const he=["ngOnDestroy"],ie=(X,re,Ee,Ie={})=>new Proxy(X,{get:(Je,Tt)=>Ee.runOutsideAngular(()=>{var kt;if(X[Tt])return(null===(kt=null==Ie?void 0:Ie.spy)||void 0===kt?void 0:kt.get)&&Ie.spy.get(Tt,X[Tt]),X[Tt];if(he.indexOf(Tt)>-1)return()=>{};const gt=re.toPromise().then(Se=>{const se=Se&&Se[Tt];return"function"==typeof se?se.bind(Se):se&&se.then?se.then(ue=>Ee.run(()=>ue)):Ee.run(()=>se)});return new Proxy(()=>{},{get:(Se,se)=>gt[se],apply:(Se,se,ue)=>gt.then(ve=>{var ce;const Fe=ve&&ve(...ue);return(null===(ce=null==Ie?void 0:Ie.spy)||void 0===ce?void 0:ce.apply)&&Ie.spy.apply(Tt,ue,Fe),Fe})})})}),Q=(X,re)=>{re.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Ie=>{Object.defineProperty(X.prototype,Ie,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Ie))})})};class oe{constructor(re){return re}}const K=new l.OlP("angularfire2.app.options"),H=new l.OlP("angularfire2.app.name");function P(X,re,Ee){const Je="object"==typeof Ee&&Ee||{};Je.name=Je.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const kt=ne.Z.apps.filter(gt=>gt&&gt.name===Je.name)[0]||re.runOutsideAngular(()=>ne.Z.initializeApp(X,Je));try{JSON.stringify(X)!==JSON.stringify(kt.options)&&B("error",`${kt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(gt){}return new oe(kt)}const B=(X,...re)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[X](...re)},$={provide:oe,useFactory:P,deps:[K,l.R0b,[new l.FiY,H]]};let le=(()=>{class X{constructor(Ee){ne.Z.registerVersion("angularfire",L.q4.full,"core"),ne.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ne.Z.registerVersion("angular",l.q4F.full,Ee.toString())}static initializeApp(Ee,Ie){return{ngModule:X,providers:[{provide:K,useValue:Ee},{provide:H,useValue:Ie}]}}}return X.\u0275fac=function(Ee){return new(Ee||X)(l.LFG(l.Lbi))},X.\u0275mod=l.oAB({type:X}),X.\u0275inj=l.cJS({providers:[$]}),X})();function Me(X,re,Ee,Ie,Je){const[,Tt,kt]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===X)||[];if(Tt)return function(X,re){try{return X.toString()===re.toString()}catch(Ee){return X===re}}(Je,kt)||(de("error",`${re} was already initialized on the ${Ee} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Je,was:kt})),Tt;{const gt=Ie();return globalThis.\u0275AngularfireInstanceCache.push([X,gt,Je]),gt}}const De=!!Ye.hot,de=(X,...re)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[X](...re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Ye,we,F)=>{"use strict";F.d(we,{q4:()=>hm,iC:()=>On,fc:()=>fu,HU:()=>hu,vb:()=>Qo,JM:()=>Es});var l=F(7716),ne=F(2329),L=F(8239),he=F(5452),ie=F(3854),Q=F(6034),oe=F(5601),K=F(6676);const H="@firebase/installations",P="0.5.2",$=`w:${P}`,le="FIS_v2",re=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(C){return C instanceof ie.ZR&&C.code.includes("request-failed")}function Ie({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Je(C){return{token:C.token,requestStatus:2,expiresIn:ve(C.expiresIn),creationTime:Date.now()}}function Tt(C,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,L.Z)(function*(C,I){const j=(yield I.json()).error;return re.create("request-failed",{requestName:C,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function gt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Se(C,{refreshToken:I}){const x=gt(C);return x.append("Authorization",function(C){return`${le} ${C}`}(I)),x}function se(C){return ue.apply(this,arguments)}function ue(){return(ue=(0,L.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ve(C){return Number(C.replace("s","000"))}function Fe(C,I){return me.apply(this,arguments)}function me(){return(me=(0,L.Z)(function*(C,{fid:I}){const x=Ie(C),ge={method:"POST",headers:gt(C),body:JSON.stringify({fid:I,authVersion:le,appId:C.appId,sdkVersion:$})},xe=yield se(()=>fetch(x,ge));if(xe.ok){const qe=yield xe.json();return{fid:qe.fid||I,registrationStatus:2,refreshToken:qe.refreshToken,authToken:Je(qe.authToken)}}throw yield Tt("Create Installation",xe)})).apply(this,arguments)}function ht(C){return new Promise(I=>{setTimeout(I,C)})}const Tn=/^[cdef][\w-]{21}$/;function yt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Tn.test(x)?x:""}catch(C){return""}}function en(C){return`${C.appName}!${C.appId}`}const dr=new Map;function ti(C,I){const x=en(C);xt(x,I),function(C,I){const x=(!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=C=>{xt(C.data.key,C.data.fid)}),sr);x&&x.postMessage({key:C,fid:I}),0===dr.size&&sr&&(sr.close(),sr=null)}(x,I)}function xt(C,I){const x=dr.get(C);if(x)for(const j of x)j(I)}let sr=null;const ri="firebase-installations-store";let Bi=null;function Ps(){return Bi||(Bi=(0,K.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(ri)}})),Bi}function Ke(C,I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(C,I){const x=en(C),ee=(yield Ps()).transaction(ri,"readwrite"),ge=ee.objectStore(ri),xe=yield ge.get(x);return yield ge.put(I,x),yield ee.complete,(!xe||xe.fid!==I.fid)&&ti(C,I.fid),I})).apply(this,arguments)}function ii(C){return si.apply(this,arguments)}function si(){return(si=(0,L.Z)(function*(C){const I=en(C),j=(yield Ps()).transaction(ri,"readwrite");yield j.objectStore(ri).delete(I),yield j.complete})).apply(this,arguments)}function ot(C,I){return nt.apply(this,arguments)}function nt(){return(nt=(0,L.Z)(function*(C,I){const x=en(C),ee=(yield Ps()).transaction(ri,"readwrite"),ge=ee.objectStore(ri),xe=yield ge.get(x),qe=I(xe);return void 0===qe?yield ge.delete(x):yield ge.put(qe,x),yield ee.complete,qe&&(!xe||xe.fid!==qe.fid)&&ti(C,qe.fid),qe})).apply(this,arguments)}function jt(C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,L.Z)(function*(C){let I;const x=yield ot(C,j=>{const ee=Er(j),ge=Yt(C,ee);return I=ge.registrationPromise,ge.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function Er(C){return nn(C||{fid:yt(),registrationStatus:0})}function Yt(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(re.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,I){return rt.apply(this,arguments)}(C,x)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ti(C)}:{installationEntry:I}}function rt(){return(rt=(0,L.Z)(function*(C,I){try{return Ke(C,yield Fe(C,I))}catch(x){throw Ee(x)&&409===x.customData.serverCode?yield ii(C):yield Ke(C,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Ti(C){return us.apply(this,arguments)}function us(){return(us=(0,L.Z)(function*(C){let I=yield ji(C);for(;1===I.registrationStatus;)yield ht(100),I=yield ji(C);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:j}=yield jt(C);return j||x}return I})).apply(this,arguments)}function ji(C){return ot(C,I=>{if(!I)throw re.create("installation-not-found");return nn(I)})}function nn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function pa(C,I){return Z.apply(this,arguments)}function Z(){return(Z=(0,L.Z)(function*({appConfig:C,platformLoggerProvider:I},x){const j=q(C,x),ee=Se(C,x),ge=I.getImmediate({optional:!0});ge&&ee.append("x-firebase-client",ge.getPlatformInfoString());const qe={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:$}})},Ze=yield se(()=>fetch(j,qe));if(Ze.ok)return Je(yield Ze.json());throw yield Tt("Generate Auth Token",Ze)})).apply(this,arguments)}function q(C,{fid:I}){return`${Ie(C)}/${I}/authTokens:generate`}function z(C){return Te.apply(this,arguments)}function Te(){return(Te=(0,L.Z)(function*(C,I=!1){let x;const j=yield ot(C.appConfig,ge=>{if(!hn(ge))throw re.create("not-registered");const xe=ge.authToken;if(!I&&Hr(xe))return ge;if(1===xe.requestStatus)return x=ae(C,I),ge;{if(!navigator.onLine)throw re.create("app-offline");const qe=Xn(ge);return x=Ut(C,qe),qe}});return x?yield x:j.authToken})).apply(this,arguments)}function ae(C,I){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(C,I){let x=yield ft(C.appConfig);for(;1===x.authToken.requestStatus;)yield ht(100),x=yield ft(C.appConfig);const j=x.authToken;return 0===j.requestStatus?z(C,I):j})).apply(this,arguments)}function ft(C){return ot(C,I=>{if(!hn(I))throw re.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ut(C,I){return rn.apply(this,arguments)}function rn(){return(rn=(0,L.Z)(function*(C,I){try{const x=yield pa(C,I),j=Object.assign(Object.assign({},I),{authToken:x});return yield Ke(C.appConfig,j),x}catch(x){if(!Ee(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const j=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ke(C.appConfig,j)}else yield ii(C.appConfig);throw x}})).apply(this,arguments)}function hn(C){return void 0!==C&&2===C.registrationStatus}function Hr(C){return 2===C.requestStatus&&!function(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function Xn(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function ga(){return(ga=(0,L.Z)(function*(C){const I=C,{installationEntry:x,registrationPromise:j}=yield jt(I.appConfig);return j?j.catch(console.error):z(I).catch(console.error),x.fid})).apply(this,arguments)}function tl(){return(tl=(0,L.Z)(function*(C,I=!1){const x=C;return yield nu(x.appConfig),(yield z(x,I)).token})).apply(this,arguments)}function nu(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,L.Z)(function*(C){const{registrationPromise:I}=yield jt(C);I&&(yield I)})).apply(this,arguments)}function Wt(C){return re.create("missing-app-config-values",{valueName:C})}const Gr="installations";(0,he._registerComponent)(new Q.wA(Gr,C=>{const I=C.getProvider("app").getImmediate();return{app:I,appConfig:function(C){if(!C||!C.options)throw Wt("App Configuration");if(!C.name)throw Wt("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!C.options[x])throw Wt(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I),platformLoggerProvider:(0,he._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new Q.wA("installations-internal",C=>{const I=C.getProvider("app").getImmediate(),x=(0,he._getProvider)(I,Gr).getImmediate();return{getId:()=>function(C){return ga.apply(this,arguments)}(x),getToken:ee=>function(C){return tl.apply(this,arguments)}(x,ee)}},"PRIVATE")),(0,he.registerVersion)(H,P),(0,he.registerVersion)(H,P,"esm2017");const $o="@firebase/remote-config",er=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pr{constructor(I,x,j,ee){this.client=I,this.storage=x,this.storageCache=j,this.logger=ee}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-x,ee=j<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ee}.`),ee}fetch(I){var x=this;return(0,L.Z)(function*(){const[j,ee]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ee&&x.isCachedDataFresh(I.cacheMaxAgeMillis,j))return ee;I.eTag=ee&&ee.eTag;const ge=yield x.client.fetch(I),xe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&xe.push(x.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(xe),ge})()}}function qr(C=navigator){return C.languages&&C.languages[0]||C.language}class jn{constructor(I,x,j,ee,ge,xe){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=j,this.projectId=ee,this.apiKey=ge,this.appId=xe}fetch(I){var x=this;return(0,L.Z)(function*(){const[j,ee]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ze={sdk_version:x.sdkVersion,app_instance_id:j,app_instance_id_token:ee,app_id:x.appId,language_code:qr()},Lt={method:"POST",headers:qe,body:JSON.stringify(Ze)},Jt=fetch(xe,Lt),Pn=new Promise((Ni,fi)=>{I.signal.addEventListener(()=>{const pt=new Error("The operation was aborted.");pt.name="AbortError",fi(pt)})});let hi;try{yield Promise.race([Jt,Pn]),hi=yield Jt}catch(Ni){let fi="fetch-client-network";throw"AbortError"===Ni.name&&(fi="fetch-timeout"),er.create(fi,{originalErrorMessage:Ni.message})}let tr=hi.status;const Oa=hi.headers.get("ETag")||void 0;let Nl,Pa;if(200===hi.status){let Ni;try{Ni=yield hi.json()}catch(fi){throw er.create("fetch-client-parse",{originalErrorMessage:fi.message})}Nl=Ni.entries,Pa=Ni.state}if("INSTANCE_STATE_UNSPECIFIED"===Pa?tr=500:"NO_CHANGE"===Pa?tr=304:("NO_TEMPLATE"===Pa||"EMPTY_CONFIG"===Pa)&&(Nl={}),304!==tr&&200!==tr)throw er.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:Oa,config:Nl}})()}}class hs{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,L.Z)(function*(){const j=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,j)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:j}){var ee=this;return(0,L.Z)(function*(){yield function(C,I){return new Promise((x,j)=>{const ee=Math.max(I-Date.now(),0),ge=setTimeout(x,ee);C.addEventListener(()=>{clearTimeout(ge),j(er.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ge=yield ee.client.fetch(I);return yield ee.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ge))throw ge;const xe={throttleEndTimeMillis:Date.now()+(0,ie.$s)(j),backoffCount:j+1};return yield ee.storage.setThrottleMetadata(xe),ee.attemptFetch(I,xe)}})()}}class nm{constructor(I,x,j,ee,ge){this.app=I,this._client=x,this._storageCache=j,this._storage=ee,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function il(C,I){const x=C.target.error||void 0;return er.create(I,{originalErrorMessage:x&&x.message})}const ya="app_namespace_store";class qd{constructor(I,x,j,ee=function(){return new Promise((C,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=j=>{I(il(j,"storage-open"))},x.onsuccess=j=>{C(j.target.result)},x.onupgradeneeded=j=>{const ee=j.target.result;switch(j.oldVersion){case 0:ee.createObjectStore(ya,{keyPath:"compositeKey"})}}}catch(x){I(er.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=j,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,L.Z)(function*(){const j=yield x.openDbPromise;return new Promise((ee,ge)=>{const qe=j.transaction([ya],"readonly").objectStore(ya),Ze=x.createCompositeKey(I);try{const Lt=qe.get(Ze);Lt.onerror=Jt=>{ge(il(Jt,"storage-get"))},Lt.onsuccess=Jt=>{const Pn=Jt.target.result;ee(Pn?Pn.value:void 0)}}catch(Lt){ge(er.create("storage-get",{originalErrorMessage:Lt&&Lt.message}))}})})()}set(I,x){var j=this;return(0,L.Z)(function*(){const ee=yield j.openDbPromise;return new Promise((ge,xe)=>{const Ze=ee.transaction([ya],"readwrite").objectStore(ya),Lt=j.createCompositeKey(I);try{const Jt=Ze.put({compositeKey:Lt,value:x});Jt.onerror=Pn=>{xe(il(Pn,"storage-set"))},Jt.onsuccess=()=>{ge()}}catch(Jt){xe(er.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(I){var x=this;return(0,L.Z)(function*(){const j=yield x.openDbPromise;return new Promise((ee,ge)=>{const qe=j.transaction([ya],"readwrite").objectStore(ya),Ze=x.createCompositeKey(I);try{const Lt=qe.delete(Ze);Lt.onerror=Jt=>{ge(il(Jt,"storage-delete"))},Lt.onsuccess=()=>{ee()}}catch(Lt){ge(er.create("storage-delete",{originalErrorMessage:Lt&&Lt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class va{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const x=I.storage.getLastFetchStatus(),j=I.storage.getLastSuccessfulFetchTimestampMillis(),ee=I.storage.getActiveConfig(),ge=yield x;ge&&(I.lastFetchStatus=ge);const xe=yield j;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const qe=yield ee;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function om(){return wa.apply(this,arguments)}function wa(){return(wa=(0,L.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new Q.wA("remote-config",function(I,{instanceIdentifier:x}){const j=I.getProvider("app").getImmediate(),ee=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw er.create("registration-window");if(!(0,ie.hl)())throw er.create("indexed-db-unavailable");const{projectId:ge,apiKey:xe,appId:qe}=j.options;if(!ge)throw er.create("registration-project-id");if(!xe)throw er.create("registration-api-key");if(!qe)throw er.create("registration-app-id");const Ze=new qd(qe,j.name,x=x||"firebase"),Lt=new va(Ze),Jt=new oe.Yd($o);Jt.logLevel=oe.in.ERROR;const Pn=new jn(ee,he.SDK_VERSION,x,ge,xe,qe),hi=new hs(Pn,Ze),tr=new pr(hi,Ze,Lt,Jt),Oa=new nm(j,tr,Lt,Ze,Jt);return function(C){const I=(0,ie.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Oa),Oa},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)($o,"0.3.1"),(0,he.registerVersion)($o,"0.3.1","esm2017");const Gi="/firebase-messaging-sw.js",sl="/firebase-cloud-messaging-push-scope",fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vs="google.c.a.c_id",Zd="google.c.a.c_l",gr="google.c.a.ts",po="google.c.a.e";var go=(()=>{return(C=go||(go={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",go;var C})();function qi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sc(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(x),ee=new Uint8Array(j.length);for(let ge=0;ge<j.length;++ge)ee[ge]=j.charCodeAt(ge);return ee}const Ea="fcm_token_details_db",zd="fcm_token_object_Store";function Zi(C){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(Ea))return null;let I=null;return(yield(0,K.openDb)(Ea,5,function(){var j=(0,L.Z)(function*(ee){var ge;if(ee.oldVersion<2||!ee.objectStoreNames.contains(zd))return;const xe=ee.transaction.objectStore(zd),qe=yield xe.index("fcmSenderId").get(C);if(yield xe.clear(),qe)if(2===ee.oldVersion){const Ze=qe;if(!Ze.auth||!Ze.p256dh||!Ze.endpoint)return;I={token:Ze.fcmToken,createTime:null!==(ge=Ze.createTime)&&void 0!==ge?ge:Date.now(),subscriptionOptions:{auth:Ze.auth,p256dh:Ze.p256dh,endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:"string"==typeof Ze.vapidKey?Ze.vapidKey:qi(Ze.vapidKey)}}}else if(3===ee.oldVersion){const Ze=qe;I={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:qi(Ze.auth),p256dh:qi(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:qi(Ze.vapidKey)}}}else if(4===ee.oldVersion){const Ze=qe;I={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:qi(Ze.auth),p256dh:qi(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:qi(Ze.vapidKey)}}}});return function(ee){return j.apply(this,arguments)}}())).close(),yield(0,K.deleteDb)(Ea),yield(0,K.deleteDb)("fcm_vapid_details_db"),yield(0,K.deleteDb)("undefined"),ol(I)?I:null})).apply(this,arguments)}function ol(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const mo="firebase-messaging-store";let ll=null;function ln(){return ll||(ll=(0,K.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(mo)}})),ll}function ul(C){return zi.apply(this,arguments)}function zi(){return(zi=(0,L.Z)(function*(C){const I=_o(C),j=yield(yield ln()).transaction(mo).objectStore(mo).get(I);if(j)return j;{const ee=yield Zi(C.appConfig.senderId);if(ee)return yield cl(C,ee),ee}})).apply(this,arguments)}function cl(C,I){return un.apply(this,arguments)}function un(){return(un=(0,L.Z)(function*(C,I){const x=_o(C),ee=(yield ln()).transaction(mo,"readwrite");return yield ee.objectStore(mo).put(I,x),yield ee.complete,I})).apply(this,arguments)}function oc(C){return ou.apply(this,arguments)}function ou(){return(ou=(0,L.Z)(function*(C){const I=_o(C),j=(yield ln()).transaction(mo,"readwrite");yield j.objectStore(mo).delete(I),yield j.complete})).apply(this,arguments)}function _o({appConfig:C}){return C.appId}const Sn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function au(C,I){return fs.apply(this,arguments)}function fs(){return(fs=(0,L.Z)(function*(C,I){const x=yield Ca(C),j=lt(I),ee={method:"POST",headers:x,body:JSON.stringify(j)};let ge;try{ge=yield(yield fetch(Us(C.appConfig),ee)).json()}catch(xe){throw Sn.create("token-subscribe-failed",{errorInfo:xe})}if(ge.error)throw Sn.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw Sn.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Zr(C,I){return dl.apply(this,arguments)}function dl(){return(dl=(0,L.Z)(function*(C,I){const x=yield Ca(C),j=lt(I.subscriptionOptions),ee={method:"PATCH",headers:x,body:JSON.stringify(j)};let ge;try{ge=yield(yield fetch(`${Us(C.appConfig)}/${I.token}`,ee)).json()}catch(xe){throw Sn.create("token-update-failed",{errorInfo:xe})}if(ge.error)throw Sn.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw Sn.create("token-update-no-token");return ge.token})).apply(this,arguments)}function ac(C,I){return yo.apply(this,arguments)}function yo(){return(yo=(0,L.Z)(function*(C,I){const j={method:"DELETE",headers:yield Ca(C)};try{const ge=yield(yield fetch(`${Us(C.appConfig)}/${I}`,j)).json();if(ge.error)throw Sn.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(ee){throw Sn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function Us({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Ca(C){return vo.apply(this,arguments)}function vo(){return(vo=(0,L.Z)(function*({appConfig:C,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function lt({p256dh:C,auth:I,endpoint:x,vapidKey:j}){const ee={web:{endpoint:x,auth:I,p256dh:C}};return j!==fo&&(ee.web.applicationPubKey=j),ee}const lu=6048e5;function $f(C){return hl.apply(this,arguments)}function hl(){return(hl=(0,L.Z)(function*(C){const I=yield lc(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:qi(I.getKey("auth")),p256dh:qi(I.getKey("p256dh"))},j=yield ul(C.firebaseDependencies);if(j){if(uc(j.subscriptionOptions,x))return Date.now()>=j.createTime+lu?Gf(C,{token:j.token,createTime:Date.now(),subscriptionOptions:x}):j.token;try{yield ac(C.firebaseDependencies,j.token)}catch(ee){console.warn(ee)}return Ne(C.firebaseDependencies,x)}return Ne(C.firebaseDependencies,x)})).apply(this,arguments)}function Yd(C){return fl.apply(this,arguments)}function fl(){return(fl=(0,L.Z)(function*(C){const I=yield ul(C.firebaseDependencies);I&&(yield ac(C.firebaseDependencies,I.token),yield oc(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Gf(C,I){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,L.Z)(function*(C,I){try{const x=yield Zr(C.firebaseDependencies,I),j=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield cl(C.firebaseDependencies,j),x}catch(x){throw yield Yd(C),x}})).apply(this,arguments)}function Ne(C,I){return At.apply(this,arguments)}function At(){return(At=(0,L.Z)(function*(C,I){const j={token:yield au(C,I),createTime:Date.now(),subscriptionOptions:I};return yield cl(C,j),j.token})).apply(this,arguments)}function lc(C,I){return sn.apply(this,arguments)}function sn(){return(sn=(0,L.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sc(I)})})).apply(this,arguments)}function uc(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function ps(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,I){if(!I.notification)return;C.notification={};const x=I.notification.title;x&&(C.notification.title=x);const j=I.notification.body;j&&(C.notification.body=j);const ee=I.notification.image;ee&&(C.notification.image=ee)}(I,C),function(C,I){!I.data||(C.data=I.data)}(I,C),function(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const x=I.fcmOptions.link;x&&(C.fcmOptions.link=x);const j=I.fcmOptions.analytics_label;j&&(C.fcmOptions.analyticsLabel=j)}(I,C),I}function lm(C){return"object"==typeof C&&!!C&&Vs in C}function Kd(C,I){const x=[];for(let j=0;j<C.length;j++)x.push(C.charAt(j)),j<I.length&&x.push(I.charAt(j));return x.join("")}function Ia(C){return Sn.create("missing-app-config-values",{valueName:C})}Kd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Kd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xn{constructor(I,x,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function(C){if(!C||!C.options)throw Ia("App Configuration Object");if(!C.name)throw Ia("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const j of I)if(!x[j])throw Ia(j);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ee,installations:x,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Si(C){return pl.apply(this,arguments)}function pl(){return(pl=(0,L.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Gi,{scope:sl}),C.swRegistration.update().catch(()=>{})}catch(I){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function bo(C,I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,L.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield Si(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function um(C,I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,L.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=fo)})).apply(this,arguments)}function gl(){return(gl=(0,L.Z)(function*(C,I){if(!navigator)throw Sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sn.create("permission-blocked");return yield um(C,null==I?void 0:I.vapidKey),yield bo(C,null==I?void 0:I.serviceWorkerRegistration),$f(C)})).apply(this,arguments)}function dc(C,I,x){return qo.apply(this,arguments)}function qo(){return(qo=(0,L.Z)(function*(C,I,x){const j=Jd(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:x[Vs],message_name:x[Zd],message_time:x[gr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jd(C){switch(C){case go.NOTIFICATION_CLICKED:return"notification_open";case go.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _l(){return(_l=(0,L.Z)(function*(C,I){const x=I.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===go.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ps(x)):C.onMessageHandler.next(ps(x)));const j=x.data;lm(j)&&"1"===j[po]&&(yield dc(C,x.messageType,j))})).apply(this,arguments)}const yl="@firebase/messaging";function eh(){return zo.apply(this,arguments)}function zo(){return(zo=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new Q.wA("messaging",C=>{const I=new xn(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,I){return _l.apply(this,arguments)}(I,x)),I},"PUBLIC")),(0,he._registerComponent)(new Q.wA("messaging-internal",C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:j=>function(C,I){return gl.apply(this,arguments)}(I,j)}},"PRIVATE")),(0,he.registerVersion)(yl,"0.9.2"),(0,he.registerVersion)(yl,"0.9.2","esm2017");const fc="analytics",pc="firebase_id",Na="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wl="https://www.googletagmanager.com/gtag/js",$n=new oe.Yd("@firebase/analytics");function gc(C){return Promise.all(C.map(I=>I.catch(x=>x)))}function mc(C,I){const x=document.createElement("script");x.src=`${wl}?l=${C}&id=${I}`,x.async=!0,document.head.appendChild(x)}function cu(C,I,x,j,ee,ge){return El.apply(this,arguments)}function El(){return(El=(0,L.Z)(function*(C,I,x,j,ee,ge){const xe=j[ee];try{if(xe)yield I[xe];else{const Ze=(yield gc(x)).find(Lt=>Lt.measurementId===ee);Ze&&(yield I[Ze.appId])}}catch(qe){$n.error(qe)}C("config",ee,ge)})).apply(this,arguments)}function th(C,I,x,j,ee){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,L.Z)(function*(C,I,x,j,ee){try{let ge=[];if(ee&&ee.send_to){let xe=ee.send_to;Array.isArray(xe)||(xe=[xe]);const qe=yield gc(x);for(const Ze of xe){const Lt=qe.find(Pn=>Pn.measurementId===Ze),Jt=Lt&&I[Lt.appId];if(!Jt){ge=[];break}ge.push(Jt)}}0===ge.length&&(ge=Object.values(I)),yield Promise.all(ge),C("event",j,ee||{})}catch(ge){$n.error(ge)}})).apply(this,arguments)}function mv(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(wl))return I;return null}const ms=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Hs=new class{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function rh(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function En(C){return $s.apply(this,arguments)}function $s(){return($s=(0,L.Z)(function*(C){var I;const{appId:x,apiKey:j}=C,ee={method:"GET",headers:rh(j)},ge=Na.replace("{app-id}",x),xe=yield fetch(ge,ee);if(200!==xe.status&&304!==xe.status){let qe="";try{const Ze=yield xe.json();(null===(I=Ze.error)||void 0===I?void 0:I.message)&&(qe=Ze.error.message)}catch(Ze){}throw ms.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:qe})}return xe.json()})).apply(this,arguments)}function ih(C){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,L.Z)(function*(C,I=Hs,x){const{appId:j,apiKey:ee,measurementId:ge}=C.options;if(!j)throw ms.create("no-app-id");if(!ee){if(ge)return{measurementId:ge,appId:j};throw ms.create("no-api-key")}const xe=I.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Wf;return setTimeout((0,L.Z)(function*(){qe.abort()}),void 0!==x?x:6e4),Cl({appId:j,apiKey:ee,measurementId:ge},xe,qe,I)})).apply(this,arguments)}function Cl(C,I,x){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,L.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:x},j,ee=Hs){const{appId:ge,measurementId:xe}=C;try{yield _v(j,I)}catch(qe){if(xe)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:ge,measurementId:xe};throw qe}try{const qe=yield En(C);return ee.deleteThrottleMetadata(ge),qe}catch(qe){if(!vc(qe)){if(ee.deleteThrottleMetadata(ge),xe)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:ge,measurementId:xe};throw qe}const Ze=503===Number(qe.customData.httpStatus)?(0,ie.$s)(x,ee.intervalMillis,30):(0,ie.$s)(x,ee.intervalMillis),Lt={throttleEndTimeMillis:Date.now()+Ze,backoffCount:x+1};return ee.setThrottleMetadata(ge,Lt),$n.debug(`Calling attemptFetch again in ${Ze} millis`),Cl(C,Lt,j,ee)}})).apply(this,arguments)}function _v(C,I){return new Promise((x,j)=>{const ee=Math.max(I-Date.now(),0),ge=setTimeout(x,ee);C.addEventListener(()=>{clearTimeout(ge),j(ms.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function vc(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Wf{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function bc(){return wc.apply(this,arguments)}function wc(){return(wc=(0,L.Z)(function*(){if(!(0,ie.hl)())return $n.warn(ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(C){return $n.warn(ms.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Ko(){return(Ko=(0,L.Z)(function*(C,I,x,j,ee,ge,xe){var qe;const Ze=ih(C);Ze.then(tr=>{x[tr.measurementId]=tr.appId,C.options.measurementId&&tr.measurementId!==C.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>$n.error(tr)),I.push(Ze);const Lt=bc().then(tr=>{if(tr)return j.getId()}),[Jt,Pn]=yield Promise.all([Ze,Lt]);mv()||mc(ge,Jt.measurementId),ee("js",new Date);const hi=null!==(qe=null==xe?void 0:xe.config)&&void 0!==qe?qe:{};return hi.origin="firebase",hi.update=!0,null!=Pn&&(hi[pc]=Pn),ee("config",Jt.measurementId,hi),Jt.measurementId})).apply(this,arguments)}class Kt{constructor(I){this.app=I}_delete(){return delete Ge[this.app.options.appId],Promise.resolve()}}let Ge={},qt=[];const Dl={};let qs,Rn,yn="dataLayer",Tl=!1;function Cn(C,I,x){!function(){const C=[];if((0,ie.ru)()&&C.push("This is a browser extension environment."),(0,ie.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((j,ee)=>`(${ee+1}) ${j}`).join(" "),x=ms.create("invalid-analytics-context",{errorInfo:I});$n.warn(x.message)}}();const j=C.options.appId;if(!j)throw ms.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ms.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ge[j])throw ms.create("already-exists",{id:j});if(!Tl){!function(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(yn);const{wrappedGtag:ge,gtagCore:xe}=function(C,I,x,j,ee){let ge=function(...xe){window[j].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ge=window[ee]),window[ee]=function(C,I,x,j){function ge(){return(ge=(0,L.Z)(function*(xe,qe,Ze){try{"event"===xe?yield th(C,I,x,qe,Ze):"config"===xe?yield cu(C,I,x,j,qe,Ze):C("set",qe)}catch(Lt){$n.error(Lt)}})).apply(this,arguments)}return function(xe,qe,Ze){return ge.apply(this,arguments)}}(ge,C,I,x),{gtagCore:ge,wrappedGtag:window[ee]}}(Ge,qt,Dl,yn,"gtag");Rn=ge,qs=xe,Tl=!0}return Ge[j]=function(C,I,x,j,ee,ge,xe){return Ko.apply(this,arguments)}(C,qt,Dl,I,qs,yn,x),new Kt(C)}function xa(){return(xa=(0,L.Z)(function*(C,I,x,j,ee){if(ee&&ee.global)C("event",x,j);else{const ge=yield I;C("event",x,Object.assign(Object.assign({},j),{send_to:ge}))}})).apply(this,arguments)}function bs(){return oh.apply(this,arguments)}function oh(){return(oh=(0,L.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(C){return!1}})).apply(this,arguments)}const Yf="@firebase/analytics";(0,he._registerComponent)(new Q.wA(fc,(I,{options:x})=>Cn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,he._registerComponent)(new Q.wA("analytics-internal",function(I){try{const x=I.getProvider(fc).getImmediate();return{logEvent:(j,ee,ge)=>function(C,I,x,j){C=(0,ie.m9)(C),function(C,I,x,j,ee){return xa.apply(this,arguments)}(Rn,Ge[C.app.options.appId],I,x,j).catch(ee=>$n.error(ee))}(x,j,ee,ge)}}catch(x){throw ms.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,he.registerVersion)(Yf,"0.7.2"),(0,he.registerVersion)(Yf,"0.7.2","esm2017");var ah=F(7771),dm=F(3637),Do=F(8307),Sl=F(9746),lh=F(2639);const hm=new l.GfV("7.1.1"),Al="__angularfire_symbol__analyticsIsSupported",Io="__angularfire_symbol__remoteConfigIsSupported",ws="__angularfire_symbol__messagingIsSupported";function Es(C,I,x){if(I){if(1===I.length)return I[0];const ge=I.filter(xe=>xe.app===x);if(1===ge.length)return ge[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Al]||(globalThis[Al]=bs().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[ws]||(globalThis[ws]=eh().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Io]||(globalThis[Io]=om().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Qo=(C,I)=>{const x=I?[I]:(0,ne.C6)(),j=[];return x.forEach(ee=>{ee.container.getProvider(C).instances.forEach(xe=>{j.includes(xe)||j.push(xe)})}),j};function di(){}class Zs{constructor(I,x=ah.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,j){const ee=this.zone;return this.delegate.schedule(function(xe){ee.runGuarded(()=>{I.apply(this,[xe])})},x,j)}}class ch{constructor(I){this.zone=I,this.task=null}call(I,x){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",di,{},di,di)),x.pipe((0,Do.b)({next:j,complete:j,error:j})).subscribe(I).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hu=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Zs(Zone.current)),this.insideAngular=x.run(()=>new Zs(Zone.current,dm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Xo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function fu(C){return C.pipe((0,Sl.QV)(Xo().outsideAngular))}function On(C){return Xo(),function(C){return function(x){return(x=x.lift(new ch(C.ngZone))).pipe((0,lh.R)(C.outsideAngular),(0,Sl.QV)(C.insideAngular))}}(Xo())(C)}},4486:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>Ae});var l=F(3854),ne=F(6034),L=F(5452),he=F(5601);class ie{constructor(de,X){this._delegate=de,this.firebase=X,(0,L._addComponent)(de,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(de,X=L._DEFAULT_ENTRY_NAME){var re;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(de);return!Ee.isInitialized()&&"EXPLICIT"===(null===(re=Ee.getComponent())||void 0===re?void 0:re.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:X})}_removeServiceInstance(de,X=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(X)}_addComponent(de){(0,L._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,L._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function H(){const De=function(De){const de={},X={__esModule:!0,initializeApp:function(gt,Se={}){const se=L.initializeApp(gt,Se);if((0,l.r3)(de,se.name))return de[se.name];const ue=new De(se,X);return de[se.name]=ue,ue},app:Ee,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const Se=gt.name,se=Se.replace("-compat","");if(L._registerComponent(gt)&&"PUBLIC"===gt.type){const ue=(ve=Ee())=>{if("function"!=typeof ve[se])throw oe.create("invalid-app-argument",{appName:Se});return ve[se]()};void 0!==gt.serviceProps&&(0,l.ZB)(ue,gt.serviceProps),X[se]=ue,De.prototype[se]=function(...ve){return this._getService.bind(this,Se).apply(this,gt.multipleInstances?ve:[])}}return"PUBLIC"===gt.type?X[se]:null},removeApp:function(gt){delete de[gt]},useAsService:function(gt,Se){return"serverAuth"===Se?null:Se},modularAPIs:L}};function Ee(gt){if(!(0,l.r3)(de,gt=gt||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:gt});return de[gt]}return X.default=X,Object.defineProperty(X,"apps",{get:function(){return Object.keys(de).map(gt=>de[gt])}}),Ee.App=De,X}(ie);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:H,extendNamespace:function(X){(0,l.ZB)(De,X)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),De}(),B=new he.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=P;(0,L.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Ye,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>en,_addOrOverwriteComponent:()=>dr,_apps:()=>yt,_clearComponents:()=>xt,_components:()=>vt,_getProvider:()=>tn,_registerComponent:()=>ti,_removeServiceInstance:()=>dn,deleteApp:()=>Bi,getApp:()=>Os,getApps:()=>ri,initializeApp:()=>ao,onLog:()=>Mn,registerVersion:()=>Ke,setLogLevel:()=>ii});var l=F(8239),ne=F(6034),L=F(5601),he=F(3854);class ie{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function(ot){const nt=ot.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(jt)){const Pt=jt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(jt=>jt).join(" ")}}const oe="@firebase/app",K="0.7.4",H=new L.Yd("@firebase/app"),Tn="[DEFAULT]",_t={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,vt=new Map;function en(ot,nt){try{ot.container.addComponent(nt)}catch(jt){H.debug(`Component ${nt.name} failed to register with FirebaseApp ${ot.name}`,jt)}}function dr(ot,nt){ot.container.addOrOverwriteComponent(nt)}function ti(ot){const nt=ot.name;if(vt.has(nt))return H.debug(`There were multiple attempts to register component ${nt}.`),!1;vt.set(nt,ot);for(const jt of yt.values())en(jt,ot);return!0}function tn(ot,nt){return ot.container.getProvider(nt)}function dn(ot,nt,jt=Tn){tn(ot,nt).clearInstance(jt)}function xt(){vt.clear()}const sr=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class oo{constructor(nt,jt,Pt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const ni="9.1.3";function ao(ot,nt={}){"object"!=typeof nt&&(nt={name:nt});const jt=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},nt),Pt=jt.name;if("string"!=typeof Pt||!Pt)throw sr.create("bad-app-name",{appName:String(Pt)});const Er=yt.get(Pt);if(Er){if((0,he.vZ)(ot,Er.options)&&(0,he.vZ)(jt,Er.config))return Er;throw sr.create("duplicate-app",{appName:Pt})}const Yt=new ne.H0(Pt);for(const rt of vt.values())Yt.addComponent(rt);const Ue=new oo(ot,jt,Yt);return yt.set(Pt,Ue),Ue}function Os(ot=Tn){const nt=yt.get(ot);if(!nt)throw sr.create("no-app",{appName:ot});return nt}function ri(){return Array.from(yt.values())}function Bi(ot){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(ot){const nt=ot.name;yt.has(nt)&&(yt.delete(nt),yield Promise.all(ot.container.getProviders().map(jt=>jt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function Ke(ot,nt,jt){var Pt;let Er=null!==(Pt=_t[ot])&&void 0!==Pt?Pt:ot;jt&&(Er+=`-${jt}`);const Yt=Er.match(/\s|\//),Ue=nt.match(/\s|\//);if(Yt||Ue){const rt=[`Unable to register library "${Er}" with version "${nt}":`];return Yt&&rt.push(`library name "${Er}" contains illegal characters (whitespace or "/")`),Yt&&Ue&&rt.push("and"),Ue&&rt.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void H.warn(rt.join(" "))}ti(new ne.wA(`${Er}-version`,()=>({library:Er,version:nt}),"VERSION"))}function Mn(ot,nt){if(null!==ot&&"function"!=typeof ot)throw sr.create("invalid-log-argument");(0,L.Am)(ot,nt)}function ii(ot){(0,L.Ub)(ot)}ti(new ne.wA("platform-logger",nt=>new ie(nt),"PRIVATE")),Ke(oe,K,""),Ke(oe,K,"esm2017"),Ke("fire-js","")},6034:(Ye,we,F)=>{"use strict";F.d(we,{wA:()=>L,H0:()=>K});var l=F(4762),ne=F(3854),L=function(){function H(P,B,$){this.name=P,this.instanceFactory=B,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return H.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},H.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},H.prototype.setServiceProps=function(P){return this.serviceProps=P,this},H.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},H}(),he="[DEFAULT]",ie=function(){function H(P,B){this.name=P,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return H.prototype.get=function(P){var B=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(B)){var $=new ne.BH;if(this.instancesDeferred.set(B,$),this.isInitialized(B)||this.shouldAutoInitialize())try{var le=this.getOrInitializeService({instanceIdentifier:B});le&&$.resolve(le)}catch(Me){}}return this.instancesDeferred.get(B).promise},H.prototype.getImmediate=function(P){var B,$=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),le=null!==(B=null==P?void 0:P.optional)&&void 0!==B&&B;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(le)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(Me){if(le)return null;throw Me}},H.prototype.getComponent=function(){return this.component},H.prototype.setComponent=function(P){var B,$;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(H){return"EAGER"===H.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:he})}catch(Ee){}try{for(var le=(0,l.XA)(this.instancesDeferred.entries()),Me=le.next();!Me.done;Me=le.next()){var Ae=(0,l.CR)(Me.value,2),de=Ae[1],X=this.normalizeInstanceIdentifier(Ae[0]);try{var re=this.getOrInitializeService({instanceIdentifier:X});de.resolve(re)}catch(Ee){}}}catch(Ee){B={error:Ee}}finally{try{Me&&!Me.done&&($=le.return)&&$.call(le)}finally{if(B)throw B.error}}}},H.prototype.clearInstance=function(P){void 0===P&&(P=he),this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)},H.prototype.delete=function(){return(0,l.mG)(this,void 0,void 0,function(){var P;return(0,l.Jh)(this,function(B){switch(B.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,l.ev)((0,l.ev)([],(0,l.CR)(P.filter(function($){return"INTERNAL"in $}).map(function($){return $.INTERNAL.delete()}))),(0,l.CR)(P.filter(function($){return"_delete"in $}).map(function($){return $._delete()}))))];case 1:return B.sent(),[2]}})})},H.prototype.isComponentSet=function(){return null!=this.component},H.prototype.isInitialized=function(P){return void 0===P&&(P=he),this.instances.has(P)},H.prototype.getOptions=function(P){return void 0===P&&(P=he),this.instancesOptions.get(P)||{}},H.prototype.initialize=function(P){var B,$;void 0===P&&(P={});var le=P.options,Me=void 0===le?{}:le,Ae=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(Ae))throw Error(this.name+"("+Ae+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var De=this.getOrInitializeService({instanceIdentifier:Ae,options:Me});try{for(var de=(0,l.XA)(this.instancesDeferred.entries()),X=de.next();!X.done;X=de.next()){var re=(0,l.CR)(X.value,2),Ie=re[1];Ae===this.normalizeInstanceIdentifier(re[0])&&Ie.resolve(De)}}catch(Tt){B={error:Tt}}finally{try{X&&!X.done&&($=de.return)&&$.call(de)}finally{if(B)throw B.error}}return De},H.prototype.onInit=function(P,B){var $,le=this.normalizeInstanceIdentifier(B),Me=null!==($=this.onInitCallbacks.get(le))&&void 0!==$?$:new Set;Me.add(P),this.onInitCallbacks.set(le,Me);var Ae=this.instances.get(le);return Ae&&P(Ae,le),function(){Me.delete(P)}},H.prototype.invokeOnInitCallbacks=function(P,B){var $,le,Me=this.onInitCallbacks.get(B);if(Me)try{for(var Ae=(0,l.XA)(Me),De=Ae.next();!De.done;De=Ae.next()){var de=De.value;try{de(P,B)}catch(X){}}}catch(X){$={error:X}}finally{try{De&&!De.done&&(le=Ae.return)&&le.call(Ae)}finally{if($)throw $.error}}},H.prototype.getOrInitializeService=function(P){var B=P.instanceIdentifier,$=P.options,le=void 0===$?{}:$,Me=this.instances.get(B);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:Q(B),options:le}),this.instances.set(B,Me),this.instancesOptions.set(B,le),this.invokeOnInitCallbacks(Me,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Me)}catch(Ae){}return Me||null},H.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=he),this.component?this.component.multipleInstances?P:he:P},H.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},H}();function Q(H){return H===he?void 0:H}var K=function(){function H(P){this.name=P,this.providers=new Map}return H.prototype.addComponent=function(P){var B=this.getProvider(P.name);if(B.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);B.setComponent(P)},H.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},H.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var B=new ie(P,this);return this.providers.set(P,B),B},H.prototype.getProviders=function(){return Array.from(this.providers.values())},H}()},5601:(Ye,we,F)=>{"use strict";F.d(we,{in:()=>ne,Yd:()=>oe,Ub:()=>K,Am:()=>H});const l=[];var ne=(()=>{return(P=ne||(ne={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",ne;var P})();const L={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},he=ne.INFO,ie={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Q=(P,B,...$)=>{if(B<P.logLevel)return;const le=(new Date).toISOString(),Me=ie[B];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Me](`[${le}]  ${P.name}:`,...$)};class oe{constructor(B){this.name=B,this._logLevel=he,this._logHandler=Q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in ne))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?L[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...B),this._logHandler(this,ne.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...B),this._logHandler(this,ne.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...B),this._logHandler(this,ne.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...B),this._logHandler(this,ne.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...B),this._logHandler(this,ne.ERROR,...B)}}function K(P){l.forEach(B=>{B.setLogLevel(P)})}function H(P,B){for(const $ of l){let le=null;B&&B.level&&(le=L[B.level]),$.userLogHandler=null===P?null:(Me,Ae,...De)=>{const de=De.map(X=>{if(null==X)return null;if("string"==typeof X)return X;if("number"==typeof X||"boolean"==typeof X)return X.toString();if(X instanceof Error)return X.message;try{return JSON.stringify(X)}catch(re){return null}}).filter(X=>X).join(" ");Ae>=(null!=le?le:Me.logLevel)&&P({level:ne[Ae].toLowerCase(),message:de,args:De,type:Me.name})}}}},3854:(Ye,we,F)=>{"use strict";F.d(we,{BH:()=>le,LL:()=>me,ZR:()=>Fe,zI:()=>ue,US:()=>Q,tV:()=>H,$s:()=>ji,r3:()=>tn,Sg:()=>Me,ne:()=>Bi,vZ:()=>sr,ZB:()=>B,pd:()=>Os,m9:()=>pa,z$:()=>Ae,jU:()=>X,ru:()=>re,d:()=>Ie,xb:()=>xt,w1:()=>Je,hl:()=>Se,uI:()=>De,UG:()=>de,b$:()=>Ee,G6:()=>gt,Mn:()=>Tt,xO:()=>ni,zd:()=>ao,eu:()=>se});const he=function(Z){const q=[];let z=0;for(let Te=0;Te<Z.length;Te++){let ae=Z.charCodeAt(Te);ae<128?q[z++]=ae:ae<2048?(q[z++]=ae>>6|192,q[z++]=63&ae|128):55296==(64512&ae)&&Te+1<Z.length&&56320==(64512&Z.charCodeAt(Te+1))?(ae=65536+((1023&ae)<<10)+(1023&Z.charCodeAt(++Te)),q[z++]=ae>>18|240,q[z++]=ae>>12&63|128,q[z++]=ae>>6&63|128,q[z++]=63&ae|128):(q[z++]=ae>>12|224,q[z++]=ae>>6&63|128,q[z++]=63&ae|128)}return q},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let ae=0;ae<Z.length;ae+=3){const ze=Z[ae],ft=ae+1<Z.length,Ut=ft?Z[ae+1]:0,rn=ae+2<Z.length,hn=rn?Z[ae+2]:0;let Xn=(15&Ut)<<2|hn>>6,ai=63&hn;rn||(ai=64,ft||(Xn=64)),Te.push(z[ze>>2],z[(3&ze)<<4|Ut>>4],z[Xn],z[ai])}return Te.join("")},encodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(Z):this.encodeByteArray(he(Z),q)},decodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(Z):function(Z){const q=[];let z=0,Te=0;for(;z<Z.length;){const ae=Z[z++];if(ae<128)q[Te++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const ze=Z[z++];q[Te++]=String.fromCharCode((31&ae)<<6|63&ze)}else if(ae>239&&ae<365){const rn=((7&ae)<<18|(63&Z[z++])<<12|(63&Z[z++])<<6|63&Z[z++])-65536;q[Te++]=String.fromCharCode(55296+(rn>>10)),q[Te++]=String.fromCharCode(56320+(1023&rn))}else{const ze=Z[z++],ft=Z[z++];q[Te++]=String.fromCharCode((15&ae)<<12|(63&ze)<<6|63&ft)}}return q.join("")}(this.decodeStringToByteArray(Z,q))},decodeStringToByteArray(Z,q){this.init_();const z=q?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let ae=0;ae<Z.length;){const ze=z[Z.charAt(ae++)],Ut=ae<Z.length?z[Z.charAt(ae)]:0;++ae;const hn=ae<Z.length?z[Z.charAt(ae)]:64;++ae;const Ft=ae<Z.length?z[Z.charAt(ae)]:64;if(++ae,null==ze||null==Ut||null==hn||null==Ft)throw Error();Te.push(ze<<2|Ut>>4),64!==hn&&(Te.push(Ut<<4&240|hn>>2),64!==Ft&&Te.push(hn<<6&192|Ft))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},K=function(Z){return function(Z){const q=he(Z);return Q.encodeByteArray(q,!0)}(Z).replace(/\./g,"")},H=function(Z){try{return Q.decodeString(Z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function B(Z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return q}for(const z in q)!q.hasOwnProperty(z)||!$(z)||(Z[z]=B(Z[z],q[z]));return Z}function $(Z){return"__proto__"!==Z}class le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,z)=>{this.resolve=q,this.reject=z})}wrapCallback(q){return(z,Te)=>{z?this.reject(z):this.resolve(Te),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(z):q(z,Te))}}}function Me(Z,q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=q||"demo-project",ae=Z.iat||0,ze=Z.sub||Z.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:ae,exp:ae+3600,auth_time:ae,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(ft)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function X(){return"object"==typeof self&&self.self===self}function re(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Ae().indexOf("Electron/")>=0}function Je(){const Z=Ae();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Tt(){return Ae().indexOf("MSAppHost/")>=0}function gt(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){return"object"==typeof indexedDB}function se(){return new Promise((Z,q)=>{try{let z=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Te);ae.onsuccess=()=>{ae.result.close(),z||self.indexedDB.deleteDatabase(Te),Z(!0)},ae.onupgradeneeded=()=>{z=!1},ae.onerror=()=>{var ze;q((null===(ze=ae.error)||void 0===ze?void 0:ze.message)||"")}}catch(z){q(z)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor(q,z,Te){super(z),this.code=q,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(q,z,Te){this.service=q,this.serviceName=z,this.errors=Te}create(q,...z){const Te=z[0]||{},ae=`${this.service}/${q}`,ze=this.errors[q],ft=ze?function(Z,q){return Z.replace(zt,(z,Te)=>{const ae=q[Te];return null!=ae?String(ae):`<${Te}?>`})}(ze,Te):"Error";return new Fe(ae,`${this.serviceName}: ${ft} (${ae}).`,Te)}}const zt=/\{\$([^}]+)}/g;function tn(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}function xt(Z){for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q))return!1;return!0}function sr(Z,q){if(Z===q)return!0;const z=Object.keys(Z),Te=Object.keys(q);for(const ae of z){if(!Te.includes(ae))return!1;const ze=Z[ae],ft=q[ae];if(oo(ze)&&oo(ft)){if(!sr(ze,ft))return!1}else if(ze!==ft)return!1}for(const ae of Te)if(!z.includes(ae))return!1;return!0}function oo(Z){return null!==Z&&"object"==typeof Z}function ni(Z){const q=[];for(const[z,Te]of Object.entries(Z))Array.isArray(Te)?Te.forEach(ae=>{q.push(encodeURIComponent(z)+"="+encodeURIComponent(ae))}):q.push(encodeURIComponent(z)+"="+encodeURIComponent(Te));return q.length?"&"+q.join("&"):""}function ao(Z){const q={};return Z.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[ae,ze]=Te.split("=");q[decodeURIComponent(ae)]=decodeURIComponent(ze)}}),q}function Os(Z){const q=Z.indexOf("?");if(!q)return"";const z=Z.indexOf("#",q);return Z.substring(q,z>0?z:void 0)}function Bi(Z,q){const z=new Ps(Z,q);return z.subscribe.bind(z)}class Ps{constructor(q,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{q(this)}).catch(Te=>{this.error(Te)})}next(q){this.forEachObserver(z=>{z.next(q)})}error(q){this.forEachObserver(z=>{z.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,z,Te){let ae;if(void 0===q&&void 0===z&&void 0===Te)throw new Error("Missing Observer.");ae=function(Z,q){if("object"!=typeof Z||null===Z)return!1;for(const z of["next","error","complete"])if(z in Z&&"function"==typeof Z[z])return!0;return!1}(q)?q:{next:q,error:z,complete:Te},void 0===ae.next&&(ae.next=ii),void 0===ae.error&&(ae.error=ii),void 0===ae.complete&&(ae.complete=ii);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(ft){}}),this.observers.push(ae),ze}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,q)}sendOne(q,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{z(this.observers[q])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}function ji(Z,q=1e3,z=2){const Te=q*Math.pow(z,Z),ae=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+ae)}function pa(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(Ye,we,F)=>{"use strict";F.d(we,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=F(5452);(0,l.registerVersion)("firebase","9.1.3","app")},7841:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>l.Z});var l=F(4486);l.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Ye,we,F)=>{"use strict";F.r(we);var l=F(8239),ne=F(4486),L=F(3854),he=F(5452),ie=F(4762),Q=F(5601),oe=F(6034);const Ae=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),re=new Q.Yd("@firebase/auth");function Ee(v,...p){re.logLevel<=Q.in.ERROR&&re.error(`Auth (${he.SDK_VERSION}): ${v}`,...p)}function Ie(v,...p){throw gt(v,...p)}function Je(v,...p){return gt(v,...p)}function Tt(v,p,g){const w=Object.assign(Object.assign({},De()),{[p]:g});return new L.LL("auth","Firebase",w).create(p,{appName:v.name})}function kt(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ie(v,"argument-error"),Tt(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return de.create(v,...p)}function Se(v,p,...g){if(!v)throw gt(p,...g)}function se(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ee(p),new Error(p)}function ue(v,p){v||se(p)}const ve=new Map;function ce(v){ue(v instanceof Function,"Expected a class definition");let p=ve.get(v);return p?(ue(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ve.set(v,p),p)}function ht(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function zt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class vt{constructor(p,g){this.shortDelay=p,this.longDelay=g,ue(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){ue(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class dr{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ti={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new vt(3e4,6e4);function dn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function xt(v,p,g,w){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(v,p,g,w,N={}){return sr(v,N,()=>{let k={},J={};w&&("GET"===p?J=w:k={body:JSON.stringify(w)});const be=(0,L.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Le=new(dr.headers());return Le.set("Content-Type","application/json"),Le.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Le.set("X-Firebase-Locale",v.languageCode),dr.fetch()(Os(v,v.config.apiHost,g,be),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function sr(v,p,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ti),p);try{const N=new ri(v),k=yield Promise.race([g(),N.promise]);N.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw Bi(v,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const be=k.ok?J.errorMessage:J.error.message,[Le,je]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Bi(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Le)throw Bi(v,"email-already-in-use",J);const ct=w[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw Tt(v,ct,je);Ie(v,ct)}}catch(N){if(N instanceof L.ZR)throw N;Ie(v,"network-request-failed")}})).apply(this,arguments)}function ni(v,p,g,w){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(v,p,g,w,N={}){const k=yield xt(v,p,g,w,N);return"mfaPendingCredential"in k&&Ie(v,"multi-factor-auth-required",{serverResponse:k}),k})).apply(this,arguments)}function Os(v,p,g,w){const N=`${p}${g}?${w}`;return v.config.emulator?en(v.config,N):`${v.config.apiScheme}://${N}`}class ri{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Je(this.auth,"timeout")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const N=Je(v,p,w);return N.customData._tokenResponse=g,N}function Ke(){return(Ke=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(v,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function si(v,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Er(){return(Er=(0,l.Z)(function*(v,p=!1){const g=(0,L.m9)(v),w=yield g.getIdToken(p),N=Ue(w);Se(N&&N.exp&&N.auth_time&&N.iat,g.auth,"internal-error");const k="object"==typeof N.firebase?N.firebase:void 0,J=null==k?void 0:k.sign_in_provider;return{claims:N,token:w,authTime:nt(Yt(N.auth_time)),issuedAtTime:nt(Yt(N.iat)),expirationTime:nt(Yt(N.exp)),signInProvider:J||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Yt(v){return 1e3*Number(v)}function Ue(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,L.tV)(g);return N?JSON.parse(N):(Ee("Failed to decode base64 JWT payload"),null)}catch(N){return Ee("Caught error parsing JWT payload as JSON",N),null}}function Ti(v,p){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&ji(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function ji({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class nn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const N=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class oi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pa(v){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),N=yield Ti(v,si(g,{idToken:w}));Se(null==N?void 0:N.users.length,g,"internal-error");const k=N.users[0];v._notifyReloadListener(k);const J=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?ae(k.providerUserInfo):[],be=Te(v.providerData,J),ct=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==be?void 0:be.length)),at={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:be,metadata:new oi(k.createdAt,k.lastLoginAt),isAnonymous:ct};Object.assign(v,at)})).apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(v){const p=(0,L.m9)(v);yield pa(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Te(v,p){return[...v.filter(w=>!p.some(N=>N.providerId===w.providerId)),...p]}function ae(v){return v.map(p=>{var{providerId:g}=p,w=(0,ie._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ft(){return(ft=(0,l.Z)(function*(v,p){const g=yield sr(v,{},()=>{const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:k}=v.config,J=Os(v,N,"/v1/token",`key=${k}`);return dr.fetch()(J,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Se(p.idToken,"internal-error"),Se(void 0!==p.idToken,"internal-error"),Se(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ue(v);return Se(p,"internal-error"),Se(void 0!==p.exp,"internal-error"),Se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,l.Z)(function*(){return Se(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:k,expiresIn:J}=yield function(v,p){return ft.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(N,k,Number(J))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:N,expirationTime:k}=g,J=new Ut;return w&&(Se("string"==typeof w,"internal-error",{appName:p}),J.refreshToken=w),N&&(Se("string"==typeof N,"internal-error",{appName:p}),J.accessToken=N),k&&(Se("number"==typeof k,"internal-error",{appName:p}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return se("not implemented")}}function rn(v,p){Se("string"==typeof v||void 0===v,"internal-error",{appName:p})}class hn{constructor(p){var{uid:g,auth:w,stsTokenManager:N}=p,k=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new oi(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const w=yield Ti(g,g.stsTokenManager.getToken(g.auth,p));return Se(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function(v){return Er.apply(this,arguments)}(this,p)}reload(){return function(v){return z.apply(this,arguments)}(this)}_assign(p){this!==p&&(Se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new hn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,l.Z)(function*(){let N=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),N=!0),g&&(yield pa(w)),yield w.auth._persistUserIfCurrent(w),N&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield Ti(p,function(v,p){return Ke.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,N,k,J,be,Le,je,ct;const at=null!==(w=g.displayName)&&void 0!==w?w:void 0,Ln=null!==(N=g.email)&&void 0!==N?N:void 0,Cs=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,jl=null!==(J=g.photoURL)&&void 0!==J?J:void 0,mp=null!==(be=g.tenantId)&&void 0!==be?be:void 0,_p=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Eu=null!==(je=g.createdAt)&&void 0!==je?je:void 0,km=null!==(ct=g.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:Ua,emailVerified:Ws,isAnonymous:Rv,providerData:Om,stsTokenManager:yp}=g;Se(Ua&&yp,p,"internal-error");const N1=Ut.fromJSON(this.name,yp);Se("string"==typeof Ua,p,"internal-error"),rn(at,p.name),rn(Ln,p.name),Se("boolean"==typeof Ws,p,"internal-error"),Se("boolean"==typeof Rv,p,"internal-error"),rn(Cs,p.name),rn(jl,p.name),rn(mp,p.name),rn(_p,p.name),rn(Eu,p.name),rn(km,p.name);const Ds=new hn({uid:Ua,auth:p,email:Ln,emailVerified:Ws,displayName:at,isAnonymous:Rv,photoURL:jl,phoneNumber:Cs,tenantId:mp,stsTokenManager:N1,createdAt:Eu,lastLoginAt:km});return Om&&Array.isArray(Om)&&(Ds.providerData=Om.map(vp=>Object.assign({},vp))),_p&&(Ds._redirectEventId=_p),Ds}static _fromIdTokenResponse(p,g,w=!1){return(0,l.Z)(function*(){const N=new Ut;N.updateFromServerResponse(g);const k=new hn({uid:g.localId,auth:p,stsTokenManager:N,isAnonymous:w});return yield pa(k),k})()}}const Ft=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,w){var N=this;return(0,l.Z)(function*(){N.storage[g]=w})()}_get(g){var w=this;return(0,l.Z)(function*(){const N=w.storage[g];return void 0===N?null:N})()}_remove(g){var w=this;return(0,l.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function Xn(v,p,g){return`firebase:${v}:${p}:${g}`}class ai{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:N,name:k}=this.auth;this.fullUserKey=Xn(this.userKey,N.apiKey,k),this.fullPersistenceKey=Xn("persistence",N.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?hn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,l.Z)(function*(){if(!g.length)return new ai(ce(Ft),p,w);const N=(yield Promise.all(g.map(function(){var je=(0,l.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return je.apply(this,arguments)}}()))).filter(je=>je);let k=N[0]||ce(Ft);const J=Xn(w,p.config.apiKey,p.name);let be=null;for(const je of g)try{const ct=yield je._get(J);if(ct){const at=hn._fromJSON(p,ct);je!==k&&(be=at),k=je;break}}catch(ct){}const Le=N.filter(je=>je._shouldAllowMigration);return k._shouldAllowMigration&&Le.length?(k=Le[0],be&&(yield k._set(J,be.toJSON())),yield Promise.all(g.map(function(){var je=(0,l.Z)(function*(ct){if(ct!==k)try{yield ct._remove(J)}catch(at){}});return function(ct){return je.apply(this,arguments)}}())),new ai(k,p,w)):new ai(k,p,w)})()}}function el(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(nu(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ga(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(or(p))return"Blackberry";if($r(p))return"Webos";if(tu(p))return"Safari";if((p.includes("chrome/")||tl(p))&&!p.includes("edge/"))return"Chrome";if(lo(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function ga(v=(0,L.z$)()){return/firefox\//i.test(v)}function tu(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function tl(v=(0,L.z$)()){return/crios\//i.test(v)}function nu(v=(0,L.z$)()){return/iemobile/i.test(v)}function lo(v=(0,L.z$)()){return/android/i.test(v)}function or(v=(0,L.z$)()){return/blackberry/i.test(v)}function $r(v=(0,L.z$)()){return/webos/i.test(v)}function fr(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function Be(v=(0,L.z$)()){return fr(v)||lo(v)||$r(v)||or(v)||/windows phone/i.test(v)||nu(v)}function Wt(v,p=[]){let g;switch(v){case"Browser":g=el((0,L.z$)());break;case"Worker":g=`${el((0,L.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${w}`}class Gr{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bn(this),this.idTokenSubscription=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ce(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N;w._deleted||(w.persistenceManager=yield ai.create(w,p),!w._deleted&&((null===(N=w._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(g),!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var w;let N=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,J=null==N?void 0:N._redirectEventId,be=yield g.tryRedirectSignIn(p);(!k||k===J)&&(null==be?void 0:be.user)&&(N=be.user)}return N?N._redirectEventId?(Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)):g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(N){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield pa(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&Se(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){if(!g._deleted)return p&&Se(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,l.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(ce(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,l.Z)(function*(){const N=yield w.getOrInitRedirectPersistenceManager(g);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ce(p)||g._popupRedirectResolver;Se(w,g,"argument-error"),g.redirectPersistenceManager=yield ai.create(g,[ce(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var w,N;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(N=g.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,N){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,w,N):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function fn(v){return(0,L.m9)(v)}class Bn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wn(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function uo(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class ui{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return se("not implemented")}_getIdTokenResponse(p){return se("not implemented")}_linkToIdToken(p,g){return se("not implemented")}_getReauthenticationResolver(p){return se("not implemented")}}function co(v,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:resetPassword",dn(v,p))})).apply(this,arguments)}function ma(v,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function nl(v,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",dn(v,p))})).apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithPassword",dn(v,p))})).apply(this,arguments)}function ru(v,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:sendOobCode",dn(v,p))})).apply(this,arguments)}function In(v,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(v,p){return ru(v,p)})).apply(this,arguments)}function _a(v,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(v,p){return ru(v,p)})).apply(this,arguments)}function ho(v,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(v,p){return ru(v,p)})).apply(this,arguments)}function em(v,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(v,p){return ru(v,p)})).apply(this,arguments)}function iu(){return(iu=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithEmailLink",dn(v,p))})).apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithEmailLink",dn(v,p))})).apply(this,arguments)}class qr extends ui{constructor(p,g,w,N=null){super("password",w),this._email=p,this._password=g,this._tenantId=N}static _fromEmailAndPassword(p,g){return new qr(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new qr(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return wt.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return iu.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return ma(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,p){return pr.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function jn(v,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithIdp",dn(v,p))})).apply(this,arguments)}class hs extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new hs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N}=g,k=(0,ie._T)(g,["providerId","signInMethod"]);if(!w||!N)return null;const J=new hs(w,N);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(p){return jn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,jn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,jn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function tm(v,p){return $d.apply(this,arguments)}function $d(){return($d=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:sendVerificationCode",dn(v,p))})).apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithPhoneNumber",dn(v,p))})).apply(this,arguments)}function Gd(){return(Gd=(0,l.Z)(function*(v,p){const g=yield ni(v,"POST","/v1/accounts:signInWithPhoneNumber",dn(v,p));if(g.temporaryProof)throw Bi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const rm={USER_NOT_FOUND:"user-not-found"};function qd(){return(qd=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithPhoneNumber",dn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),rm)})).apply(this,arguments)}class va extends ui{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new va({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new va({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return il.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return Gd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return qd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:N}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:N,temporaryProof:k}=p;return w||g||N||k?new va({verificationId:g,verificationCode:w,phoneNumber:N,temporaryProof:k}):null}}class ba{constructor(p){var g,w,N,k,J,be;const Le=(0,L.zd)((0,L.pd)(p)),je=null!==(g=Le.apiKey)&&void 0!==g?g:null,ct=null!==(w=Le.oobCode)&&void 0!==w?w:null,at=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Le.mode)&&void 0!==N?N:null);Se(je&&ct&&at,"argument-error"),this.apiKey=je,this.operation=at,this.code=ct,this.continueUrl=null!==(k=Le.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=Le.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(be=Le.tenantId)&&void 0!==be?be:null}static parseLink(p){const g=function(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||p||v}(p);try{return new ba(g)}catch(w){return null}}}let wa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return qr._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const N=ba.parseLink(w);return Se(N,"argument-error"),qr._fromEmailAndCode(g,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Gi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class sl extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class fo extends sl{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),hs._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Se(p.idToken||p.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return fo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return fo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:k,nonce:J,providerId:be}=p;if(!w&&!N&&!g&&!k||!be)return null;try{return new fo(be)._credential({idToken:g,accessToken:w,nonce:J,pendingToken:k})}catch(Le){return null}}}let ic=(()=>{class v extends sl{constructor(){super("facebook.com")}static credential(g){return hs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Vs=(()=>{class v extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return hs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:N}=g;if(!w&&!N)return null;try{return v.credential(w,N)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Zd=(()=>{class v extends sl{constructor(){super("github.com")}static credential(g){return hs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class po extends ui{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return jn(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,jn(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,jn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N,pendingToken:k}=g;return w&&N&&k&&w===N?new po(w,k):null}static _create(p,g){return new po(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let qi=(()=>{class v extends sl{constructor(){super("twitter.com")}static credential(g,w){return hs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:N}=g;if(!w||!N)return null;try{return v.credential(w,N)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function sc(v,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signUp",dn(v,p))})).apply(this,arguments)}class ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,N=!1){return(0,l.Z)(function*(){const k=yield hn._fromIdTokenResponse(p,w,N),J=zd(w);return new ci({user:k,providerId:J,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const N=zd(w);return new ci({user:p,providerId:N,_tokenResponse:w,operationType:g})})()}}function zd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Go(){return(Go=(0,l.Z)(function*(v){var p;const g=fn(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new ci({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield sc(g,{returnSecureToken:!0}),N=yield ci._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(N.user),N})).apply(this,arguments)}class ol extends L.ZR{constructor(p,g,w,N){var k;super(g.code,g.message),this.operationType=w,this.user=N,this.name="FirebaseError",Object.setPrototypeOf(this,ol.prototype),this.appName=p.name,this.code=g.code,this.tenantId=null!==(k=p.tenantId)&&void 0!==k?k:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(p,g,w,N){return new ol(p,g,w,N)}}function al(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ol._fromErrorAndOperation(v,k,p,w):k})}function Wd(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function ll(){return(ll=(0,l.Z)(function*(v,p){const g=(0,L.m9)(v);yield zi(!0,g,p);const{providerUserInfo:w}=yield Mn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),N=Wd(w||[]);return g.providerData=g.providerData.filter(k=>N.has(k.providerId)),N.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ln(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(v,p,g=!1){const w=yield Ti(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return ci._forOperation(v,"link",w)})).apply(this,arguments)}function zi(v,p,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(v,p,g){yield pa(p);const N=!1===v?"provider-already-linked":"no-such-provider";Se(Wd(p.providerData).has(g)===v,p.auth,N)})).apply(this,arguments)}function un(v,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(v,p,g=!1){const{auth:w}=v,N="reauthenticate";try{const k=yield Ti(v,al(w,N,p,v),g);Se(k.idToken,w,"internal-error");const J=Ue(k.idToken);Se(J,w,"internal-error");const{sub:be}=J;return Se(v.uid===be,w,"user-mismatch"),ci._forOperation(v,N,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ie(w,"user-mismatch"),k}})).apply(this,arguments)}function ou(v,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(v,p,g=!1){const w="signIn",N=yield al(v,w,p),k=yield ci._fromIdTokenResponse(v,w,N);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Dr(v,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,p){return ou(fn(v),p)})).apply(this,arguments)}function au(v,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(v,p){const g=(0,L.m9)(v);return yield zi(!1,g,p.providerId),ln(g,p)})).apply(this,arguments)}function Zr(v,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(v,p){return un((0,L.m9)(v),p)})).apply(this,arguments)}function ac(v,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(v,p){return ni(v,"POST","/v1/accounts:signInWithCustomToken",dn(v,p))})).apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(v,p){const g=fn(v),w=yield ac(g,{token:p,returnSecureToken:!0}),N=yield ci._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(N.user),N})).apply(this,arguments)}class vo{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?lt._fromServerResponse(p,g):Ie(p,"internal-error")}}class lt extends vo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new lt(g)}}function lu(v,p,g){var w;Se((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function hl(){return(hl=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v),N={requestType:"PASSWORD_RESET",email:p};g&&lu(w,N,g),yield _a(w,N)})).apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(v,p,g){yield co((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(v,p){yield nl((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function Ne(v,p){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(v,p){const g=(0,L.m9)(v),w=yield co(g,{oobCode:p}),N=w.requestType;switch(Se(N,g,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(w.mfaInfo,g,"internal-error");default:Se(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=vo._fromServerResponse(fn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:N}})).apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(v,p){const{data:g}=yield Ne((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(v,p,g){const w=fn(v),N=yield sc(w,{returnSecureToken:!0,email:p,password:g}),k=yield ci._fromIdTokenResponse(w,"signIn",N);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v),N={requestType:"EMAIL_SIGNIN",email:p};Se(g.handleCodeInApp,w,"argument-error"),g&&lu(w,N,g),yield ho(w,N)})).apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v),N=wa.credentialWithLink(p,g||ht());return Se(N._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Dr(w,N)})).apply(this,arguments)}function Ia(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:createAuthUri",dn(v,p))})).apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(v,p){const w={identifier:p,continueUri:zt()?ht():"http://localhost"},{signinMethods:N}=yield Ia((0,L.m9)(v),w);return N||[]})).apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(v,p){const g=(0,L.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&lu(g.auth,N,p);const{email:k}=yield In(g.auth,N);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&lu(w.auth,k,g);const{email:J}=yield em(w.auth,k);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function cc(v,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,L.m9)(v),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},J=yield Ti(w,cc(w.auth,k));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const be=w.providerData.find(({providerId:Le})=>"password"===Le);be&&(be.displayName=w.displayName,be.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function _l(v,p,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(v,p,g){const{auth:w}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const J=yield Ti(v,ma(w,k));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Zo{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Qd extends Zo{constructor(p,g,w,N){super(p,g,w),this.username=N}}class Xd extends Zo{constructor(p,g){super(p,"facebook.com",g)}}class eh extends Qd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class zo extends Zo{constructor(p,g){super(p,"google.com",g)}}class qf extends Qd{constructor(p,g,w){super(p,"twitter.com",g,w)}}function hc(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:w}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const J=null===(g=null===(p=Ue(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new Zo(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Xd(k,N);case"github.com":return new eh(k,N);case"google.com":return new zo(k,N);case"twitter.com":return new qf(k,N,v.screenName||null);case"custom":case"anonymous":return new Zo(k,null);default:return new Zo(k,w,N)}}(g)}class js{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new js("enroll",p)}static _fromMfaPendingCredential(p){return new js("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return js._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return js._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Aa{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=fn(p),N=(g.serverResponse.mfaInfo||[]).map(J=>vo._fromServerResponse(w,J));Se(g.serverResponse.mfaPendingCredential,w,"internal-error");const k=js._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new Aa(k,N,function(){var J=(0,l.Z)(function*(be){const Le=yield be._process(w,k);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const je=Object.assign(Object.assign({},g.serverResponse),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(g.operationType){case"signIn":const ct=yield ci._fromIdTokenResponse(w,g.operationType,je);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return Se(g.user,w,"internal-error"),ci._forOperation(g.user,g.operationType,je);default:Ie(w,"internal-error")}});return function(be){return J.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function wl(v,p){return xt(v,"POST","/v2/accounts/mfaEnrollment:start",dn(v,p))}class mc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>vo._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new mc(p)}getSession(){var p=this;return(0,l.Z)(function*(){return js._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,l.Z)(function*(){const N=p,k=yield w.getSession(),J=yield Ti(w.user,N._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,N=yield g.user.getIdToken(),k=yield Ti(g.user,function(v,p){return xt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(v,p))}(g.user.auth,{idToken:N,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==w),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const gs=new WeakMap,El="__sak";class th{constructor(p,g){this.storage=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(El,"1"),this.storage.removeItem(El),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const yc=(()=>{class v extends th{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,L.z$)();return tu(v)||fr(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Be(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const N=this.storage.getItem(w),k=this.localCache[w];N!==k&&g(w,k,N)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((be,Le,je)=>{this.notifyListeners(be,je)});const N=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(N);if(g.newValue!==be)null!==g.newValue?this.storage.setItem(N,g.newValue):this.storage.removeItem(N);else if(this.localCache[N]===g.newValue&&!w)return}const k=()=>{const be=this.storage.getItem(N);!w&&this.localCache[N]===be||this.notifyListeners(N,be)},J=this.storage.getItem(N);(0,L.w1)()&&10===document.documentMode&&J!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,w){this.localCache[g]=w;const N=this.listeners[g];if(N)for(const k of Array.from(N))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var N=()=>super._set,k=this;return(0,l.Z)(function*(){yield N().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,N=this;return(0,l.Z)(function*(){const k=yield w().call(N,g);return N.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,N=this;return(0,l.Z)(function*(){yield w().call(N,g),delete N.localCache[g]})()}}return v.type="LOCAL",v})(),_s=(()=>{class v extends th{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let ys=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const N=new v(g);return this.receivers.push(N),N}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,l.Z)(function*(){const N=g,{eventId:k,eventType:J,data:be}=N.data,Le=w.handlersMap[J];if(!(null==Le?void 0:Le.size))return;N.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const je=Array.from(Le).map(function(){var at=(0,l.Z)(function*(Ln){return Ln(N.origin,be)});return function(Ln){return at.apply(this,arguments)}}()),ct=yield function(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(je);N.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:ct})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Hs(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class rh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var N=this;return(0,l.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,be;return new Promise((Le,je)=>{const ct=Hs("",20);k.port1.start();const at=setTimeout(()=>{je(new Error("unsupported_event"))},w);be={messageChannel:k,onMessage(Ln){const Cs=Ln;if(Cs.data.eventId===ct)switch(Cs.data.status){case"ack":clearTimeout(at),J=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Le(Cs.data.response);break;default:clearTimeout(at),clearTimeout(J),je(new Error("invalid_response"))}}},N.handlers.add(be),k.port1.addEventListener("message",be.onMessage),N.target.postMessage({eventType:p,eventId:ct,data:g},[k.port2])}).finally(()=>{be&&N.removeMessageHandler(be)})})()}}function En(){return window}function ih(){return void 0!==En().WorkerGlobalScope&&"function"==typeof En().importScripts}function Cl(){return(Cl=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const vc="firebaseLocalStorageDb",bc="firebaseLocalStorage",wc="fbase_key";class Gs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ko(v,p){return v.transaction([bc],p?"readwrite":"readonly").objectStore(bc)}function Ge(){const v=indexedDB.open(vc,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(bc,{keyPath:wc})}catch(N){g(N)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(bc)?p(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(vc);return new Gs(v).toPromise()}(),p(yield Ge()))}))})}function qt(v,p,g){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(v,p,g){const w=Ko(v,!0).put({[wc]:p,value:g});return new Gs(w).toPromise()})).apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(v,p){const g=Ko(v,!1).get(p),w=yield new Gs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function qs(v,p){const g=Ko(v,!0).delete(p);return new Gs(g).toPromise()}const Eo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Ge()),g.db})()}_withRetries(g){var w=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(N++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return ih()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=ys._getInstance(ih()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(N,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(N,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(N,k){return["keyChanged"]});return function(N,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var w,N;if(g.activeServiceWorker=yield function(){return Cl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new rh(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(N=k[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ge();return yield qt(g,El,"1"),yield qs(g,El),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(k=>qt(k,g,w)),N.localCache[g]=w,N.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,l.Z)(function*(){const N=yield w._withRetries(k=>function(v,p){return wo.apply(this,arguments)}(k,g));return w.localCache[g]=N,N})()}_remove(g){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(N=>qs(N,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const w=yield g._withRetries(J=>{const be=Ko(J,!1).getAll();return new Gs(be).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const N=[],k=new Set;for(const{fbase_key:J,value:be}of w)k.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(be)&&(g.notifyListeners(J,be),N.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!k.has(J)&&(g.notifyListeners(J,null),N.push(J));return N})()}notifyListeners(g,w){this.localCache[g]=w;const N=this.listeners[g];if(N)for(const k of Array.from(N))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Cn(v,p){return xt(v,"POST","/v2/accounts/mfaSignIn:start",dn(v,p))}function Il(){return(Il=(0,l.Z)(function*(v){return(yield xt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cc(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=N=>{const k=Je("internal-error");k.customData=N,g(k)},w.type="text/javascript",w.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Ra(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ai=1e12;class Co{constructor(p){this.auth=p,this.counter=Ai,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Jo(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Ai;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ai))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var w;return null===(w=g._widgets.get(p||Ai))||void 0===w||w.execute(),""})()}}class Jo{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;Se(N,"argument-error",{appName:g}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bs=Ra("rcb"),oh=new vt(3e4,6e4);class Ki{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!En().grecaptcha}load(p,g=""){return Se((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(En().grecaptcha):new Promise((w,N)=>{const k=En().setTimeout(()=>{N(Je(p,"network-request-failed"))},oh.get());En()[bs]=()=>{En().clearTimeout(k),delete En()[bs];const be=En().grecaptcha;if(!be)return void N(Je(p,"internal-error"));const Le=be.render;be.render=(je,ct)=>{const at=Le(je,ct);return this.counter++,at},this.hostLanguage=g,w(be)},Cc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:bs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),N(Je(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!En().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cm{load(p){return(0,l.Z)(function*(){return new Co(p)})()}clearedOneInstance(){}}const vn="recaptcha",Yf={theme:"light",type:"image"};class du{constructor(p,g=Object.assign({},Yf),w){this.parameters=g,this.type=vn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(w),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;Se(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cm:new Ki,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const J=be=>{!be||(p.tokenChangeListeners.delete(J),k(be))};p.tokenChangeListeners.add(J),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=En()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){Se(zt()&&!ih(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return Il.apply(this,arguments)}(p.auth);Se(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ah{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=va._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Do(){return(Do=(0,l.Z)(function*(v,p,g){const w=fn(v),N=yield Al(w,p,(0,L.m9)(g));return new ah(N,k=>Dr(w,k))})).apply(this,arguments)}function lh(){return(lh=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v);yield zi(!1,w,"phone");const N=yield Al(w.auth,p,(0,L.m9)(g));return new ah(N,k=>au(w,k))})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v),N=yield Al(w.auth,p,(0,L.m9)(g));return new ah(N,k=>Zr(w,k))})).apply(this,arguments)}function Al(v,p,g){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(v,p,g){var w;const N=yield g.verify();try{let k;if(Se("string"==typeof N,v,"argument-error"),Se(g.type===vn,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const J=k.session;if("phoneNumber"in k)return Se("enroll"===J.type,v,"internal-error"),(yield wl(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Se("signin"===J.type,v,"internal-error");const be=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Se(be,v,"missing-multi-factor-info"),(yield Cn(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield tm(v,{phoneNumber:k.phoneNumber,recaptchaToken:N});return J}}finally{g._reset()}})).apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,p){yield ln((0,L.m9)(v),p)})).apply(this,arguments)}let ws=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=fn(g)}verifyPhoneNumber(g,w){return Al(this.auth,g,(0,L.m9)(w))}static credential(g,w){return va._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:N}=g;return w&&N?va._fromTokenResponse(w,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function on(v,p){return p?ce(p):(Se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ka extends ui{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return jn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return jn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return jn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function uh(v){return ou(v.auth,new ka(v),v.bypassAuthState)}function Ji(v){const{auth:p,user:g}=v;return Se(g,p,"internal-error"),un(g,new ka(v),v.bypassAuthState)}function Es(v){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(v){const{auth:p,user:g}=v;return Se(g,p,"internal-error"),ln(g,new ka(v),v.bypassAuthState)})).apply(this,arguments)}class di{constructor(p,g,w,N,k=!1){this.auth=p,this.resolver=w,this.user=N,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(w,N){p.pendingPromise={resolve:w,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,N){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:N,postBody:k,tenantId:J,error:be,type:Le}=p;if(be)return void g.reject(be);const je={auth:g.auth,requestUri:w,sessionId:N,tenantId:J||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(je))}catch(ct){g.reject(ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return uh;case"linkViaPopup":case"linkViaRedirect":return Es;case"reauthViaPopup":case"reauthViaRedirect":return Ji;default:Ie(this.auth,"internal-error")}}resolve(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zs=new vt(2e3,1e4);function hu(){return(hu=(0,l.Z)(function*(v,p,g){const w=fn(v);kt(v,p,Gi);const N=on(w,g);return new kn(w,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function dh(){return(dh=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v);kt(w.auth,p,Gi);const N=on(w.auth,g);return new kn(w.auth,"reauthViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v);kt(w.auth,p,Gi);const N=on(w.auth,g);return new kn(w.auth,"linkViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}let kn=(()=>{class v extends di{constructor(g,w,N,k,J){super(g,w,k,J),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const w=yield g.execute();return Se(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,l.Z)(function*(){ue(1===g.filter.length,"Popup operations only handle one event");const w=Hs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(N=>{g.reject(N)}),g.resolver._isIframeWebStorageSupported(g.auth,N=>{N||g.reject(Je(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,N;this.pollId=(null===(N=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Zs.get())};g()}}return v.currentPopupAction=null,v})();const So=new Map;class Kf extends di{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let w=So.get(g.auth._key());if(!w){try{const k=(yield function(v,p){return C.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(k)}catch(N){w=()=>Promise.reject(N)}So.set(g.auth._key(),w)}return w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const N=yield w.auth._redirectUserForId(p.eventId);if(N)return w.user=N,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function C(){return(C=(0,l.Z)(function*(v,p){const g=ge(p),w="true"===(yield ee(v)._get(g));return yield ee(v)._remove(g),w})).apply(this,arguments)}function I(v,p){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(v,p){return ee(v)._set(ge(p),"true")})).apply(this,arguments)}function ee(v){return ce(v._redirectPersistence)}function ge(v){return Xn("pendingRedirect",v.config.apiKey,v.name)}function Ze(){return(Ze=(0,l.Z)(function*(v,p,g){const w=fn(v);kt(v,p,Gi);const N=on(w,g);return yield I(N,w),N._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v);kt(w.auth,p,Gi);const N=on(w.auth,g);yield I(N,w.auth);const k=yield pt(w);return N._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(v,p,g){const w=(0,L.m9)(v);kt(w.auth,p,Gi);const N=on(w.auth,g);yield zi(!1,w,p.providerId),yield I(N,w.auth);const k=yield pt(w);return N._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(v,p){return yield fn(v)._initializationPromise,Ni(v,p,!1)})).apply(this,arguments)}function Ni(v,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(v,p,g=!1){const w=fn(v),N=on(w,p),J=yield new Kf(w,N,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,p)),J})).apply(this,arguments)}function pt(v){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,l.Z)(function*(v){const p=Hs(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class hh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fa(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Fa(p)){const N=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Je(this.auth,N))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xf(p))}saveEventToCache(p){this.cachedEventUids.add(Xf(p)),this.lastProcessedEventTime=Date.now()}}function Xf(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Fa({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function fm(v){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(v,p={}){return xt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const ep=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vv=/^https?/;function Ao(){return(Ao=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield fm(v);for(const g of p)try{if(nr(g))return}catch(w){}Ie(v,"unauthorized-domain")})).apply(this,arguments)}function nr(v){const p=ht(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===w}if(!vv.test(g))return!1;if(ep.test(v))return w===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(w)}const Sr=new vt(3e4,6e4);function pm(){const v=En().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let xl=null;function Tc(v){return xl=xl||function(v){return new Promise((p,g)=>{var w,N,k;function J(){pm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{pm(),g(Je(v,"network-request-failed"))},timeout:Sr.get()})}if(null===(N=null===(w=En().gapi)||void 0===w?void 0:w.iframes)||void 0===N?void 0:N.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=En().gapi)||void 0===k?void 0:k.load)){const be=Ra("iframefcb");return En()[be]=()=>{gapi.load?J():g(Je(v,"network-request-failed"))},Cc(`https://apis.google.com/js/api.js?onload=${be}`)}J()}}).catch(p=>{throw xl=null,p})}(v),xl}const mm=new vt(5e3,15e3),Rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},pu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fh(v){const p=v.config;Se(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:he.SDK_VERSION},N=pu.get(v.config.apiHost);N&&(w.eid=N);const k=v._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function Ot(){return(Ot=(0,l.Z)(function*(v){const p=yield Tc(v),g=En().gapi;return Se(g,v,"internal-error"),p.open({where:document.body,url:fh(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rl,dontclear:!0},w=>new Promise(function(){var N=(0,l.Z)(function*(k,J){yield w.restyle({setHideOnLeave:!1});const be=Je(v,"network-request-failed"),Le=En().setTimeout(()=>{J(be)},mm.get());function je(){En().clearTimeout(Le),k(w)}w.ping(je).then(je,()=>{J(be)})});return function(k,J){return N.apply(this,arguments)}}()))})).apply(this,arguments)}const Ic={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ac(v,p,g,w,N,k){Se(v.config.authDomain,v,"auth-domain-config-required"),Se(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:he.SDK_VERSION,eventId:N};if(p instanceof Gi){p.setDefaultLanguage(v.languageCode),J.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,je]of Object.entries(k||{}))J[Le]=je}if(p instanceof sl){const Le=p.getScopes().filter(je=>""!==je);Le.length>0&&(J.scopes=Le.join(","))}v.tenantId&&(J.tid=v.tenantId);const be=J;for(const Le of Object.keys(be))void 0===be[Le]&&delete be[Le];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(be).slice(1)}`}const Ol="webStorageSupport";class na extends class{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new na(p)}_finalizeEnroll(p,g,w){return function(v,p){return xt(v,"POST","/v2/accounts/mfaEnrollment:finalize",dn(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return xt(v,"POST","/v2/accounts/mfaSignIn:finalize",dn(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ev=(()=>{class v{constructor(){}static assertion(g){return na._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,vm="@firebase/auth";class Cv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var N;p((null===(N=w)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function La(){return window}function Rc(){return(Rc=(0,l.Z)(function*(v,p,g){var w;const{BuildInfo:N}=La();ue(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Em(p.sessionId),J={};return fr()?J.ibi=N.packageName:lo()?J.apn=N.packageName:Ie(v,"operation-not-supported-in-this-environment"),N.displayName&&(J.appDisplayName=N.displayName),J.sessionId=k,Ac(v,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(v){const{BuildInfo:p}=La(),g={};fr()?g.iosBundleId=p.packageName:lo()?g.androidPackageName=p.packageName:Ie(v,"operation-not-supported-in-this-environment"),yield fm(v,g)})).apply(this,arguments)}function op(){return(op=(0,l.Z)(function*(v,p,g){const{cordova:w}=La();let N=()=>{};try{yield new Promise((k,J)=>{let be=null;function Le(){var at;k();const Ln=null===(at=w.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Ln&&Ln(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function je(){be||(be=window.setTimeout(()=>{J(Je(v,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===(null==document?void 0:document.visibilityState)&&je()}p.addPassiveListener(Le),document.addEventListener("resume",je,!1),lo()&&document.addEventListener("visibilitychange",ct,!1),N=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",ct,!1),be&&window.clearTimeout(be)}})}finally{N()}})).apply(this,arguments)}function Em(v){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,l.Z)(function*(v){const p=mh(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mh(v){if(ue(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}v="Browser",(0,he._registerComponent)(new oe.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),{apiKey:N,authDomain:k}=w.options;return(J=>{Se(N&&!N.includes(":"),"invalid-api-key",{appName:J.name}),Se(!(null==k?void 0:k.includes(":")),"argument-error",{appName:J.name});const be={apiKey:N,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(v)},Le=new Gr(J,be);return function(v,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(ce);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Le,g),Le})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new oe.wA("auth-internal",p=>{const g=fn(p.getProvider("auth").getImmediate());return new Cv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(vm,"0.18.3",void 0),(0,he.registerVersion)(vm,"0.18.3","esm2017");class _h extends hh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function kc(v){return yh.apply(this,arguments)}function yh(){return(yh=(0,l.Z)(function*(v){const p=yield Dm()._get(Tm(v));return p&&(yield Dm()._remove(Tm(v))),p})).apply(this,arguments)}function Tv(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Dm(){return ce(yc)}function Tm(v){return Xn("authEvent",v.config.apiKey,v.name)}function No(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}function Sm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Je("no-auth-event")}}function Va(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function vh(v=(0,L.z$)()){return!("file:"!==Va()&&"ionic:"!==Va()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function bh(){try{const v=self.localStorage,p=Hs();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return wh()&&(0,L.hl)()}return!1}function wh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Eh(){return("http:"===Va()||"https:"===Va()||(0,L.ru)()||vh())&&!((0,L.b$)()||(0,L.UG)())&&bh()&&!wh()}function xm(){return vh()&&"undefined"!=typeof document}function Mo(){return(Mo=(0,l.Z)(function*(){return!!xm()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Xi={LOCAL:"local",NONE:"none",SESSION:"session"},xo=Se,Nv="persistence";function Ar(v){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,l.Z)(function*(v){yield v._initializationPromise;const p=Ll(),g=Xn(Nv,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function Ll(){return"undefined"!=typeof window?window:null}const Nr=Se;class es{constructor(){this.browserResolver=ce(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Ni}_openPopup(p,g,w,N){var k=this;return(0,l.Z)(function*(){var J;ue(null===(J=k.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const be=Ac(p,g,w,ht(),N);return function(v,p,g,w=500,N=600){const k=Math.max((window.screen.availHeight-N)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let be="";const Le=Object.assign(Object.assign({},Ic),{width:w.toString(),height:N.toString(),top:k,left:J}),je=(0,L.z$)().toLowerCase();g&&(be=tl(je)?"_blank":g),ga(je)&&(p=p||"http://localhost",Le.scrollbars="yes");const ct=Object.entries(Le).reduce((Ln,[Cs,jl])=>`${Ln}${Cs}=${jl},`,"");if(function(v=(0,L.z$)()){var p;return fr(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(je)&&"_self"!==be)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",be),new mu(null);const at=window.open(p||"",be,ct);Se(at,v,"popup-blocked");try{at.focus()}catch(Ln){}return new mu(at)}(p,be,Hs())})()}_openRedirect(p,g,w,N){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(p),v=Ac(p,g,w,ht(),N),En().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:N,promise:k}=this.eventManagers[g];return N?Promise.resolve(N):(ue(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const w=yield function(v){return Ot.apply(this,arguments)}(p),N=new hh(p);return w.register("authEvent",k=>(Se(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:N.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:N},g.iframes[p._key()]=w,N})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Ol,{type:Ol},N=>{var k;const J=null===(k=null==N?void 0:N[0])||void 0===k?void 0:k[Ol];void 0!==J&&g(!!J),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ao.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Be()||tu()||fr()}}),this.cordovaResolver=ce(class{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ni}_initialize(p){var g=this;return(0,l.Z)(function*(){const w=p._key();let N=g.eventManagers.get(w);return N||(N=new _h(p),g.eventManagers.set(w,N),g.attachCallbackListeners(p,N)),N})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,N){var k=this;return(0,l.Z)(function*(){!function(v){var p,g,w,N,k,J,be,Le,je,ct;const at=La();Se("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(k=null===(N=null===(w=null==at?void 0:at.cordova)||void 0===w?void 0:w.plugins)||void 0===N?void 0:N.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Le=null===(be=null===(J=null==at?void 0:at.cordova)||void 0===J?void 0:J.plugins)||void 0===be?void 0:be.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(ct=null===(je=null==at?void 0:at.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===ct?void 0:ct.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const J=yield k._initialize(p);yield J.initialized(),J.resetRedirect(),So.clear(),yield k._originValidation(p);const be=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Tv(),postBody:null,tenantId:v.tenantId,error:Je(v,"no-auth-event")}}(p,w,N);yield function(v,p){return Dm()._set(Tm(v),p)}(p,be);const Le=yield function(v,p,g){return Rc.apply(this,arguments)}(p,be,g),je=yield function(v){const{cordova:p}=La();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let N=null;w?p.plugins.browsertab.openUrl(v):N=p.InAppBrowser.open(v,function(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(N)})})}(Le);return function(v,p,g){return op.apply(this,arguments)}(p,J,je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Pl.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:N,BuildInfo:k}=La(),J=setTimeout((0,l.Z)(function*(){yield kc(p),g.onEvent(Sm())}),500),be=function(){var ct=(0,l.Z)(function*(at){clearTimeout(J);const Ln=yield kc(p);let Cs=null;Ln&&(null==at?void 0:at.url)&&(Cs=function(v,p){var g,w;const N=function(v){const p=No(v),g=p.link?decodeURIComponent(p.link):void 0,w=No(g).link,N=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return No(N).link||N||w||g||v}(p);if(N.includes("/__/auth/callback")){const k=No(N),J=k.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,be=null===(w=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Le=be?Je(be):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:N,postBody:null}}return null}(Ln,at.url)),g.onEvent(Cs||Sm())});return function(Ln){return ct.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,be);const Le=N,je=`${k.packageName.toLowerCase()}://`;La().handleOpenURL=function(){var ct=(0,l.Z)(function*(at){if(at.toLowerCase().startsWith(je)&&be({url:at}),"function"==typeof Le)try{Le(at)}catch(Ln){console.error(Ln)}});return function(at){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Ni}_initialize(p){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,N){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,w,N)})()}_openRedirect(p,g,w,N){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,w,N)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return xm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Mo.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Ch(v){return v.unwrap()}function hp(v){return fp(v)}function fp(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ws.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Vs;break;case"facebook.com":w=ic;break;case"github.com":w=Zd;break;case"twitter.com":w=qi;break;default:const{oauthIdToken:N,oauthAccessToken:k,oauthTokenSecret:J,pendingToken:be,nonce:Le}=p;return k||J||N||be?be?g.startsWith("saml.")?po._create(g,be):hs._fromParams({providerId:g,signInMethod:g,pendingToken:be,idToken:N,accessToken:k}):new fo(g).credential({idToken:N,accessToken:k,rawNonce:Le}):null}return v instanceof L.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Wr(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function(v,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new xv(v,function(v,p){var g;const w=(0,L.m9)(v),N=p;return Se(p.operationType,w,"argument-error"),Se(null===(g=N.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Aa._fromError(w,N)}(v,p));else if(w){const N=fp(p),k=p;N&&(k.credential=N,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(v,g),g}).then(g=>{const N=g.user;return{operationType:g.operationType,credential:hp(g),additionalUserInfo:hc(g),user:sa.getOrCreate(N)}})}function wu(v,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Wr(v,g.confirm(w))}})).apply(this,arguments)}class xv{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Wr(Ch(this.auth),this.resolver.resolveSignIn(p))}}class sa{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,L.m9)(v);return gs.has(p)||gs.set(p,mc._fromUser(p)),gs.get(p)}(p)}static getOrCreate(p){return sa.USER_MAP.has(p)||sa.USER_MAP.set(p,new sa(p)),sa.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,l.Z)(function*(){return Wr(g.auth,au(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,l.Z)(function*(){return wu(w.auth,function(v,p,g){return lh.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,l.Z)(function*(){return Wr(g.auth,function(v,p,g){return fu.apply(this,arguments)}(g._delegate,p,es))})()}linkWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield Ar(fn(g.auth)),function(v,p,g){return function(v,p,g){return Oa.apply(this,arguments)}(v,p,g)}(g._delegate,p,es)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,l.Z)(function*(){return Wr(g.auth,Zr(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return wu(this.auth,function(v,p,g){return cn.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Wr(this.auth,function(v,p,g){return dh.apply(this,arguments)}(this._delegate,p,es))}reauthenticateWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield Ar(fn(g.auth)),function(v,p,g){return function(v,p,g){return Pn.apply(this,arguments)}(v,p,g)}(g._delegate,p,es)})()}sendEmailVerification(p){return function(v,p){return Tr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,l.Z)(function*(){return yield function(v,p){return ll.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return _l((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return _l((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return Dn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return qo.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return Sa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sa.USER_MAP=new WeakMap;const Vc=Se;let pp=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=g.options;Vc(N,"invalid-api-key",{appName:g.name});let k=[Ft];if("undefined"!=typeof window){k=function(v,p){const g=Ll();if(!(null==g?void 0:g.sessionStorage))return[];const w=Xn(Nv,v,p);switch(g.sessionStorage.getItem(w)){case Xi.NONE:return[Ft];case Xi.LOCAL:return[Eo,_s];case Xi.SESSION:return[_s];default:return[]}}(N,g.name);for(const be of[Eo,yc,_s])k.includes(be)||k.push(be)}Vc(N,"invalid-api-key",{appName:g.name});const J="undefined"!=typeof window?es:void 0;this._delegate=w.initialize({options:{persistence:k,popupRedirectResolver:J}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(v,p,g){const w=fn(v);Se(w._canInitEmulator,w,"emulator-config-failed"),Se(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const N=!!(null==g?void 0:g.disableWarnings),k=wn(p),{host:J,port:be}=function(v){const p=wn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(w);if(N){const k=N[1];return{host:k,port:uo(w.substr(k.length+1))}}{const[k,J]=w.split(":");return{host:k,port:uo(J)}}}(p);w.config.emulator={url:`${k}//${J}${null===be?"":`:${be}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:be,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function(v,p){return Bs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ne(this._delegate,g)}confirmPasswordReset(g,w){return function(v,p,g){return fl.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var N=this;return(0,l.Z)(function*(){return Wr(N._delegate,function(v,p,g){return ps.apply(this,arguments)}(N._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return pl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=ba.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){Vc(Eh(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(v,p){return Pa.apply(this,arguments)}(g._delegate,es);return w?Wr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){fn(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,N){const{next:k,error:J,complete:be}=Ul(g,w,N);return this._delegate.onAuthStateChanged(k,J,be)}onIdTokenChanged(g,w,N){const{next:k,error:J,complete:be}=Ul(g,w,N);return this._delegate.onIdTokenChanged(k,J,be)}sendSignInLinkToEmail(g,w){return function(v,p,g){return Da.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(v,p,g){return hl.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,l.Z)(function*(){let N;switch(function(v,p){xo(Object.values(Xi).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?xo(p!==Xi.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?xo(p===Xi.NONE,v,"unsupported-persistence-type"):wh()?xo(p===Xi.NONE||p===Xi.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):xo(p===Xi.NONE||bh(),v,"unsupported-persistence-type")}(w._delegate,g),g){case Xi.SESSION:N=_s;break;case Xi.LOCAL:N=(yield ce(Eo)._isAvailable())?Eo:yc;break;case Xi.NONE:N=Ft;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Wr(this._delegate,function(v){return Go.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Wr(this._delegate,Dr(this._delegate,g))}signInWithCustomToken(g){return Wr(this._delegate,function(v,p){return Ca.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Wr(this._delegate,function(v,p,g){return Dr((0,L.m9)(v),wa.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Wr(this._delegate,function(v,p,g){return Ta.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return wu(this._delegate,function(v,p,g){return Do.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,l.Z)(function*(){return Vc(Eh(),w._delegate,"operation-not-supported-in-this-environment"),Wr(w._delegate,function(v,p,g){return hu.apply(this,arguments)}(w._delegate,g,es))})()}signInWithRedirect(g){var w=this;return(0,l.Z)(function*(){return Vc(Eh(),w._delegate,"operation-not-supported-in-this-environment"),yield Ar(w._delegate),function(v,p,g){return function(v,p,g){return Ze.apply(this,arguments)}(v,p,g)}(w._delegate,g,es)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return sn.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Xi,v})();function Ul(v,p,g){let w=v;"function"!=typeof v&&({next:w,error:p,complete:g}=v);const N=w;return{next:J=>N(J&&sa.getOrCreate(J)),error:p,complete:g}}class Uc{constructor(){this.providerId="phone",this._delegate=new ws(Ch(ne.Z.auth()))}static credential(p,g){return ws.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Uc.PHONE_SIGN_IN_METHOD=ws.PHONE_SIGN_IN_METHOD,Uc.PROVIDER_ID=ws.PROVIDER_ID;const Rm=Se;class Dh{constructor(p,g,w=ne.Z.app()){var N;Rm(null===(N=w.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new du(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new oe.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new pp(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wa,FacebookAuthProvider:ic,GithubAuthProvider:Zd,GoogleAuthProvider:Vs,OAuthProvider:fo,PhoneAuthProvider:Uc,PhoneMultiFactorGenerator:Ev,RecaptchaVerifier:Dh,TwitterAuthProvider:qi,Auth:pp,AuthCredential:ui,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(ne.Z)},6676:function(Ye,we){!function(F){"use strict";function l(de){return Array.prototype.slice.call(de)}function ne(de){return new Promise(function(X,re){de.onsuccess=function(){X(de.result)},de.onerror=function(){re(de.error)}})}function L(de,X,re){var Ee,Ie=new Promise(function(Je,Tt){ne(Ee=de[X].apply(de,re)).then(Je,Tt)});return Ie.request=Ee,Ie}function he(de,X,re){var Ee=L(de,X,re);return Ee.then(function(Ie){if(Ie)return new P(Ie,Ee.request)})}function ie(de,X,re){re.forEach(function(Ee){Object.defineProperty(de.prototype,Ee,{get:function(){return this[X][Ee]},set:function(Ie){this[X][Ee]=Ie}})})}function Q(de,X,re,Ee){Ee.forEach(function(Ie){Ie in re.prototype&&(de.prototype[Ie]=function(){return L(this[X],Ie,arguments)})})}function oe(de,X,re,Ee){Ee.forEach(function(Ie){Ie in re.prototype&&(de.prototype[Ie]=function(){return this[X][Ie].apply(this[X],arguments)})})}function K(de,X,re,Ee){Ee.forEach(function(Ie){Ie in re.prototype&&(de.prototype[Ie]=function(){return he(this[X],Ie,arguments)})})}function H(de){this._index=de}function P(de,X){this._cursor=de,this._request=X}function B(de){this._store=de}function $(de){this._tx=de,this.complete=new Promise(function(X,re){de.oncomplete=function(){X()},de.onerror=function(){re(de.error)},de.onabort=function(){re(de.error)}})}function le(de,X,re){this._db=de,this.oldVersion=X,this.transaction=new $(re)}function Me(de){this._db=de}ie(H,"_index",["name","keyPath","multiEntry","unique"]),Q(H,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),K(H,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(P,"_cursor",["direction","key","primaryKey","value"]),Q(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(de){de in IDBCursor.prototype&&(P.prototype[de]=function(){var X=this,re=arguments;return Promise.resolve().then(function(){return X._cursor[de].apply(X._cursor,re),ne(X._request).then(function(Ee){if(Ee)return new P(Ee,X._request)})})})}),B.prototype.createIndex=function(){return new H(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new H(this._store.index.apply(this._store,arguments))},ie(B,"_store",["name","keyPath","indexNames","autoIncrement"]),Q(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),K(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(B,"_store",IDBObjectStore,["deleteIndex"]),$.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ie($,"_tx",["objectStoreNames","mode"]),oe($,"_tx",IDBTransaction,["abort"]),le.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ie(le,"_db",["name","version","objectStoreNames"]),oe(le,"_db",IDBDatabase,["deleteObjectStore","close"]),Me.prototype.transaction=function(){return new $(this._db.transaction.apply(this._db,arguments))},ie(Me,"_db",["name","version","objectStoreNames"]),oe(Me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(de){[B,H].forEach(function(X){de in X.prototype&&(X.prototype[de.replace("open","iterate")]=function(){var re=l(arguments),Ee=re[re.length-1],Ie=this._store||this._index,Je=Ie[de].apply(Ie,re.slice(0,-1));Je.onsuccess=function(){Ee(Je.result)}})})}),[H,B].forEach(function(de){de.prototype.getAll||(de.prototype.getAll=function(X,re){var Ee=this,Ie=[];return new Promise(function(Je){Ee.iterateCursor(X,function(Tt){Tt?(Ie.push(Tt.value),void 0===re||Ie.length!=re?Tt.continue():Je(Ie)):Je(Ie)})})})}),F.openDb=function(de,X,re){var Ee=L(indexedDB,"open",[de,X]),Ie=Ee.request;return Ie&&(Ie.onupgradeneeded=function(Je){re&&re(new le(Ie.result,Je.oldVersion,Ie.transaction))}),Ee.then(function(Je){return new Me(Je)})},F.deleteDb=function(de){return L(indexedDB,"deleteDatabase",[de])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},1593:(Ye,we,F)=>{"use strict";F.d(we,{P:()=>oe});var l=F(9193),ne=F(5917),L=F(7574);class oe{constructor(H,P,B){this.kind=H,this.value=P,this.error=B,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,P,B){switch(this.kind){case"N":return H&&H(this.value);case"E":return P&&P(this.error);case"C":return B&&B()}}accept(H,P,B){return H&&"function"==typeof H.next?this.observe(H):this.do(H,P,B)}toObservable(){switch(this.kind){case"N":return(0,ne.of)(this.value);case"E":return K=this.error,new L.y(P=>P.error(K));case"C":return(0,l.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(H){return void 0!==H?new oe("N",H):oe.undefinedValueNotification}static createError(H){return new oe("E",void 0,H)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},7574:(Ye,we,F)=>{"use strict";F.d(we,{y:()=>B});var l=F(7393),L=F(9181),he=F(6490),Q=F(6554),oe=F(4487);var P=F(2494);let B=(()=>{class le{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const De=new le;return De.source=this,De.operator=Ae,De}subscribe(Ae,De,de){const{operator:X}=this,re=function(le,Me,Ae){if(le){if(le instanceof l.L)return le;if(le[L.b])return le[L.b]()}return le||Me||Ae?new l.L(le,Me,Ae):new l.L(he.c)}(Ae,De,de);if(re.add(X?X.call(re,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!re.syncErrorThrowable?this._subscribe(re):this._trySubscribe(re)),P.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable&&(re.syncErrorThrowable=!1,re.syncErrorThrown))throw re.syncErrorValue;return re}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(De){P.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=De),function(le){for(;le;){const{closed:Me,destination:Ae,isStopped:De}=le;if(Me||De)return!1;le=Ae&&Ae instanceof l.L?Ae:null}return!0}(Ae)?Ae.error(De):console.warn(De)}}forEach(Ae,De){return new(De=$(De))((de,X)=>{let re;re=this.subscribe(Ee=>{try{Ae(Ee)}catch(Ie){X(Ie),re&&re.unsubscribe()}},X,de)})}_subscribe(Ae){const{source:De}=this;return De&&De.subscribe(Ae)}[Q.L](){return this}pipe(...Ae){return 0===Ae.length?this:function(le){return 0===le.length?oe.y:1===le.length?le[0]:function(Ae){return le.reduce((De,de)=>de(De),Ae)}}(Ae)(this)}toPromise(Ae){return new(Ae=$(Ae))((De,de)=>{let X;this.subscribe(re=>X=re,re=>de(re),()=>De(X))})}}return le.create=Me=>new le(Me),le})();function $(le){if(le||(le=P.v.Promise||Promise),!le)throw new Error("no Promise impl found");return le}},6490:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>L});var l=F(2494),ne=F(4449);const L={closed:!0,next(he){},error(he){if(l.v.useDeprecatedSynchronousErrorHandling)throw he;(0,ne.z)(he)},complete(){}}},9765:(Ye,we,F)=>{"use strict";F.d(we,{Yc:()=>oe,xQ:()=>K});var l=F(7574),ne=F(7393),L=F(5319),he=F(7971),ie=F(8858),Q=F(9181);class oe extends ne.L{constructor(B){super(B),this.destination=B}}let K=(()=>{class P extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new oe(this)}lift($){const le=new H(this,this);return le.operator=$,le}next($){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:le}=this,Me=le.length,Ae=le.slice();for(let De=0;De<Me;De++)Ae[De].next($)}}error($){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=$,this.isStopped=!0;const{observers:le}=this,Me=le.length,Ae=le.slice();for(let De=0;De<Me;De++)Ae[De].error($);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:$}=this,le=$.length,Me=$.slice();for(let Ae=0;Ae<le;Ae++)Me[Ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($){if(this.closed)throw new he.N;return super._trySubscribe($)}_subscribe($){if(this.closed)throw new he.N;return this.hasError?($.error(this.thrownError),L.w.EMPTY):this.isStopped?($.complete(),L.w.EMPTY):(this.observers.push($),new ie.W(this,$))}asObservable(){const $=new l.y;return $.source=this,$}}return P.create=(B,$)=>new H(B,$),P})();class H extends K{constructor(B,$){super(),this.destination=B,this.source=$}next(B){const{destination:$}=this;$&&$.next&&$.next(B)}error(B){const{destination:$}=this;$&&$.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:$}=this;return $?this.source.subscribe(B):L.w.EMPTY}}},8858:(Ye,we,F)=>{"use strict";F.d(we,{W:()=>ne});var l=F(5319);class ne extends l.w{constructor(he,ie){super(),this.subject=he,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,ie=he.observers;if(this.subject=null,!ie||0===ie.length||he.isStopped||he.closed)return;const Q=ie.indexOf(this.subscriber);-1!==Q&&ie.splice(Q,1)}}},7393:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>oe});var l=F(9105),ne=F(6490),L=F(5319),he=F(9181),ie=F(2494),Q=F(4449);class oe extends L.w{constructor(P,B,$){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!P){this.destination=ne.c;break}if("object"==typeof P){P instanceof oe?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,P,B,$)}}[he.b](){return this}static create(P,B,$){const le=new oe(P,B,$);return le.syncErrorThrowable=!1,le}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class K extends oe{constructor(P,B,$,le){super(),this._parentSubscriber=P;let Me,Ae=this;(0,l.m)(B)?Me=B:B&&(Me=B.next,$=B.error,le=B.complete,B!==ne.c&&(Ae=Object.create(B),(0,l.m)(Ae.unsubscribe)&&this.add(Ae.unsubscribe.bind(Ae)),Ae.unsubscribe=this.unsubscribe.bind(this))),this._context=Ae,this._next=Me,this._error=$,this._complete=le}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ie.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:$}=ie.v;if(this._error)$&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(B.syncErrorThrowable)$?(B.syncErrorValue=P,B.syncErrorThrown=!0):(0,Q.z)(P),this.unsubscribe();else{if(this.unsubscribe(),$)throw P;(0,Q.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const B=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,B){try{P.call(this._context,B)}catch($){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw $;(0,Q.z)($)}}__tryOrSetError(P,B,$){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,$)}catch(le){return ie.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=le,P.syncErrorThrown=!0,!0):((0,Q.z)(le),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Ye,we,F)=>{"use strict";F.d(we,{w:()=>Q});var l=F(9796),ne=F(1555),L=F(9105);const ie=(()=>{function K(H){return Error.call(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((P,B)=>`${B+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H,this}return K.prototype=Object.create(Error.prototype),K})();class Q{constructor(H){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,H&&(this._ctorUnsubscribe=!0,this._unsubscribe=H)}unsubscribe(){let H;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:B,_unsubscribe:$,_subscriptions:le}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof Q)P.remove(this);else if(null!==P)for(let Me=0;Me<P.length;++Me)P[Me].remove(this);if((0,L.m)($)){B&&(this._unsubscribe=void 0);try{$.call(this)}catch(Me){H=Me instanceof ie?oe(Me.errors):[Me]}}if((0,l.k)(le)){let Me=-1,Ae=le.length;for(;++Me<Ae;){const De=le[Me];if((0,ne.K)(De))try{De.unsubscribe()}catch(de){H=H||[],de instanceof ie?H=H.concat(oe(de.errors)):H.push(de)}}}if(H)throw new ie(H)}add(H){let P=H;if(!H)return Q.EMPTY;switch(typeof H){case"function":P=new Q(H);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof Q)){const le=P;P=new Q,P._subscriptions=[le]}break;default:throw new Error("unrecognized teardown "+H+" added to Subscription.")}let{_parentOrParents:B}=P;if(null===B)P._parentOrParents=this;else if(B instanceof Q){if(B===this)return P;P._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return P;B.push(this)}const $=this._subscriptions;return null===$?this._subscriptions=[P]:$.push(P),P}remove(H){const P=this._subscriptions;if(P){const B=P.indexOf(H);-1!==B&&P.splice(B,1)}}}var K;function oe(K){return K.reduce((H,P)=>H.concat(P instanceof ie?P.errors:P),[])}Q.EMPTY=((K=new Q).closed=!0,K)},2494:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>ne});let l=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=L},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Ye,we,F)=>{"use strict";F.d(we,{IY:()=>he,Ds:()=>Q,ft:()=>K});var l=F(7393),ne=F(7574),L=F(7444);class he extends l.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends l.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function K(H,P){if(P.closed)return;if(H instanceof ne.y)return H.subscribe(P);let B;try{B=(0,L.s)(H)(P)}catch($){P.error($)}return B}},2441:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>ie,N:()=>Q});var l=F(9765),ne=F(7574),L=F(5319),he=F(1307);class ie extends ne.y{constructor(B,$){super(),this.source=B,this.subjectFactory=$,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new L.w,B.add(this.source.subscribe(new oe(this.getSubject(),this))),B.closed&&(this._connection=null,B=L.w.EMPTY)),B}refCount(){return(0,he.x)()(this)}}const Q=(()=>{const P=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class oe extends l.Yc{constructor(B,$){super(B),this.connectable=$}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const $=B._connection;B._refCount=0,B._subject=null,B._connection=null,$&&$.unsubscribe()}}}},9193:(Ye,we,F)=>{"use strict";F.d(we,{E:()=>ne,c:()=>L});var l=F(7574);const ne=new l.y(ie=>ie.complete());function L(ie){return ie?function(ie){return new l.y(Q=>ie.schedule(()=>Q.complete()))}(ie):ne}},4402:(Ye,we,F)=>{"use strict";F.d(we,{D:()=>Ae});var l=F(7574),ne=F(7444),L=F(5319),he=F(6554),oe=F(4087),K=F(377),B=F(4072),$=F(9489);function Ae(De,de){return de?function(De,de){if(null!=De){if(function(De){return De&&"function"==typeof De[he.L]}(De))return function(De,de){return new l.y(X=>{const re=new L.w;return re.add(de.schedule(()=>{const Ee=De[he.L]();re.add(Ee.subscribe({next(Ie){re.add(de.schedule(()=>X.next(Ie)))},error(Ie){re.add(de.schedule(()=>X.error(Ie)))},complete(){re.add(de.schedule(()=>X.complete()))}}))})),re})}(De,de);if((0,B.t)(De))return function(De,de){return new l.y(X=>{const re=new L.w;return re.add(de.schedule(()=>De.then(Ee=>{re.add(de.schedule(()=>{X.next(Ee),re.add(de.schedule(()=>X.complete()))}))},Ee=>{re.add(de.schedule(()=>X.error(Ee)))}))),re})}(De,de);if((0,$.z)(De))return(0,oe.r)(De,de);if(function(De){return De&&"function"==typeof De[K.hZ]}(De)||"string"==typeof De)return function(De,de){if(!De)throw new Error("Iterable cannot be null");return new l.y(X=>{const re=new L.w;let Ee;return re.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),re.add(de.schedule(()=>{Ee=De[K.hZ](),re.add(de.schedule(function(){if(X.closed)return;let Ie,Je;try{const Tt=Ee.next();Ie=Tt.value,Je=Tt.done}catch(Tt){return void X.error(Tt)}Je?X.complete():(X.next(Ie),this.schedule())}))})),re})}(De,de)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,de):De instanceof l.y?De:new l.y((0,ne.s)(De))}},6693:(Ye,we,F)=>{"use strict";F.d(we,{n:()=>he});var l=F(7574),ne=F(5015),L=F(4087);function he(ie,Q){return Q?(0,L.r)(ie,Q):new l.y((0,ne.V)(ie))}},6682:(Ye,we,F)=>{"use strict";F.d(we,{T:()=>ie});var l=F(7574),ne=F(4869),L=F(3282),he=F(6693);function ie(...Q){let oe=Number.POSITIVE_INFINITY,K=null,H=Q[Q.length-1];return(0,ne.K)(H)?(K=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(oe=Q.pop())):"number"==typeof H&&(oe=Q.pop()),null===K&&1===Q.length&&Q[0]instanceof l.y?Q[0]:(0,L.J)(oe)((0,he.n)(Q,K))}},5917:(Ye,we,F)=>{"use strict";F.d(we,{of:()=>he});var l=F(4869),ne=F(6693),L=F(4087);function he(...ie){let Q=ie[ie.length-1];return(0,l.K)(Q)?(ie.pop(),(0,L.r)(ie,Q)):(0,ne.n)(ie)}},8002:(Ye,we,F)=>{"use strict";F.d(we,{U:()=>ne});var l=F(7393);function ne(ie,Q){return function(K){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new L(ie,Q))}}class L{constructor(Q,oe){this.project=Q,this.thisArg=oe}call(Q,oe){return oe.subscribe(new he(Q,this.project,this.thisArg))}}class he extends l.L{constructor(Q,oe,K){super(Q),this.project=oe,this.count=0,this.thisArg=K||this}_next(Q){let oe;try{oe=this.project.call(this.thisArg,Q,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(oe)}}},3282:(Ye,we,F)=>{"use strict";F.d(we,{J:()=>L});var l=F(9773),ne=F(4487);function L(he=Number.POSITIVE_INFINITY){return(0,l.zg)(ne.y,he)}},9773:(Ye,we,F)=>{"use strict";F.d(we,{zg:()=>he});var l=F(8002),ne=F(4402),L=F(5345);function he(K,H,P=Number.POSITIVE_INFINITY){return"function"==typeof H?B=>B.pipe(he(($,le)=>(0,ne.D)(K($,le)).pipe((0,l.U)((Me,Ae)=>H($,Me,le,Ae))),P)):("number"==typeof H&&(P=H),B=>B.lift(new ie(K,P)))}class ie{constructor(H,P=Number.POSITIVE_INFINITY){this.project=H,this.concurrent=P}call(H,P){return P.subscribe(new Q(H,this.project,this.concurrent))}}class Q extends L.Ds{constructor(H,P,B=Number.POSITIVE_INFINITY){super(H),this.project=P,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(H){this.active<this.concurrent?this._tryNext(H):this.buffer.push(H)}_tryNext(H){let P;const B=this.index++;try{P=this.project(H,B)}catch($){return void this.destination.error($)}this.active++,this._innerSub(P)}_innerSub(H){const P=new L.IY(this),B=this.destination;B.add(P);const $=(0,L.ft)(H,P);$!==P&&B.add($)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(H){this.destination.next(H)}notifyComplete(){const H=this.buffer;this.active--,H.length>0?this._next(H.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ye,we,F)=>{"use strict";F.d(we,{QV:()=>L,ht:()=>ie});var l=F(7393),ne=F(1593);function L(oe,K=0){return function(P){return P.lift(new he(oe,K))}}class he{constructor(K,H=0){this.scheduler=K,this.delay=H}call(K,H){return H.subscribe(new ie(K,this.scheduler,this.delay))}}class ie extends l.L{constructor(K,H,P=0){super(K),this.scheduler=H,this.delay=P}static dispatch(K){const{notification:H,destination:P}=K;H.observe(P),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new Q(K,this.destination)))}_next(K){this.scheduleMessage(ne.P.createNext(K))}_error(K){this.scheduleMessage(ne.P.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(ne.P.createComplete()),this.unsubscribe()}}class Q{constructor(K,H){this.notification=K,this.destination=H}}},1307:(Ye,we,F)=>{"use strict";F.d(we,{x:()=>ne});var l=F(7393);function ne(){return function(Q){return Q.lift(new L(Q))}}class L{constructor(Q){this.connectable=Q}call(Q,oe){const{connectable:K}=this;K._refCount++;const H=new he(Q,K),P=oe.subscribe(H);return H.closed||(H.connection=K.connect()),P}}class he extends l.L{constructor(Q,oe){super(Q),this.connectable=oe}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const oe=Q._refCount;if(oe<=0)return void(this.connection=null);if(Q._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:K}=this,H=Q._connection;this.connection=null,H&&(!K||H===K)&&H.unsubscribe()}}},8819:(Ye,we,F)=>{"use strict";F.d(we,{B:()=>oe});var l=F(2441);var he=F(1307),ie=F(9765);function Q(){return new ie.xQ}function oe(){return K=>(0,he.x)()(function(K,H){return function(B){let $;$="function"==typeof K?K:function(){return K};const le=Object.create(B,l.N);return le.source=B,le.subjectFactory=$,le}}(Q)(K))}},2639:(Ye,we,F)=>{"use strict";F.d(we,{R:()=>De});var l=F(7574);let ne=1;const L=Promise.resolve(),he={};function ie(X){return X in he&&(delete he[X],!0)}const Q={setImmediate(X){const re=ne++;return he[re]=!0,L.then(()=>ie(re)&&X()),re},clearImmediate(X){ie(X)}};var K=F(6465),P=F(6102);const le=new class extends P.v{flush(re){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Ie,Je=-1,Tt=Ee.length;re=re||Ee.shift();do{if(Ie=re.execute(re.state,re.delay))break}while(++Je<Tt&&(re=Ee.shift()));if(this.active=!1,Ie){for(;++Je<Tt&&(re=Ee.shift());)re.unsubscribe();throw Ie}}}(class extends K.o{constructor(re,Ee){super(re,Ee),this.scheduler=re,this.work=Ee}requestAsyncId(re,Ee,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(re,Ee,Ie):(re.actions.push(this),re.scheduled||(re.scheduled=Q.setImmediate(re.flush.bind(re,null))))}recycleAsyncId(re,Ee,Ie=0){if(null!==Ie&&Ie>0||null===Ie&&this.delay>0)return super.recycleAsyncId(re,Ee,Ie);0===re.actions.length&&(Q.clearImmediate(Ee),re.scheduled=void 0)}});var Me=F(6561);class Ae extends l.y{constructor(re,Ee=0,Ie=le){super(),this.source=re,this.delayTime=Ee,this.scheduler=Ie,(!(0,Me.k)(Ee)||Ee<0)&&(this.delayTime=0),(!Ie||"function"!=typeof Ie.schedule)&&(this.scheduler=le)}static create(re,Ee=0,Ie=le){return new Ae(re,Ee,Ie)}static dispatch(re){const{source:Ee,subscriber:Ie}=re;return this.add(Ee.subscribe(Ie))}_subscribe(re){return this.scheduler.schedule(Ae.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function De(X,re=0){return function(Ie){return Ie.lift(new de(X,re))}}class de{constructor(re,Ee){this.scheduler=re,this.delay=Ee}call(re,Ee){return new Ae(Ee,this.delay,this.scheduler).subscribe(re)}}},8307:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>he});var l=F(7393),ne=F(8640),L=F(9105);function he(oe,K,H){return function(B){return B.lift(new ie(oe,K,H))}}class ie{constructor(K,H,P){this.nextOrObserver=K,this.error=H,this.complete=P}call(K,H){return H.subscribe(new Q(K,this.nextOrObserver,this.error,this.complete))}}class Q extends l.L{constructor(K,H,P,B){super(K),this._tapNext=ne.Z,this._tapError=ne.Z,this._tapComplete=ne.Z,this._tapError=P||ne.Z,this._tapComplete=B||ne.Z,(0,L.m)(H)?(this._context=this,this._tapNext=H):H&&(this._context=H,this._tapNext=H.next||ne.Z,this._tapError=H.error||ne.Z,this._tapComplete=H.complete||ne.Z)}_next(K){try{this._tapNext.call(this._context,K)}catch(H){return void this.destination.error(H)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(H){return void this.destination.error(H)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(Ye,we,F)=>{"use strict";F.d(we,{r:()=>L});var l=F(7574),ne=F(5319);function L(he,ie){return new l.y(Q=>{const oe=new ne.w;let K=0;return oe.add(ie.schedule(function(){K!==he.length?(Q.next(he[K++]),Q.closed||oe.add(this.schedule())):Q.complete()})),oe})}},6465:(Ye,we,F)=>{"use strict";F.d(we,{o:()=>L});var l=F(5319);class ne extends l.w{constructor(ie,Q){super()}schedule(ie,Q=0){return this}}class L extends ne{constructor(ie,Q){super(ie,Q),this.scheduler=ie,this.work=Q,this.pending=!1}schedule(ie,Q=0){if(this.closed)return this;this.state=ie;const oe=this.id,K=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(K,oe,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(K,this.id,Q),this}requestAsyncId(ie,Q,oe=0){return setInterval(ie.flush.bind(ie,this),oe)}recycleAsyncId(ie,Q,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return Q;clearInterval(Q)}execute(ie,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ie,Q);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,Q){let K,oe=!1;try{this.work(ie)}catch(H){oe=!0,K=!!H&&H||new Error(H)}if(oe)return this.unsubscribe(),K}_unsubscribe(){const ie=this.id,Q=this.scheduler,oe=Q.actions,K=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&oe.splice(K,1),null!=ie&&(this.id=this.recycleAsyncId(Q,ie,null)),this.delay=null}}},6102:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>ne});let l=(()=>{class L{constructor(ie,Q=L.now){this.SchedulerAction=ie,this.now=Q}schedule(ie,Q=0,oe){return new this.SchedulerAction(this,ie).schedule(oe,Q)}}return L.now=()=>Date.now(),L})();class ne extends l{constructor(he,ie=l.now){super(he,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,ie=0,Q){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(he,ie,Q):super.schedule(he,ie,Q)}flush(he){const{actions:ie}=this;if(this.active)return void ie.push(he);let Q;this.active=!0;do{if(Q=he.execute(he.state,he.delay))break}while(he=ie.shift());if(this.active=!1,Q){for(;he=ie.shift();)he.unsubscribe();throw Q}}}},3637:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>L,P:()=>he});var l=F(6465);const L=new(F(6102).v)(l.o),he=L},7771:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>Q,N:()=>ie});var l=F(6465),L=F(6102);const ie=new class extends L.v{}(class extends l.o{constructor(K,H){super(K,H),this.scheduler=K,this.work=H}schedule(K,H=0){return H>0?super.schedule(K,H):(this.delay=H,this.state=K,this.scheduler.flush(this),this)}execute(K,H){return H>0||this.closed?super.execute(K,H):this._execute(K,H)}requestAsyncId(K,H,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(K,H,P):K.flush(this)}}),Q=ie},377:(Ye,we,F)=>{"use strict";F.d(we,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,we,F)=>{"use strict";F.d(we,{N:()=>ne});const ne=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Ye,we,F)=>{"use strict";function l(ne){setTimeout(()=>{throw ne},0)}F.d(we,{z:()=>l})},4487:(Ye,we,F)=>{"use strict";function l(ne){return ne}F.d(we,{y:()=>l})},9796:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>l});const l=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>l});const l=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(Ye,we,F)=>{"use strict";function l(ne){return"function"==typeof ne}F.d(we,{m:()=>l})},6561:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>ne});var l=F(9796);function ne(L){return!(0,l.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Ye,we,F)=>{"use strict";function l(ne){return null!==ne&&"object"==typeof ne}F.d(we,{K:()=>l})},4072:(Ye,we,F)=>{"use strict";function l(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}F.d(we,{t:()=>l})},4869:(Ye,we,F)=>{"use strict";function l(ne){return ne&&"function"==typeof ne.schedule}F.d(we,{K:()=>l})},8640:(Ye,we,F)=>{"use strict";function l(){}F.d(we,{Z:()=>l})},7444:(Ye,we,F)=>{"use strict";F.d(we,{s:()=>B});var l=F(5015),ne=F(4449),he=F(377),Q=F(6554),K=F(9489),H=F(4072),P=F(1555);const B=$=>{if($&&"function"==typeof $[Q.L])return($=>le=>{const Me=$[Q.L]();if("function"!=typeof Me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Me.subscribe(le)})($);if((0,K.z)($))return(0,l.V)($);if((0,H.t)($))return($=>le=>($.then(Me=>{le.closed||(le.next(Me),le.complete())},Me=>le.error(Me)).then(null,ne.z),le))($);if($&&"function"==typeof $[he.hZ])return($=>le=>{const Me=$[he.hZ]();for(;;){let Ae;try{Ae=Me.next()}catch(De){return le.error(De),le}if(Ae.done){le.complete();break}if(le.next(Ae.value),le.closed)break}return"function"==typeof Me.return&&le.add(()=>{Me.return&&Me.return()}),le})($);{const Me=`You provided ${(0,P.K)($)?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Me)}}},5015:(Ye,we,F)=>{"use strict";F.d(we,{V:()=>l});const l=ne=>L=>{for(let he=0,ie=ne.length;he<ie&&!L.closed;he++)L.next(ne[he]);L.complete()}},7537:(Ye,we,F)=>{"use strict";var l=F(7716);let ne=null;function L(){return ne}const oe=new l.OlP("DocumentToken");let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:H,token:n,providedIn:"platform"}),n})();function H(){return(0,l.LFG)(B)}const P=new l.OlP("Location Initialized");let B=(()=>{class n extends K{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){$()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){$()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=(0,l.Yz7)({factory:le,token:n,providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function le(){return new B((0,l.LFG)(oe))}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:X,token:n,providedIn:"root"}),n})();function X(n){const e=(0,l.LFG)(oe).location;return new Ee((0,l.LFG)(K),e&&e.origin||"")}const re=new l.OlP("appBaseHref");let Ee=(()=>{class n extends de{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+De(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const h=this.prepareExternalUrl(o+De(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){const h=this.prepareExternalUrl(o+De(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let h=this.prepareExternalUrl(o+De(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){let h=this.prepareExternalUrl(o+De(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(K),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Je=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ae(gt(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+De(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,gt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+De(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+De(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(K))},n.normalizeQueryParams=De,n.joinWithSlash=Me,n.stripTrailingSlash=Ae,n.\u0275prov=(0,l.Yz7)({factory:Tt,token:n,providedIn:"root"}),n})();function Tt(){return new Je((0,l.LFG)(de),(0,l.LFG)(K))}function gt(n){return n.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))();const Os=l.kL8;class ui{}let er=(()=>{class n extends ui{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Os(r||this.locale)(t)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ar(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}class $i{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wt=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,c,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new $i(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new ru(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const m=this._viewContainer.get(c);this._viewContainer.move(m,h);const b=new ru(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class ru{constructor(e,t){this.record=e,this.view=t}}let In=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new rl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_a("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_a("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class rl{constructor(){this.$implicit=null,this.ngIf=null}}function _a(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:ui,useClass:er}]}),n})();function Ea(n){return"server"===n}let Go=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ol((0,l.LFG)(oe),window)}),n})();class ol{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=al(this.window.history)||al(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function al(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ll{}class ul extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ul,ne||(ne=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(zi=zi||document.querySelector("base"),zi?zi.getAttribute("href"):null);return null==t?null:function(n){un=un||document.createElement("a"),un.setAttribute("href",n);const e=un.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ar(document.cookie,e)}}let un,zi=null;const ou=new l.OlP("TRANSITION_ID"),Dr=[{provide:l.ip1,useFactory:function(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[ou,oe,l.zs3],multi:!0}];class Sn{static init(){(0,l.VLi)(new Sn)}addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const m=function(b){h=h||b,c--,0==c&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let au=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=new l.OlP("EventManagerPlugins");let Ne=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class At{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let lc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),sn=(()=>{class n extends lc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(uc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(uc))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function uc(n){L().remove(n)}const ps={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ii=/%COMP%/g;function xn(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?xn(n,o,t):(o=o.replace(Ii,n),t.push(o))}return t}function Si(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bo=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Tr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new gl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case l.ifc.ShadowDom:return new dc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=xn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ne),l.LFG(sn),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Tr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ps[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=ps[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ps[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Si(r)):this.eventManager.addEventListener(e,t,Si(r))}}class gl extends Tr{constructor(e,t,r,o){super(e),this.component=r;const c=xn(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Ii,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ii,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class dc extends Tr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=xn(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const m=document.createElement("style");m.textContent=c[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let qo=(()=>{class n extends At{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zo=["alt","control","meta","shift"],hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gv={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fc=(()=>{class n extends At{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(zo.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),h+=b+".")}),h+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ir.hasOwnProperty(e)&&(e=Ir[e]))}return hc[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),zo.forEach(c=>{c!=o&&gv[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Wo=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){ul.makeCurrent(),Sn.init()},multi:!0},{provide:oe,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),_c=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:Bs,useClass:qo,multi:!0,deps:[oe,l.R0b,l.Lbi]},{provide:Bs,useClass:fc,multi:!0,deps:[oe]},[],{provide:bo,useClass:bo,deps:[Ne,sn,l.AFp]},{provide:l.FYo,useExisting:bo},{provide:lc,useExisting:sn},{provide:sn,useClass:sn,deps:[oe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ne,useClass:Ne,deps:[Bs,l.R0b]},{provide:ll,useClass:au,deps:[]},[]];let zf=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:ou,useExisting:l.AFp},Dr]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:_c,imports:[gr,l.hGG]}),n})();"undefined"!=typeof window&&window;var Kt=F(4402),Ge=F(5917),qt=F(9765),Dl=F(7971);class yn extends qt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dl.N;return this._value}next(e){super.next(this._value=e)}}var wo=F(4869),qs=F(9796),Rn=F(7393);class Tl extends Rn.L{notifyNext(e,t,r,o,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class yv extends Rn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Eo=F(7444),Cn=F(7574);function Ec(n,e,t,r,o=new yv(n,t,r)){if(!o.closed)return e instanceof Cn.y?e.subscribe(o):(0,Eo.s)(e)(o)}var xa=F(6693);const Il={};class Cc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ra(e,this.resultSelector))}}class Ra extends Tl{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Il),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Ec(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===Il?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Wi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ai=F(3282);function Jo(...n){return(0,Ai.J)(1)((0,Ge.of)(...n))}var Yi=F(9193);function bs(n){return new Cn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Kt.D)(t):(0,Yi.c)()).subscribe(e)})}var oh=F(2441),tt=F(8002),Ki=F(5345);function Gn(n,e){return"function"==typeof e?t=>t.pipe(Gn((r,o)=>(0,Kt.D)(n(r,o)).pipe((0,tt.U)((c,h)=>e(r,c,o,h))))):t=>t.lift(new cm(n))}class cm{constructor(e){this.project=e}call(e,t){return t.subscribe(new vn(e,this.project))}}class vn extends Ki.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ki.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Ki.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const du=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function zr(n){return e=>0===n?(0,Yi.c)():e.lift(new ah(n))}class ah{constructor(e){if(this.total=e,this.total<0)throw new du}call(e,t){return t.subscribe(new dm(e,this.total))}}class dm extends Rn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Do(...n){const e=n[n.length-1];return(0,wo.K)(e)?(n.pop(),t=>Jo(n,t,e)):t=>Jo(n,t)}function Sl(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new lh(n,e,t))}}class lh{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new hm(e,this.accumulator,this.seed,this.hasSeed))}}class hm extends Rn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function cn(n,e){return function(r){return r.lift(new Al(n,e))}}class Al{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new To(e,this.predicate,this.thisArg))}}class To extends Rn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Io(n){return function(t){const r=new Dn(n),o=t.lift(r);return r.caught=o}}class Dn{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ws(e,this.selector,this.caught))}}class ws extends Ki.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Ki.IY(this);this.add(r);const o=(0,Ki.ft)(t,r);o!==r&&this.add(o)}}}var on=F(9773);function ka(n,e){return(0,on.zg)(n,e,1)}function uh(n){return function(t){return 0===n?(0,Yi.c)():t.lift(new Ji(n))}}class Ji{constructor(e){if(this.total=e,this.total<0)throw new du}call(e,t){return t.subscribe(new Es(e,this.total))}}class Es extends Rn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<r;c++){const h=t++%r;e.next(o[h])}}e.complete()}}function Qo(n=ch){return e=>e.lift(new di(n))}class di{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Zs(e,this.errorFactory))}}class Zs extends Rn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ch(){return new Wi}function hu(n=null){return e=>e.lift(new Xo(n))}class Xo{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new dh(e,this.defaultValue))}}class dh extends Rn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ea=F(4487);function kn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cn((o,c)=>n(o,c,r)):ea.y,zr(1),t?hu(e):Qo(()=>new Wi))}var On=F(8307),So=F(1307),Kf=F(5319);class C{constructor(e){this.callback=e}call(e,t){return t.subscribe(new I(e,this.callback))}}class I extends Rn.L{constructor(e,t){super(e),this.add(new Kf.w(t))}}class x{constructor(e,t){this.id=e,this.url=t}}class j extends x{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends x{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ge extends x{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends x{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qe extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ze extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt extends x{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jt extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oa{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nl{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pt="primary";class Qf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bn(n){return new Qf(n)}const hh="ngNavigationCancelingError";function Xf(n){const e=Error("NavigationCancelingError: "+n);return e[hh]=!0,e}function Dc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],m=n[c];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!ep(n[o],e[o]))return!1;return!0}function ep(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function vv(n){return Array.prototype.concat.apply([],n)}function Ml(n){return n.length>0?n[n.length-1]:null}function nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Sr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Kt.D)(Promise.resolve(n)):(0,Ge.of)(n)}const gm={exact:function _m(n,e,t){if(!kl(n.segments,e.segments)||!fh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_m(n.children[r],e.children[r],t))return!1;return!0},subset:Rl},xl={exact:function(n,e){return Qi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ep(n[t],e[t]))},ignored:()=>!0};function Tc(n,e,t){return gm[t.paths](n.root,e.root,t.matrixParams)&&xl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Rl(n,e,t){return pu(n,e,e.segments,t)}function pu(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!kl(o,t)||e.hasChildren()||!fh(o,t,r))}if(n.segments.length===t.length){if(!kl(n.segments,t)||!fh(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Rl(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(kl(n.segments,o)&&fh(n.segments,o,r)&&n.children[pt])&&pu(n.children[pt],e,c,r)}}function fh(n,e,t){return e.every((r,o)=>xl[t](n[o].parameters,r.parameters))}class gu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return np.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,nr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ta(this)}}class Ic{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return rp(this)}}function kl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class tp{}class mu{parse(e){const t=new La(e);return new gu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Sc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ac(t)}=${Ac(o)}`).join("&"):`${Ac(t)}=${Ac(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const np=new mu;function ta(n){return n.segments.map(e=>rp(e)).join("/")}function Sc(n,e){if(!n.hasChildren())return ta(n);if(e){const t=n.children[pt]?Sc(n.children[pt],!1):"",r=[];return nr(n.children,(o,c)=>{c!==pt&&r.push(`${c}:${Sc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return nr(n.children,(r,o)=>{o===pt&&(t=t.concat(e(r,o)))}),nr(n.children,(r,o)=>{o!==pt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===pt?[Sc(n.children[pt],!1)]:[`${o}:${Sc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${ta(n)}/${t[0]}`:`${ta(n)}/(${t.join("//")})`}}function ym(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ac(n){return ym(n).replace(/%3B/gi,";")}function Ol(n){return ym(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nc(n){return decodeURIComponent(n)}function gh(n){return Nc(n.replace(/\+/g,"%20"))}function rp(n){return`${Ol(n.path)}${function(n){return Object.keys(n).map(e=>`;${Ol(e)}=${Ol(n[e])}`).join("")}(n.parameters)}`}const vm=/^[^\/()?;=#]+/;function Mc(n){const e=n.match(vm);return e?e[0]:""}const Cv=/^[^=?&#]+/,ra=/^[^?&#]+/;class La{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pt]=new Ot(e,t)),r}parseSegment(){const e=Mc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ic(Nc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Mc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Mc(this.remaining);o&&(r=o,this.capture(r))}e[Nc(t)]=Nc(r)}parseQueryParam(e){const t=function(n){const e=n.match(Cv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(ra);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=gh(t),c=gh(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=pt);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[pt]:new Ot([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ip(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ip(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Rc(e,this._root).map(t=>t.value)}}function ip(n,e){if(n===e.value)return e;for(const t of e.children){const r=ip(n,t);if(r)return r}return null}function Rc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Rc(n,t);if(r.length)return r.unshift(e),r}return[]}class ia{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sp extends bm{constructor(e,t){super(e),this.snapshot=t,_h(this,e)}toString(){return this.snapshot.toString()}}function wm(n,e){const t=function(n,e){const h=new mh([],{},{},"",{},pt,e,null,n.root,-1,{});return new yu("",new ia(h,[]))}(n,e),r=new yn([new Ic("",{})]),o=new yn({}),c=new yn({}),h=new yn({}),m=new yn(""),b=new _u(r,o,h,m,c,pt,e,t.root);return b.snapshot=t.root,new sp(new ia(b,[]),t)}class _u{constructor(e,t,r,o,c,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>bn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>bn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Em(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mh{constructor(e,t,r,o,c,h,m,b,T,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=T,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yu extends bm{constructor(e,t){super(t),this.url=e,_h(this,t)}toString(){return zs(this._root)}}function _h(n,e){e.value._routerState=n,e.children.forEach(t=>_h(n,t))}function zs(n){const e=n.children.length>0?` { ${n.children.map(zs).join(", ")} } `:"";return`${n.value}${e}`}function Fl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kc(n,e){return Qi(n.params,e.params)&&function(n,e){return kl(n,e)&&n.every((t,r)=>Qi(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||kc(n.parent,e.parent))}function Oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Oc(n,r,o);return Oc(n,r)})}(n,e,t);return new ia(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return Tv(e,h),h}}const r=function(n){return new _u(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>Oc(n,c));return new ia(r,o)}}function Tv(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Tv(n.children[t],e.children[t])}function vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function No(n){return"object"==typeof n&&null!=n&&n.outlets}function Im(n,e,t,r,o){let c={};return r&&nr(r,(h,m)=>{c[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new gu(t.root===n?e:Iv(t.root,n,e),c,o)}function Iv(n,e,t){const r={};return nr(n.children,(o,c)=>{r[c]=o===e?t:Iv(o,e,t)}),new Ot(n.segments,r)}class lp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vu(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(No);if(o&&o!==Ml(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class up{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Va(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Pc(n,e,t);const r=function(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const h=n.segments[o],m=t[r];if(No(m))break;const b=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&T&&"object"==typeof T&&void 0===T.outlets){if(!Mm(b,T,h))return c;r+=2}else{if(!Mm(b,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Ot(n.segments.slice(0,r.pathIndex),{});return c.children[pt]=new Ot(n.segments.slice(r.pathIndex),n.children),Pc(c,0,o)}return r.match&&0===o.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?cp(n,e,t):r.match?Pc(n,0,o):cp(n,e,t)}function Pc(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function(n){return No(n[0])?n[0].outlets:{[pt]:n}}(t),o={};return nr(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=Va(n.children[h],e,c))}),nr(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new Ot(n.segments,o)}}function cp(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(No(c)){const b=Fn(c.outlets);return new Ot(r,b)}if(0===o&&vu(t[0])){r.push(new Ic(n.segments[e].path,Nm(t[0]))),o++;continue}const h=No(c)?c.outlets[pt]:`${c}`,m=o<t.length-1?t[o+1]:null;h&&m&&vu(m)?(r.push(new Ic(h,Nm(m))),o+=2):(r.push(new Ic(h,{})),o++)}return new Ot(r,{})}function Fn(n){const e={};return nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=cp(new Ot([],{}),0,t))}),e}function Nm(n){const e={};return nr(n,(t,r)=>e[r]=`${t}`),e}function Mm(n,e,t){return n==t.path&&Qi(e,t.parameters)}class wh{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Pl(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),nr(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Pl(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Pl(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Ni(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Nl(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Fl(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Eh(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Eh(n){Fl(n.value),n.children.forEach(Eh)}class dp{constructor(e,t){this.routes=e,this.module=t}}function Mo(n){return"function"==typeof n}function xo(n){return n instanceof gu}const bu=Symbol("INITIAL_VALUE");function Ll(){return Gn(n=>function(...n){let e,t;return(0,wo.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,qs.k)(n[0])&&(n=n[0]),(0,xa.n)(n,t).lift(new Cc(e))}(n.map(e=>e.pipe(zr(1),Do(bu)))).pipe(Sl((e,t)=>{let r=!1;return t.reduce((o,c,h)=>o!==bu?o:(c===bu&&(r=!0),r||!1!==c&&h!==t.length-1&&!xo(c)?o:c),e)},bu),cn(e=>e!==bu),(0,tt.U)(e=>xo(e)?e:!0===e),zr(1)))}let Nr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:function(){return[Th]},encapsulation:2}),n})();function es(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ch(r,Mv(e,r))}}function Ch(n,e){n.children&&es(n.children,e)}function Mv(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function hp(n){const e=n.children&&n.children.map(hp),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pt&&(t.component=Nr),t}function ts(n){return n.outlet||pt}function fp(n,e){const t=n.filter(r=>ts(r)===e);return t.push(...n.filter(r=>ts(r)!==e)),t}const Wr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function wu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Wr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||Dc)(t,n,e);if(!c)return Object.assign({},Wr);const h={};nr(c.posParams,(b,T)=>{h[T]=b.path});const m=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:m,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Vl(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Ul(n,e,r)&&ts(r)!==pt)}(n,t,r)){const h=new Ot(e,function(n,e,t,r){const o={};o[pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&ts(c)!==pt){const h=new Ot([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ts(c)]=h}return o}(n,e,r,new Ot(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Ul(n,e,r))}(n,t,r)){const h=new Ot(n.segments,function(n,e,t,r,o,c){const h={};for(const m of r)if(Ul(n,t,m)&&!o[ts(m)]){const b=new Ot([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[ts(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new Ot(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Ul(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uc(n,e,t,r){return!!(ts(n)===r||r!==pt&&Ul(e,t,n))&&("**"===n.path||wu(e,n,t).matched)}function Rm(n,e,t){return 0===e.length&&!n.children[t]}class Dh{constructor(e){this.segmentGroup=e||null}}class gp{constructor(e){this.urlTree=e}}function Bl(n){return new Cn.y(e=>e.error(new Dh(n)))}function v(n){return new Cn.y(e=>e.error(new gp(n)))}function p(n){return new Cn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class N{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Vl(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,pt).pipe((0,tt.U)(c=>this.createUrlTree(J(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Io(c=>{if(c instanceof gp)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Dh?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pt).pipe((0,tt.U)(o=>this.createUrlTree(J(o),e.queryParams,e.fragment))).pipe(Io(o=>{throw o instanceof Dh?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Ot([],{[pt]:e}):e;return new gu(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,tt.U)(c=>new Ot([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Kt.D)(o).pipe(ka(c=>{const h=r.children[c],m=fp(t,c);return this.expandSegmentGroup(e,m,h,c).pipe((0,tt.U)(b=>({segment:b,outlet:c})))}),Sl((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cn((o,c)=>n(o,c,r)):ea.y,uh(1),t?hu(e):Qo(()=>new Wi))}())}expandSegment(e,t,r,o,c,h){return(0,Kt.D)(r).pipe(ka(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,c,h).pipe(Io(T=>{if(T instanceof Dh)return(0,Ge.of)(null);throw T}))),kn(m=>!!m),Io((m,b)=>{if(m instanceof Wi||"EmptyError"===m.name){if(Rm(t,o,c))return(0,Ge.of)(new Ot([],{}));throw new Dh(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,c,h,m){return Uc(o,t,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h):Bl(t):Bl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?v(c):this.lineralizeSegments(r,c).pipe((0,on.zg)(h=>{const m=new Ot(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){const{matched:m,consumedSegments:b,lastChild:T,positionalParamSegments:A}=wu(t,o,c);if(!m)return Bl(t);const M=this.applyRedirectCommands(b,o.redirectTo,A);return o.redirectTo.startsWith("/")?v(M):this.lineralizeSegments(o,M).pipe((0,on.zg)(V=>this.expandSegment(e,t,r,V.concat(c.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,tt.U)(V=>(r._loadedConfig=V,new Ot(o,{})))):(0,Ge.of)(new Ot(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=wu(t,r,o);if(!h)return Bl(t);const T=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,on.zg)(M=>{const V=M.module,U=M.routes,{segmentGroup:Y,slicedSegments:ye}=Vl(t,m,T,U),Pe=new Ot(Y.segments,Y.children);if(0===ye.length&&Pe.hasChildren())return this.expandChildren(V,U,Pe).pipe((0,tt.U)(st=>new Ot(m,st)));if(0===U.length&&0===ye.length)return(0,Ge.of)(new Ot(m,{}));const $e=ts(r)===c;return this.expandSegment(V,Pe,U,ye,$e?pt:c,!0).pipe((0,tt.U)(Mt=>new Ot(m.concat(Mt.segments),Mt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ge.of)(new dp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ge.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,on.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,tt.U)(c=>(t._loadedConfig=c,c))):(n=t,new Cn.y(e=>e.error(Xf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ge.of)(new dp([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ge.of)(!0);const c=o.map(h=>{const m=e.get(h);let b;if((n=m)&&Mo(n.canLoad))b=m.canLoad(t,r);else{if(!Mo(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return Sr(b)});return(0,Ge.of)(c).pipe(Ll(),(0,On.b)(h=>{if(!xo(h))return;const m=Xf(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,tt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ge.of)(r);if(o.numberOfChildren>1||!o.children[pt])return p(e.redirectTo);o=o.children[pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new gu(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return nr(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[c]=t[m]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let h={};return nr(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new Ot(c,h)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function J(n){const e={};for(const r of Object.keys(n.children)){const c=J(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[pt]){const e=n.children[pt];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}class Le{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class je{constructor(e,t){this.component=e,this.route=t}}function ct(n,e,t){const r=n._root;return jl(r,e?e._root:null,t,[r.value])}function Ln(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function jl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Pl(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kl(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kc(n,e)||!Qi(n.queryParams,e.queryParams);case"paramsChange":default:return!kc(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Le(r)):(c.data=h.data,c._resolvedData=h._resolvedData),jl(n,e,c.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new je(m.outlet.component,h))}else h&&Eu(e,m,o),o.canActivateChecks.push(new Le(r)),jl(n,null,c.component?m?m.children:null:t,r,o)})(h,c[h.value.outlet],t,r.concat([h.value]),o),delete c[h.value.outlet]}),nr(c,(h,m)=>Eu(h,t.getContext(m),o)),o}function Eu(n,e,t){const r=Pl(n),o=n.value;nr(r,(c,h)=>{Eu(c,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new je(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class vp{}function Pm(n){return new Cn.y(e=>e.error(n))}class M1{constructor(e,t,r,o,c,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=Vl(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,pt);if(null===t)return null;const r=new mh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ia(r,t),c=new yu(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Em(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const h=t.children[c],m=fp(e,c),b=this.processSegmentGroup(m,h,c);if(null===b)return null;r.push(...b)}const o=Fm(r);return o.sort((e,t)=>e.value.outlet===pt?-1:t.value.outlet===pt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,r,o);if(null!==h)return h}return Rm(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Uc(e,t,r,o))return null;let c,h=[],m=[];if("**"===e.path){const U=r.length>0?Ml(r).parameters:{};c=new mh(r,U,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bc(e),ts(e),e.component,e,kv(t),uI(t)+r.length,Lm(e))}else{const U=wu(t,e,r);if(!U.matched)return null;h=U.consumedSegments,m=r.slice(U.lastChild),c=new mh(h,U.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bc(e),ts(e),e.component,e,kv(t),uI(t)+h.length,Lm(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:A}=Vl(t,h,m,b.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);var n;if(0===A.length&&T.hasChildren()){const U=this.processChildren(b,T);return null===U?null:[new ia(c,U)]}if(0===b.length&&0===A.length)return[new ia(c,[])];const M=ts(e)===o,V=this.processSegment(b,T,A,M?pt:o);return null===V?null:[new ia(c,V)]}}function R1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fm(n){const e=[],t=new Set;for(const r of n){if(!R1(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Fm(r.children);e.push(new ia(r.value,o))}return e.filter(r=>!t.has(r))}function kv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Bc(n){return n.data||{}}function Lm(n){return n.resolve||{}}function Pv(n){return Gn(e=>{const t=n(e);return t?(0,Kt.D)(t).pipe((0,tt.U)(()=>e)):(0,Ge.of)(e)})}class gI extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vm=new l.OlP("ROUTES");class Um{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,tt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new dp(vv(h.injector.get(Vm,void 0,l.XFs.Self|l.XFs.Optional)).map(hp),h)}),Io(c=>{throw t._loader$=void 0,c}));return t._loader$=new oh.c(o,()=>new qt.xQ).pipe((0,So.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Kt.D)(this.loader.load(e)):Sr(e()).pipe((0,on.zg)(t=>t instanceof l.YKP?(0,Ge.of)(t):(0,Kt.D)(this.compiler.compileModuleAsync(t))))}}class P1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cu,this.attachRef=null}}class Cu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new P1,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class _I{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function F1(n){throw n}function L1(n,e,t){return e.parse("/")}function Du(n,e){return(0,Ge.of)(null)}const V1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{class n{constructor(t,r,o,c,h,m,b,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt.xQ,this.errorHandler=F1,this.malformedUriErrorHandler=L1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Du,afterPreactivation:Du},this.urlHandlingStrategy=new _I,this.routeReuseStrategy=new gI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(l.h0i),this.console=h.get(l.c2e);const V=h.get(l.R0b);this.isNgZoneEnabled=V instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new gu(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Um(m,b,U=>this.triggerEvent(new hi(U)),U=>this.triggerEvent(new tr(U))),this.routerState=wm(this.currentUrlTree,this.rootComponentType),this.transitions=new yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(cn(o=>0!==o.id),(0,tt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Gn(o=>{let c=!1,h=!1;return(0,Ge.of)(o).pipe((0,On.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gn(m=>{const b=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return jm(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ge.of)(m).pipe(Gn(M=>{const V=this.transitions.getValue();return r.next(new j(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Yi.E:Promise.resolve(M)}),function(n,e,t,r){return Gn(o=>function(n,e,t,r,o){return new N(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,tt.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,On.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,e,t,r,o){return(0,on.zg)(c=>function(n,e,t,r,o="emptyOnly",c="legacy"){try{const h=new M1(n,e,t,r,o,c).recognize();return null===h?Pm(new vp):(0,Ge.of)(h)}catch(h){return Pm(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,tt.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,On.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new qe(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:U,source:Y,restoredState:ye,extras:Pe}=m,$e=new j(V,this.serializeUrl(U),Y,ye);r.next($e);const et=wm(U,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},m),{targetSnapshot:et,urlAfterRedirects:U,extras:Object.assign(Object.assign({},Pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Yi.E}),Pv(m=>{const{targetSnapshot:b,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:U}}=m;return this.hooks.beforePreactivation(b,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!U})}),(0,On.b)(m=>{const b=new Ze(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,tt.U)(m=>Object.assign(Object.assign({},m),{guards:ct(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,on.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,Ge.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Kt.D)(n).pipe((0,on.zg)(o=>function(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ge.of)(!0);const h=c.map(m=>{const b=Ln(m,e,o);let T;if(function(n){return n&&Mo(n.canDeactivate)}(b))T=Sr(b.canDeactivate(n,e,t,r));else{if(!Mo(b))throw new Error("Invalid CanDeactivate guard");T=Sr(b(n,e,t,r))}return T.pipe(kn())});return(0,Ge.of)(h).pipe(Ll())}(o.component,o.route,t,e,r)),kn(o=>!0!==o,!0))}(h,r,o,n).pipe((0,on.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,Kt.D)(e).pipe(ka(o=>Jo(function(n,e){return null!==n&&e&&e(new Oa(n)),(0,Ge.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Pa(n)),(0,Ge.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>bs(()=>{const m=h.guards.map(b=>{const T=Ln(b,h.node,t);let A;if(function(n){return n&&Mo(n.canActivateChild)}(T))A=Sr(T.canActivateChild(r,n));else{if(!Mo(T))throw new Error("Invalid CanActivateChild guard");A=Sr(T(r,n))}return A.pipe(kn())});return(0,Ge.of)(m).pipe(Ll())}));return(0,Ge.of)(c).pipe(Ll())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ge.of)(!0);const o=r.map(c=>bs(()=>{const h=Ln(c,e,t);let m;if(function(n){return n&&Mo(n.canActivate)}(h))m=Sr(h.canActivate(e,n));else{if(!Mo(h))throw new Error("Invalid CanActivate guard");m=Sr(h(e,n))}return m.pipe(kn())}));return(0,Ge.of)(o).pipe(Ll())}(n,o.route,t))),kn(o=>!0!==o,!0))}(r,c,n,e):(0,Ge.of)(m)),(0,tt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,On.b)(m=>{if(xo(m.guardsResult)){const T=Xf(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const b=new Lt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),cn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Pv(m=>{if(m.guards.canActivateChecks.length)return(0,Ge.of)(m).pipe((0,On.b)(b=>{const T=new Jt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),Gn(b=>{let T=!1;return(0,Ge.of)(b).pipe(function(n,e){return(0,on.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ge.of)(t);let c=0;return(0,Kt.D)(o).pipe(ka(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ge.of)({});const c={};return(0,Kt.D)(o).pipe((0,on.zg)(h=>function(n,e,t,r){const o=Ln(n,e,r);return Sr(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,On.b)(m=>{c[h]=m}))),uh(1),(0,on.zg)(()=>Object.keys(c).length===o.length?(0,Ge.of)(c):Yi.E))}(n._resolve,n,e,r).pipe((0,tt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Em(n,t).resolve),null)))}(h.route,r,n,e)),(0,On.b)(()=>c++),uh(1),(0,on.zg)(h=>c===o.length?(0,Ge.of)(t):Yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,On.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,On.b)(b=>{const T=new Pn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}))}),Pv(m=>{const{targetSnapshot:b,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:U}}=m;return this.hooks.afterPreactivation(b,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!U})}),(0,tt.U)(m=>{const b=function(n,e,t){const r=Oc(n,e._root,t?t._root:void 0);return new sp(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,On.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,tt.U)(r=>(new wh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,On.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new C(n))}(()=>{if(!c&&!h){const m=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,m)):this.cancelNavigationTransition(o,m)}this.currentNavigation=null}),Io(m=>{if(h=!0,function(n){return n&&n[hh]}(m)){const b=xo(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const T=new ge(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(T),b?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jm(o.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new xe(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return Yi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:c,urlTree:h}=r,m={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,c,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){es(t),this.config=t.map(hp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,T=o||this.routerState.root,A=b?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=c||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,e,t,r,o){if(0===t.length)return Im(e.root,e.root,e,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lp(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return nr(c.outlets,(b,T)=>{m[T]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,c]},[]);return new lp(t,e,r)}(t);if(c.toRoot())return Im(e.root,new Ot([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new up(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new up(c,c===e.root,0)}const r=vu(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new up(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),m=h.processChildren?Pc(h.segmentGroup,h.index,c.commands):Va(h.segmentGroup,h.index,c.commands);return Im(h.segmentGroup,m,e,r,o)}(T,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=xo(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},V1):!1===r?Object.assign({},U1):r,xo(t))return Tc(this.currentUrlTree,t,o);const c=this.parseUrl(t);return Tc(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,h){var m,b;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),A=jm(r)&&T&&!jm(T.source),U=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(A&&U)return Promise.resolve(!0);let Y,ye,Pe;h?(Y=h.resolve,ye=h.reject,Pe=h.promise):Pe=new Promise((Mt,st)=>{Y=Mt,ye=st});const $e=++this.navigationId;let et;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),et=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):et=0,this.setTransition({id:$e,targetPageId:et,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:Y,reject:ye,promise:Pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pe.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new ge(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.DyG),l.LFG(tp),l.LFG(Cu),l.LFG(Je),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function jm(n){return"imperative"!==n}let Th=(()=>{class n{constructor(t,r,o,c,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=c||pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new Gm(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cu),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Gm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_u?this.route:e===Cu?this.childContexts:this.parent.get(e,t)}}class Lv{}class Uv{preload(e,t){return(0,Ge.of)(null)}}let qm=(()=>{class n{constructor(t,r,o,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new Um(r,o,T=>t.triggerEvent(new hi(T)),T=>t.triggerEvent(new tr(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(cn(t=>t instanceof ee),ka(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,Kt.D)(o).pipe((0,Ai.J)(),(0,tt.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,on.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Lv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof j?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ee&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new fi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi),l.LFG(Go),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Tu=new l.OlP("ROUTER_CONFIGURATION"),j1=new l.OlP("ROUTER_FORROOT_GUARD"),H1=[Je,{provide:tp,useClass:mu},{provide:Mi,useFactory:function(n,e,t,r,o,c,h,m={},b,T){const A=new Mi(null,n,e,t,r,o,c,vv(h));return b&&(A.urlHandlingStrategy=b),T&&(A.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,A),m.enableTracing&&A.events.subscribe(M=>{var V,U;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(U=console.groupEnd)||void 0===U||U.call(console)}),A},deps:[tp,Cu,Je,l.zs3,l.v3s,l.Sil,Vm,Tu,[class{},new l.FiY],[class{},new l.FiY]]},Cu,{provide:_u,useFactory:function(n){return n.routerState.root},deps:[Mi]},{provide:l.v3s,useClass:l.EAV},qm,Uv,class{preload(e,t){return t().pipe(Io(()=>(0,Ge.of)(null)))}},{provide:Tu,useValue:{enableTracing:!1}}];function Bv(){return new l.PXZ("Router",Mi)}let jv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[H1,Hv(t),{provide:j1,useFactory:vI,deps:[[Mi,new l.FiY,new l.tp0]]},{provide:Tu,useValue:r||{}},{provide:de,useFactory:$1,deps:[K,[new l.tBr(re),new l.FiY],Tu]},{provide:Hc,useFactory:ER,deps:[Mi,Go,Tu]},{provide:Lv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Uv},{provide:l.PXZ,multi:!0,useFactory:Bv},[$v,{provide:l.ip1,multi:!0,useFactory:G1,deps:[$v]},{provide:q1,useFactory:EI,deps:[$v]},{provide:l.tb,multi:!0,useExisting:q1}]]}}static forChild(t){return{ngModule:n,providers:[Hv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j1,8),l.LFG(Mi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function ER(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hc(n,e,t)}function $1(n,e,t={}){return t.useHash?new Ie(n,e):new Ee(n,e)}function vI(n){return"guarded"}function Hv(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Vm,multi:!0,useValue:n}]}let $v=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qt.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),c=this.injector.get(Mi),h=this.injector.get(Tu);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Tu),o=this.injector.get(qm),c=this.injector.get(Hc),h=this.injector.get(Mi),m=this.injector.get(l.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),c.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function G1(n){return n.appInitializer.bind(n)}function EI(n){return n.bootstrapListener.bind(n)}const q1=new l.OlP("Router Initializer");var Z1=F(9105);function pi(n,e,t,r){return(0,Z1.m)(t)&&(r=t,t=void 0),r?pi(n,e,t).pipe((0,tt.U)(o=>(0,qs.k)(o)?r(...o):r(o))):new Cn.y(o=>{z1(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function z1(n,e,t,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),c=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),c=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),c=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)z1(n[h],e,t,r,o)}r.add(c)}var $c=F(3637),Ro=F(6561);function DI(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}class Hl{call(e,t){return t.subscribe(new qv(e))}}class qv extends Tl{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const c=Ec(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)}}var K1=F(8640);new Cn.y(K1.Z);var wp=F(377);function Zv(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,xa.n)(n,void 0).lift(new $l(e))}class $l{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Wm(e,this.resultSelector))}}class Wm extends Rn.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,qs.k)(e)?t.push(new zv(e)):t.push("function"==typeof e[wp.hZ]?new Ym(e[wp.hZ]()):new TR(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let o=e[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let h=0;h<t;h++){let m=e[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let o=!1;const c=[];for(let h=0;h<t;h++){let m=e[h],b=m.next();if(m.hasCompleted()&&(o=!0),b.done)return void r.complete();c.push(b.value)}this.resultSelector?this._tryresultSelector(c):r.next(c),o&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class Ym{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class zv{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[wp.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class TR extends Ki.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[wp.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,Ki.ft)(this.observable,new Ki.IY(this))}}var Wv=F(6682);function ur(n){return e=>e.lift(new TI(n))}class TI{constructor(e){this.notifier=e}call(e,t){const r=new IR(e),o=(0,Ki.ft)(this.notifier,new Ki.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class IR extends Ki.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Q1{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new II(e,this.compare,this.keySelector))}}class II extends Rn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function Cp(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new SR(n,t))}}class SR{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new AR(e,this.observables,this.project))}}class AR extends Tl{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(Ec(this,t[c],void 0,c))}notifyNext(e,t,r){this.values[r]=t;const o=this.toRespond;if(o.length>0){const c=o.indexOf(r);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}F(1593),F(8819);var Yv=F(1555);function Dp(n,e){return new Cn.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let c=0,h=0;for(let m=0;m<r;m++){const b=(0,Kt.D)(n[m]);let T=!1;t.add(b.subscribe({next:A=>{T||(T=!0,h++),o[m]=A},error:A=>t.error(A),complete:()=>{c++,(c===r||!T)&&(h===r&&t.next(e?e.reduce((A,M,V)=>(A[M]=o[V],A),{}):o),t.complete())}}))}})}let Km=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Su=(()=>{class n extends Km{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Mr=new l.OlP("NgValueAccessor"),eE={provide:Mr,useExisting:(0,l.Gpc)(()=>Gc),multi:!0},PR=new l.OlP("CompositionEventMode");let Gc=(()=>{class n extends Km{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(PR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[l._Bn([eE]),l.qOj]}),n})();function Au(n){return null==n||0===n.length}function Kv(n){return null!=n&&"number"==typeof n.length}const gi=new l.OlP("NgValidators"),Nu=new l.OlP("NgAsyncValidators"),Tp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(e){return function(n){return e=>{if(Au(e.value)||Au(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Au(e.value)||Au(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return Au(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return Au(n.value)||Tp.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>Au(e.value)||!Kv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>Kv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Ba;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Au(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return n0(e)}static composeAsync(e){return s0(e)}}function Ba(n){return null}function Xv(n){return null!=n}function Ip(n){const e=(0,l.QGY)(n)?(0,Kt.D)(n):n;return(0,l.CqO)(e),e}function nE(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function e0(n,e){return e.map(t=>t(n))}function t0(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function n0(n){if(!n)return null;const e=n.filter(Xv);return 0==e.length?null:function(t){return nE(e0(t,e))}}function r0(n){return null!=n?n0(t0(n)):null}function s0(n){if(!n)return null;const e=n.filter(Xv);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,qs.k)(e))return Dp(e,null);if((0,Yv.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Dp(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Dp(n=1===n.length&&(0,qs.k)(n[0])?n[0]:n,null).pipe((0,tt.U)(t=>e(...t)))}return Dp(n,null)}(e0(t,e).map(Ip)).pipe((0,tt.U)(nE))}}function o0(n){return null!=n?s0(t0(n)):null}function rE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ts(n){return n._rawValidators}function iE(n){return n._rawAsyncValidators}function a0(n){return n?Array.isArray(n)?n:[n]:[]}function l0(n,e){return Array.isArray(n)?n.includes(e):n===e}function RI(n,e){const t=a0(e);return a0(n).forEach(o=>{l0(t,o)||t.push(o)}),t}function u0(n,e){return a0(e).filter(t=>!l0(n,t))}let kI=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=r0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=o0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})(),ns=(()=>{class n extends kI{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();class ja extends kI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c0{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let d0=(()=>{class n extends c0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ja,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Xm=(()=>{class n extends c0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ns,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function Ap(n,e){return[...e.path,n]}function Np(n,e){g0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aE(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function e_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),n_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function t_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g0(n,e){const t=Ts(n);null!==e.validator?n.setValidators(rE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=iE(n);null!==e.asyncValidator?n.setAsyncValidators(rE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();t_(e._rawValidators,o),t_(e._rawAsyncValidators,o)}function n_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Ts(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==e.validator);c.length!==o.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const o=iE(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==e.asyncValidator);c.length!==o.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return t_(e._rawValidators,r),t_(e._rawAsyncValidators,r),t}function aE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function s_(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Gc?t=c:function(n){return Object.getPrototypeOf(n.constructor)===Su}(c)?r=c:o=c}),o||r||t||null}function xp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Sh="VALID",Rp="INVALID",Is="PENDING",Mu="DISABLED";function y0(n){return(zc(n)?n.validators:n)||null}function UI(n){return Array.isArray(n)?r0(n):n||null}function xu(n,e){return(zc(e)?e.asyncValidators:n)||null}function v0(n){return Array.isArray(n)?o0(n):n||null}function zc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Wc{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=UI(this._rawValidators),this._composedAsyncValidatorFn=v0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sh}get invalid(){return this.status===Rp}get pending(){return this.status==Is}get disabled(){return this.status===Mu}get enabled(){return this.status!==Mu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=UI(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=v0(e)}addValidators(e){this.setValidators(RI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(u0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(u0(e,this._rawAsyncValidators))}hasValidator(e){return l0(this._rawValidators,e)}hasAsyncValidator(e){return l0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Is,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sh||this.status===Is)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mu:Sh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator=!0;const t=Ip(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof Yc?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof o_&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Mu:this.errors?Rp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(Rp)?Rp:Sh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ah extends Wc{constructor(e=null,t,r){super(y0(t),xu(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Yc extends Wc{constructor(e,t,r){super(y0(t),xu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Ah?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class o_ extends Wc{constructor(e,t,r){super(y0(t),xu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ah?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Nh={provide:ja,useExisting:(0,l.Gpc)(()=>b0)},hE=(()=>Promise.resolve(null))();let b0=(()=>{class n extends ja{constructor(t,r,o,c){super(),this.control=new Ah,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=s_(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Mp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ap(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Np(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;hE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ns,9),l.Y36(gi,10),l.Y36(Nu,10),l.Y36(Mr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Nh]),l.qOj,l.TTD]}),n})(),w0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const zR={provide:Mr,useExisting:(0,l.Gpc)(()=>E0),multi:!0};let E0=(()=>{class n extends Su{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([zR]),l.qOj]}),n})(),a_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const pE=new l.OlP("NgModelWithFormControlWarning"),mE={provide:ns,useExisting:(0,l.Gpc)(()=>Mh)};let Mh=(()=>{class n extends ns{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(n_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Np(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){e_(t.control||null,t,!1),xp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(e_(r||null,t),o instanceof Ah&&(Np(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){g0(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return n_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){g0(this.form,this),this._oldForm&&n_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gi,10),l.Y36(Nu,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([mE]),l.qOj,l.TTD]}),n})();const T0={provide:ja,useExisting:(0,l.Gpc)(()=>Fp)};let Fp=(()=>{class n extends ja{constructor(t,r,o,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=s_(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Mp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ap(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ns,13),l.Y36(gi,10),l.Y36(Nu,10),l.Y36(Mr,10),l.Y36(pE,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([T0]),l.qOj,l.TTD]}),n._ngModelWarningSentOnce=!1,n})();const yE={provide:Mr,useExisting:(0,l.Gpc)(()=>c_),multi:!0};function I0(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let c_=(()=>{class n extends Su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const o=I0(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([yE]),l.qOj]}),n})(),d_=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(I0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(c_,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const zI={provide:Mr,useExisting:(0,l.Gpc)(()=>h_),multi:!0};function bE(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let h_=(()=>{class n extends Su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(c=>this._getOptionId(c));r=(c,h)=>{c._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let h=0;h<c.length;h++){const m=c.item(h),b=this._getOptionValue(m.value);o.push(b)}}else{const c=r.options;for(let h=0;h<c.length;h++){const m=c.item(h);if(m.selected){const b=this._getOptionValue(m.value);o.push(b)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([zI]),l.qOj]}),n})(),f_=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(h_,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),NE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[a_]]}),n})(),ME=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[NE]}),n})(),xE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pE,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[NE]}),n})(),M0=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let m,c=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Yc(o,{asyncValidators:h,updateOn:m,validators:c})}control(t,r,o){return new Ah(t,r,o)}array(t,r,o){const c=t.map(h=>this._createControl(h));return new o_(c,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Ah||t instanceof Yc||t instanceof o_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:function(){return new n},token:n,providedIn:xE}),n})();const rs=["*"],sS=["dialog"];function $a(n){return null!=n}function Ru(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Z0={animation:!0,transitionTimerDelayMs:5};let Rr=(()=>{class n{constructor(){this.animation=Z0.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const lC=()=>{},{transitionTimerDelayMs:uC}=Z0,b_=new Map,kr=(n,e,t,r)=>{let o=r.context||{};const c=b_.get(e);if(c)switch(r.runningTransition){case"continue":return Yi.E;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),b_.delete(e)}const h=t(e,r.animation,o)||lC;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),(0,Ge.of)(void 0).pipe(function(n){return e=>new Cn.y(t=>e.subscribe(h=>n.run(()=>t.next(h)),h=>n.run(()=>t.error(h)),()=>n.run(()=>t.complete())))}(n));const m=new qt.xQ,b=new qt.xQ,T=m.pipe(function(...n){return e=>Jo(e,(0,Ge.of)(...n))}(!0));b_.set(e,{transition$:m,complete:()=>{b.next(),b.complete()},context:o});const A=function(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=pi(e,"transitionend").pipe(ur(T),cn(({target:U})=>U===e));(function(...n){if(1===n.length){if(!(0,qs.k)(n[0]))return n[0];n=n[0]}return(0,xa.n)(n,void 0).lift(new Hl)})(function(n=0,e,t){let r=-1;return(0,Ro.k)(e)?r=Number(e)<1?1:Number(e):(0,wo.K)(e)&&(t=e),(0,wo.K)(t)||(t=$c.P),new Cn.y(o=>{const c=(0,Ro.k)(n)?n:+n-t.now();return t.schedule(DI,c,{index:0,period:r,subscriber:o})})}(A+uC).pipe(ur(T)),M,b).pipe(ur(T)).subscribe(()=>{b_.delete(e),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let Xc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),pC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),K0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),X0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Vt=(()=>{return(n=Vt||(Vt={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Vt;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const sd=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function QS(n){const e=Array.from(n.querySelectorAll(sd)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(e);r=this.offset(e,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(e,t,r,o){const[c="top",h="center"]=r.split("-"),m=o?this.offset(e,!1):this.position(e,!1),b=this.getAllStyles(t),T=parseFloat(b.marginTop),A=parseFloat(b.marginBottom),M=parseFloat(b.marginLeft),V=parseFloat(b.marginRight);let U=0,Y=0;switch(c){case"top":U=m.top-(t.offsetHeight+T+A);break;case"bottom":U=m.top+m.height;break;case"left":Y=m.left-(t.offsetWidth+M+V);break;case"right":Y=m.left+m.width}switch(h){case"top":U=m.top;break;case"bottom":U=m.top+m.height-t.offsetHeight;break;case"left":Y=m.left;break;case"right":Y=m.left+m.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?Y=m.left+m.width/2-t.offsetWidth/2:U=m.top+m.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(Y)}px, ${Math.round(U)}px)`;const ye=t.getBoundingClientRect(),Pe=document.documentElement,$e=window.innerHeight||Pe.clientHeight,et=window.innerWidth||Pe.clientWidth;return ye.left>=0&&ye.top>=0&&ye.right<=et&&ye.bottom<=$e}},new Date(1882,10,12),new Date(2174,10,25);let LC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr,ME]]}),n})(),O_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),jC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),HC=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rr))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Rr))},token:n,providedIn:"root"}),n})();class ld{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}const fA=()=>{};let $C=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):fA}_adjustBody(t){const r=this._document.body,o=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+t}px`,()=>r.style["padding-right"]=o}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(oe))},token:n,providedIn:"root"}),n})(),pA=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(zr(1)).subscribe(()=>{kr(this._zone,this._el.nativeElement,(t,r)=>{r&&Ru(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return kr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class _b{close(e){}dismiss(e){}}class GC{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new qt.xQ,this._dismissed=new qt.xQ,this._hidden=new qt.xQ,e.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ur(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ur(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ge.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Zv(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Zh=(()=>{return(n=Zh||(Zh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Zh;var n})();let gA=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new qt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new qt.xQ,this.hidden=new qt.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Zv(kr(this._zone,t,()=>t.classList.remove("show"),r),kr(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};Zv(kr(this._zone,this._elRef.nativeElement,(c,h)=>{h&&Ru(c),c.classList.add("show")},t),kr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{pi(t,"keydown").pipe(ur(this._closed$),cn(o=>o.which===Vt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Zh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;pi(this._dialogEl.nativeElement,"mousedown").pipe(ur(this._closed$),(0,On.b)(()=>r=!1),Gn(()=>pi(t,"mouseup").pipe(ur(this._closed$),zr(1))),cn(({target:o})=>t===o)).subscribe(()=>{r=!0}),pi(t,"click").pipe(ur(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Zh.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=QS(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&kr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oe),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(sS,7),2&t){let o;l.iGM(o=l.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rs,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.TgZ(2,"div",2),l.Hsn(3),l.qZA(),l.qZA()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),L_=(()=>{class n{constructor(t,r,o,c,h,m){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=c,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new qt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const o=pi(e,"focusin").pipe(ur(t),(0,tt.U)(c=>c.target));pi(e,"keydown").pipe(ur(t),cn(c=>c.which===Vt.Tab),Cp(o)).subscribe(([c,h])=>{const[m,b]=QS(e);(h===m||h===e)&&c.shiftKey&&(b.focus(),c.preventDefault()),h===b&&!c.shiftKey&&(m.focus(),c.preventDefault())}),r&&pi(e,"click").pipe(ur(t),Cp(o),(0,tt.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(t,r,o,c){const h=c.container instanceof HTMLElement?c.container:$a(c.container)?this._document.querySelector(c.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const A=new _b,M=this._getContentRef(t,c.injector||r,o,A,c);let V=!1!==c.backdrop?this._attachBackdrop(t,h):void 0,U=this._attachWindowComponent(t,h,M),Y=new GC(U,M,V,c.beforeDismiss);return this._registerModalRef(Y),this._registerWindowCmpt(U),Y.result.then(b,b),Y.result.then(T,T),A.close=ye=>{Y.close(ye)},A.dismiss=ye=>{Y.dismiss(ye)},this._applyWindowOptions(U.instance,c),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,c),V.changeDetectorRef.detectChanges()),U.changeDetectorRef.detectChanges(),Y}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let c=t.resolveComponentFactory(pA).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,r,o){let h=t.resolveComponentFactory(gA).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{$a(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{$a(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,c,h){return o?o instanceof l.Rgc?this._createFromTemplateRef(o,c):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,r,o,c,h):new ld([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(c),new ld([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ld([[r]])}_createFromComponent(t,r,o,c,h){const m=t.resolveComponentFactory(o),b=l.zs3.create({providers:[{provide:_b,useValue:c}],parent:r}),T=m.create(b),A=T.location.nativeElement;return h.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new ld([[A]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(oe),l.LFG($C),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.z2F),l.LFG(l.gxx),l.LFG(oe),l.LFG($C),l.LFG(l.FYo),l.LFG(l.R0b))},token:n,providedIn:"root"}),n})(),V_=(()=>{class n{constructor(t,r,o,c){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=c}open(t,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(L_),l.LFG(HC))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l._Vd),l.LFG(l.gxx),l.LFG(L_),l.LFG(HC))},token:n,providedIn:"root"}),n})(),qC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[V_]}),n})(),wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),G_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),DA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),rD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),uD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})(),cD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gr]]}),n})();const dD=[Xc,pC,K0,Q0,X0,LC,jC,qC,wb,QC,G_,DA,rD,Jp,uD,cD,Ou];let BA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dD,Xc,pC,K0,Q0,X0,LC,jC,qC,wb,QC,G_,DA,rD,Jp,uD,cD,Ou]}),n})();var zn=F(6643);function Ib(){return n=>n.lift(new q_)}class q_{call(e,t){return t.subscribe(new jA(e))}}class jA extends Rn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var We,ss=F(8939),Sb=(F(4671),F(4486)),pe=F(8239),Po=F(5452),dd=F(6034),Pu=F(5601),Et=F(3854),hD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zl={},Wh=Wh||{},mt=hD||self;function Ab(){}function hd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zt(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lu="closure_uid_"+(1e9*Math.random()>>>0),Xp=0;function Qk(n,e,t){return n.call.apply(n.bind,arguments)}function St(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function gn(n,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qk:St).apply(null,arguments)}function Yh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Wn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function fd(){this.s=this.s,this.o=this.o}var pD={};fd.prototype.s=!1,fd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Lu)&&n[Lu]||(n[Lu]=++Xp)}(this);delete pD[n]}},fd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $A=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gD=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function Ks(n){return Array.prototype.concat.apply([],arguments)}function An(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ss(n){return/^[\s\xa0]*$/.test(n)}var mi,Nb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function os(n,e){return-1!=n.indexOf(e)}function Z_(n,e){return n<e?-1:n>e?1:0}e:{var pd=mt.navigator;if(pd){var Kh=pd.userAgent;if(Kh){mi=Kh;break e}}mi=""}function Mb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Vu(n){const e={};for(const t in n)e[t]=n[t];return e}var mD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xb(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<mD.length;c++)t=mD[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function eg(n){return eg[" "](n),n}eg[" "]=Ab;var rg,n,Rb=os(mi,"Opera"),gd=os(mi,"Trident")||os(mi,"MSIE"),md=os(mi,"Edge"),kb=md||gd,ng=os(mi,"Gecko")&&!(os(mi.toLowerCase(),"webkit")&&!os(mi,"Edge"))&&!(os(mi,"Trident")||os(mi,"MSIE"))&&!os(mi,"Edge"),_D=os(mi.toLowerCase(),"webkit")&&!os(mi,"Edge");function Ob(){var n=mt.document;return n?n.documentMode:void 0}e:{var Jh="",Pb=(n=mi,ng?/rv:([^\);]+)(\)|;)/.exec(n):md?/Edge\/([\d\.]+)/.exec(n):gd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_D?/WebKit\/(\S+)/.exec(n):Rb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pb&&(Jh=Pb?Pb[1]:""),gd){var ig=Ob();if(null!=ig&&ig>parseFloat(Jh)){rg=String(ig);break e}}rg=Jh}var Fb={};function Xk(){return e=Fb,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Nb(String(rg)).split("."),t=Nb("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",c=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Z_(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Z_(0==o[2].length,0==c[2].length)||Z_(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var e}var eO=mt.document&&gd&&(Ob()||parseInt(rg,10))||void 0,sg=function(){if(!mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{mt.addEventListener("test",Ab,e),mt.removeEventListener("test",Ab,e)}catch(t){}return n}();function Ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function og(n,e){if(Ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ng){e:{try{eg(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&og.Z.h.call(this)}}Ri.prototype.h=function(){this.defaultPrevented=!0},Wn(og,Ri);var qA={2:"touch",3:"pen",4:"mouse"};og.prototype.h=function(){og.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var z_="closure_listenable_"+(1e6*Math.random()|0),tO=0;function ZA(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++tO,this.ca=this.fa=!1}function Pr(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function W_(n){this.src=n,this.g={},this.h=0}function Lb(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=$A(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Pr(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ag(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}W_.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=ag(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new ZA(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var Vb="closure_lm_"+(1e6*Math.random()|0),Ub={};function vD(n,e,t,r,o){if(r&&r.once)return wD(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)vD(n,e[c],t,r,o);return null}return t=DD(t),n&&n[z_]?n.N(e,t,Zt(r)?!!r.capture:!!r,o):bD(n,e,t,!1,r,o)}function bD(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var h=Zt(o)?!!o.capture:!!o,m=lg(n);if(m||(n[Vb]=m=new W_(n)),(t=m.add(e,t,r,h,c)).proxy)return t;if(r=function(){var e=CD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sg||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(ED(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wD(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)wD(n,e[c],t,r,o);return null}return t=DD(t),n&&n[z_]?n.O(e,t,Zt(r)?!!r.capture:!!r,o):bD(n,e,t,!0,r,o)}function Y_(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)Y_(n,e[c],t,r,o);else r=Zt(r)?!!r.capture:!!r,t=DD(t),n&&n[z_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ag(c=n.g[e],t,r,o))&&(Pr(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=lg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ag(e,t,r,o)),(t=-1<n?e[n]:null)&&Bb(t))}function Bb(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[z_])Lb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ED(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=lg(e))?(Lb(t,n),0==t.h&&(t.src=null,e[Vb]=null)):Pr(n)}}}function ED(n){return n in Ub?Ub[n]:Ub[n]="on"+n}function CD(n,e){if(n.ca)n=!0;else{e=new og(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Bb(n),n=t.call(r,e)}return n}function lg(n){return(n=n[Vb])instanceof W_?n:null}var jb="__closure_events_fn_"+(1e9*Math.random()>>>0);function DD(n){return"function"==typeof n?n:(n[jb]||(n[jb]=function(e){return n.handleEvent(e)}),n[jb])}function Kr(){fd.call(this),this.i=new W_(this),this.P=this,this.I=null}function _i(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ri(e,n);else if(e instanceof Ri)e.target=e.target||n;else{var o=e;xb(e=new Ri(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];o=K_(h,r,!0,e)&&o}if(o=K_(h=e.g=n,r,!0,e)&&o,o=K_(h,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=K_(h=e.g=t[c],r,!1,e)&&o}function K_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&Lb(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Wn(Kr,fd),Kr.prototype[z_]=!0,Kr.prototype.removeEventListener=function(n,e,t,r){Y_(this,n,e,t,r)},Kr.prototype.M=function(){if(Kr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Pr(t[r]);delete n.g[e],n.h--}}this.I=null},Kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hb=mt.JSON.stringify;function WA(){var n=TD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _d,Qh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KA,n=>n.reset());class KA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JA(n){mt.setTimeout(()=>{throw n},0)}function J_(n,e){_d||function(){var n=mt.Promise.resolve(void 0);_d=function(){n.then(QA)}}(),Q_||(_d(),Q_=!0),TD.add(n,e)}var Q_=!1,TD=new class{constructor(){this.h=this.g=null}add(e,t){const r=Qh.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function QA(){for(var n;n=WA();){try{n.h.call(n.g)}catch(t){JA(t)}var e=Qh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Q_=!1}function X_(n,e){Kr.call(this),this.h=n||1,this.g=e||mt,this.j=gn(this.kb,this),this.l=Date.now()}function $b(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Gb(n,e,t){if("function"==typeof n)t&&(n=gn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gn(n.handleEvent,n)}return 2147483647<Number(e)?-1:mt.setTimeout(n,e||0)}function qb(n){n.g=Gb(()=>{n.g=null,n.i&&(n.i=!1,qb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wn(X_,Kr),(We=X_.prototype).da=!1,We.S=null,We.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_i(this,"tick"),this.da&&($b(this),this.start()))}},We.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.M=function(){X_.Z.M.call(this),$b(this),delete this.g};class XA extends fd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qb(this)}M(){super.M(),this.g&&(mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ug(n){fd.call(this),this.h=n,this.g={}}Wn(ug,fd);var eN=[];function tN(n,e,t,r){Array.isArray(t)||(t&&(eN[0]=t.toString()),t=eN);for(var o=0;o<t.length;o++){var c=vD(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function nN(n){Mb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bb(e)},n),n.g={}}function Xh(){this.g=!0}function ef(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<o.length;h++)o[h]=""}}}return Hb(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}ug.prototype.M=function(){ug.Z.M.call(this),nN(this)},ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xh.prototype.Aa=function(){this.g=!1},Xh.prototype.info=function(){};var yd={},Zb=null;function tf(){return Zb=Zb||new Kr}function ID(n){Ri.call(this,yd.Ma,n)}function Wa(n){const e=tf();_i(e,new ID(e,n))}function yi(n,e){Ri.call(this,yd.STAT_EVENT,n),this.stat=e}function ki(n){const e=tf();_i(e,new yi(e,n))}function Fo(n,e){Ri.call(this,yd.Na,n),this.size=e}function vd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return mt.setTimeout(function(){n()},e)}yd.Ma="serverreachability",Wn(ID,Ri),yd.STAT_EVENT="statevent",Wn(yi,Ri),yd.Na="timingevent",Wn(Fo,Ri);var ey={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ty(){}function SD(){}ty.prototype.h=null;var Kb,cg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yb(){Ri.call(this,"d")}function ny(){Ri.call(this,"c")}function Jb(){}function dg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ug(this),this.P=nf,this.W=new X_(n=kb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new AD}function AD(){this.i=null,this.g="",this.h=!1}Wn(Yb,Ri),Wn(ny,Ri),Wn(Jb,ty),Jb.prototype.g=function(){return new XMLHttpRequest},Jb.prototype.i=function(){return{}},Kb=new Jb;var nf=45e3,ND={},hg={};function Qb(n,e,t){n.K=1,n.v=iy(Ya(e)),n.s=t,n.U=!0,aN(n,null)}function aN(n,e){n.F=Date.now(),fg(n),n.A=Ya(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),aw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new AD,n.g=Ew(n.l,t?e:null,!n.s),0<n.O&&(n.L=new XA(gn(n.Ia,n,n.g),n.O)),tN(n.V,n.g,"readystatechange",n.gb),e=n.H?Vu(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wa(1),function(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var h="",m=c.split("&"),b=0;b<m.length;b++){var T=m[b].split("=");if(1<T.length){var A=T[0];T=T[1];var M=A.split("_");h=2<=M.length&&"type"==M[1]?h+(A+"=")+T+"&":h+(A+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Xb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function MD(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=ew(n,t),o==hg){4==e&&(n.o=4,ki(14),r=!1),ef(n.j,n.m,null,"[Incomplete Response]");break}if(o==ND){n.o=4,ki(15),ef(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ef(n.j,n.m,o,null),nw(n,o)}Xb(n)&&o!=hg&&o!=ND&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),gy(e),e.L=!0,ki(11))):(ef(n.j,n.m,t,"[Invalid Chunked Response]"),bd(n),rf(n))}function ew(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hg:(t=Number(e.substring(t,r)),isNaN(t)?ND:(r+=1)+t>e.length?hg:(e=e.substr(r,t),n.C=r+t,e))}function fg(n){n.Y=Date.now()+n.P,tw(n,n.P)}function tw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vd(gn(n.eb,n),e)}function pg(n){n.B&&(mt.clearTimeout(n.B),n.B=null)}function rf(n){0==n.l.G||n.I||HD(n.l,n)}function bd(n){pg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$b(n.W),nN(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function nw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||yg(t.i,n)))if(t.I=n.N,!n.J&&yg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=vd(gn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;my(t),Cg(t)}_w(t),ki(18)}if(1>=uw(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Ed(t,11)}else if((n.J||t.g==n)&&my(t),!Ss(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const A=T[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const Y=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var c=r.i;!c.g&&(os(Y,"spdy")||os(Y,"quic")||os(Y,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(uy(c,c.h),c.h=null))}if(r.D){const ye=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Un(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=ww(r,r.H?r.la:null,r.W),h.J){cw(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(pg(m),fg(m)),r.g=h}else mw(r);0<t.l.length&&cf(t)}else"stop"!=T[0]&&"close"!=T[0]||Ed(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Ed(t,7):uf(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Wa(4)}catch(T){}}function rw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hd(n)||"string"==typeof n)gD(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(hd(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(hd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function sf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof sf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function iw(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];la(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)la(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function la(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(We=dg.prototype).setTimeout=function(n){this.P=n},We.gb=function(n){n=n.target;const e=this.L;e&&3==Lo(n)?e.l():this.Ia(n)},We.Ia=function(n){try{if(n==this.g)e:{const A=Lo(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||kb||this.g&&(this.h.h||this.g.ga()||fy(this.g)))){this.I||4!=A||7==e||Wa(8==e||0>=M?3:2),pg(this);var t=this.g.ba();this.N=t;t:if(Xb(this)){var r=fy(this.g);n="";var o=r.length,c=4==Lo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bd(this),rf(this);var h="";break t}this.h.i=new mt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ss(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,ki(12),bd(this),rf(this);break e}ef(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nw(this,t)}this.U?(MD(this,A,h),kb&&this.i&&3==A&&(tN(this.V,this.W,"tick",this.fb),this.W.start())):(ef(this.j,this.m,h,null),nw(this,h)),4==A&&bd(this),this.i&&!this.I&&(4==A?HD(this.l,this):(this.i=!1,fg(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),bd(this),rf(this)}}}catch(A){}},We.fb=function(){if(this.g){var n=Lo(this.g),e=this.g.ga();this.C<e.length&&(pg(this),MD(this,n,e),this.i&&4!=n&&fg(this))}},We.cancel=function(){this.I=!0,bd(this)},We.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wa(3),ki(17)),bd(this),this.o=2,rf(this)):tw(this,this.Y-n)},(We=sf.prototype).R=function(){iw(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},We.T=function(){return iw(this),this.g.concat()},We.get=function(n,e){return la(this.h,n)?this.h[n]:e},We.set=function(n,e){la(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},We.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var sw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Uu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Uu){this.g=void 0!==e?e:n.g,gg(this,n.j),this.s=n.s,mg(this,n.i),ry(this,n.m),this.l=n.l,e=n.h;var t=new _g;t.i=e.i,e.g&&(t.g=new sf(e.g),t.h=e.h),ow(this,t),this.o=n.o}else n&&(t=String(n).match(sw))?(this.g=!!e,gg(this,t[1]||"",!0),this.s=zl(t[2]||""),mg(this,t[3]||"",!0),ry(this,t[4]),this.l=zl(t[5]||"",!0),ow(this,t[6]||"",!0),this.o=zl(t[7]||"")):(this.g=!!e,this.h=new _g(null,this.g))}function Ya(n){return new Uu(n)}function gg(n,e,t){n.j=t?zl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mg(n,e,t){n.i=t?zl(e,!0):e}function ry(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ow(n,e,t){e instanceof _g?(n.h=e,function(n,e){e&&!n.j&&(wd(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(ay(this,r),aw(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Wl(e,oy)),n.h=new _g(e,n.g))}function Un(n,e,t){n.h.set(e,t)}function iy(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Uu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wl(e,sy,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wl(e,sy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wl(t,"/"==t.charAt(0)?hN:Ka,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wl(t,fN)),n.join("")};var sy=/[#\/\?@]/g,Ka=/[#\?:]/g,hN=/[#\?]/g,oy=/[#\?@]/g,fN=/#/g;function _g(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wd(n){n.g||(n.g=new sf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ay(n,e){wd(n),e=Bu(n,e),la(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,la((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&iw(n)))}function ly(n,e){return wd(n),e=Bu(n,e),la(n.g.h,e)}function aw(n,e,t){ay(n,e),0<t.length&&(n.i=null,n.g.set(Bu(n,e),An(t)),n.h+=t.length)}function Bu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function RD(n){this.l=n||gN,n=mt.PerformanceNavigationTiming?0<(n=mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(mt.g&&mt.g.Ea&&mt.g.Ea()&&mt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=_g.prototype).add=function(n,e){wd(this),this.i=null,n=Bu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},We.forEach=function(n,e){wd(this),this.g.forEach(function(t,r){gD(t,function(o){n.call(e,o,r,this)},this)},this)},We.T=function(){wd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},We.R=function(n){wd(this);var e=[];if("string"==typeof n)ly(this,n)&&(e=Ks(e,this.g.get(Bu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ks(e,n[t])}return e},We.set=function(n,e){return wd(this),this.i=null,ly(this,n=Bu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},We.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=o;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var gN=10;function kD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uw(n){return n.h?1:n.g?n.g.size:0}function yg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uy(n,e){n.g?n.g.add(e):n.h=e}function cw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return An(n.i)}function cy(){}function mN(){this.g=new cy}function OD(n,e,t){const r=t||"";try{rw(n,function(o,c){let h=o;Zt(o)&&(h=Hb(o)),e.push(r+c+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function dy(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function af(n){this.l=n.$b||null,this.j=n.ib||!1}function vg(n,e){Kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}RD.prototype.cancel=function(){if(this.i=dw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cy.prototype.stringify=function(n){return mt.JSON.stringify(n,void 0)},cy.prototype.parse=function(n){return mt.JSON.parse(n,void 0)},Wn(af,ty),af.prototype.g=function(){return new vg(this.l,this.j)},af.prototype.i=function(n){return function(){return n}}({}),Wn(vg,Kr);var FD=0;function Oi(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ja(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bg(n)}function bg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(We=vg.prototype).open=function(n,e){if(this.readyState!=FD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,bg(this)},We.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ja(this)),this.readyState=FD},We.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bg(this)),this.g&&(this.readyState=3,bg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==mt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oi(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},We.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ja(this):bg(this),3==this.readyState&&Oi(this)}},We.Ua=function(n){this.g&&(this.response=this.responseText=n,Ja(this))},We.Ta=function(n){this.g&&(this.response=n,Ja(this))},We.ha=function(){this.g&&Ja(this)},We.setRequestHeader=function(n,e){this.v.append(n,e)},We.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _N=mt.JSON.parse;function Fr(n){Kr.call(this),this.headers=new sf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lf,this.K=this.L=!1}Wn(Fr,Kr);var lf="",yN=/^https?$/i,hw=["POST","PUT"];function LD(n){return"content-type"==n.toLowerCase()}function VD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UD(n),wg(n)}function UD(n){n.D||(n.D=!0,_i(n,"complete"),_i(n,"error"))}function hy(n){if(n.h&&void 0!==Wh&&(!n.C[1]||4!=Lo(n)||2!=n.ba()))if(n.v&&4==Lo(n))Gb(n.Fa,0,n);else if(_i(n,"readystatechange"),4==Lo(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(sw)[1]||null;if(!o&&mt.self&&mt.self.location){var c=mt.self.location.protocol;o=c.substr(0,c.length-1)}r=!yN.test(o?o.toLowerCase():"")}t=r}if(t)_i(n,"complete"),_i(n,"success");else{n.m=6;try{var h=2<Lo(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",UD(n)}}finally{wg(n)}}}function wg(n,e){if(n.g){fw(n);const t=n.g,r=n.C[0]?Ab:null;n.g=null,n.C=null,e||_i(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function fw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(mt.clearTimeout(n.A),n.A=null)}function Lo(n){return n.g?n.g.readyState:0}function fy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lf:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function py(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Mb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function Eg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pw(n){this.za=0,this.l=[],this.h=new Xh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Eg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Eg("baseRetryDelayMs",5e3,n),this.$a=Eg("retryDelaySeedMs",1e4,n),this.Ya=Eg("forwardChannelMaxRetries",2,n),this.ra=Eg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new RD(n&&n.concurrentRequestLimit),this.Ca=new mN,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function uf(n){if(BD(n),3==n.G){var e=n.V++,t=Ya(n.F);Un(t,"SID",n.J),Un(t,"RID",e),Un(t,"TYPE","terminate"),df(n,t),(e=new dg(n,n.h,e,void 0)).K=2,e.v=iy(Ya(t)),t=!1,mt.navigator&&mt.navigator.sendBeacon&&(t=mt.navigator.sendBeacon(e.v.toString(),"")),!t&&mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ew(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fg(e)}bw(n)}function Cg(n){n.g&&(gy(n),n.g.cancel(),n.g=null)}function BD(n){Cg(n),n.u&&(mt.clearTimeout(n.u),n.u=null),my(n),n.i.cancel(),n.m&&("number"==typeof n.m&&mt.clearTimeout(n.m),n.m=null)}function Dg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&cf(n)}function cf(n){kD(n.i)||n.m||(n.m=!0,J_(n.Ha,n),n.C=0)}function jD(n,e){var t;t=e?e.m:n.V++;const r=Ya(n.F);Un(r,"SID",n.J),Un(r,"RID",t),Un(r,"AID",n.U),df(n,r),n.o&&n.s&&py(r,n.o,n.s),t=new dg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=gw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),uy(n.i,t),Qb(t,r,e)}function df(n,e){n.j&&rw({},function(t,r){Un(e,r,t)})}function gw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?gn(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=o[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let m=!0;for(let b=0;b<t;b++){let T=o[b].h;const A=o[b].g;if(T-=c,0>T)c=Math.max(0,o[b].h-100),m=!1;else try{OD(A,h,"req"+T+"_")}catch(M){r&&r(A)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function mw(n){n.g||n.u||(n.Y=1,J_(n.Ga,n),n.A=0)}function _w(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=vd(gn(n.Ga,n),vw(n,n.A)),n.A++,0))}function gy(n){null!=n.B&&(mt.clearTimeout(n.B),n.B=null)}function yw(n){n.g=new dg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ya(n.oa);Un(e,"RID","rpc"),Un(e,"SID",n.J),Un(e,"CI",n.N?"0":"1"),Un(e,"AID",n.U),df(n,e),Un(e,"TYPE","xmlhttp"),n.o&&n.s&&py(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=iy(Ya(e)),t.s=null,t.U=!0,aN(t,n)}function my(n){null!=n.v&&(mt.clearTimeout(n.v),n.v=null)}function HD(n,e){var t=null;if(n.g==e){my(n),gy(n),n.g=null;var r=2}else{if(!yg(n.i,e))return;t=e.D,cw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;_i(r=tf(),new Fo(r,t,e,o)),cf(n)}else mw(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(uw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=vd(gn(n.Ha,n,e),vw(n,n.C)),n.C++,0)))}(n,e)||2==r&&_w(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ed(n,5);break;case 4:Ed(n,10);break;case 3:Ed(n,6);break;default:Ed(n,2)}}function vw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ed(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=gn(n.jb,n);t||(t=new Uu("//www.google.com/images/cleardot.gif"),mt.location&&"http"==mt.location.protocol||gg(t,"https"),iy(t)),function(n,e){const t=new Xh;if(mt.Image){const r=new Image;r.onload=Yh(dy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yh(dy,t,r,"TestLoadImage: error",!1,e),r.onabort=Yh(dy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yh(dy,t,r,"TestLoadImage: timeout",!1,e),mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ki(2);n.G=0,n.j&&n.j.va(e),bw(n),BD(n)}function bw(n){n.G=0,n.I=-1,n.j&&((0!=dw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,An(n.l),n.l.length=0),n.j.ua())}function ww(n,e,t){let r=function(n){return n instanceof Uu?Ya(n):new Uu(n,void 0)}(t);if(""!=r.i)e&&mg(r,e+"."+r.i),ry(r,r.m);else{const o=mt.location;r=function(n,e,t,r){var o=new Uu(null,void 0);return n&&gg(o,n),e&&mg(o,e),t&&ry(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Mb(n.aa,function(o,c){Un(r,c,o)}),t=n.sa,(e=n.D)&&t&&Un(r,e,t),Un(r,"VER",n.ma),df(n,r),r}function Ew(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ba&&!n.qa?new af({ib:!0}):n.qa)).L=n.H,e}function Cw(){}function _y(){if(gd&&!(10<=Number(eO)))throw Error("Environmental error: no available transport.")}function Js(n,e){Kr.call(this),this.g=new pw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ss(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ss(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Tg(this)}function $D(n){Yb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Dw(){ny.call(this),this.status=1}function Tg(n){this.g=n}(We=Fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kb.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Kb),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void VD(this,c)}n=t||"";const o=new sf(this.headers);r&&rw(r,function(c,h){o.set(h,c)}),r=function(n){e:{var e=LD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=mt.FormData&&n instanceof mt.FormData,!(0<=$A(hw,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fw(this),0<this.B&&((this.K=function(n){return gd&&Xk()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=Gb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){VD(this,c)}},We.pa=function(){void 0!==Wh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},We.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_i(this,"complete"),_i(this,"abort"),wg(this))},We.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wg(this,!0)),Fr.Z.M.call(this)},We.Fa=function(){this.s||(this.F||this.v||this.l?hy(this):this.cb())},We.cb=function(){hy(this)},We.ba=function(){try{return 2<Lo(this)?this.g.status:-1}catch(n){return-1}},We.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},We.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_N(e)}},We.Da=function(){return this.m},We.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=pw.prototype).ma=8,We.G=1,We.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},We.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new dg(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Vu(c),xb(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gw(this,o,e),Un(t=Ya(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),df(this,t),this.o&&c&&py(t,this.o,c),uy(this.i,o),this.Ra&&Un(t,"TYPE","init"),this.ja?(Un(t,"$req",e),Un(t,"SID","null"),o.$=!0,Qb(o,t,null)):Qb(o,t,e),this.G=2}}else 3==this.G&&(n?jD(this,n):0==this.l.length||kD(this.i)||jD(this))},We.Ga=function(){if(this.u=null,yw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=vd(gn(this.bb,this),n)}},We.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ki(10),Cg(this),yw(this))},We.ab=function(){null!=this.v&&(this.v=null,Cg(this),_w(this),ki(19))},We.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ki(2)):(this.h.info("Failed to ping google.com"),ki(1))},(We=Cw.prototype).xa=function(){},We.wa=function(){},We.va=function(){},We.ua=function(){},We.Oa=function(){},_y.prototype.g=function(n,e){return new Js(n,e)},Wn(Js,Kr),Js.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),J_(gn(n.hb,n,e))),ki(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ww(n,null,n.W),cf(n)},Js.prototype.close=function(){uf(this.g)},Js.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Dg(this.g,e)}else this.v?((e={}).__data__=Hb(n),Dg(this.g,e)):Dg(this.g,n)},Js.prototype.M=function(){this.g.j=null,delete this.j,uf(this.g),delete this.g,Js.Z.M.call(this)},Wn($D,Yb),Wn(Dw,ny),Wn(Tg,Cw),Tg.prototype.xa=function(){_i(this.g,"a")},Tg.prototype.wa=function(n){_i(this.g,new $D(n))},Tg.prototype.va=function(n){_i(this.g,new Dw(n))},Tg.prototype.ua=function(){_i(this.g,"b")},_y.prototype.createWebChannel=_y.prototype.g,Js.prototype.send=Js.prototype.u,Js.prototype.open=Js.prototype.m,Js.prototype.close=Js.prototype.close,ey.NO_ERROR=0,ey.TIMEOUT=8,ey.HTTP_ERROR=6,zb.COMPLETE="complete",SD.EventType=cg,cg.OPEN="a",cg.CLOSE="b",cg.ERROR="c",cg.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var iO=Zl.createWebChannelTransport=function(){return new _y},sO=Zl.getStatEventTarget=function(){return tf()},GD=Zl.ErrorCode=ey,oO=Zl.EventType=zb,aO=Zl.Event=yd,wN=Zl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lO=Zl.FetchXmlHttpFactory=af,Tw=Zl.WebChannel=SD,uO=Zl.XhrIo=Fr;const EN="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Ig="9.1.3";const Cd=new Pu.Yd("@firebase/firestore");function qD(){return Cd.logLevel}function Ve(n,...e){if(Cd.logLevel<=Pu.in.DEBUG){const t=e.map(Iw);Cd.debug(`Firestore (${Ig}): ${n}`,...t)}}function _r(n,...e){if(Cd.logLevel<=Pu.in.ERROR){const t=e.map(Iw);Cd.error(`Firestore (${Ig}): ${n}`,...t)}}function Sg(n,...e){if(Cd.logLevel<=Pu.in.WARN){const t=e.map(Iw);Cd.warn(`Firestore (${Ig}): ${n}`,...t)}}function Iw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Ig}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function Dt(n,e){n||it()}function He(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class CN{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class hO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class fO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DN{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let h=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new vi,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,pe.Z)(function*(){yield T.promise,yield c(r.currentUser)}))},b=T=>{Ve("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(Ve("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new vi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt("string"==typeof r.accessToken),new CN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new Pi(e)}}class pO{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class TN{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new pO(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class as{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function hf(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}as.T=-1;class Sw{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=hf(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function ff(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function yy(n){return n+"\0"}class Lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Lr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Aw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Nw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ju{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ju.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ju?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),h=t.get(o);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends ju{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const gO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends ju{construct(e,t,r){return new Fi(e,t,r)}static isValidIdentifier(e){return gO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new ke(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new ke(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ke(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(c(),o++)}if(c(),h)throw new ke(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}class Ag{constructor(e){this.fields=e,e.sort(Fi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ff(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new bi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new bi(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const vy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(n){if(Dt(!!n),"string"==typeof n){let e=0;const t=vy.exec(n);if(Dt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ng(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function Mg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ZD(n){const e=n.mapValue.fields.__previous_value__;return Mg(e)?ZD(e):e}function by(n){const e=Hu(n.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}function gf(n){return null==n}function wy(n){return 0===n&&1/n==-1/0}function SN(n){return"number"==typeof n&&Number.isInteger(n)&&!wy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Qt.fromString(e))}static fromName(e){return new Qe(Qt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Qt(e.slice()))}}function Dd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mg(n)?4:10:it()}function Yl(n,e){const t=Dd(n);if(t!==Dd(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return by(n).isEqual(by(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Hu(r.timestampValue),h=Hu(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ng(n.bytesValue).isEqual(Ng(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Vr(r.geoPointValue.latitude)===Vr(o.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Vr(r.integerValue)===Vr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Vr(r.doubleValue),h=Vr(o.doubleValue);return c===h?wy(c)===wy(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return ff(n.arrayValue.values||[],e.arrayValue.values||[],Yl);case 10:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Aw(c)!==Aw(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===h[m]||!Yl(c[m],h[m])))return!1;return!0}(n,e);default:return it()}var o}function Ey(n,e){return void 0!==(n.values||[]).find(t=>Yl(t,e))}function mf(n,e){const t=Dd(n),r=Dd(e);if(t!==r)return Gt(t,r);switch(t){case 0:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=Vr(o.integerValue||o.doubleValue),m=Vr(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return _f(n.timestampValue,e.timestampValue);case 4:return _f(by(n),by(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(o,c){const h=Ng(o),m=Ng(c);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),m=c.split("/");for(let b=0;b<h.length&&b<m.length;b++){const T=Gt(h[b],m[b]);if(0!==T)return T}return Gt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Gt(Vr(o.latitude),Vr(c.latitude));return 0!==h?h:Gt(Vr(o.longitude),Vr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const h=o.values||[],m=c.values||[];for(let b=0;b<h.length&&b<m.length;++b){const T=mf(h[b],m[b]);if(T)return T}return Gt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const h=o.fields||{},m=Object.keys(h),b=c.fields||{},T=Object.keys(b);m.sort(),T.sort();for(let A=0;A<m.length&&A<T.length;++A){const M=Gt(m[A],T[A]);if(0!==M)return M;const V=mf(h[m[A]],b[T[A]]);if(0!==V)return V}return Gt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw it()}}function _f(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Hu(n),r=Hu(e),o=Gt(t.seconds,r.seconds);return 0!==o?o:Gt(t.nanos,r.nanos)}function Mw(n){return xw(n)}function xw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Hu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ng(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const h of r.values||[])c?c=!1:o+=",",o+=xw(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const m of o)h?h=!1:c+=",",c+=`${m}:${xw(r.fields[m])}`;return c+"}"}(n.mapValue):it();var e}function Cy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xg(n){return!!n&&"integerValue"in n}function Rw(n){return!!n&&"arrayValue"in n}function As(n){return!!n&&"nullValue"in n}function zD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yf(n){return!!n&&"mapValue"in n}function Rg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rg(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rg(t)}setAll(e){let t=Fi.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Rg(h):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];yf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){pf(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Li(Rg(this.value))}}function Dy(n){const e=[];return pf(n.fields,(t,r)=>{const o=new Fi([t]);if(yf(r)){const c=Dy(r.mapValue).fields;if(0===c.length)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new Ag(e)}class Nn{constructor(e,t,r,o,c){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,Nt.min(),Li.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,r,0)}static newNoDocument(e,t){return new Nn(e,2,t,Li.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,Li.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Nn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class WD{constructor(e,t=null,r=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.A=null}}function YD(n,e=null,t=[],r=[],o=null,c=null,h=null){return new WD(n,e,t,r,o,c,h)}function vf(n){const e=He(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Mw(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Sy(e.startAt)),e.endAt&&(t+="|ub:",t+=Sy(e.endAt)),e.A=t}return e.A}function Ty(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!yO(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Yl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ow(n.startAt,e.startAt)&&Ow(n.endAt,e.endAt)}function Iy(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class wi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new QD(e,t,r):"array-contains"===t?new NN(e,r):"in"===t?new mO(e,r):"not-in"===t?new MN(e,r):"array-contains-any"===t?new _O(e,r):new wi(e,t,r)}static R(e,t,r){return"in"===t?new kw(e,r):new AN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(mf(t,this.value)):null!==t&&Dd(this.value)===Dd(t)&&this.P(mf(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QD extends wi{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.P(t)}}class kw extends wi{constructor(e,t){super(e,"in",t),this.keys=Vo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AN extends wi{constructor(e,t){super(e,"not-in",t),this.keys=Vo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vo(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class NN extends wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rw(t)&&Ey(t.arrayValue,this.value)}}class mO extends wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ey(this.value.arrayValue,t)}}class MN extends wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ey(this.value.arrayValue,t)}}class _O extends wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ey(this.value.arrayValue,r))}}class kg{constructor(e,t){this.position=e,this.before=t}}function Sy(n){return`${n.before?"b":"a"}:${n.position.map(e=>Mw(e)).join(",")}`}class bf{constructor(e,t="asc"){this.field=e,this.dir=t}}function yO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function XD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(r=c.field.isKeyField()?Qe.comparator(Qe.fromName(h.referenceValue),t.key):mf(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Ow(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yl(n.position[t],e.position[t]))return!1;return!0}class Kl{constructor(e,t=null,r=[],o=[],c=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=b,this.V=null,this.S=null}}function eT(n,e,t,r,o,c,h,m){return new Kl(n,e,t,r,o,c,h,m)}function Td(n){return new Kl(n)}function Ay(n){return!gf(n.limit)&&"F"===n.limitType}function Pw(n){return!gf(n.limit)&&"L"===n.limitType}function Ny(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function My(n){for(const e of n.filters)if(e.v())return e.field;return null}function Fw(n){return null!==n.collectionGroup}function wf(n){const e=He(n);if(null===e.V){e.V=[];const t=My(e),r=Ny(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new bf(t)),e.V.push(new bf(Fi.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new bf(Fi.keyField(),c))}}}return e.V}function Qs(n){const e=He(n);if(!e.S)if("F"===e.limitType)e.S=YD(e.path,e.collectionGroup,wf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of wf(e))t.push(new bf(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new kg(e.endAt.position,!e.endAt.before):null,o=e.startAt?new kg(e.startAt.position,!e.startAt.before):null;e.S=YD(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function Ef(n,e,t){return new Kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return Ty(Qs(n),Qs(e))&&n.limitType===e.limitType}function Lw(n){return`${vf(Qs(n))}|lt:${n.limitType}`}function Vw(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Mw(r.value)}`;var r}).join(", ")}]`),gf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Sy(n.startAt)),n.endAt&&(e+=", endAt: "+Sy(n.endAt)),`Target(${e})`}(Qs(n))}; limitType=${n.limitType})`}function Og(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!XD(t.startAt,wf(t),r)||t.endAt&&XD(t.endAt,wf(t),r)));var t,r}function xN(n){return(e,t)=>{let r=!1;for(const o of wf(n)){const c=vO(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function vO(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,c,h){const m=c.data.field(o),b=h.data.field(o);return null!==m&&null!==b?mf(m,b):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function RN(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wy(e)?"-0":e}}function Uw(n){return{integerValue:""+n}}function Bw(n,e){return SN(e)?Uw(e):RN(n,e)}class xy{constructor(){this._=void 0}}function kN(n,e,t){return n instanceof Sd?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Cf?PN(n,e):n instanceof Ad?Ry(n,e):function(r,o){const c=tT(r,o),h=FN(c)+FN(r.C);return xg(c)&&xg(r.C)?Uw(h):RN(r.N,h)}(n,e)}function ON(n,e,t){return n instanceof Cf?PN(n,e):n instanceof Ad?Ry(n,e):t}function tT(n,e){return n instanceof Yn?xg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sd extends xy{}class Cf extends xy{constructor(e){super(),this.elements=e}}function PN(n,e){const t=jw(e);for(const r of n.elements)t.some(o=>Yl(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ad extends xy{constructor(e){super(),this.elements=e}}function Ry(n,e){let t=jw(e);for(const r of n.elements)t=t.filter(o=>!Yl(o,r));return{arrayValue:{values:t}}}class Yn extends xy{constructor(e,t){super(),this.N=e,this.C=t}}function FN(n){return Vr(n.integerValue||n.doubleValue)}function jw(n){return Rw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Df{constructor(e,t){this.field=e,this.transform=t}}class ky{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pg{}function Nd(n,e,t){n instanceof $u?function(r,o,c){const h=r.value.clone(),m=$w(r.fieldTransforms,o,c.transformResults);h.setAll(m),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Gu?function(r,o,c){if(!Oy(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=$w(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(Ly(r)),m.setAll(h),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Py(n,e,t){var o;n instanceof $u?function(r,o,c){if(!Oy(r.precondition,o))return;const h=r.value.clone(),m=Ur(r.fieldTransforms,c,o);h.setAll(m),o.convertToFoundDocument(nT(o),h).setHasLocalMutations()}(n,e,t):n instanceof Gu?function(r,o,c){if(!Oy(r.precondition,o))return;const h=Ur(r.fieldTransforms,c,o),m=o.data;m.setAll(Ly(r)),m.setAll(h),o.convertToFoundDocument(nT(o),m).setHasLocalMutations()}(n,e,t):Oy(n.precondition,o=e)&&o.convertToNoDocument(Nt.min())}function Hw(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=tT(r.transform,o||null);null!=c&&(null==t&&(t=Li.empty()),t.set(r.field,c))}return t||null}function Fy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ff(t,r,(o,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Cf&&r instanceof Cf||t instanceof Ad&&r instanceof Ad?ff(t.elements,r.elements,Yl):t instanceof Yn&&r instanceof Yn?Yl(t.C,r.C):t instanceof Sd&&r instanceof Sd);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function nT(n){return n.isFoundDocument()?n.version:Nt.min()}class $u extends Pg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Gu extends Pg{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function Ly(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $w(n,e,t){const r=new Map;Dt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,m=e.data.field(c.field);r.set(c.field,ON(h,m,t[o]))}return r}function Ur(n,e,t){const r=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);r.set(o.field,kN(c,h,e))}return r}class Vy extends Pg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Gw extends Pg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class VN{constructor(e){this.count=e}}var Br,$t;function rT(n){switch(n){default:return it();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function UN(n){if(void 0===n)return _r("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Br.OK:return _e.OK;case Br.CANCELLED:return _e.CANCELLED;case Br.UNKNOWN:return _e.UNKNOWN;case Br.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Br.INTERNAL:return _e.INTERNAL;case Br.UNAVAILABLE:return _e.UNAVAILABLE;case Br.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Br.NOT_FOUND:return _e.NOT_FOUND;case Br.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Br.ABORTED:return _e.ABORTED;case Br.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Br.DATA_LOSS:return _e.DATA_LOSS;default:return it()}}($t=Br||(Br={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class Jr{constructor(e,t){this.comparator=e,this.root=t||Ei.EMPTY}insert(e,t){return new Jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qw(this.root,e,this.comparator,!1)}getReverseIterator(){return new qw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qw(this.root,e,this.comparator,!0)}}class qw{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ei{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:Ei.RED,this.left=null!=o?o:Ei.EMPTY,this.right=null!=c?c:Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Ei(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ei.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(e){return new iT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class iT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const BN=new Jr(Qe.comparator);function Uo(){return BN}const bO=new Jr(Qe.comparator);function Zw(){return bO}const jN=new Jr(Qe.comparator);function sT(){return jN}const wO=new rr(Qe.comparator);function mn(...n){let e=wO;for(const t of n)e=e.add(t);return e}const HN=new rr(Gt);function Uy(){return HN}class Fg{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Lg.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fg(Nt.min(),r,Uy(),Uo(),mn())}}class Lg{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Lg(bi.EMPTY_BYTE_STRING,t,mn(),mn(),mn())}}class By{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class Bo{constructor(e,t){this.targetId=e,this.O=t}}class oT{constructor(e,t,r=bi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class aT{constructor(){this.F=0,this.M=GN(),this.L=bi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=mn(),t=mn(),r=mn();return this.M.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:it()}}),new Lg(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=GN()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class $N{constructor(e){this.tt=e,this.et=new Map,this.nt=Uo(),this.st=lT(),this.it=new rr(Gt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const c=o.target;if(Iy(c))if(0===r){const h=new Qe(c.path);this.at(t,h,Nn.newNoDocument(h,Nt.min()))}else Dt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,h)=>{const m=this.dt(h);if(m){if(c.current&&Iy(m.target)){const b=new Qe(m.target.path);null!==this.nt.get(b)||this.gt(h,b)||this.at(h,b,Nn.newNoDocument(b,e))}c.K&&(t.set(h,c.W()),c.G())}});let r=mn();this.st.forEach((c,h)=>{let m=!0;h.forEachWhile(b=>{const T=this.dt(b);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(c))});const o=new Fg(e,t,this.it,this.nt,r);return this.nt=Uo(),this.st=lT(),this.it=new rr(Gt),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new aT,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new rr(Gt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new aT),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function lT(){return new Jr(Qe.comparator)}function GN(){return new Jr(Qe.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},ZN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zN{constructor(e,t){this.databaseId=e,this.D=t}}function Jl(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(n,e){return n.D?e.toBase64():e.toUint8Array()}function EO(n,e){return Jl(n,e.toTimestamp())}function Qr(n){return Dt(!!n),Nt.fromTimestamp(function(e){const t=Hu(e);return new Lr(t.seconds,t.nanos)}(n))}function uT(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WN(n){const e=Qt.fromString(n);return Dt(gT(e)),e}function jy(n,e){return uT(n.databaseId,e.path)}function jo(n,e){const t=WN(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(YN(t))}function Ww(n,e){return uT(n.databaseId,e)}function cT(n){const e=WN(n);return 4===e.length?Qt.emptyPath():YN(e)}function Vg(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YN(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dT(n,e,t){return{name:jy(n,e),fields:t.value.mapValue.fields}}function hT(n,e,t){const r=jo(n,e.name),o=Qr(e.updateTime),c=new Li({mapValue:{fields:e.fields}}),h=Nn.newFoundDocument(r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Yw(n,e){let t;if(e instanceof $u)t={update:dT(n,e.key,e.value)};else if(e instanceof Vy)t={delete:jy(n,e.key)};else if(e instanceof Gu)t={update:dT(n,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof Gw))return it();t={verify:jy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof Sd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ad)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Yn)return{fieldPath:c.field.canonicalString(),increment:h.C};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:EO(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:it()),t;var o}function Kw(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?yr.updateTime(Qr(o.updateTime)):void 0!==o.exists?yr.exists(o.exists):yr.none():yr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,h){let m=null;"setToServerValue"in h?(Dt("REQUEST_TIME"===h.setToServerValue),m=new Sd):"appendMissingElements"in h?m=new Cf(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Ad(h.removeAllFromArray.values||[]):"increment"in h?m=new Yn(c,h.increment):it();const b=Fi.fromServerFormat(h.fieldPath);return new Df(b,m)}(n,o)):[];var o;if(e.update){const o=jo(n,e.update.name),c=new Li({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Ag((e.updateMask.fieldPaths||[]).map(T=>Fi.fromServerFormat(T)));return new Gu(o,c,h,t,r)}return new $u(o,c,t,r)}if(e.delete){const o=jo(n,e.delete);return new Vy(o,t)}if(e.verify){const o=jo(n,e.verify);return new Gw(o,t)}return it()}function Jw(n,e){return{documents:[Ww(n,e.path)]}}function Qw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ww(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ww(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(T=>function(A){if("=="===A.op){if(zD(A.value))return{unaryFilter:{field:Md(A.field),op:"IS_NAN"}};if(As(A.value))return{unaryFilter:{field:Md(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(zD(A.value))return{unaryFilter:{field:Md(A.field),op:"IS_NOT_NAN"}};if(As(A.value))return{unaryFilter:{field:Md(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(A.field),op:fT(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(m){if(0!==m.length)return m.map(b=>{return{field:Md((T=b).field),direction:Gy(T.dir)};var T})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(b=e.limit,n.D||gf(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=$y(e.startAt)),e.endAt&&(t.structuredQuery.endAt=$y(e.endAt)),t}function Xw(n){let e=cT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Dt(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];t.where&&(c=Hy(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(A=>{return new bf(Tf((M=A).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(A){let M;return M="object"==typeof A?A.value:A,gf(M)?null:M}(t.limit));let b=null;t.startAt&&(b=Ug(t.startAt));let T=null;return t.endAt&&(T=Ug(t.endAt)),eT(e,o,h,c,m,"F",b,T)}function Hy(n){return n?void 0!==n.unaryFilter?[pT(n)]:void 0!==n.fieldFilter?[QN(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Hy(e)).reduce((e,t)=>e.concat(t)):it():[]}function $y(n){return{before:n.before,values:n.position}}function Ug(n){return new kg(n.values||[],!!n.before)}function Gy(n){return qN[n]}function fT(n){return ZN[n]}function Md(n){return{fieldPath:n.canonicalString()}}function Tf(n){return Fi.fromServerFormat(n.fieldPath)}function QN(n){return wi.create(Tf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function pT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tf(n.unaryFilter.field);return wi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tf(n.unaryFilter.field);return wi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tf(n.unaryFilter.field);return wi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tf(n.unaryFilter.field);return wi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function XN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ca(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mT(e)),e=t1(n.get(t),e);return mT(e)}function t1(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function mT(n){return n+"\x01\x01"}function Kn(n){const e=n.length;if(Dt(e>=2),2===e)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&it(),n.charAt(h+1)){case"\x01":const m=n.substring(c,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(c,h),o+="\0";break;case"\x11":o+=n.substring(c,h+1);break;default:it()}c=h+2}return new Qt(r)}class Bg{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Vi{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Vi.store="owner",Vi.key="owner";class Ql{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Ql.store="mutationQueues",Ql.keyPath="userId";class _n{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}_n.store="mutations",_n.keyPath="batchId",_n.userMutationsIndex="userMutationsIndex",_n.userMutationsKeyPath=["userId","batchId"];class Xr{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ca(t)]}static key(e,t,r){return[e,ca(t),r]}}Xr.store="documentMutations",Xr.PLACEHOLDER=new Xr;class _T{constructor(e,t){this.path=e,this.readTime=t}}class qy{constructor(e,t){this.path=e,this.version=t}}class ir{constructor(e,t,r,o,c,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=h}}ir.store="remoteDocuments",ir.readTimeIndex="readTimeIndex",ir.readTimeIndexPath="readTime",ir.collectionReadTimeIndex="collectionReadTimeIndex",ir.collectionReadTimeIndexPath=["parentPath","readTime"];class Qa{constructor(e){this.byteSize=e}}Qa.store="remoteDocumentGlobal",Qa.key="remoteDocumentGlobalKey";class Ns{constructor(e,t,r,o,c,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Ns.store="targets",Ns.keyPath="targetId",Ns.queryTargetsIndexName="queryTargetsIndex",Ns.queryTargetsKeyPath=["canonicalId","targetId"];class Ci{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ci.store="targetDocuments",Ci.keyPath=["targetId","path"],Ci.documentTargetsIndex="documentTargetsIndex",Ci.documentTargetsKeyPath=["path","targetId"];class Ms{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Ms.key="targetGlobalKey",Ms.store="targetGlobal";class xd{constructor(e,t){this.collectionId=e,this.parent=t}}xd.store="collectionParents",xd.keyPath=["collectionId","parent"];class Xl{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Xl.store="clientMetadata",Xl.keyPath="clientId";class If{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}If.store="bundles",If.keyPath="bundleId";class Xs{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Xs.store="namedQueries",Xs.keyPath="name";const jg=[Ql.store,_n.store,Xr.store,ir.store,Ns.store,Vi.store,Ms.store,Ci.store,Xl.store,Qa.store,xd.store,If.store,Xs.store],Zy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,r)=>{t(e)})}static reject(e){return new Re((t,r)=>{r(e)})}static waitFor(e){return new Re((t,r)=>{let o=0,c=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++c,h&&c===o&&t()},b=>r(b))}),h=!0,c===o&&t()})}static or(e){let t=Re.resolve(!1);for(const r of e)t=t.next(o=>o?Re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class zy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new vi,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Sf(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=da(r.target.error);this.Et.reject(new Sf(e,o))}}static open(e,t,r,o){try{return new zy(t,e.transaction(o,r))}catch(c){throw new Sf(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new tM(t)}}class eo{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===eo.Rt((0,Et.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Rd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Et.hl)())return!1;if(eo.Pt())return!0;const e=(0,Et.z$)(),t=eo.Rt(e),r=0<t&&t<10,o=eo.vt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{o(new Sf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new ke(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new ke(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Sf(e,m))},c.onupgradeneeded=h=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,pe.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.Dt(e);const b=zy.open(c.db,e,h?"readonly":"readwrite",r),T=o(b).catch(A=>(b.abort(A),Re.reject(A))).toPromise();return T.catch(()=>{}),yield b.It,T}catch(b){const T="FirebaseError"!==b.name&&m<3;if(Ve("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),c.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eM{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Rd(this.kt.delete())}}class Sf extends ke{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qu(n){return"IndexedDbTransactionError"===n.name}class tM{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rd(r)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Rd(this.store.add(e))}get(e){return Rd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Rd(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(c,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(c,h,m)=>m.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Re((r,o)=>{t.onerror=c=>{const h=da(c.target.error);o(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Re((o,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new eM(m),T=t(m.primaryKey,m.value,b);if(T instanceof Re){const A=T.catch(M=>(b.done(),Re.reject(M)));r.push(A)}b.isDone?o():null===b.Ft?m.continue():m.continue(b.Ft)}}).next(()=>Re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rd(n){return new Re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=da(r.target.error);t(o)}})}let vT=!1;function da(n){const e=eo.Rt((0,Et.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vT||(vT=!0,setTimeout(()=>{throw r},0)),r}}return n}class Af extends yT{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function jr(n,e){const t=He(n);return eo.St(t.Qt,e)}class Nf{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Nd(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Py(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Py(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&ff(this.mutations,e.mutations,(t,r)=>Fy(t,r))&&ff(this.baseMutations,e.baseMutations,(t,r)=>Fy(t,r))}}class Zu{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Dt(e.mutations.length===r.length);let o=sT();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new Zu(e,t,r,o)}}class zu{constructor(e,t,r,o,c=Nt.min(),h=Nt.min(),m=bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bT{constructor(e){this.Wt=e}}function n1(n,e){if(e.document)return hT(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Qe.fromSegments(e.noDocument.path),r=Wu(e.noDocument.readTime),o=Nn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Qe.fromSegments(e.unknownDocument.path),r=Wu(e.unknownDocument.version);return Nn.newUnknownDocument(t,r)}return it()}function r1(n,e,t){const r=Wy(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:jy(m=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Jl(m,b.version.toTimestamp())};return new ir(null,null,c,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const c=e.key.path.toArray(),h=kd(e.version),m=e.hasCommittedMutations;return new ir(null,new _T(c,h),null,m,r,o)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=kd(e.version);return new ir(new qy(c,h),null,null,!0,r,o)}return it()}function Wy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function i1(n){const e=new Lr(n[0],n[1]);return Nt.fromTimestamp(e)}function kd(n){const e=n.toTimestamp();return new Bg(e.seconds,e.nanoseconds)}function Wu(n){const e=new Lr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function Mf(n,e){const t=(e.baseMutations||[]).map(c=>Kw(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>Kw(n.Wt,c)),o=Lr.fromMillis(e.localWriteTimeMs);return new Nf(e.batchId,o,t,r)}function Hg(n){const e=Wu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wu(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var o;return void 0!==n.query.documents?(Dt(1===(o=n.query).documents.length),r=Qs(Td(cT(o.documents[0])))):r=Qs(Xw(n.query)),new zu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,bi.fromBase64String(n.resumeToken))}function s1(n,e){const t=kd(e.snapshotVersion),r=kd(e.lastLimboFreeSnapshotVersion);let o;o=Iy(e.target)?Jw(n.Wt,e.target):Qw(n.Wt,e.target);const c=e.resumeToken.toBase64();return new Ns(e.targetId,vf(e.target),t,c,e.sequenceNumber,r,o)}function eu(n){const e=Xw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ef(e,e.limit,"L"):e}class o1{getBundleMetadata(e,t){return wT(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Wu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return wT(e).put({bundleId:(r=t).id,createTime:kd(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ET(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:eu(o.bundledQuery),readTime:Wu(o.readTime)};var o})}saveNamedQuery(e,t){return ET(e).put({name:(r=t).name,readTime:kd(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wT(n){return jr(n,If.store)}function ET(n){return jr(n,Xs.store)}class CO{constructor(){this.Gt=new CT}addToCollectionParentIndex(e,t){return this.Gt.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.Gt.getEntries(t))}}class CT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new rr(Qt.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new rr(Qt.comparator)).toArray()}}class DO{constructor(){this.zt=new CT}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:r,parent:ca(o)};return nM(e).put(c)}return Re.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[yy(t),""],!1,!0);return nM(e).Lt(o).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(Kn(h.parent))}return r})}}function nM(n){return jr(n,xd.store)}const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xs(e,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rM(n,e,t){const r=n.store(_n.store),o=n.store(Xr.store),c=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.Kt({range:h},(A,M,V)=>(m++,V.delete()));c.push(b.next(()=>{Dt(1===m)}));const T=[];for(const A of t.mutations){const M=Xr.key(e,A.key.path,t.batchId);c.push(o.delete(M)),T.push(A.key)}return Re.waitFor(c).next(()=>T)}function a1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}xs.DEFAULT_COLLECTION_PERCENTILE=10,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xs.DEFAULT=new xs(41943040,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xs.DISABLED=new xs(-1,0,0);class TT{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){Dt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new TT(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yu(e).Kt({index:_n.userMutationsIndex,range:r},(o,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=$g(e),h=Yu(e);return h.add({}).next(m=>{Dt("number"==typeof m);const b=new Nf(m,t,r,o),T=function(V,U,Y){const ye=Y.baseMutations.map($e=>Yw(V.Wt,$e)),Pe=Y.mutations.map($e=>Yw(V.Wt,$e));return new _n(U,Y.batchId,Y.localWriteTime.toMillis(),ye,Pe)}(this.N,this.userId,b),A=[];let M=new rr((V,U)=>Gt(V.canonicalString(),U.canonicalString()));for(const V of o){const U=Xr.key(this.userId,V.key.path,m);M=M.add(V.key.path.popLast()),A.push(h.put(T)),A.push(c.put(U,Xr.PLACEHOLDER))}return M.forEach(V=>{A.push(this.Ht.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Jt[m]=b.keys()}),Re.waitFor(A).next(()=>b)})}lookupMutationBatch(e,t){return Yu(e).get(t).next(r=>r?(Dt(r.userId===this.userId),Mf(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Re.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Yu(e).Kt({index:_n.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(Dt(m.batchId>=r),c=Mf(this.N,m)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yu(e).Kt({index:_n.userMutationsIndex,range:t,reverse:!0},(o,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yu(e).Lt(_n.userMutationsIndex,t).next(r=>r.map(o=>Mf(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Xr.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return $g(e).Kt({range:o},(h,m,b)=>{const[T,A,M]=h,V=Kn(A);if(T===this.userId&&t.path.isEqual(V))return Yu(e).get(M).next(U=>{if(!U)throw it();Dt(U.userId===this.userId),c.push(Mf(this.N,U))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Gt);const o=[];return t.forEach(c=>{const h=Xr.prefixForPath(this.userId,c.path),m=IDBKeyRange.lowerBound(h),b=$g(e).Kt({range:m},(T,A,M)=>{const[V,U,Y]=T,ye=Kn(U);V===this.userId&&c.path.isEqual(ye)?r=r.add(Y):M.done()});o.push(b)}),Re.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=Xr.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let m=new rr(Gt);return $g(e).Kt({range:h},(b,T,A)=>{const[M,V,U]=b,Y=Kn(V);M===this.userId&&r.isPrefixOf(Y)?Y.length===o&&(m=m.add(U)):A.done()}).next(()=>this.Zt(e,m))}Zt(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Yu(e).get(c).next(h=>{if(null===h)throw it();Dt(h.userId===this.userId),r.push(Mf(this.N,h))}))}),Re.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return rM(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Re.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Re.resolve();const r=IDBKeyRange.lowerBound(Xr.prefixForUser(this.userId)),o=[];return $g(e).Kt({range:r},(c,h,m)=>{if(c[0]===this.userId){const b=Kn(c[1]);o.push(b)}else m.done()}).next(()=>{Dt(0===o.length)})})}containsKey(e,t){return iM(e,this.userId,t)}ee(e){return sM(e).get(this.userId).next(t=>t||new Ql(this.userId,-1,""))}}function iM(n,e,t){const r=Xr.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return $g(n).Kt({range:c,qt:!0},(m,b,T)=>{const[A,M,V]=m;A===e&&M===o&&(h=!0),T.done()}).next(()=>h)}function Yu(n){return jr(n,_n.store)}function $g(n){return jr(n,Xr.store)}function sM(n){return jr(n,Ql.store)}class xf{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new xf(0)}static ie(){return new xf(-1)}}class TO{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new xf(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Nt.fromTimestamp(new Lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ce(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>i(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(Dt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return i(e).Kt((h,m)=>{const b=Hg(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,c.push(this.removeTargetData(e,b)))}).next(()=>Re.waitFor(c)).next(()=>o)}forEachTarget(e,t){return i(e).Kt((r,o)=>{const c=Hg(o);t(c)})}re(e){return s(e).get(Ms.key).next(t=>(Dt(null!==t),t))}oe(e,t){return s(e).put(Ms.key,t)}ae(e,t){return i(e).put(s1(this.N,t))}ce(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=vf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return i(e).Kt({range:o,index:Ns.queryTargetsIndexName},(h,m,b)=>{const T=Hg(m);Ty(t,T.target)&&(c=T,b.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=a(e);return t.forEach(h=>{const m=ca(h.path);o.push(c.put(new Ci(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Re.waitFor(o)}removeMatchingKeys(e,t,r){const o=a(e);return Re.forEach(t,c=>{const h=ca(c.path);return Re.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=a(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=a(e);let c=mn();return o.Kt({range:r,qt:!0},(h,m,b)=>{const T=Kn(h[1]),A=new Qe(T);c=c.add(A)}).next(()=>c)}containsKey(e,t){const r=ca(t.path),o=IDBKeyRange.bound([r],[yy(r)],!1,!0);let c=0;return a(e).Kt({index:Ci.documentTargetsIndex,qt:!0,range:o},([h,m],b,T)=>{0!==h&&(c++,T.done())}).next(()=>c>0)}Tt(e,t){return i(e).get(t).next(r=>r?Hg(r):null)}}function i(n){return jr(n,Ns.store)}function s(n){return jr(n,Ms.store)}function a(n){return jr(n,Ci.store)}function u(n){return d.apply(this,arguments)}function d(){return(d=(0,pe.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==Zy)throw n;Ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function f([n,e],[t,r]){const o=Gt(n,t);return 0===o?Gt(e,r):o}class _{constructor(e){this.ue=e,this.buffer=new rr(f),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();f(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,pe.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){qu(o)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield u(o)}yield t._e(e)}))}}class E{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Re.resolve(as.T);const r=new _(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(DT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,c,h,m,b,T;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,h=Date.now(),this.nthSequenceNumber(e,o))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(c=M,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),qD()<=Pu.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-A}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${c} targets in `+(b-m)+`ms\n\tRemoved ${M} documents in `+(T-b)+`ms\nTotal Duration: ${T-A}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:M})))}}class D{constructor(e,t){this.db=e,this.garbageCollector=new E(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return S(e,r)}removeReference(e,t,r){return S(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return S(e,t)}Ie(e,t){return function(r,o){let c=!1;return sM(r).jt(h=>iM(r,h,o).next(m=>(m&&(c=!0),Re.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ee(e,(h,m)=>{if(m<=t){const b=this.Ie(e,h).next(T=>{if(!T)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h),a(e).delete([0,ca(h.path)])))});o.push(b)}}).next(()=>Re.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return S(e,t)}Ee(e,t){const r=a(e);let o,c=as.T;return r.Kt({index:Ci.documentTargetsIndex},([h,m],{path:b,sequenceNumber:T})=>{0===h?(c!==as.T&&t(new Qe(Kn(o)),c),c=T,o=b):c=as.T}).next(()=>{c!==as.T&&t(new Qe(Kn(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function S(n,e){return a(n).put((r=n.currentSequenceNumber,new Ci(0,ca(e.path),r)));var r}class R{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){pf(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return Nw(this.inner)}}class O{constructor(){this.changes=new R(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Nt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Nn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Re.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return te(e).put(Oe(t),r)}removeEntry(e,t){const r=te(e),o=Oe(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return te(e).get(Oe(t)).next(r=>this.Re(t,r))}be(e,t){return te(e).get(Oe(t)).next(r=>({document:this.Re(t,r),size:a1(r)}))}getEntries(e,t){let r=Uo();return this.Pe(e,t,(o,c)=>{const h=this.Re(o,c);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=Uo(),o=new Jr(Qe.comparator);return this.Pe(e,t,(c,h)=>{const m=this.Re(c,h);r=r.insert(c,m),o=o.insert(c,a1(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Re.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return te(e).Kt({range:o},(m,b,T)=>{const A=Qe.fromSegments(m);for(;h&&Qe.comparator(h,A)<0;)r(h,null),h=c.getNext();h&&h.isEqual(A)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?T.Mt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Uo();const c=t.path.length+1,h={};if(r.isEqual(Nt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=Wy(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=ir.collectionReadTimeIndex}return te(e).Kt(h,(m,b,T)=>{if(m.length!==c)return;const A=n1(this.N,b);t.path.isPrefixOf(A.key.path)?Og(t,A)&&(o=o.insert(A.key,A)):T.done()}).next(()=>o)}newChangeBuffer(e){return new W(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fe(e).get(Qa.key).next(t=>(Dt(!!t),t))}Ae(e,t){return fe(e).put(Qa.key,t)}Re(e,t){if(t){const r=n1(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return Nn.newInvalidDocument(e)}}class W extends O{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new R(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new rr((c,h)=>Gt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const m=this.De.get(c);if(h.document.isValidDocument()){const b=r1(this.Se.N,h.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=a1(b)-m,t.push(this.Se.addEntry(e,c,b))}else if(r-=m,this.trackRemovals){const b=r1(this.Se.N,Nn.newNoDocument(c,Nt.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,b))}else t.push(this.Se.removeEntry(e,c))}),o.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,r)),Re.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((c,h)=>{this.De.set(c,h)}),r))}}function fe(n){return jr(n,Qa.store)}function te(n){return jr(n,ir.store)}function Oe(n){return n.path.toArray()}class Ce{constructor(e){this.N=e}Ct(e,t,r,o){Dt(r<o&&r>=0&&o<=11);const c=new zy("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(Vi.store),(m=e).createObjectStore(Ql.store,{keyPath:Ql.keyPath}),m.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Xr.store),Xe(e),function(m){m.createObjectStore(ir.store)}(e));let h=Re.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Ci.store),m.deleteObjectStore(Ns.store),m.deleteObjectStore(Ms.store)}(e),Xe(e)),h=h.next(()=>function(m){const b=m.store(Ms.store),T=new Ms(0,0,Nt.min().toTimestamp(),0);return b.put(Ms.key,T)}(c))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(_n.store).Lt().next(T=>{m.deleteObjectStore(_n.store),m.createObjectStore(_n.store,{keyPath:_n.keyPath,autoIncrement:!0}).createIndex(_n.userMutationsIndex,_n.userMutationsKeyPath,{unique:!0});const A=b.store(_n.store),M=T.map(V=>A.put(V));return Re.waitFor(M)})}(e,c))),h=h.next(()=>{!function(m){m.createObjectStore(Xl.store,{keyPath:Xl.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(c))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(Qa.store)}(e),this.Ne(c)))),r<7&&o>=7&&(h=h.next(()=>this.xe(c))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,c))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(ir.store);b.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),b.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(c))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(If.store,{keyPath:If.keyPath})})(e),function(m){m.createObjectStore(Xs.store,{keyPath:Xs.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(ir.store).Kt((r,o)=>{t+=a1(o)}).next(()=>{const r=new Qa(t);return e.store(Qa.store).put(Qa.key,r)})}Ce(e){const t=e.store(Ql.store),r=e.store(_n.store);return t.Lt().next(o=>Re.forEach(o,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(_n.userMutationsIndex,h).next(m=>Re.forEach(m,b=>{Dt(b.userId===c.userId);const T=Mf(this.N,b);return rM(e,c.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(Ci.store),r=e.store(ir.store);return e.store(Ms.store).get(Ms.key).next(o=>{const c=[];return r.Kt((h,m)=>{const b=new Qt(h),T=[0,ca(b)];c.push(t.get(T).next(A=>A?Re.resolve():t.put(new Ci(0,ca(b),o.highestListenSequenceNumber))))}).next(()=>Re.waitFor(c))})}ke(e,t){e.createObjectStore(xd.store,{keyPath:xd.keyPath});const r=t.store(xd.store),o=new CT,c=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:ca(b)})}};return t.store(ir.store).Kt({qt:!0},(h,m)=>{const b=new Qt(h);return c(b.popLast())}).next(()=>t.store(Xr.store).Kt({qt:!0},([h,m,b],T)=>{const A=Kn(m);return c(A.popLast())}))}$e(e){const t=e.store(Ns.store);return t.Kt((r,o)=>{const c=Hg(o),h=s1(this.N,c);return t.put(h)})}}function Xe(n){n.createObjectStore(Ci.store,{keyPath:Ci.keyPath}).createIndex(Ci.documentTargetsIndex,Ci.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ns.store,{keyPath:Ns.keyPath}).createIndex(Ns.queryTargetsIndexName,Ns.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ms.store)}const dt="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bt{constructor(e,t,r,o,c,h,m,b,T,A){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=h,this.document=m,this.Fe=T,this.Me=A,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=M=>Promise.resolve(),!Bt.bt())throw new ke(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new D(this,o),this.We=t+"main",this.N=new bT(b),this.Ge=new eo(this.We,11,new Ce(this.N)),this.ze=new TO(this.referenceDelegate,this.N),this.Ht=new DO,this.He=new G(this.N,this.Ht),this.Je=new o1,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===A&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(_e.FAILED_PRECONDITION,dt);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new as(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,pe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ls(e).put(new Xl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(qu(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Jn(e).get(Vi.key).next(t=>Re.resolve(this.cn(t)))}un(e){return ls(e).delete(this.clientId)}hn(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=jr(r,Xl.store);return o.Lt().next(c=>{const h=e.fn(c,18e5),m=c.filter(b=>-1===h.indexOf(b));return Re.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Re.resolve(!0):Jn(e).get(Vi.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new ke(_e.FAILED_PRECONDITION,dt);return!1}}return!(!this.networkEnabled||!this.inForeground)||ls(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Vi.store,Xl.store],t=>{const r=new Af(t,as.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>ls(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return TT.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let c;return Ve("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",jg,h=>(c=new Af(h,this.Le?this.Le.next():as.T),"readwrite-primary"===t?this.sn(c).next(m=>!!m||this.rn(c)).next(m=>{if(!m)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ke(_e.FAILED_PRECONDITION,Zy);return r(c)}).next(m=>this.an(c).next(()=>m)):this.Tn(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Tn(e){return Jn(e).get(Vi.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(_e.FAILED_PRECONDITION,dt)})}an(e){const t=new Vi(this.clientId,this.allowTabSynchronization,Date.now());return Jn(e).put(Vi.key,t)}static bt(){return eo.bt()}on(e){const t=Jn(e);return t.get(Vi.key).next(r=>this.cn(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(Vi.key)):Re.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Et.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jn(n){return jr(n,Vi.store)}function ls(n){return jr(n,Xl.store)}function Od(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Rf{constructor(e,t){this.progress=e,this.En=t}}class Pd{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):Fw(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new Qe(t)).next(r=>{let o=Zw();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let c=Zw();return this.Ht.getCollectionParents(e,o).next(h=>Re.forEach(h,m=>{const b=(T=t,A=m.child(o),new Kl(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,A;return this.Dn(e,b,r).next(T=>{T.forEach((A,M)=>{c=c.insert(A,M)})})}).next(()=>c))}Dn(e,t,r){let o,c;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Cn(e,c,o).next(m=>{o=m;for(const b of c)for(const T of b.mutations){const A=T.key;let M=o.get(A);null==M&&(M=Nn.newInvalidDocument(A),o=o.insert(A,M)),Py(T,M,b.localWriteTime),M.isFoundDocument()||(o=o.remove(A))}}))).next(()=>(o.forEach((h,m)=>{Og(t,m)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=mn();for(const h of t)for(const m of h.mutations)m instanceof Gu&&null===r.get(m.key)&&(o=o.add(m.key));let c=r;return this.He.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(c=c.insert(m,b))}),c))}}class Ku{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=mn(),o=mn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ku(e,t.fromCache,r,o)}}class Yy{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(Nt.min())?this.Fn(e,t):this.On.Pn(e,o).next(c=>{const h=this.Mn(t,c);return(Ay(t)||Pw(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(qD()<=Pu.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vw(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var c}Mn(e,t){let r=new rr(xN(e));return t.forEach((o,c)=>{Og(e,c)&&(r=r.add(c))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Fn(e,t){return qD()<=Pu.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Vw(t)),this.On.getDocumentsMatchingQuery(e,t,Nt.min())}}class l1{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new Jr(Gt),this.qn=new R(c=>vf(c),Ty),this.Kn=Nt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Pd(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Ky(n,e,t,r){return new l1(n,e,t,r)}function Jy(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,pe.Z)(function*(n,e){const t=He(n);let r=t.In,o=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.In.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new Pd(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const T=[],A=[];let M=mn();for(const V of m){T.push(V.batchId);for(const U of V.mutations)M=M.add(U.key)}for(const V of b){A.push(V.batchId);for(const U of V.mutations)M=M.add(U.key)}return o.Pn(h,M).next(V=>({Wn:V,removedBatchIds:T,addedBatchIds:A}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),c})).apply(this,arguments)}function RL(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,T){const A=b.batch,M=A.keys();let V=Re.resolve();return M.forEach(U=>{V=V.next(()=>T.getEntry(m,U)).next(Y=>{const ye=b.docVersions.get(U);Dt(null!==ye),Y.version.compareTo(ye)<0&&(A.applyToRemoteDocument(Y,b),Y.isValidDocument()&&T.addEntry(Y,b.commitVersion))})}),V.next(()=>h.In.removeMutationBatch(m,A))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function IO(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function kL(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const m=[];e.targetChanges.forEach((T,A)=>{const M=o.get(A);if(!M)return;m.push(t.ze.removeMatchingKeys(c,T.removedDocuments,A).next(()=>t.ze.addMatchingKeys(c,T.addedDocuments,A)));const V=T.resumeToken;if(V.approximateByteSize()>0){const U=M.withResumeToken(V,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(A,U),Y=M,Pe=T,Dt((ye=U).resumeToken.approximateByteSize()>0),(0===Y.resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(t.ze.updateTargetData(c,U))}var Y,ye,Pe});let b=Uo();if(e.documentUpdates.forEach((T,A)=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(SO(c,h,e.documentUpdates,r,void 0).next(T=>{b=T})),!r.isEqual(Nt.min())){const T=t.ze.getLastRemoteSnapshotVersion(c).next(A=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(T)}return Re.waitFor(m).next(()=>h.apply(c)).next(()=>t.Qn.vn(c,b)).next(()=>b)}).then(c=>(t.Un=o,c))}function SO(n,e,t,r,o){let c=mn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let m=Uo();return t.forEach((b,T)=>{const A=h.get(b),M=(null==o?void 0:o.get(b))||r;T.isNoDocument()&&T.version.isEqual(Nt.min())?(e.removeEntry(b,M),m=m.insert(b,T)):!A.isValidDocument()||T.version.compareTo(A.version)>0||0===T.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(T,M),m=m.insert(b,T)):Ve("LocalStore","Ignoring outdated watch update for ",b,". Current version:",A.version," Watch version:",T.version)}),m})}function OL(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Qy(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(c=>c?(o=c,Re.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new zu(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function Xy(n,e,t){return oM.apply(this,arguments)}function oM(){return(oM=(0,pe.Z)(function*(n,e,t){const r=He(n),o=r.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!qu(h))throw h;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)})).apply(this,arguments)}function IT(n,e,t){const r=He(n);let o=Nt.min(),c=mn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,T){const A=He(m),M=A.qn.get(T);return void 0!==M?Re.resolve(A.Un.get(M)):A.ze.getTargetData(b,T)}(r,h,Qs(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,m.targetId).next(b=>{c=b})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:Nt.min(),t?c:mn())).next(m=>({documents:m,Gn:c})))}function AO(n,e){const t=He(n),r=He(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(h=>h?h.target:null))}function NO(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const h=He(r);let m=Uo(),b=Wy(c);const T=te(o),A=IDBKeyRange.lowerBound(b,!0);return T.Kt({index:ir.readTimeIndex,range:A},(M,V)=>{const U=n1(h.N,V);m=m.insert(U.key,U),b=V.readTime}).next(()=>({En:m,readTime:i1(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function aM(){return(aM=(0,pe.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=te(r);let c=Nt.min();return o.Kt({index:ir.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(c=i1(m.readTime)),b.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function lM(){return(lM=(0,pe.Z)(function*(n,e,t,r){const o=He(n);let c=mn(),h=Uo(),m=sT();for(const A of t){const M=e.zn(A.metadata.name);A.document&&(c=c.add(M)),h=h.insert(M,e.Hn(A)),m=m.insert(M,e.Jn(A.metadata.readTime))}const b=o.jn.newChangeBuffer({trackRemovals:!0}),T=yield Qy(o,(A=r,Qs(Td(Qt.fromString(`__bundle__/docs/${A}`)))));var A;return o.persistence.runTransaction("Apply bundle documents","readwrite",A=>SO(A,b,h,Nt.min(),m).next(M=>(b.apply(A),M)).next(M=>o.ze.removeMatchingKeysForTargetId(A,T.targetId).next(()=>o.ze.addMatchingKeys(A,c,T.targetId)).next(()=>o.Qn.vn(A,M)).next(()=>M)))})).apply(this,arguments)}function LL(n,e){return uM.apply(this,arguments)}function uM(){return(uM=(0,pe.Z)(function*(n,e,t=mn()){const r=yield Qy(n,Qs(eu(e.bundledQuery))),o=He(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const h=Qr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(c,e);const m=r.withResumeToken(bi.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(m.targetId,m),o.ze.updateTargetData(c,m).next(()=>o.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.ze.addMatchingKeys(c,t,r.targetId)).next(()=>o.Je.saveNamedQuery(c,e))})})).apply(this,arguments)}class VL{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Re.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:eu(r.bundledQuery),readTime:Qr(r.readTime)}),Re.resolve();var r}}class cM{constructor(){this.Zn=new rr(Ui.ts),this.es=new rr(Ui.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ui(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Qe(new Qt([])),r=new Ui(t,e),o=new Ui(t,e+1),c=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),c.push(h.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Qe(new Qt([])),r=new Ui(t,e),o=new Ui(t,e+1);let c=mn();return this.es.forEachInRange([r,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Ui(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Qe.comparator(e.key,t.key)||Gt(e.ls,t.ls)}static ns(e,t){return Gt(e.ls,t.ls)||Qe.comparator(e.key,t.key)}}class UL{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new rr(Ui.ts)}checkEmpty(e){return Re.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const c=this.fs;this.fs++;const h=new Nf(c,t,r,o);this.In.push(h);for(const m of o)this.ds=this.ds.add(new Ui(m.key,c)),this.Ht.addToCollectionParentIndex(e,m.key.path.popLast());return Re.resolve(h)}lookupMutationBatch(e,t){return Re.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),c=o<0?0:o;return Re.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Re.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),o=new Ui(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,o],h=>{const m=this.ws(h.ls);c.push(m)}),Re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Gt);return t.forEach(o=>{const c=new Ui(o,0),h=new Ui(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,h],m=>{r=r.add(m.ls)})}),Re.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Qe.isDocumentKey(c)||(c=c.child(""));const h=new Ui(new Qe(c),0);let m=new rr(Gt);return this.ds.forEachWhile(b=>{const T=b.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(b.ls)),!0)},h),Re.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Dt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Re.forEach(t.mutations,o=>{const c=new Ui(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Ui(t,0),o=this.ds.firstAfterOrEqual(r);return Re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Re.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class BL{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Jr(Qe.comparator),this.size=0}addEntry(e,t,r){const o=t.key,c=this.docs.get(o),h=c?c.size:0,m=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:m,readTime:r}),this.size+=m-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Re.resolve(r?r.document.clone():Nn.newInvalidDocument(t))}getEntries(e,t){let r=Uo();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():Nn.newInvalidDocument(o))}),Re.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Uo();const c=new Qe(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:m,value:{document:b,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||Og(t,b)&&(o=o.insert(b.key,b.clone()))}return Re.resolve(o)}Ts(e,t){return Re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jL(this)}getSize(e){return Re.resolve(this.size)}}class jL extends O{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Re.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class HL{constructor(e){this.persistence=e,this.Es=new R(t=>vf(t),Ty),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Is=0,this.As=new cM,this.targetCount=0,this.Rs=xf.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Re.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new xf(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.ae(t),Re.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Es.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Es.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Re.waitFor(c).next(()=>o)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Re.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Re.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),Re.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Re.resolve(r)}containsKey(e,t){return Re.resolve(this.As.containsKey(t))}}class $L{constructor(e,t){this.bs={},this.Le=new as(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new HL(this),this.Ht=new CO,this.He=new BL(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new bT(t),this.Je=new VL(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new UL(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const o=new GL(this.Le.next());return this.referenceDelegate.vs(),r(o).next(c=>this.referenceDelegate.Vs(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ss(e,t){return Re.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class GL extends yT{constructor(e){super(),this.currentSequenceNumber=e}}class dM{constructor(e){this.persistence=e,this.Ds=new cM,this.Cs=null}static Ns(e){return new dM(e)}get xs(){if(this.Cs)return this.Cs;throw it()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Re.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.xs,r=>{const o=Qe.fromPath(r);return this.ks(e,o).next(c=>{c||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Re.or([()=>Re.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function MO(n,e){return`firestore_clients_${n}_${e}`}function xO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function hM(n,e){return`firestore_targets_${n}_${e}`}class ST{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let c,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new ke(o.error.code,o.error.message))),h?new ST(e,t,o.state,c):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class u1{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new ke(r.error.code,r.error.message))),c?new u1(e,r.state,o):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Uy();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=SN(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return o?new AT(e,c):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class fM{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fM(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pM{constructor(){this.activeTargetIds=Uy()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gM{constructor(e,t,r,o,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Jr(Gt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=MO(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new pM),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const c=e.getItem(MO(e.persistenceKey,o));if(c){const h=AT.$s(o,c);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(hM(this.persistenceKey,e));if(r){const o=u1.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hM(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ai(r.key);return t.ci(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ci(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(c){let h=as.T;if(null!=c)try{const m=JSON.parse(c);Dt("number"==typeof m),h=m}catch(m){_r("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==as.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new ST(this.currentUser,e,t,r),c=xO(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Os())}ni(e){const t=xO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=hM(this.persistenceKey,e),c=new u1(e,t,r);this.setItem(o,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ai(e);return AT.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return ST.$s(new Pi(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return u1.$s(o,t)}Xs(e){return fM.$s(e)}li(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),c=this.ti(r),h=[],m=[];return c.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{c.has(b)||m.push(b)}),this.syncEngine.gi(h,m).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Uy();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class RO{constructor(){this.yi=new pM,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new pM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class qL{Ti(e){}shutdown(){}}class kO{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ZL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zL{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class WL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const c=this.Bi(e,t);Ve("RestConnection","Sending: ",c,r);const h={};return this.Ui(h,o),this.qi(e,c,h,r).then(m=>(Ve("RestConnection","Received: ",m),m),m=>{throw Sg("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ig,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${ZL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((c,h)=>{const m=new uO;m.listenOnce(oO.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case GD.NO_ERROR:const T=m.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(T)),c(T);break;case GD.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),h(new ke(_e.DEADLINE_EXCEEDED,"Request time out"));break;case GD.HTTP_ERROR:const A=m.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',A,"response text:",m.getResponseText()),A>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const V=function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(Y)>=0?Y:_e.UNKNOWN}(M.status);h(new ke(V,M.message))}else h(new ke(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ke(_e.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iO(),c=sO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new lO({})),this.Ui(h.initMessageHeaders,t),(0,Et.uI)()||(0,Et.b$)()||(0,Et.d)()||(0,Et.w1)()||(0,Et.Mn)()||(0,Et.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");Ve("Connection","Creating WebChannel: "+m,h);const b=o.createWebChannel(m,h);let T=!1,A=!1;const M=new zL({vi:U=>{A?Ve("Connection","Not sending because WebChannel is closed:",U):(T||(Ve("Connection","Opening WebChannel transport."),b.open(),T=!0),Ve("Connection","WebChannel sending:",U),b.send(U))},Vi:()=>b.close()}),V=(U,Y,ye)=>{U.listen(Y,Pe=>{try{ye(Pe)}catch($e){setTimeout(()=>{throw $e},0)}})};return V(b,Tw.EventType.OPEN,()=>{A||Ve("Connection","WebChannel transport opened.")}),V(b,Tw.EventType.CLOSE,()=>{A||(A=!0,Ve("Connection","WebChannel transport closed"),M.$i())}),V(b,Tw.EventType.ERROR,U=>{A||(A=!0,Sg("Connection","WebChannel transport errored:",U),M.$i(new ke(_e.UNAVAILABLE,"The operation could not be completed")))}),V(b,Tw.EventType.MESSAGE,U=>{var Y;if(!A){const ye=U.data[0];Dt(!!ye);const Pe=ye,$e=Pe.error||(null===(Y=Pe[0])||void 0===Y?void 0:Y.error);if($e){Ve("Connection","WebChannel received error:",$e);const et=$e.status;let Mt=function(Xt){const wr=Br[Xt];if(void 0!==wr)return UN(wr)}(et),st=$e.message;void 0===Mt&&(Mt=_e.INTERNAL,st="Unknown error status: "+et+" with message "+$e.message),A=!0,M.$i(new ke(Mt,st)),b.close()}else Ve("Connection","WebChannel received:",ye),M.Oi(ye)}}),V(c,aO.STAT_EVENT,U=>{U.stat===wN.PROXY?Ve("Connection","Detected buffering proxy"):U.stat===wN.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ki()},0),M}}function OO(){return"undefined"!=typeof window?window:null}function NT(){return"undefined"!=typeof document?document:null}function c1(n){return new zN(n,!0)}class mM{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class PO{constructor(e,t,r,o,c,h){this.Oe=e,this.er=r,this.nr=o,this.credentialsProvider=c,this.listener=h,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new mM(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,pe.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,pe.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r._r(),r.rr.cancel(),r.sr++,3!==e?r.rr.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.rr.Yi()):t&&t.code===_e.UNAUTHENTICATED&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.mr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===t&&this.yr(r)},r=>{e(()=>{const o=new ke(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(o)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.pr(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}ur(){var e=this;this.state=4,this.rr.Xi((0,pe.Z)(function*(){e.state=0,e.start()}))}pr(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YL extends PO{constructor(e,t,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,r,c),this.N=o}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:it(),o=e.targetChange.targetIds||[],c=function(b,T){return b.D?(Dt(void 0===T||"string"==typeof T),bi.fromBase64String(T||"")):(Dt(void 0===T||T instanceof Uint8Array),bi.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const T=void 0===b.code?_e.UNKNOWN:UN(b.code);return new ke(T,b.message||"")}(h);t=new oT(r,o,c,m||null)}else if("documentChange"in e){const r=e.documentChange,o=jo(n,r.document.name),c=Qr(r.document.updateTime),h=new Li({mapValue:{fields:r.document.fields}}),m=Nn.newFoundDocument(o,c,h);t=new By(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=jo(n,r.document),c=r.readTime?Qr(r.readTime):Nt.min(),h=Nn.newNoDocument(o,c);t=new By([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=jo(n,r.document);t=new By([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return it();{const r=e.filter,c=new VN(r.count||0);t=new Bo(r.targetId,c)}}var b;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return Nt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Nt.min():c.readTime?Qr(c.readTime):Nt.min()}(e);return this.listener.Er(t,r)}Ir(e){const t={};t.database=Vg(this.N),t.addTarget=function(o,c){let h;const m=c.target;return h=Iy(m)?{documents:Jw(o,m)}:{query:Qw(o,m)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=zw(o,c.resumeToken):c.snapshotVersion.compareTo(Nt.min())>0&&(h.readTime=Jl(o,c.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.wr(t)}Ar(e){const t={};t.database=Vg(this.N),t.removeTarget=e,this.wr(t)}}class KL extends PO{constructor(e,t,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle",t,r,c),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(Dt(void 0!==e),n.map(t=>function(r,o){let c=Qr(r.updateTime?r.updateTime:o);return c.isEqual(Nt.min())&&(c=Qr(o)),new ky(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.vr(r,t)}return Dt(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Vg(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Yw(this.N,r))};this.wr(t)}}class JL extends class{}{constructor(e,t,r){super(),this.credentials=e,this.nr=t,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new ke(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new ke(_e.UNKNOWN,o.toString())})}Ki(e,t,r){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new ke(_e.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class QL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(_r(t),this.$r=!1):Ve("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class XL{constructor(e,t,r,o,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=c,this.Qr.Ti(m=>{r.enqueueAndForget((0,pe.Z)(function*(){var b;kf(h)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,pe.Z)(function*(T){const A=He(T);A.Kr.add(4),yield ev(A),A.Wr.set("Unknown"),A.Kr.delete(4),yield d1(A)}),function(T){return b.apply(this,arguments)})(h))}))}),this.Wr=new QL(r,o)}}function d1(n){return _M.apply(this,arguments)}function _M(){return(_M=(0,pe.Z)(function*(n){if(kf(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function ev(n){return yM.apply(this,arguments)}function yM(){return(yM=(0,pe.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function MT(n,e){const t=He(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),wM(t)?bM(t):nv(t).cr()&&vM(t,e))}function h1(n,e){const t=He(n),r=nv(t);t.qr.delete(e),r.cr()&&FO(t,e),0===t.qr.size&&(r.cr()?r.lr():kf(t)&&t.Wr.set("Unknown"))}function vM(n,e){n.Gr.Y(e.targetId),nv(n).Ir(e)}function FO(n,e){n.Gr.Y(e),nv(n).Ar(e)}function bM(n){n.Gr=new $N({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),nv(n).start(),n.Wr.Or()}function wM(n){return kf(n)&&!nv(n).ar()&&n.qr.size>0}function kf(n){return 0===He(n).Kr.size}function LO(n){n.Gr=void 0}function e2(n){return EM.apply(this,arguments)}function EM(){return(EM=(0,pe.Z)(function*(n){n.qr.forEach((e,t)=>{vM(n,e)})})).apply(this,arguments)}function t2(n,e){return CM.apply(this,arguments)}function CM(){return(CM=(0,pe.Z)(function*(n,e){LO(n),wM(n)?(n.Wr.Lr(e),bM(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function n2(n,e,t){return DM.apply(this,arguments)}function DM(){return(DM=(0,pe.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof oT&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(o,c){const h=c.cause;for(const m of c.targetIds)o.qr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.qr.delete(m),o.Gr.removeTarget(m))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xT(n,r)}else if(e instanceof By?n.Gr.rt(e):e instanceof Bo?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(Nt.min()))try{const r=yield IO(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const h=o.Gr._t(c);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.qr.get(b);T&&o.qr.set(b,T.withResumeToken(m.resumeToken,c))}}),h.targetMismatches.forEach(m=>{const b=o.qr.get(m);if(!b)return;o.qr.set(m,b.withResumeToken(bi.EMPTY_BYTE_STRING,b.snapshotVersion)),FO(o,m);const T=new zu(b.target,m,1,b.sequenceNumber);vM(o,T)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield xT(n,r)}var r})).apply(this,arguments)}function xT(n,e,t){return TM.apply(this,arguments)}function TM(){return(TM=(0,pe.Z)(function*(n,e,t){if(!qu(e))throw e;n.Kr.add(1),yield ev(n),n.Wr.set("Offline"),t||(t=()=>IO(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield d1(n)}))})).apply(this,arguments)}function VO(n,e){return e().catch(t=>xT(n,t,e))}function tv(n){return IM.apply(this,arguments)}function IM(){return(IM=(0,pe.Z)(function*(n){const e=He(n),t=Of(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;r2(e);)try{const o=yield OL(e.localStore,r);if(null===o){0===e.Ur.length&&t.lr();break}r=o.batchId,i2(e,o)}catch(o){yield xT(e,o)}UO(e)&&BO(e)})).apply(this,arguments)}function r2(n){return kf(n)&&n.Ur.length<10}function i2(n,e){n.Ur.push(e);const t=Of(n);t.cr()&&t.br&&t.Pr(e.mutations)}function UO(n){return kf(n)&&!Of(n).ar()&&n.Ur.length>0}function BO(n){Of(n).start()}function s2(n){return SM.apply(this,arguments)}function SM(){return(SM=(0,pe.Z)(function*(n){Of(n).Sr()})).apply(this,arguments)}function o2(n){return AM.apply(this,arguments)}function AM(){return(AM=(0,pe.Z)(function*(n){const e=Of(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function a2(n,e,t){return NM.apply(this,arguments)}function NM(){return(NM=(0,pe.Z)(function*(n,e,t){const r=n.Ur.shift(),o=Zu.from(r,e,t);yield VO(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield tv(n)})).apply(this,arguments)}function l2(n,e){return MM.apply(this,arguments)}function MM(){return(MM=(0,pe.Z)(function*(n,e){var t;e&&Of(n).br&&(yield(t=(0,pe.Z)(function*(r,o){if(rT(c=o.code)&&c!==_e.ABORTED){const h=r.Ur.shift();Of(r).hr(),yield VO(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield tv(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),UO(n)&&BO(n)})).apply(this,arguments)}function xM(n,e){return RM.apply(this,arguments)}function RM(){return(RM=(0,pe.Z)(function*(n,e){const t=He(n);e?(t.Kr.delete(2),yield d1(t)):e||(t.Kr.add(2),yield ev(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function nv(n){return n.zr||(n.zr=function(e,t,r){const o=He(e);return o.Cr(),new YL(t,o.nr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:e2.bind(null,n),Ci:t2.bind(null,n),Er:n2.bind(null,n)}),n.jr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.zr.hr(),wM(n)?bM(n):n.Wr.set("Unknown")):(yield n.zr.stop(),LO(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function Of(n){return n.Hr||(n.Hr=function(e,t,r){const o=He(e);return o.Cr(),new KL(t,o.nr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:s2.bind(null,n),Ci:l2.bind(null,n),Vr:o2.bind(null,n),vr:a2.bind(null,n)}),n.jr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Hr.hr(),yield tv(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class kM{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,c){const h=Date.now()+r,m=new kM(e,t,h,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(n,e){if(_r("AsyncQueue",`${e}: ${n}`),qu(n))return new ke(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class iv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Zw(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new iv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new iv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jO{constructor(){this.Jr=new Jr(Qe.comparator)}track(e){const t=e.doc.key,r=this.Jr.get(t);r?0!==e.type&&3===r.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==r.type?this.Jr=this.Jr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jr=this.Jr.remove(t):1===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):it():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,r)=>{e.push(r)}),e}}class sv{constructor(e,t,r,o,c,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new sv(e,t,iv.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class u2{constructor(){this.Xr=void 0,this.listeners=[]}}class c2{constructor(){this.queries=new R(e=>Lw(e),Id),this.onlineState="Unknown",this.Zr=new Set}}function OM(n,e){return PM.apply(this,arguments)}function PM(){return(PM=(0,pe.Z)(function*(n,e){const t=He(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new u2),o)try{c.Xr=yield t.onListen(r)}catch(h){const m=rv(h,`Initialization of query '${Vw(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.eo(t.onlineState),c.Xr&&e.no(c.Xr)&&VM(t)})).apply(this,arguments)}function FM(n,e){return LM.apply(this,arguments)}function LM(){return(LM=(0,pe.Z)(function*(n,e){const t=He(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function d2(n,e){const t=He(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.no(o)&&(r=!0);h.Xr=o}}r&&VM(t)}function h2(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function VM(n){n.Zr.forEach(e=>{e.next()})}class UM{constructor(e,t,r){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new sv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class f2{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class HO{constructor(e){this.N=e}zn(e){return jo(this.N,e)}Hn(e){return e.metadata.exists?hT(this.N,e.document,!1):Nn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Qr(e)}}class p2{constructor(e,t,r){this.lo=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=$O(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,r=new HO(this.N);for(const o of e)if(o.metadata.queries){const c=r.zn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||mn()).add(c);t.set(h,m)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function(n,e,t,r){return lM.apply(this,arguments)}(e.localStore,new HO(e.N),e.documents,e.lo.id),r=e.wo(e.documents);for(const o of e.queries)yield LL(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new Rf(Object.assign({},e.progress),t)})()}}function $O(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GO{constructor(e){this.key=e}}class qO{constructor(e){this.key=e}}class ZO{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=mn(),this.mutatedKeys=mn(),this.po=xN(e),this.To=new iv(this.po)}get Eo(){return this._o}Io(e,t){const r=t?t.Ao:new jO,o=t?t.To:this.To;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=Ay(this.query)&&o.size===this.query.limit?o.last():null,T=Pw(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,M)=>{const V=o.get(A),U=Og(this.query,M)?M:null,Y=!!V&&this.mutatedKeys.has(V.key),ye=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Pe=!1;V&&U?V.data.isEqual(U.data)?Y!==ye&&(r.track({type:3,doc:U}),Pe=!0):this.Ro(V,U)||(r.track({type:2,doc:U}),Pe=!0,(b&&this.po(U,b)>0||T&&this.po(U,T)<0)&&(m=!0)):!V&&U?(r.track({type:0,doc:U}),Pe=!0):V&&!U&&(r.track({type:1,doc:V}),Pe=!0,(b||T)&&(m=!0)),Pe&&(U?(h=h.add(U),c=ye?c.add(A):c.delete(A)):(h=h.delete(A),c=c.delete(A)))}),Ay(this.query)||Pw(this.query))for(;h.size>this.query.limit;){const A=Ay(this.query)?h.last():h.first();h=h.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{To:h,Ao:r,Ln:m,mutatedKeys:c}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const c=e.Ao.Yr();c.sort((T,A)=>function(M,V){const U=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return U(M)-U(V)}(T.type,A.type)||this.po(T.doc,A.doc)),this.bo(r);const h=t?this.Po():[],m=0===this.yo.size&&this.current?1:0,b=m!==this.mo;return this.mo=m,0!==c.length||b?{snapshot:new sv(this.query,e.To,o,c,e.mutatedKeys,0===m,b,!1),vo:h}:{vo:h}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new jO,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=mn(),this.To.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const t=[];return e.forEach(r=>{this.yo.has(r)||t.push(new qO(r))}),this.yo.forEach(r=>{e.has(r)||t.push(new GO(r))}),t}So(e){this._o=e.Gn,this.yo=mn();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return sv.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class g2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class m2{constructor(e){this.key=e,this.Co=!1}}class _2{constructor(e,t,r,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.No={},this.xo=new R(m=>Lw(m),Id),this.ko=new Map,this.$o=new Set,this.Oo=new Jr(Qe.comparator),this.Fo=new Map,this.Mo=new cM,this.Lo={},this.Bo=new Map,this.Uo=xf.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function y2(n,e){return BM.apply(this,arguments)}function BM(){return(BM=(0,pe.Z)(function*(n,e){const t=ux(n);let r,o;const c=t.xo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.Do();else{const h=yield Qy(t.localStore,Qs(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield jM(t,e,r,"current"===m),t.isPrimaryClient&&MT(t.remoteStore,h)}return o})).apply(this,arguments)}function jM(n,e,t,r){return HM.apply(this,arguments)}function HM(){return(HM=(0,pe.Z)(function*(n,e,t,r){n.Ko=(A,M,V)=>{return(U=(0,pe.Z)(function*(Y,ye,Pe,$e){let et=ye.view.Io(Pe);et.Ln&&(et=yield IT(Y.localStore,ye.query,!1).then(({documents:Xt})=>ye.view.Io(Xt,et)));const Mt=$e&&$e.targetChanges.get(ye.targetId),st=ye.view.applyChanges(et,Y.isPrimaryClient,Mt);return QM(Y,ye.targetId,st.vo),st.snapshot}),function(Y,ye,Pe,$e){return U.apply(this,arguments)})(n,A,M,V);var U};const o=yield IT(n.localStore,e,!0),c=new ZO(e,o.Gn),h=c.Io(o.documents),m=Lg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=c.applyChanges(h,n.isPrimaryClient,m);QM(n,t,b.vo);const T=new g2(e,t,c);return n.xo.set(e,T),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),b.snapshot})).apply(this,arguments)}function v2(n,e){return $M.apply(this,arguments)}function $M(){return($M=(0,pe.Z)(function*(n,e){const t=He(n),r=t.xo.get(e),o=t.ko.get(r.targetId);if(o.length>1)return t.ko.set(r.targetId,o.filter(c=>!Id(c,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),h1(t.remoteStore,r.targetId),ov(t,r.targetId)}).catch(u))):(ov(t,r.targetId),yield Xy(t.localStore,r.targetId,!0))})).apply(this,arguments)}function GM(){return(GM=(0,pe.Z)(function*(n,e,t){const r=cx(n);try{const o=yield function(c,h){const m=He(c),b=Lr.now(),T=h.reduce((M,V)=>M.add(V.key),mn());let A;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Qn.Pn(M,T).next(V=>{A=V;const U=[];for(const Y of h){const ye=Hw(Y,A.get(Y.key));null!=ye&&U.push(new Gu(Y.key,ye,Dy(ye.value.mapValue),yr.exists(!0)))}return m.In.addMutationBatch(M,b,U,h)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,h,m){let b=c.Lo[c.currentUser.toKey()];b||(b=new Jr(Gt)),b=b.insert(h,m),c.Lo[c.currentUser.toKey()]=b}(r,o.batchId,t),yield Fd(r,o.changes),yield tv(r.remoteStore)}catch(o){const c=rv(o,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function zO(n,e){return qM.apply(this,arguments)}function qM(){return(qM=(0,pe.Z)(function*(n,e){const t=He(n);try{const r=yield kL(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Fo.get(c);h&&(Dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Co=!0:o.modifiedDocuments.size>0?Dt(h.Co):o.removedDocuments.size>0&&(Dt(h.Co),h.Co=!1))}),yield Fd(t,r,e)}catch(r){yield u(r)}})).apply(this,arguments)}function WO(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.xo.forEach((c,h)=>{const m=h.view.eo(e);m.snapshot&&o.push(m.snapshot)}),function(c,h){const m=He(c);m.onlineState=h;let b=!1;m.queries.forEach((T,A)=>{for(const M of A.listeners)M.eo(h)&&(b=!0)}),b&&VM(m)}(r.eventManager,e),o.length&&r.No.Er(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function w2(n,e,t){return ZM.apply(this,arguments)}function ZM(){return(ZM=(0,pe.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Fo.get(e),c=o&&o.key;if(c){let h=new Jr(Qe.comparator);h=h.insert(c,Nn.newNoDocument(c,Nt.min()));const m=mn().add(c),b=new Fg(Nt.min(),new Map,new rr(Gt),h,m);yield zO(r,b),r.Oo=r.Oo.remove(c),r.Fo.delete(e),XM(r)}else yield Xy(r.localStore,e,!1).then(()=>ov(r,e,t)).catch(u)})).apply(this,arguments)}function E2(n,e){return zM.apply(this,arguments)}function zM(){return(zM=(0,pe.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const o=yield RL(t.localStore,e);JM(t,r,null),KM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fd(t,o)}catch(o){yield u(o)}})).apply(this,arguments)}function C2(n,e,t){return WM.apply(this,arguments)}function WM(){return(WM=(0,pe.Z)(function*(n,e,t){const r=He(n);try{const o=yield function(c,h){const m=He(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let T;return m.In.lookupMutationBatch(b,h).next(A=>(Dt(null!==A),T=A.keys(),m.In.removeMutationBatch(b,A))).next(()=>m.In.performConsistencyCheck(b)).next(()=>m.Qn.Pn(b,T))})}(r.localStore,e);JM(r,e,t),KM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fd(r,o)}catch(o){yield u(o)}})).apply(this,arguments)}function YM(){return(YM=(0,pe.Z)(function*(n,e){const t=He(n);kf(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=He(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.In.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Bo.get(r)||[];o.push(e),t.Bo.set(r,o)}catch(r){const o=rv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function KM(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function JM(n,e,t){const r=He(n);let o=r.Lo[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Lo[r.currentUser.toKey()]=o}}function ov(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ko.get(e))n.xo.delete(r),t&&n.No.jo(r,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(r=>{n.Mo.containsKey(r)||YO(n,r)})}function YO(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(h1(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),XM(n))}function QM(n,e,t){for(const r of t)r instanceof GO?(n.Mo.addReference(r.key,e),T2(n,r)):r instanceof qO?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.Mo.removeReference(r.key,e),n.Mo.containsKey(r.key)||YO(n,r.key)):it()}function T2(n,e){const t=e.key,r=t.path.canonicalString();n.Oo.get(t)||n.$o.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.$o.add(r),XM(n))}function XM(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new Qe(Qt.fromString(e)),r=n.Uo.next();n.Fo.set(r,new m2(t)),n.Oo=n.Oo.insert(t,r),MT(n.remoteStore,new zu(Qs(Td(t.path)),r,2,as.T))}}function Fd(n,e,t){return ex.apply(this,arguments)}function ex(){return(ex=(0,pe.Z)(function*(n,e,t){const r=He(n),o=[],c=[],h=[];var m;r.xo.isEmpty()||(r.xo.forEach((m,b)=>{h.push(r.Ko(b,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,T.fromCache?"not-current":"current"),o.push(T);const A=Ku.kn(b.targetId,T);c.push(A)}}))}),yield Promise.all(h),r.No.Er(o),yield(m=(0,pe.Z)(function*(b,T){const A=He(b);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Re.forEach(T,V=>Re.forEach(V.Nn,U=>A.persistence.referenceDelegate.addReference(M,V.targetId,U)).next(()=>Re.forEach(V.xn,U=>A.persistence.referenceDelegate.removeReference(M,V.targetId,U)))))}catch(M){if(!qu(M))throw M;Ve("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const V=M.targetId;if(!M.fromCache){const U=A.Un.get(V),ye=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);A.Un=A.Un.insert(V,ye)}}}),function(b,T){return m.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function I2(n,e){return tx.apply(this,arguments)}function tx(){return(tx=(0,pe.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield Jy(t.localStore,e);t.currentUser=e,(o=t).Bo.forEach(h=>{h.forEach(m=>{m.reject(new ke(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fd(t,r.Wn)}var o})).apply(this,arguments)}function S2(n,e){const t=He(n),r=t.Fo.get(e);if(r&&r.Co)return mn().add(r.key);{let o=mn();const c=t.ko.get(e);if(!c)return o;for(const h of c){const m=t.xo.get(h);o=o.unionWith(m.view.Eo)}return o}}function A2(n,e){return nx.apply(this,arguments)}function nx(){return(nx=(0,pe.Z)(function*(n,e){const t=He(n),r=yield IT(t.localStore,e.query,!0),o=e.view.So(r);return t.isPrimaryClient&&QM(t,e.targetId,o.vo),o})).apply(this,arguments)}function N2(n){return rx.apply(this,arguments)}function rx(){return(rx=(0,pe.Z)(function*(n){const e=He(n);return NO(e.localStore).then(t=>Fd(e,t))})).apply(this,arguments)}function M2(n,e,t,r){return ix.apply(this,arguments)}function ix(){return(ix=(0,pe.Z)(function*(n,e,t,r){const o=He(n),c=yield function(h,m){const b=He(h),T=He(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",A=>T.Xt(A,m).next(M=>M?b.Qn.Pn(A,M):Re.resolve(null)))}(o.localStore,e);var m;null!==c?("pending"===t?yield tv(o.remoteStore):"acknowledged"===t||"rejected"===t?(JM(o,e,r||null),KM(o,e),m=e,He(He(o.localStore).In).te(m)):it(),yield Fd(o,c)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function sx(){return(sx=(0,pe.Z)(function*(n,e){const t=He(n);if(ux(t),cx(t),!0===e&&!0!==t.qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield KO(t,r.toArray());t.qo=!0,yield xM(t.remoteStore,!0);for(const c of o)MT(t.remoteStore,c)}else if(!1===e&&!1!==t.qo){const r=[];let o=Promise.resolve();t.ko.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(ov(t,h),Xy(t.localStore,h,!0))),h1(t.remoteStore,h)}),yield o,yield KO(t,r),function(c){const h=He(c);h.Fo.forEach((m,b)=>{h1(h.remoteStore,b)}),h.Mo.us(),h.Fo=new Map,h.Oo=new Jr(Qe.comparator)}(t),t.qo=!1,yield xM(t.remoteStore,!1)}})).apply(this,arguments)}function KO(n,e,t){return ox.apply(this,arguments)}function ox(){return(ox=(0,pe.Z)(function*(n,e,t){const r=He(n),o=[],c=[];for(const h of e){let m;const b=r.ko.get(h);if(b&&0!==b.length){m=yield Qy(r.localStore,Qs(b[0]));for(const T of b){const A=r.xo.get(T),M=yield A2(r,A);M.snapshot&&c.push(M.snapshot)}}else{const T=yield AO(r.localStore,h);m=yield Qy(r.localStore,T),yield jM(r,JO(T),h,!1)}o.push(m)}return r.No.Er(c),o})).apply(this,arguments)}function JO(n){return eT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function R2(n){const e=He(n);return He(He(e.localStore).persistence).pn()}function k2(n,e,t,r){return ax.apply(this,arguments)}function ax(){return(ax=(0,pe.Z)(function*(n,e,t,r){const o=He(n);if(o.qo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(e))switch(t){case"current":case"not-current":{const c=yield NO(o.localStore),h=Fg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Fd(o,c,h);break}case"rejected":yield Xy(o.localStore,e,!0),ov(o,e,r);break;default:it()}})).apply(this,arguments)}function O2(n,e,t){return lx.apply(this,arguments)}function lx(){return(lx=(0,pe.Z)(function*(n,e,t){const r=ux(n);if(r.qo){for(const o of e){if(r.ko.has(o)){Ve("SyncEngine","Adding an already active target "+o);continue}const c=yield AO(r.localStore,o),h=yield Qy(r.localStore,c);yield jM(r,JO(c),h.targetId,!1),MT(r.remoteStore,h)}for(const o of t)r.ko.has(o)&&(yield Xy(r.localStore,o,!1).then(()=>{h1(r.remoteStore,o),ov(r,o)}).catch(u))}})).apply(this,arguments)}function ux(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w2.bind(null,e),e.No.Er=d2.bind(null,e.eventManager),e.No.jo=h2.bind(null,e.eventManager),e}function cx(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}class QO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.N=c1(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Ky(this.persistence,new Yy,e.initialUser,this.N)}Go(e){return new $L(dM.Ns,this.N)}Wo(e){return new RO}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XO extends QO{constructor(e,t,r){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield function(n){return aM.apply(this,arguments)}(r.localStore),yield r.Jo.initialize(r,e),yield cx(r.Jo.syncEngine),yield tv(r.Jo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ho(e){return Ky(this.persistence,new Yy,e.initialUser,this.N)}zo(e){return new y(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Od(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new Bt(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OO(),NT(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new RO}}class F2 extends XO{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const o=r.Jo.syncEngine;r.sharedClientState instanceof gM&&(r.sharedClientState.syncEngine={_i:M2.bind(null,o),mi:k2.bind(null,o),gi:O2.bind(null,o),pn:R2.bind(null,o),wi:N2.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,pe.Z)(function*(h){yield function(n,e){return sx.apply(this,arguments)}(r.Jo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Wo(e){const t=OO();if(!gM.bt(t))throw new ke(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Od(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dx{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>WO(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,r.syncEngine),yield xM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new c2}createDatastore(e){const t=c1(e.databaseInfo.databaseId),r=new WL(e.databaseInfo);return new JL(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=m=>WO(this.syncEngine,m,0),h=kO.bt()?new kO:new qL,new XL(t,r,o,c,h);var t,r,o,c,h}createSyncEngine(e,t){return function(r,o,c,h,m,b,T){const A=new _2(r,o,c,h,m,b);return T&&(A.qo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=He(t);Ve("RemoteStore","RemoteStore shutting down."),r.Kr.add(5),yield ev(r),r.Qr.shutdown(),r.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eP(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class L2{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new vi,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(r=>{r&&r.ho()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,pe.Z)(function*(){const t=yield e.na();if(null===t)return null;const r=e.ta.decode(t),o=Number(r);isNaN(o)&&e.sa(`length string (${r}) is not valid number`);const c=yield e.ia(o);return new f2(JSON.parse(c),t.length+o)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,pe.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ia(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const r=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class V2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,pe.Z)(function*(c,h){const m=He(c),b=Vg(m.N)+"/documents",T={documents:h.map(U=>jy(m.N,U))},A=yield m.Ki("BatchGetDocuments",b,T),M=new Map;A.forEach(U=>{const Y=function(n,e){return"found"in e?function(t,r){Dt(!!r.found);const o=jo(t,r.found.name),c=Qr(r.found.updateTime),h=new Li({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(o,c,h)}(n,e):"missing"in e?function(t,r){Dt(!!r.missing),Dt(!!r.readTime);const o=jo(t,r.missing),c=Qr(r.readTime);return Nn.newNoDocument(o,c)}(n,e):it()}(m.N,U);M.set(Y.key.toString(),Y)});const V=[];return h.forEach(U=>{const Y=M.get(U.toString());Dt(!!Y),V.push(Y)}),V}),function(c,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=Qe.fromPath(o);e.mutations.push(new Gw(c,e.precondition(c)))}),yield(r=(0,pe.Z)(function*(o,c){const h=He(o),m=Vg(h.N)+"/documents",b={writes:c.map(T=>Yw(h.N,T))};yield h.Li("Commit",m,b)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yr.updateTime(t):yr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new ke(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class U2{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.aa=5,this.rr=new mM(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,pe.Z)(function*(){const t=new V2(e.datastore),r=e.ua(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.ha(c)}))}).catch(o=>{e.ha(o)})}))}ua(e){try{const t=this.updateFunction(e);return!gf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rT(t)}return!1}}class B2{constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Pi.UNAUTHENTICATED,this.clientId=Sw.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,pe.Z)(function*(h){Ve("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=rv(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tP(n,e){return hx.apply(this,arguments)}function hx(){return(hx=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,pe.Z)(function*(c){r.isEqual(c)||(yield Jy(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function nP(n,e){return fx.apply(this,arguments)}function fx(){return(fx=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield px(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(c=(0,pe.Z)(function*(h,m){const b=He(h);b.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const T=kf(b);b.Kr.add(3),yield ev(b),T&&b.Wr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Kr.delete(3),yield d1(b)}),function(h,m){return c.apply(this,arguments)})(e.remoteStore,o);var c}),n.onlineComponents=e})).apply(this,arguments)}function px(n){return gx.apply(this,arguments)}function gx(){return(gx=(0,pe.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield tP(n,new QO)),n.offlineComponents})).apply(this,arguments)}function kT(n){return mx.apply(this,arguments)}function mx(){return(mx=(0,pe.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield nP(n,new dx)),n.onlineComponents})).apply(this,arguments)}function rP(n){return px(n).then(e=>e.persistence)}function _x(n){return px(n).then(e=>e.localStore)}function iP(n){return kT(n).then(e=>e.remoteStore)}function yx(n){return kT(n).then(e=>e.syncEngine)}function av(n){return vx.apply(this,arguments)}function vx(){return(vx=(0,pe.Z)(function*(n){const e=yield kT(n),t=e.eventManager;return t.onListen=y2.bind(null,e.syncEngine),t.onUnlisten=v2.bind(null,e.syncEngine),t})).apply(this,arguments)}function sP(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,c,h,m,b){const T=new RT({next:M=>{c.enqueueAndForget(()=>FM(o,A));const V=M.docs.has(h);!V&&M.fromCache?b.reject(new ke(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&m&&"server"===m.source?b.reject(new ke(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(M)},error:M=>b.reject(M)}),A=new UM(Td(h.path),T,{includeMetadataChanges:!0,uo:!0});return OM(o,A)}(yield av(n),n.asyncQueue,e,t,r)})),r.promise}function oP(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,c,h,m,b){const T=new RT({next:M=>{c.enqueueAndForget(()=>FM(o,A)),M.fromCache&&"server"===m.source?b.reject(new ke(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(M)},error:M=>b.reject(M)}),A=new UM(h,T,{includeMetadataChanges:!0,uo:!0});return OM(o,A)}(yield av(n),n.asyncQueue,e,t,r)})),r.promise}class Y2{constructor(e,t,r,o,c,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class lv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lv&&e.projectId===this.projectId&&e.database===this.database}}const aP=new Map;function bx(n,e,t){if(!t)throw new ke(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lP(n,e,t,r){if(!0===e&&!0===r)throw new ke(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uP(n){if(!Qe.isDocumentKey(n))throw new ke(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cP(n){if(Qe.isDocumentKey(n))throw new ke(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OT(n);throw new ke(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dP(n,e){if(e<=0)throw new ke(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f1{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hP({}),this._settingsFrozen=!1,e instanceof lv?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lv(r.options.projectId)}(e))}get app(){if(!this._app)throw new ke(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hP(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new hO;switch(t.type){case"gapi":const r=t.client;return Dt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new TN(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ke(_e.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aP.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),aP.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Ju extends Rs{constructor(e,t,r){super(e,t,Td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Qe(e))}withConverter(e){return new Ju(this.firestore,e,this._path)}}function fP(n,e,...t){if(n=(0,Et.m9)(n),bx("collection","path",e),n instanceof f1){const r=Qt.fromString(e,...t);return cP(r),new Ju(n,null,r)}{if(!(n instanceof Qn||n instanceof Ju))throw new ke(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return cP(r),new Ju(n.firestore,null,r)}}function PT(n,e,...t){if(n=(0,Et.m9)(n),1===arguments.length&&(e=Sw.I()),bx("doc","path",e),n instanceof f1){const r=Qt.fromString(e,...t);return uP(r),new Qn(n,null,new Qe(r))}{if(!(n instanceof Qn||n instanceof Ju))throw new ke(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return uP(r),new Qn(n.firestore,n instanceof Ju?n.converter:null,new Qe(r))}}function pP(n,e){return n=(0,Et.m9)(n),e=(0,Et.m9)(e),(n instanceof Qn||n instanceof Ju)&&(e instanceof Qn||e instanceof Ju)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gP(n,e){return n=(0,Et.m9)(n),e=(0,Et.m9)(e),n instanceof Rs&&e instanceof Rs&&n.firestore===e.firestore&&Id(n._query,e._query)&&n.converter===e.converter}class Q2{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new mM(this,"async_queue_retry"),this.Ta=()=>{const t=NT();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=NT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=NT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new vi;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,pe.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!qu(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(r=>{throw this.ma=r,this.ga=!1,_r("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=t,t}enqueueAfterDelay(e,t,r){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const o=kM.createAndSchedule(this,e,t,r,c=>this.Ra(c));return this._a.push(o),o}Ea(){this.ma&&it()}verifyOperationInProgress(){}ba(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function wx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class X2{constructor(){this._progressObserver={},this._taskCompletionResolver=new vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vr extends f1{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Q2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mP(this),this._firestoreClient.terminate()}}function Di(n){return n._firestoreClient||mP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mP(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Y2(n._databaseId,c,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var c,m;n._firestoreClient=new B2(n._credentials,n._queue,r)}function _P(n,e,t){const r=new vi;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield tP(n,t),yield nP(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===_e.FAILED_PRECONDITION||c.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function yP(n){if(n._initialized||n._terminated)throw new ke(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(bi.fromBase64String(e))}catch(t){throw new ke(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qu(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qg{constructor(e){this._methodName=e}}class FT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const uV=/^__.*__$/;class cV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class vP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class LT{constructor(e,t,r,o,c,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===c&&this.Sa(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new LT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Ca({path:r,xa:!1});return o.ka(e),o}$a(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Ca({path:r,xa:!1});return o.Sa(),o}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return UT(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(bP(this.Da)&&uV.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class dV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||c1(e)}Ba(e,t,r,o=!1){return new LT({Da:e,methodName:t,La:r,path:Fi.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Zg(n){const e=n._freezeSettings(),t=c1(n._databaseId);return new dV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VT(n,e,t,r,o,c={}){const h=n.Ba(c.merge||c.mergeFields?2:0,e,t,o);Tx("Data must be an object, but it was:",h,r);const m=CP(r,h);let b,T;if(c.merge)b=new Ag(h.fieldMask),T=h.fieldTransforms;else if(c.mergeFields){const A=[];for(const M of c.mergeFields){const V=Ix(e,M,t);if(!h.contains(V))throw new ke(_e.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);TP(A,V)||A.push(V)}b=new Ag(A),T=h.fieldTransforms.filter(M=>b.covers(M.field))}else b=null,T=h.fieldTransforms;return new cV(new Li(m),b,T)}class p1 extends qg{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p1}}function wP(n,e,t){return new LT({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Ex extends qg{_toFieldTransform(e){return new Df(e.path,new Sd)}isEqual(e){return e instanceof Ex}}class hV extends qg{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=wP(this,e,!0),r=this.Ua.map(c=>zg(c,t)),o=new Cf(r);return new Df(e.path,o)}isEqual(e){return this===e}}class fV extends qg{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=wP(this,e,!0),r=this.Ua.map(c=>zg(c,t)),o=new Ad(r);return new Df(e.path,o)}isEqual(e){return this===e}}class pV extends qg{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Yn(e.N,Bw(e.N,this.qa));return new Df(e.path,t)}isEqual(e){return this===e}}function Cx(n,e,t,r){const o=n.Ba(1,e,t);Tx("Data must be an object, but it was:",o,r);const c=[],h=Li.empty();pf(r,(b,T)=>{const A=Sx(e,b,t);T=(0,Et.m9)(T);const M=o.$a(A);if(T instanceof p1)c.push(A);else{const V=zg(T,M);null!=V&&(c.push(A),h.set(A,V))}});const m=new Ag(c);return new vP(h,m,o.fieldTransforms)}function Dx(n,e,t,r,o,c){const h=n.Ba(1,e,t),m=[Ix(e,r,t)],b=[o];if(c.length%2!=0)throw new ke(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)m.push(Ix(e,c[V])),b.push(c[V+1]);const T=[],A=Li.empty();for(let V=m.length-1;V>=0;--V)if(!TP(T,m[V])){const U=m[V];let Y=b[V];Y=(0,Et.m9)(Y);const ye=h.$a(U);if(Y instanceof p1)T.push(U);else{const Pe=zg(Y,ye);null!=Pe&&(T.push(U),A.set(U,Pe))}}const M=new Ag(T);return new vP(A,M,h.fieldTransforms)}function EP(n,e,t,r=!1){return zg(t,n.Ba(r?4:3,e))}function zg(n,e){if(DP(n=(0,Et.m9)(n)))return Tx("Unsupported field value:",e,n),CP(n,e);if(n instanceof qg)return function(t,r){if(!bP(r.Da))throw r.Fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const h of t){let m=zg(h,r.Oa(c));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Et.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bw(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Lr.fromDate(t);return{timestampValue:Jl(r.N,o)}}if(t instanceof Lr){const o=new Lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jl(r.N,o)}}if(t instanceof FT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qu)return{bytesValue:zw(r.N,t._byteString)};if(t instanceof Qn){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Fa(`Unsupported field value: ${OT(t)}`)}(n,e)}function CP(n,e){const t={};return Nw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pf(n,(r,o)=>{const c=zg(o,e.Na(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function DP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Lr||n instanceof FT||n instanceof Qu||n instanceof Qn||n instanceof qg)}function Tx(n,e,t){if(!DP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OT(t);throw e.Fa("an object"===r?n+" a custom object":n+" "+r)}var r}function Ix(n,e,t){if((e=(0,Et.m9)(e))instanceof Ld)return e._internalPath;if("string"==typeof e)return Sx(n,e);throw UT("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const gV=new RegExp("[~\\*/\\[\\]]");function Sx(n,e,t){if(e.search(gV)>=0)throw UT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ld(...e.split("."))._internalPath}catch(r){throw UT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function UT(n,e,t,r,o){const c=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(c||h)&&(b+=" (found",c&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new ke(_e.INVALID_ARGUMENT,m+n+b)}function TP(n,e){return n.some(t=>t.isEqual(e))}class g1{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mV extends g1{data(){return super.data()}}function BT(n,e){return"string"==typeof e?Sx(n,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}class Wg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vd extends g1{constructor(e,t,r,o,c,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new m1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class m1 extends Vd{data(e={}){return super.data(e)}}class Pf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new m1(this._firestore,this._userDataWriter,r.key,r,new Wg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new m1(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new m1(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,T=-1;return 0!==h.type&&(b=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),T=c.indexOf(h.doc.key)),{type:_V(h.type),doc:m,oldIndex:b,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _V(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function IP(n,e){return n instanceof Vd&&e instanceof Vd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pf&&e instanceof Pf&&n._firestore===e._firestore&&gP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function SP(n){if(Pw(n)&&0===n.explicitOrderBy.length)throw new ke(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _1{}function Ff(n,...e){for(const t of e)n=t._apply(n);return n}class yV extends _1{constructor(e,t,r){super(),this.Ka=e,this.ja=t,this.Qa=r,this.type="where"}_apply(e){const t=Zg(e.firestore),r=function(o,c,h,m,b,T,A){let M;if(b.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new ke(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){kP(A,T);const U=[];for(const Y of A)U.push(RP(m,o,Y));M={arrayValue:{values:U}}}else M=RP(m,o,A)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||kP(A,T),M=EP(h,"where",A,"in"===T||"not-in"===T);const V=wi.create(b,T,M);return function(U,Y){if(Y.v()){const Pe=My(U);if(null!==Pe&&!Pe.isEqual(Y.field))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${Y.field.toString()}'`);const $e=Ny(U);null!==$e&&OP(0,Y.field,$e)}const ye=function(Pe,$e){for(const et of Pe.filters)if($e.indexOf(et.op)>=0)return et.op;return null}(U,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==ye)throw new ke(_e.INVALID_ARGUMENT,ye===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${ye.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Rs(e.firestore,e.converter,function(o,c){const h=o.filters.concat([c]);return new Kl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class bV extends _1{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new ke(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new bf(o,c);return function(m,b){if(null===Ny(m)){const T=My(m);null!==T&&OP(0,T,b.field)}}(r,h),h}(e._query,this.Ka,this.Wa);return new Rs(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Kl(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class AP extends _1{constructor(e,t,r){super(),this.type=e,this.Ga=t,this.za=r}_apply(e){return new Rs(e.firestore,e.converter,Ef(e._query,this.Ga,this.za))}}class NP extends _1{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=xP(e,this.type,this.Ha,this.Ja);return new Rs(e.firestore,e.converter,(o=t,new Kl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class MP extends _1{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=xP(e,this.type,this.Ha,this.Ja);return new Rs(e.firestore,e.converter,(o=t,new Kl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function xP(n,e,t,r){if(t[0]=(0,Et.m9)(t[0]),t[0]instanceof g1)return function(o,c,h,m,b){if(!m)throw new ke(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const A of wf(o))if(A.field.isKeyField())T.push(Cy(c,m.key));else{const M=m.data.field(A.field);if(Mg(M))throw new ke(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=A.field.canonicalString();throw new ke(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(M)}return new kg(T,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Zg(n.firestore);return function(c,h,m,b,T,A){const M=c.explicitOrderBy;if(T.length>M.length)throw new ke(_e.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let U=0;U<T.length;U++){const Y=T[U];if(M[U].field.isKeyField()){if("string"!=typeof Y)throw new ke(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Y}`);if(!Fw(c)&&-1!==Y.indexOf("/"))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${Y}' contains a slash.`);const ye=c.path.child(Qt.fromString(Y));if(!Qe.isDocumentKey(ye))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Pe=new Qe(ye);V.push(Cy(h,Pe))}else{const ye=EP(m,b,Y);V.push(ye)}}return new kg(V,A)}(n._query,n.firestore._databaseId,o,e,t,r)}}function RP(n,e,t){if("string"==typeof(t=(0,Et.m9)(t))){if(""===t)throw new ke(_e.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(e)&&-1!==t.indexOf("/"))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!Qe.isDocumentKey(r))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cy(n,new Qe(r))}if(t instanceof Qn)return Cy(n,t._key);throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${OT(t)}.`)}function kP(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function OP(n,e,t){if(!t.isEqual(e))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ax{convertValue(e,t="none"){switch(Dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ng(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return pf(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new FT(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ZD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(by(e));default:return null}}convertTimestamp(e){const t=Hu(e);return new Lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);Dt(gT(r));const o=new lv(r.get(1),r.get(3)),c=new Qe(r.popFirst(5));return o.isEqual(t)||_r(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function jT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class AV extends Ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}class PP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zg(e)}set(e,t,r){this._verifyNotCommitted();const o=Lf(e,this._firestore),c=jT(o.converter,t,r),h=VT(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,yr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Lf(e,this._firestore);let h;return h="string"==typeof(t=(0,Et.m9)(t))||t instanceof Ld?Dx(this._dataReader,"WriteBatch.update",c._key,t,r,o):Cx(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lf(e,this._firestore);return this._mutations=this._mutations.concat(new Vy(t._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lf(n,e){if((n=(0,Et.m9)(n)).firestore!==e)throw new ke(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yg extends Ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function FP(n,e,t){n=an(n,Qn);const r=an(n.firestore,vr),o=jT(n.converter,e,t);return uv(r,[VT(Zg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,yr.none())])}function LP(n,e,t,...r){n=an(n,Qn);const o=an(n.firestore,vr),c=Zg(o);let h;return h="string"==typeof(e=(0,Et.m9)(e))||e instanceof Ld?Dx(c,"updateDoc",n._key,e,t,r):Cx(c,"updateDoc",n._key,e),uv(o,[h.toMutation(n._key,yr.exists(!0))])}function VP(n,...e){var t,r,o;n=(0,Et.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||wx(e[h])||(c=e[h],h++);const m={includeMetadataChanges:c.includeMetadataChanges};if(wx(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(o=M.complete)||void 0===o?void 0:o.bind(M)}let b,T,A;if(n instanceof Qn)T=an(n.firestore,vr),A=Td(n._key.path),b={next:M=>{e[h]&&e[h](Nx(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=an(n,Rs);T=an(M.firestore,vr),A=M._query;const V=new Yg(T);b={next:U=>{e[h]&&e[h](new Pf(T,V,M,U))},error:e[h+1],complete:e[h+2]},SP(n._query)}return function(M,V,U,Y){const ye=new RT(Y),Pe=new UM(V,ye,U);return M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return OM(yield av(M),Pe)})),()=>{ye.Xo(),M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return FM(yield av(M),Pe)}))}}(Di(T),A,m,b)}function uv(n,e){return function(t,r){const o=new vi;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e,t){return GM.apply(this,arguments)}(yield yx(t),r,o)})),o.promise}(Di(n),e)}function Nx(n,e,t){const r=t.docs.get(e._key),o=new Yg(n);return new Vd(n,o,e._key,r,new Wg(t.hasPendingWrites,t.fromCache),e.converter)}class VV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zg(e)}get(e){const t=Lf(e,this._firestore),r=new AV(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return it();const c=o[0];if(c.isFoundDocument())return new g1(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new g1(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const o=Lf(e,this._firestore),c=jT(o.converter,t,r),h=VT(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const c=Lf(e,this._firestore);let h;return h="string"==typeof(t=(0,Et.m9)(t))||t instanceof Ld?Dx(this._dataReader,"Transaction.update",c._key,t,r,o):Cx(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=Lf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lf(e,this._firestore),r=new Yg(this._firestore);return super.get(e).then(o=>new Vd(this._firestore,r,t._key,o._document,new Wg(!1,!1),t.converter))}}function Mx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UP(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function BP(){if("undefined"==typeof atob)throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){Ig=n})(Po.SDK_VERSION),(0,Po._registerComponent)(new dd.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=new vr(t,new DN(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),(0,Po.registerVersion)(EN,"3.1.1",void 0),(0,Po.registerVersion)(EN,"3.1.1","esm2017");class y1{constructor(e){this._delegate=e}static fromBase64String(e){return BP(),new y1(Qu.fromBase64String(e))}static fromUint8Array(e){return UP(),new y1(Qu.fromUint8Array(e))}toBase64(){return BP(),this._delegate.toBase64()}toUint8Array(){return UP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xx(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class YV{enableIndexedDbPersistence(e,t){return function(n,e){yP(n=an(n,vr));const t=Di(n),r=n._freezeSettings(),o=new dx;return _P(t,o,new XO(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){yP(n=an(n,vr));const e=Di(n),t=n._freezeSettings(),r=new dx;return _P(e,r,new F2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new ke(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!eo.bt())return Promise.resolve();const o=r+"main";yield eo.delete(o)}),function(r){return t.apply(this,arguments)})(Od(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof lv||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const c=(n=an(n,f1))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Sg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Pi.MOCK_USER;else{h=(0,Et.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ke(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pi(b)}n._credentials=new fO(new CN(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield rP(n),t=yield iP(n);return e.setNetworkEnabled(!0),function(r){const o=He(r);return o.Kr.delete(0),d1(o)}(t)}))}(Di(n=an(n,vr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield rP(n),t=yield iP(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(o){const c=He(o);c.Kr.add(0),yield ev(c),c.Wr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Di(n=an(n,vr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new vi;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e){return YM.apply(this,arguments)}(yield yx(e),t)})),t.promise}(Di(n=an(n,vr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new RT(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield av(n),o=t,He(r).Zr.add(o),void o.next();var r,o})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield av(n),o=t,void He(r).Zr.delete(o);var r,o}))}}(Di(n=an(n,vr)),wx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cv(this,fP(this._delegate,e))}catch(t){throw to(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xa(this,PT(this._delegate,e))}catch(t){throw to(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new no(this,function(n,e){if(n=an(n,f1),bx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(n,null,(t=e,new Kl(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw to(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const r=yield(o=n,kT(o).then(c=>c.datastore));var o;new U2(n.asyncQueue,r,e,t).run()})),t.promise}(Di(n),t=>e(new VV(n,t)))}(this._delegate,t=>e(new HP(this,t)))}batch(){return Di(this._delegate),new $P(new PP(this._delegate,e=>uv(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Di(n=an(n,vr)),r=new X2;return function(n,e,t,r){const o=function(c,h){let m;return m="string"==typeof c?(new TextEncoder).encode(c):c,b=function(b,T){if(b instanceof Uint8Array)return eP(b,T);if(b instanceof ArrayBuffer)return eP(new Uint8Array(b),T);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new L2(b,h);var b}(t,c1(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(n,e,t){const r=He(n);var o;(o=(0,pe.Z)(function*(c,h,m){try{const b=yield h.getMetadata();if(yield function(V,U){const Y=He(V),ye=Qr(U.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",Pe=>Y.Je.getBundleMetadata(Pe,U.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(ye)>=0)}(c.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress($O(b));const T=new p2(b,c.localStore,h.N);let A=yield h.Qo();for(;A;){const V=yield T.fo(A);V&&m._updateProgress(V),A=yield h.Qo()}const M=yield T.complete();yield Fd(c,M.En,void 0),yield function(V,U){const Y=He(V);return Y.persistence.runTransaction("Save bundle","readwrite",ye=>Y.Je.saveBundleMetadata(ye,U))}(c.localStore,b),m._completeWith(M.progress)}catch(b){Sg("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(c,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield yx(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const o=He(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Je.getNamedQuery(c,r))}(yield _x(n),e)}))}(Di(n=an(n,vr)),e).then(t=>t?new Rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new no(this,t):null)}}class HT extends Ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new y1(new Qu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xa.forKey(t,this.firestore,null)}}class HP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new HT(e)}get(e){const t=Jg(e);return this._delegate.get(t).then(r=>new v1(this._firestore,new Vd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Jg(e);return r?(Mx("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Jg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Jg(e);return this._delegate.delete(t),this}}class $P{constructor(e){this._delegate=e}set(e,t,r){const o=Jg(e);return r?(Mx("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Jg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Jg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new m1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new b1(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Kg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new Kg(e,new HT(e),t),o.set(t,c)),c}}Kg.INSTANCES=new WeakMap;class Xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xa(t,new Qn(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Xa(t,new Qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new cv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cv(this.firestore,fP(this._delegate,e))}catch(t){throw to(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Et.m9)(e))instanceof Qn&&pP(this._delegate,e)}set(e,t){t=Mx("DocumentReference.set",t);try{return t?FP(this._delegate,e,t):FP(this._delegate,e)}catch(r){throw to(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LP(this._delegate,e):LP(this._delegate,e,t,...r)}catch(o){throw to(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return uv(an(n.firestore,vr),[new Vy(n._key,yr.none())])}(this._delegate)}onSnapshot(...e){const t=GP(e),r=qP(e,o=>new v1(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=an(n,Qn);const e=an(n.firestore,vr),t=Di(e),r=new Yg(e);return function(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,c,h){try{const m=yield function(b,T){const A=He(b);return A.persistence.runTransaction("read document","readonly",M=>A.Qn.An(M,T))}(o,c);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new ke(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=rv(m,`Failed to get document '${c} from cache`);h.reject(b)}}),function(o,c,h){return r.apply(this,arguments)})(yield _x(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Vd(e,r,n._key,o,new Wg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=an(n,Qn);const e=an(n.firestore,vr);return sP(Di(e),n._key,{source:"server"}).then(t=>Nx(e,n,t))}(this._delegate):function(n){n=an(n,Qn);const e=an(n.firestore,vr);return sP(Di(e),n._key).then(t=>Nx(e,n,t))}(this._delegate),t.then(r=>new v1(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xa(this.firestore,this._delegate.withConverter(e?Kg.getInstance(this.firestore,e):null))}}function to(n,e,t){return n.message=n.message.replace(e,t),n}function GP(n){for(const e of n)if("object"==typeof e&&!xx(e))return e;return{}}function qP(n,e){var t,r;let o;return o=xx(n[0])?n[0]:xx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class v1{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return IP(this._delegate,e._delegate)}}class b1 extends v1{data(e){const t=this._delegate.data(e);return function(n,e){n||it()}(void 0!==t),t}}class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HT(e)}where(e,t,r){try{return new no(this.firestore,Ff(this._delegate,function(n,e,t){const r=e,o=BT("where",n);return new yV(o,r,t)}(e,t,r)))}catch(o){throw to(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new no(this.firestore,Ff(this._delegate,function(n,e="asc"){const t=e,r=BT("orderBy",n);return new bV(r,t)}(e,t)))}catch(r){throw to(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new no(this.firestore,Ff(this._delegate,function(n){return dP("limit",n),new AP("limit",n,"F")}(e)))}catch(t){throw to(t,"limit()","Query.limit()")}}limitToLast(e){try{return new no(this.firestore,Ff(this._delegate,function(n){return dP("limitToLast",n),new AP("limitToLast",n,"L")}(e)))}catch(t){throw to(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new no(this.firestore,Ff(this._delegate,function(...n){return new NP("startAt",n,!0)}(...e)))}catch(t){throw to(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new no(this.firestore,Ff(this._delegate,function(...n){return new NP("startAfter",n,!1)}(...e)))}catch(t){throw to(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new no(this.firestore,Ff(this._delegate,function(...n){return new MP("endBefore",n,!0)}(...e)))}catch(t){throw to(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new no(this.firestore,Ff(this._delegate,function(...n){return new MP("endAt",n,!1)}(...e)))}catch(t){throw to(t,"endAt()","Query.endAt()")}}isEqual(e){return gP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=an(n,Rs);const e=an(n.firestore,vr),t=Di(e),r=new Yg(e);return function(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,c,h){try{const m=yield IT(o,c,!0),b=new ZO(c,m.Gn),T=b.Io(m.documents),A=b.applyChanges(T,!1);h.resolve(A.snapshot)}catch(m){const b=rv(m,`Failed to execute query '${c} against cache`);h.reject(b)}}),function(o,c,h){return r.apply(this,arguments)})(yield _x(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Pf(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=an(n,Rs);const e=an(n.firestore,vr),t=Di(e),r=new Yg(e);return oP(t,n._query,{source:"server"}).then(o=>new Pf(e,r,n,o))}(this._delegate):function(n){n=an(n,Rs);const e=an(n.firestore,vr),t=Di(e),r=new Yg(e);return SP(n._query),oP(t,n._query).then(o=>new Pf(e,r,n,o))}(this._delegate),t.then(r=>new Rx(this.firestore,new Pf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=GP(e),r=qP(e,o=>new Rx(this.firestore,new Pf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VP(this._delegate,t,r)}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?Kg.getInstance(this.firestore,e):null))}}class JV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new b1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new no(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new b1(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new JV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new b1(this._firestore,r))})}isEqual(e){return IP(this._delegate,e._delegate)}}class cv extends no{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xa(this.firestore,e):null}doc(e){try{return new Xa(this.firestore,void 0===e?PT(this._delegate):PT(this._delegate,e))}catch(t){throw to(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=an(n.firestore,vr),r=PT(n),o=jT(n.converter,e);return uv(t,[VT(Zg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xa(this.firestore,t))}isEqual(e){return pP(this._delegate,e._delegate)}withConverter(e){return new cv(this.firestore,this._delegate.withConverter(e?Kg.getInstance(this.firestore,e):null))}}function Jg(n){return an(n,Qn)}class kx{constructor(...e){this._delegate=new Ld(...e)}static documentId(){return new kx(Fi.keyField().canonicalString())}isEqual(e){return(e=(0,Et.m9)(e))instanceof Ld&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ex("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Qg(e)}static delete(){const e=new p1("deleteField");return e._methodName="FieldValue.delete",new Qg(e)}static arrayUnion(...e){const t=function(...n){return new hV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Qg(t)}static arrayRemove(...e){const t=function(...n){return new fV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Qg(t)}static increment(e){const t=function(n){return new pV("increment",n)}(e);return t._methodName="FieldValue.increment",new Qg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QV={Firestore:jP,GeoPoint:FT,Timestamp:Lr,Blob:y1,Transaction:HP,WriteBatch:$P,DocumentReference:Xa,DocumentSnapshot:v1,Query:no,QueryDocumentSnapshot:b1,QuerySnapshot:Rx,CollectionReference:cv,FieldPath:kx,FieldValue:Qg,setLogLevel:function(n){!function(n){Cd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new dd.wA("firestore-compat",t=>((e,t)=>new jP(e,t,new YV))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},QV)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(Sb.Z);var w1=F(9746),tU=F(7771),nU=F(8858);class rU extends qt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new iU(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let h;if(this.closed)throw new Dl.N;if(this.isStopped||this.hasError?h=Kf.w.EMPTY:(this.observers.push(e),h=new nU.W(this,e)),o&&e.add(e=new w1.ht(e,o)),t)for(let m=0;m<c&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<c&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||tU.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let h=0;for(;h<c&&!(e-o[h].time<r);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&o.splice(0,h),o}}class iU{constructor(e,t){this.time=e,this.value=t}}function ZP(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,c=0,m=!1,b=!1;return function(A){let M;c++,!o||m?(m=!1,o=new rU(n,e,r),M=o.subscribe(this),h=A.subscribe({next(V){o.next(V)},error(V){m=!0,o.error(V)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):M=o.subscribe(this),this.add(()=>{c--,M.unsubscribe(),M=void 0,h&&!b&&t&&0===c&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function zP(n,e){return e?Gn(()=>n,e):Gn(()=>n)}var Ox=F(2639);F(2329);const YP=new Map,cU={activated:!1,tokenObservers:[]},dU={initialized:!1,enabled:!1};function ro(n){return YP.get(n)||cU}function Xu(n,e){YP.set(n,e)}function GT(){return dU}class pU{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Et.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Et.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ha=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function XP(n){if(!ro(n).activated)throw ha.create("use-before-activation",{appName:n.name})}function eF(n,e){return Fx.apply(this,arguments)}function Fx(){return(Fx=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,c)}catch(M){throw ha.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw ha.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw ha.create("fetch-parse-error",{originalErrorMessage:M.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ha.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(b[1]),A=Date.now();return{token:m.attestationToken,expireTimeMillis:A+T,issuedAtTimeMillis:A}})).apply(this,arguments)}function vU(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const E1="firebase-app-check-store";let qT=null;function nF(){return qT||(qT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ha.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(E1,{keyPath:"compositeKey"})}}}catch(t){e(ha.create("storage-open",{originalErrorMessage:t.message}))}}),qT)}function Lx(){return(Lx=(0,pe.Z)(function*(n,e){const r=(yield nF()).transaction(E1,"readwrite"),c=r.objectStore(E1).put({compositeKey:n,value:e});return new Promise((h,m)=>{c.onsuccess=b=>{h()},r.onerror=b=>{var T;m(ha.create("storage-set",{originalErrorMessage:null===(T=b.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const ZT=new Pu.Yd("@firebase/app-check");function oF(n,e){return(0,Et.hl)()?function(n,e){return function(n,e){return Lx.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ZT.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aF(){return GT().enabled}function lF(){return jx.apply(this,arguments)}function jx(){return(jx=(0,pe.Z)(function*(){const n=GT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const NU={error:"UNKNOWN_ERROR"};function MU(n){return Et.US.encodeString(JSON.stringify(n),!1)}function zT(n){return Hx.apply(this,arguments)}function Hx(){return(Hx=(0,pe.Z)(function*(n,e=!1){const t=n.app;XP(t);const r=ro(t);let c,h,o=r.token;if(!o){const m=yield r.cachedTokenPromise;m&&C1(m)&&(o=m,Xu(t,Object.assign(Object.assign({},r),{token:o})),cF(t,{token:o.token}))}if(!e&&o&&C1(o))return{token:o.token};if(aF()){const m=yield eF(vU(t,yield lF()),n.platformLoggerProvider);return yield oF(t,m),Xu(t,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{o=yield r.provider.getToken()}catch(m){ZT.error(m),c=m}return o?(h={token:o.token},Xu(t,Object.assign(Object.assign({},r),{token:o})),yield oF(t,o)):h=RU(c),cF(t,h),h})).apply(this,arguments)}function $x(n,e){const t=ro(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Xu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function cF(n,e){const t=ro(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function C1(n){return n.expireTimeMillis-Date.now()>0}function RU(n){return{token:MU(NU),error:n}}class kU{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ro(this.app);for(const t of e)$x(this.app,t.next);return Promise.resolve()}}const pF="app-check-internal";(0,Po._registerComponent)(new dd.wA("app-check",n=>function(n,e){return new kU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pF).initialize()})),(0,Po._registerComponent)(new dd.wA(pF,n=>function(n){return{getToken:e=>zT(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,c=ro(o),h={next:t,error:r,type:e},m=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]});if(!m.tokenRefresher){const b=function(n){const{app:e}=n;return new pU((0,pe.Z)(function*(){let r;if(r=ro(e).token?yield zT(n,!0):yield zT(n),r.error)throw r.error}),()=>!0,()=>{const t=ro(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);m.tokenRefresher=b}if(!m.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&m.tokenRefresher.start(),c.token&&C1(c.token)){const b=c.token;Promise.resolve().then(()=>t({token:b.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(b=>{b&&C1(b)&&t({token:b.token})}).catch(()=>{});Xu(o,m)}(n,"INTERNAL",e),removeTokenListener:e=>$x(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Po.registerVersion)("@firebase/app-check","0.4.2");class WT{constructor(){return(0,zn.vb)("app-check")}}"undefined"!=typeof window&&window;var Wx=F(7841);const mF=new l.OlP("angularfire2.auth.use-emulator"),_F=new l.OlP("angularfire2.auth.settings"),yF=new l.OlP("angularfire2.auth.tenant-id"),vF=new l.OlP("angularfire2.auth.langugage-code"),bF=new l.OlP("angularfire2.auth.use-device-language"),wF=new l.OlP("angularfire.auth.persistence"),EF=(n,e,t,r,o,c,h,m)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,c&&b.useDeviceLanguage(),h)for(const[T,A]of Object.entries(h))b.settings[T]=A;return m&&b.setPersistence(m),b},[t,r,o,c,h,m]);let YT=(()=>{class n{constructor(t,r,o,c,h,m,b,T,A,M,V,U){const Y=new qt.xQ,ye=(0,Ge.of)(void 0).pipe((0,w1.QV)(h.outsideAngular),Gn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4671)))),(0,tt.U)(()=>(0,ss.on)(t,c,r)),(0,tt.U)(Pe=>EF(Pe,c,m,T,A,M,b,V)),ZP({bufferSize:1,refCount:!1}));if(Ea(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{ye.pipe(kn()).subscribe();const $e=ye.pipe(Gn(st=>st.getRedirectResult().then(Xt=>Xt,()=>null)),zn.iC,ZP({bufferSize:1,refCount:!1})),et=ye.pipe(Gn(st=>new Cn.y(Xt=>({unsubscribe:c.runOutsideAngular(()=>st.onAuthStateChanged(wr=>Xt.next(wr),wr=>Xt.error(wr),()=>Xt.complete()))})))),Mt=ye.pipe(Gn(st=>new Cn.y(Xt=>({unsubscribe:c.runOutsideAngular(()=>st.onIdTokenChanged(wr=>Xt.next(wr),wr=>Xt.error(wr),()=>Xt.complete()))}))));this.authState=$e.pipe(zP(et),(0,Ox.R)(h.outsideAngular),(0,w1.QV)(h.insideAngular)),this.user=$e.pipe(zP(Mt),(0,Ox.R)(h.outsideAngular),(0,w1.QV)(h.insideAngular)),this.idToken=this.user.pipe(Gn(st=>st?(0,Kt.D)(st.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe(Gn(st=>st?(0,Kt.D)(st.getIdTokenResult()):(0,Ge.of)(null))),this.credential=(0,Wv.T)($e,Y,this.authState.pipe(cn(st=>!st))).pipe((0,tt.U)(st=>(null==st?void 0:st.user)?st:null),(0,Ox.R)(h.outsideAngular),(0,w1.QV)(h.insideAngular))}return(0,ss.pX)(this,ye,c,{spy:{apply:(Pe,$e,et)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&et.then(Mt=>Y.next(Mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ss.Dh),l.LFG(ss.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(zn.HU),l.LFG(mF,8),l.LFG(_F,8),l.LFG(yF,8),l.LFG(vF,8),l.LFG(bF,8),l.LFG(wF,8),l.LFG(WT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KU=(()=>{class n{constructor(){Wx.Z.registerVersion("angularfire",zn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YT]}),n})();function CF(n,e){return function(n,e=$c.z){return new Cn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Yx(n,e){return CF(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function KT(n,e){return Yx(n,e).pipe(Do(void 0),Ib(),(0,tt.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(A=>A.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),c}))}function DF(n,e,t){return KT(n,t).pipe(Sl((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Kx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Kx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Kx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),function(n,e){return t=>t.lift(new Q1(n,e))}(),(0,tt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Kx(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function TF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class IF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=KT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Do(void 0),Ib(),cn(([r,o])=>o.length>0||!r),(0,tt.U)(([r,o])=>o),zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TF(e);return DF(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return Yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),zn.iC)}get(e){return(0,Kt.D)(this.query.get(e)).pipe(zn.iC)}add(e){return this.ref.add(e)}doc(e){return new SF(this.ref.doc(e),this.afs)}}class SF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=MF(r,t);return new IF(o,c,this.afs)}snapshotChanges(){return function(n,e){return CF(n,e).pipe(Do(void 0),Ib(),(0,tt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Kt.D)(this.ref.get(e)).pipe(zn.iC)}}class tB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?KT(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),cn(t=>t.length>0),zn.iC):KT(this.query,this.afs.schedulers.outsideAngular).pipe(zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TF(e);return DF(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return Yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),zn.iC)}get(e){return(0,Kt.D)(this.query.get(e)).pipe(zn.iC)}}const AF=new l.OlP("angularfire2.enableFirestorePersistence"),NF=new l.OlP("angularfire2.firestore.persistenceSettings"),nB=new l.OlP("angularfire2.firestore.settings"),rB=new l.OlP("angularfire2.firestore.use-emulator");function MF(n,e=(t=>t)){return{query:e(n),ref:n}}let JT=(()=>{class n{constructor(t,r,o,c,h,m,b,T,A,M,V,U,Y,ye,Pe,$e,et){this.schedulers=b;const Mt=(0,ss.on)(t,m,r),st=A;M&&EF(Mt,m,V,Y,ye,Pe,U,$e),[this.firestore,this.persistenceEnabled$]=(0,ss.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const Xt=m.runOutsideAngular(()=>Mt.firestore());if(c&&Xt.settings(c),st&&Xt.useEmulator(...st),o&&!Ea(h)){const wr=()=>{try{return(0,Kt.D)(Xt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(jf){return"undefined"!=typeof console&&console.warn(jf),(0,Ge.of)(!1)}};return[Xt,m.runOutsideAngular(wr)]}return[Xt,(0,Ge.of)(!1)]},[c,st,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=MF(o,r),m=this.schedulers.ngZone.run(()=>c);return new IF(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),c=this.firestore.collectionGroup(t);return new tB(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new SF(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ss.Dh),l.LFG(ss.xv,8),l.LFG(AF,8),l.LFG(nB,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(zn.HU),l.LFG(NF,8),l.LFG(rB,8),l.LFG(YT,8),l.LFG(mF,8),l.LFG(_F,8),l.LFG(yF,8),l.LFG(vF,8),l.LFG(bF,8),l.LFG(wF,8),l.LFG(WT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iB=(()=>{class n{constructor(){Wx.Z.registerVersion("angularfire",zn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:AF,useValue:!0},{provide:NF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[JT]}),n})(),xF=(()=>{class n{constructor(t){this.afs=t,this.especialistasCollection=t.collection("especialistas"),this.especialistas=this.especialistasCollection.valueChanges()}registrarEspecialista(t){return this.especialistasCollection=this.afs.collection("especialistas"),this.especialistasCollection.add(Object.assign({},t))}traerEspecialistas(){return this.especialistasCollection.valueChanges({idField:"doc_id"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sB=["myModalConf"];function oB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",4),l.NdJ("click",function(){return l.CHM(t),l.oxw().mostrarModalEditar()}),l._uU(9,"Editar"),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.email),l.xp6(2),l.Oqu(t.estado),l.xp6(2),l.hij(" ",t.perfil," ")}}function aB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5),l.TgZ(1,"div",6),l.TgZ(2,"h5",7),l._uU(3,"Modificar estado actual"),l.qZA(),l.TgZ(4,"button",8),l.NdJ("click",function(){return l.CHM(t).$implicit.close("Cerrado desde la ventana")}),l.TgZ(5,"span",9),l._uU(6,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",10),l.TgZ(8,"select"),l.TgZ(9,"option",11),l._uU(10,"Seleccionar..."),l.qZA(),l.TgZ(11,"option",12),l._uU(12,"Aceptar"),l.qZA(),l.TgZ(13,"option",13),l._uU(14,"Rechazar"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",14),l.TgZ(16,"button",15),l.NdJ("click",function(){return l.CHM(t).$implicit.close("No")}),l._uU(17,"Cancelar"),l.qZA(),l.TgZ(18,"button",16),l.NdJ("click",function(){return l.CHM(t).$implicit.close("Si")}),l._uU(19,"Guardar"),l.qZA(),l.qZA(),l.qZA()}}let lB=(()=>{class n{constructor(t,r){this.modalService=t,this.espSrv=r,this.especialistas=[],this.espSrv.traerEspecialistas().subscribe(o=>{this.especialistas=o})}ngOnInit(){}mostrarModalEditar(){this.modalService.open(this.myModalConf).result.then(t=>{console.log("Tu respuesta ha sido: "+t)},t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(V_),l.Y36(xF))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home-admin"]],viewQuery:function(t,r){if(1&t&&l.Gf(sB,5),2&t){let o;l.iGM(o=l.CRH())&&(r.myModalConf=o.first)}},decls:17,vars:1,consts:[[1,"container"],[1,"table","tabla"],[4,"ngFor","ngForOf"],["myModalConf",""],[1,"btn","btn-danger",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["value","","selected",""],["value","aceptar"],["value","rechazar"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"h2"),l._uU(2,"Panel Administrador"),l.qZA(),l.TgZ(3,"table",1),l.TgZ(4,"thead"),l.TgZ(5,"tr"),l.TgZ(6,"th"),l._uU(7,"Usuario"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Estado"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Perfil"),l.qZA(),l._UZ(12,"th"),l.qZA(),l.qZA(),l.TgZ(13,"tbody"),l.YNc(14,oB,10,3,"tr",2),l.qZA(),l.qZA(),l.YNc(15,aB,20,0,"ng-template",null,3,l.W1O),l.qZA()),2&t&&(l.xp6(14),l.Q6J("ngForOf",r.especialistas))},directives:[wt,d_,f_],styles:[""]}),n})(),uB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[["href","registro"],["href","login"]],template:function(t,r){1&t&&(l.TgZ(0,"div"),l.TgZ(1,"a",0),l._uU(2,"Registrarse"),l.qZA(),l._UZ(3,"br"),l.TgZ(4,"a",1),l._uU(5,"Login"),l.qZA(),l.qZA())},styles:[""]}),n})(),RF=(()=>{class n{constructor(t){this.afAuth=t}registerUser(t,r){var o=this;return(0,pe.Z)(function*(){const c=yield o.afAuth.createUserWithEmailAndPassword(t,r);return o.sendEmailVerification(),c})()}loginUser(t,r){var o=this;return(0,pe.Z)(function*(){try{return o.afAuth.signInWithEmailAndPassword(t,r)}catch(c){console.log(c)}return null})()}LogOut(){var t=this;return(0,pe.Z)(function*(){t.afAuth.signOut()})()}getCurrentUserFirebase(){return this.afAuth.authState}sendEmailVerification(){var t=this;return(0,pe.Z)(function*(){var r;return null===(r=yield t.afAuth.currentUser)||void 0===r?void 0:r.sendEmailVerification()})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(YT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cB(n,e){1&n&&(l.TgZ(0,"small",19),l._uU(1,"El email es requerido."),l.qZA())}function dB(n,e){1&n&&(l.TgZ(0,"small",19),l._uU(1,"La clave es requerido."),l.qZA())}let hB=(()=>{class n{constructor(t,r,o){this.fb=t,this.authSrv=r,this.router=o,this.mensaje="",this.formulario=t.group({email:["",[Ht.required,Ht.email]],clave:["",Ht.required]})}ngOnInit(){}login(){var t=this;return(0,pe.Z)(function*(){var r;const o=t.formulario.value;let c={email:o.email,clave:o.clave};try{let h=yield t.authSrv.loginUser(c.email,c.clave);null!=h?(null===(r=h.user)||void 0===r?void 0:r.emailVerified)?t.router.navigate([""]):t.mensaje="Verifique su email.":t.router.navigate(["registro"])}catch(h){console.log(h),t.mensaje=""+h}})()}completar(t){"especialista"==t&&this.formulario.setValue({email:"rocioburgos00@gmail.com",clave:"123456"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(M0),l.Y36(RF),l.Y36(Mi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:5,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[1,"fadeIn","first"],["src","./../../../assets/user.png","id","icon","alt","User Icon"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email","placeholder","Email",1,"fadeIn","second"],["class","form-text text-muted",4,"ngIf"],["type","password","formControlName","clave","placeholder","Clave",1,"fadeIn","third"],["type","submit","value","Ingresar",1,"fadeIn","fourth",3,"disabled"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","btnradio","id","btnradio1","autocomplete","off","checked","",1,"btn-check"],["for","btnradio1",1,"btn","btn-outline-primary",3,"click"],["type","radio","name","btnradio","id","btnradio2","autocomplete","off",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio3","autocomplete","off",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-primary"],["for",""],[1,"form-text","text-muted"]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2",2),l._uU(3," Ingreso"),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"img",4),l.qZA(),l.TgZ(6,"div"),l.TgZ(7,"form",5),l.NdJ("ngSubmit",function(){return r.login()}),l.TgZ(8,"div",6),l._UZ(9,"input",7),l.YNc(10,cB,2,0,"small",8),l.qZA(),l.TgZ(11,"div",6),l._UZ(12,"input",9),l.YNc(13,dB,2,0,"small",8),l.qZA(),l._UZ(14,"input",10),l.qZA(),l.TgZ(15,"p"),l._uU(16),l.qZA(),l.qZA(),l.TgZ(17,"div",11),l._UZ(18,"input",12),l.TgZ(19,"button",13),l.NdJ("click",function(){return r.completar("especialista")}),l._uU(20,"Especialista"),l.qZA(),l._UZ(21,"input",14),l.TgZ(22,"label",15),l._uU(23,"Paciente"),l.qZA(),l._UZ(24,"input",16),l.TgZ(25,"label",17),l._uU(26,"Administrador"),l.qZA(),l.qZA(),l._UZ(27,"br"),l._UZ(28,"label",18),l.qZA(),l.qZA()),2&t){let o,c;l.xp6(7),l.Q6J("formGroup",r.formulario),l.xp6(3),l.Q6J("ngIf",(null==(o=r.formulario.get("email"))?null:o.hasError("email"))&&(null==(o=r.formulario.get("email"))?null:o.touched)),l.xp6(3),l.Q6J("ngIf",(null==(c=r.formulario.get("clave"))?null:c.hasError("clave"))&&(null==(c=r.formulario.get("clave"))?null:c.touched)),l.xp6(1),l.Q6J("disabled",r.formulario.invalid),l.xp6(2),l.hij(" ",r.mensaje," ")}},directives:[w0,Xm,Mh,Gc,d0,Fp,In],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], [type=email][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%], [type=email][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%], [type=email][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:40%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})(),fB=(()=>{class n{constructor(t){this.afs=t,this.pacientesCollection=t.collection("pacientes"),this.encuestas=this.pacientesCollection.valueChanges()}registrarPaciente(t){return this.pacientesCollection=this.afs.collection("pacientes"),this.pacientesCollection.add(Object.assign({},t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pB=(()=>{class n{constructor(t){this.afs=t,this.especialidadesCollection=t.collection("especialidades"),this.encuestas=this.especialidadesCollection.valueChanges()}registrarEspecialidad(t){return this.especialidadesCollection=this.afs.collection("especialidades"),this.especialidadesCollection.add(Object.assign({},t))}traerEspecialidades(){return this.especialidadesCollection.valueChanges({idField:"doc_id"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mB{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new _B(e,this.dueTime,this.scheduler))}}class _B extends Rn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(yB,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function yB(n){n.debouncedNext()}var Vf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Vf||(Vf={})),Vf))();const kF="firebasestorage.googleapis.com",OF="storageBucket";class br extends Et.ZR{constructor(e,t){super(Jx(e),`Firebase Storage: ${t} (${Jx(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}_codeEquals(e){return Jx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Jx(n){return"storage/"+n}function Qx(){return new br("unknown","An unknown error occurred, please check the error payload for server response.")}function PF(){return new br("canceled","User canceled the upload/download.")}function FF(){return new br("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xB(){return new br("no-download-url","The given file does not have any download URLs.")}function dv(n){return new br("invalid-argument",n)}function LF(){return new br("app-deleted","The Firebase app was deleted.")}function VF(n){return new br("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function D1(n,e){return new br("invalid-format","String does not match format '"+n+"': "+e)}function QT(n){throw new br("internal-error","Internal error: "+n)}class RB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Vf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw QT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw QT("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class OB{createConnection(){return new RB}}class ks{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ks.makeFromUrl(e,t)}catch(o){return new ks(e,"")}if(""===r.path)return r;throw function(n){return new br("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function T(st){st.path_=decodeURIComponent(st.path)}const M=t.replace(/[.]/g,"\\."),Mt=[{regex:m,indices:{bucket:1,path:3},postModify:function(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===kF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let st=0;st<Mt.length;st++){const Xt=Mt[st],wr=Xt.regex.exec(e);if(wr){let Ho=wr[Xt.indices.path];Ho||(Ho=""),r=new ks(wr[Xt.indices.bucket],Ho),Xt.postModify(r);break}}if(null==r)throw function(n){return new br("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class PB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function XT(n){return"string"==typeof n||n instanceof String}function UF(n){return Xx()&&n instanceof Blob}function Xx(){return"undefined"!=typeof Blob}function eR(n,e,t,r){if(r<e)throw dv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dv(`Invalid value for '${n}'. Expected ${t} or less.`)}function Uf(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function BF(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}class jB{constructor(e,t,r,o,c,h,m,b,T,A,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=A,this.pool_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,U)=>{this.resolve_=V,this.reject_=U,this.start_()})}start_(){const t=(r,o)=>{const c=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(m,m.getResponseText());!function(n){return void 0!==n}(b)?c():c(b)}catch(b){h(b)}else if(null!==m){const b=Qx();b.serverResponse=m.getResponseText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(o.canceled?this.appDelete_?LF():PF():new br("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new eI(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,c=!1,h=0;function m(){return 2===h}let b=!1;function T(...Y){b||(b=!0,e.apply(null,Y))}function A(Y){o=setTimeout(()=>{o=null,n(M,m())},Y)}function M(Y,...ye){if(b)return;if(Y)return void T.call(null,Y,...ye);if(m()||c)return void T.call(null,Y,...ye);let $e;r<64&&(r*=2),1===h?(h=2,$e=0):$e=1e3*(r+Math.random()),A($e)}let V=!1;function U(Y){V||(V=!0,!b&&(null!==o?(Y||(h=2),clearTimeout(o),A(0)):Y||(h=1)))}return A(0),setTimeout(()=>{c=!0,U(!0)},t),U}((r,o)=>{if(o)return void r(!1,new eI(!1,null,!0));const c=this.pool_.createConnection();this.pendingConnection_=c;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===Vf.NO_ERROR,b=c.getStatus();if(!m||this.isRetryStatusCode_(b)){const A=c.getErrorCode()===Vf.ABORT;return void r(!1,new eI(!1,null,A))}const T=-1!==this.successCodes_.indexOf(b);r(!0,new eI(T,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||c}}class eI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function WB(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Xx())return new Blob(n);throw new br("unsupported-environment","This browser doesn't seem to support creating Blobs")}const fa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tR{constructor(e,t){this.data=e,this.contentType=t||null}}function nR(n,e){switch(n){case fa.RAW:return new tR(jF(e));case fa.BASE64:case fa.BASE64URL:return new tR(HF(n,e));case fa.DATA_URL:return new tR(function(n){const e=new $F(n);return e.base64?HF(fa.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw D1(fa.DATA_URL,"Malformed data URL.")}return jF(e)}(e.rest)}(e),function(n){return new $F(n).contentType}(e))}throw Qx()}function jF(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function HF(n,e){switch(n){case fa.BASE64:{const o=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(o||c)throw D1(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fa.BASE64URL:{const o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw D1(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw D1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class $F{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw D1(fa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class ec{constructor(e,t){let r=0,o="";UF(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(UF(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new ec(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ec(r,!0)}}static getBlob(...e){if(Xx()){const t=e.map(r=>r instanceof ec?r.data_:r);return new ec(WB.apply(null,t))}{const t=e.map(h=>XT(h)?nR(fa.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[c++]=h[m]}),new ec(o,!0)}}uploadData(){return this.data_}}function rR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function GF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function r3(n,e){return e}class io{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||r3}}let tI=null;function T1(){if(tI)return tI;const n=[];n.push(new io("bucket")),n.push(new io("generation")),n.push(new io("metageneration")),n.push(new io("name","fullPath",!0));const t=new io("name");t.xform=function(c,h){return function(n){return!XT(n)||n.length<2?n:GF(n)}(h)},n.push(t);const o=new io("size");return o.xform=function(c,h){return void 0!==h?Number(h):h},n.push(o),n.push(new io("timeCreated")),n.push(new io("updated")),n.push(new io("md5Hash",null,!0)),n.push(new io("cacheControl",null,!0)),n.push(new io("contentDisposition",null,!0)),n.push(new io("contentEncoding",null,!0)),n.push(new io("contentLanguage",null,!0)),n.push(new io("contentType",null,!0)),n.push(new io("metadata","customMetadata",!0)),tI=n,tI}function qF(n,e,t){const r=rR(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let c=0;c<o;c++){const h=t[c];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new ks(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function iR(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const ZF="prefixes";class Ud{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tc(n){if(!n)throw Qx()}function nI(n,e){return function(r,o){const c=qF(n,o,e);return tc(null!==c),c}}function hv(n){return function(t,r){let o;return o=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new br("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new br("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new br("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new br("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function rI(n){const e=hv(n);return function(r,o){let c=e(r,o);return 404===r.getStatus()&&(c=function(n){return new br("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function WF(n,e,t){const o=Uf(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ud(o,"GET",nI(n,t),h);return m.errorHandler=rI(e),m}function h3(n,e,t,r,o){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),o&&(c.maxResults=o);const m=Uf(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,A=new Ud(m,"GET",function(n,e){return function(r,o){const c=function(n,e,t){const r=rR(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[ZF])for(const o of t[ZF]){const c=o.replace(/\/$/,""),h=n._makeStorageReference(new ks(e,c));r.prefixes.push(h)}if(t.items)for(const o of t.items){const c=n._makeStorageReference(new ks(e,o.name));r.items.push(c)}return r}(n,e,r)}(n,e,o);return tc(null!==c),c}}(n,e.bucket),T);return A.urlParams=c,A.errorHandler=hv(e),A}function f3(n,e,t){const o=Uf(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ud(o,"GET",function(n,e){return function(r,o){const c=qF(n,o,e);return tc(null!==c),function(n,e,t,r){const o=rR(e);if(null===o||!XT(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(T=>{const M=n.fullPath;return Uf("/b/"+h(n.bucket)+"/o/"+h(M),t,r)+BF({alt:"media",token:T})})[0]}(c,o,n.host,n._protocol)}}(n,t),h);return m.errorHandler=rI(e),m}function p3(n,e,t,r){const c=Uf(e.fullServerUrl(),n.host,n._protocol),m=iR(t,r),T=n.maxOperationRetryTime,A=new Ud(c,"PATCH",nI(n,r),T);return A.headers={"Content-Type":"application/json; charset=utf-8"},A.body=m,A.errorHandler=rI(e),A}function g3(n,e){const r=Uf(e.fullServerUrl(),n.host,n._protocol),m=new Ud(r,"DELETE",function(b,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=rI(e),m}function YF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class iI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function sR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){tc(!1)}return tc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const b3={STATE_CHANGED:"state_changed"},so={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oR(n){switch(n){case"running":case"pausing":case"canceling":return so.RUNNING;case"paused":return so.PAUSED;case"success":return so.SUCCESS;case"canceled":return so.CANCELED;case"error":default:return so.ERROR}}class w3{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function fv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class QF{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=T1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h=YF(e,r,o),m={name:h.fullPath},b=Uf(c,n.host,n._protocol),A={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},M=iR(h,t),Y=new Ud(b,"POST",function(ye){let Pe;sR(ye);try{Pe=ye.getResponseHeader("X-Goog-Upload-URL")}catch($e){tc(!1)}return tc(XT(Pe)),Pe},n.maxUploadRetryTime);return Y.urlParams=m,Y.headers=A,Y.body=M,Y.errorHandler=hv(e),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const b=new Ud(t,"POST",function(T){const A=sR(T,["active","final"]);let M=null;try{M=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(U){tc(!1)}M||tc(!1);const V=Number(M);return tc(!isNaN(V)),new iI(V,r.size(),"final"===A)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=hv(e),b}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,t,r);this._request=c,c.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new iI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let h;try{h=function(n,e,t,r,o,c,h,m){const b=new iI(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new br("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=b.total-b.current;let A=T;o>0&&(A=Math.min(A,o));const M=b.current,Y={"X-Goog-Upload-Command":A===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ye=r.slice(M,M+A);if(null===ye)throw FF();const Mt=new Ud(t,"POST",function(st,Xt){const wr=sR(st,["active","final"]),jf=b.current+A,Ho=r.size();let bR;return bR="final"===wr?nI(e,c)(st,Xt):null,new iI(jf,Ho,"final"===wr,bR)},e.maxUploadRetryTime);return Mt.headers=Y,Mt.body=ye.uploadData(),Mt.progressCallback=m||null,Mt.errorHandler=hv(n),Mt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,o,c);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=WF(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let Mt="";for(let st=0;st<2;st++)Mt+=Math.random().toString().slice(2);return Mt}();h["Content-Type"]="multipart/related; boundary="+b;const T=YF(e,r,o),A=iR(T,t),U=ec.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+b+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===U)throw FF();const Y={name:T.fullPath},ye=Uf(c,n.host,n._protocol),$e=n.maxUploadRetryTime,et=new Ud(ye,"POST",nI(n,t),$e);return et.urlParams=Y,et.headers=h,et.body=U.uploadData(),et.errorHandler=hv(e),et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=PF(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=oR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new w3(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(oR(this._state)){case so.SUCCESS:fv(this._resolve.bind(null,this.snapshot))();break;case so.CANCELED:case so.ERROR:fv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(oR(this._state)){case so.RUNNING:case so.PAUSED:e.next&&fv(e.next.bind(e,this.snapshot))();break;case so.SUCCESS:e.complete&&fv(e.complete.bind(e))();break;case so.CANCELED:case so.ERROR:e.error&&fv(e.error.bind(e,this._error))();break;default:e.error&&fv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Xg{constructor(e,t){this._service=e,this._location=t instanceof ks?t:ks.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xg(e,t)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GF(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ks(this._location.bucket,e);return new Xg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw VF(e)}}function eL(n,e,t){return aR.apply(this,arguments)}function aR(){return(aR=(0,pe.Z)(function*(n,e,t){const o=yield tL(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield eL(n,e,o.nextPageToken))})).apply(this,arguments)}function tL(n,e){return lR.apply(this,arguments)}function lR(){return(lR=(0,pe.Z)(function*(n,e){null!=e&&"number"==typeof e.maxResults&&eR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=h3(n.storage,n._location,"/",t.pageToken,t.maxResults);return(yield n.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function uR(){return(uR=(0,pe.Z)(function*(n){n._throwIfRoot("getMetadata");const e=WF(n.storage,n._location,T1());return(yield n.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function cR(){return(cR=(0,pe.Z)(function*(n,e){n._throwIfRoot("updateMetadata");const t=p3(n.storage,n._location,e,T1());return(yield n.storage.makeRequestWithTokens(t)).getPromise()})).apply(this,arguments)}function dR(){return(dR=(0,pe.Z)(function*(n){n._throwIfRoot("getDownloadURL");const e=f3(n.storage,n._location,T1());return(yield n.storage.makeRequestWithTokens(e)).getPromise().then(t=>{if(null===t)throw xB();return t})})).apply(this,arguments)}function hR(){return(hR=(0,pe.Z)(function*(n){n._throwIfRoot("deleteObject");const e=g3(n.storage,n._location);return(yield n.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function nL(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ks(n._location.bucket,t);return new Xg(n.storage,r)}function rL(n,e){if(n instanceof fR){const t=n;if(null==t._bucket)throw new br("no-default-bucket","No default bucket found. Did you set the '"+OF+"' property when initializing the app?");const r=new Xg(t,t._bucket);return null!=e?rL(r,e):r}return void 0!==e?nL(n,e):n}function x3(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof fR)return function(n,e){return new Xg(n,e)}(n,e);throw dv("To use ref(service, url), the first argument must be a Storage instance.")}return rL(n,e)}function iL(n,e){const t=null==e?void 0:e[OF];return null==t?null:ks.makeFromBucketSpec(t,n)}class fR{constructor(e,t,r,o,c,h){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=o,this._url=c,this._firebaseVersion=h,this._bucket=null,this._host=kF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?ks.makeFromBucketSpec(c,this._host):iL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ks.makeFromBucketSpec(this._url,e):iL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xg(this,e)}_makeRequest(e,t,r){if(this._deleted)return new PB(LF());{const o=function(n,e,t,r,o,c){const h=BF(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(b,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new jB(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,t,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e){var t=this;return(0,pe.Z)(function*(){const[r,o]=yield Promise.all([t._getAuthToken(),t._getAppCheckToken()]);return t._makeRequest(e,r,o)})()}}const sL="@firebase/storage";function lL(n,e){return x3(n=(0,Et.m9)(n),e)}(0,Po._registerComponent)(new dd.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new fR(t,r,o,new OB,e,Po.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Po.registerVersion)(sL,"0.8.4",""),(0,Po.registerVersion)(sL,"0.8.4","esm2017");class sI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class uL{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new sI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new sI(r,this,this._ref))},t)}on(e,t,r,o){let c;return t&&(c="function"==typeof t?h=>t(new sI(h,this,this._ref)):{next:t.next?h=>t.next(new sI(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,o||void 0)}}class cL{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Bd(e,this._service))}get items(){return this._delegate.items.map(e=>new Bd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return nL(n,e)}(this._delegate,e);return new Bd(t,this.storage)}get root(){return new Bd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Bd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new uL(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new QF(n,new ec(e),t)}(n=(0,Et.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=fa.RAW,r){this._throwIfRoot("putString");const o=nR(t,e),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new uL(new QF(this._delegate,new ec(o.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return eL(n,e).then(()=>e)}(n=(0,Et.m9)(n))}(this._delegate).then(e=>new cL(e,this.storage))}list(e){return function(n,e){return tL(n=(0,Et.m9)(n),e)}(this._delegate,e||void 0).then(t=>new cL(t,this.storage))}getMetadata(){return function(n){return function(n){return uR.apply(this,arguments)}(n=(0,Et.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){return cR.apply(this,arguments)}(n=(0,Et.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return function(n){return dR.apply(this,arguments)}(n=(0,Et.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){return hR.apply(this,arguments)}(n=(0,Et.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw VF(e)}}class dL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(hL(e))throw dv("ref() expected a child path but got a URL, use refFromURL instead.");return new Bd(lL(this._delegate,e),this)}refFromURL(e){if(!hL(e))throw dv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ks.makeFromUrl(e,this._delegate.host)}catch(t){throw dv("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bd(lL(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Et.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function hL(n){return/^[A-Za-z]+:\/\//.test(n)}function z3(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new dL(t,r)}function fL(n){const e=function(n){return new Cn.y(e=>{const t=h=>e.next(h);t(n.snapshot);const c=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){c()}}).pipe(function(n,e=$c.P){return t=>t.lift(new mB(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function oI(n){return{getDownloadURL:()=>(0,Ge.of)(void 0).pipe(zn.fc,Gn(()=>n.getDownloadURL()),zn.iC),getMetadata:()=>(0,Ge.of)(void 0).pipe(zn.fc,Gn(()=>n.getMetadata()),zn.iC),delete:()=>(0,Kt.D)(n.delete()),child:e=>oI(n.child(e)),updateMetadata:e=>(0,Kt.D)(n.updateMetadata(e)),put:(e,t)=>fL(n.put(e,t)),putString:(e,t,r)=>fL(n.putString(e,t,r)),list:e=>(0,Kt.D)(n.list(e)),listAll:()=>(0,Kt.D)(n.listAll())}}!function(n){const e={TaskState:so,TaskEvent:b3,StringFormat:fa,Storage:dL,Reference:Bd};n.INTERNAL.registerComponent(new dd.wA("storage-compat",z3,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.4")}(Sb.Z);const K3=new l.OlP("angularfire2.storageBucket"),J3=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Q3=new l.OlP("angularfire2.storage.maxOperationRetryTime"),X3=new l.OlP("angularfire2.storage.use-emulator");let pL=(()=>{class n{constructor(t,r,o,c,h,m,b,T,A,M){const V=(0,ss.on)(t,h,r);this.storage=(0,ss.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const U=h.runOutsideAngular(()=>V.storage(o||void 0)),Y=A;return Y&&U.useEmulator(...Y),b&&U.setMaxUploadRetryTime(b),T&&U.setMaxOperationRetryTime(T),U},[b,T])}ref(t){return oI(this.storage.ref(t))}refFromURL(t){return oI(this.storage.refFromURL(t))}upload(t,r,o){return oI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ss.Dh),l.LFG(ss.xv,8),l.LFG(K3,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(zn.HU),l.LFG(J3,8),l.LFG(Q3,8),l.LFG(X3,8),l.LFG(WT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ej=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),tj=(()=>{class n{constructor(){Wx.Z.registerVersion("angularfire",zn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pL],imports:[ej]}),n})(),nj=(()=>{class n{constructor(t){this.storage=t}tareaCloudStorage(t,r){var o=this;return(0,pe.Z)(function*(){return o.storage.upload(t,r)})()}referenciaCloudStorage(t){return this.storage.ref(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rj=["myModalConf"];function ij(n,e){if(1&n&&(l.TgZ(0,"option",7),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.s9C("value",t),l.xp6(1),l.hij(" ",t," ")}}function sj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El Nombre es requerido."),l.qZA())}function oj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El apellido es requerido."),l.qZA())}function aj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"La edad es requerida."),l.qZA())}function lj(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1,"La edad minima es 18."),l.qZA())}function uj(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1,"La edad maxima es 99."),l.qZA())}function cj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El dni es requerido."),l.qZA())}function dj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"La obraSocial es requerida."),l.qZA())}function hj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El email es requerido."),l.qZA())}function fj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"La clave es requerida."),l.qZA())}function pj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El archivo es requerida."),l.qZA())}function gj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El archivo es requerida."),l.qZA())}function mj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"form",8),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw(2).aceptarPaciente()}),l.TgZ(2,"div",9),l._UZ(3,"input",10),l.YNc(4,sj,2,0,"small",11),l.qZA(),l.TgZ(5,"div",9),l._UZ(6,"input",12),l.YNc(7,oj,2,0,"small",11),l.qZA(),l.TgZ(8,"div",9),l._UZ(9,"input",13),l.YNc(10,aj,2,0,"small",11),l.YNc(11,lj,2,0,"small",14),l.YNc(12,uj,2,0,"small",14),l.qZA(),l.TgZ(13,"div",9),l._UZ(14,"input",15),l.YNc(15,cj,2,0,"small",11),l.qZA(),l.TgZ(16,"div",9),l._UZ(17,"input",16),l.YNc(18,dj,2,0,"small",11),l.qZA(),l.TgZ(19,"div",9),l._UZ(20,"input",17),l.YNc(21,hj,2,0,"small",11),l.qZA(),l.TgZ(22,"div",9),l._UZ(23,"input",18),l.YNc(24,fj,2,0,"small",11),l.qZA(),l.TgZ(25,"div",9),l.TgZ(26,"input",19),l.NdJ("change",function(o){return l.CHM(t),l.oxw(2).cambioArchivo(o)}),l.qZA(),l._UZ(27,"img",20),l.YNc(28,pj,2,0,"small",11),l.qZA(),l.TgZ(29,"div",9),l.TgZ(30,"input",21),l.NdJ("change",function(o){return l.CHM(t),l.oxw(2).cambioArchivo(o)}),l.qZA(),l._UZ(31,"img",20),l.YNc(32,gj,2,0,"small",11),l.qZA(),l.TgZ(33,"button",22),l._uU(34,"ENVIAR"),l.qZA(),l.qZA(),l._uU(35),l.qZA()}if(2&n){const t=l.oxw(2);let r,o,c,h,m,b,T,A,M,V,U;l.xp6(1),l.Q6J("formGroup",t.formulario),l.xp6(3),l.Q6J("ngIf",(null==(r=t.formulario.get("nombre"))?null:r.hasError("required"))&&(null==(r=t.formulario.get("nombre"))?null:r.touched)),l.xp6(3),l.Q6J("ngIf",(null==(o=t.formulario.get("apellido"))?null:o.hasError("apellido"))&&(null==(o=t.formulario.get("apellido"))?null:o.touched)),l.xp6(3),l.Q6J("ngIf",(null==(c=t.formulario.get("edad"))?null:c.hasError("required"))&&(null==(c=t.formulario.get("edad"))?null:c.touched)),l.xp6(1),l.Q6J("ngIf",(null==(h=t.formulario.get("edad"))?null:h.hasError("min"))&&(null==(h=t.formulario.get("edad"))?null:h.touched)),l.xp6(1),l.Q6J("ngIf",(null==(m=t.formulario.get("edad"))?null:m.hasError("max"))&&(null==(m=t.formulario.get("edad"))?null:m.touched)),l.xp6(3),l.Q6J("ngIf",(null==(b=t.formulario.get("dni"))?null:b.hasError("dni"))&&(null==(b=t.formulario.get("dni"))?null:b.touched)),l.xp6(3),l.Q6J("ngIf",(null==(T=t.formulario.get("obraSocial"))?null:T.hasError("obraSocial"))&&(null==(T=t.formulario.get("obraSocial"))?null:T.touched)),l.xp6(3),l.Q6J("ngIf",(null==(A=t.formulario.get("email"))?null:A.hasError("email"))&&(null==(A=t.formulario.get("email"))?null:A.touched)),l.xp6(3),l.Q6J("ngIf",(null==(M=t.formulario.get("clave"))?null:M.hasError("clave"))&&(null==(M=t.formulario.get("clave"))?null:M.touched)),l.xp6(3),l.s9C("src",t.img,l.LSH),l.xp6(1),l.Q6J("ngIf",(null==(V=t.formularioEspecialista.get("archivo1"))?null:V.hasError("archivo1"))&&(null==(V=t.formularioEspecialista.get("archivo1"))?null:V.touched)),l.xp6(3),l.s9C("src",t.img,l.LSH),l.xp6(1),l.Q6J("ngIf",(null==(U=t.formularioEspecialista.get("archivo2"))?null:U.hasError("archivo"))&&(null==(U=t.formularioEspecialista.get("archivo2"))?null:U.touched)),l.xp6(1),l.Q6J("disabled",t.formulario.invalid),l.xp6(2),l.hij(" ",t.mensaje," ")}}function _j(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El Nombre es requerido."),l.qZA())}function yj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El apellido es requerido."),l.qZA())}function vj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"La edad es requerida."),l.qZA())}function bj(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1,"La edad minima es 18."),l.qZA())}function wj(n,e){1&n&&(l.TgZ(0,"small",24),l._uU(1,"La edad maxima es 99."),l.qZA())}function Ej(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El dni es requerido."),l.qZA())}function Cj(n,e){if(1&n&&(l.TgZ(0,"option"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.nombre," ")}}function Dj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El email es requerido."),l.qZA())}function Tj(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"La clave es requerida."),l.qZA())}function Ij(n,e){1&n&&(l.TgZ(0,"small",23),l._uU(1,"El archivo es requerida."),l.qZA())}function Sj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",32),l.TgZ(1,"div",33),l.TgZ(2,"h5",34),l._uU(3,"Modificar estado actual"),l.qZA(),l.TgZ(4,"button",35),l.NdJ("click",function(){return l.CHM(t).$implicit.close("Cerrado desde la ventana")}),l.TgZ(5,"span",36),l._uU(6,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",37),l.TgZ(8,"form",8),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw(3).aceptarEspecialidad()}),l.TgZ(9,"div",38),l.TgZ(10,"label",39),l._uU(11,"Especialidad:"),l.qZA(),l._UZ(12,"input",40),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",41),l.TgZ(14,"button",42),l.NdJ("click",function(){return l.CHM(t).$implicit.close("No")}),l._uU(15,"Cancelar"),l.qZA(),l.TgZ(16,"button",43),l.NdJ("click",function(){return l.CHM(t),l.oxw(3).aceptarEspecialidad()}),l._uU(17,"Guardar"),l.qZA(),l.qZA(),l._uU(18),l.qZA()}if(2&n){const t=l.oxw(3);l.xp6(8),l.Q6J("formGroup",t.formulario_Especialidad),l.xp6(8),l.Q6J("disabled",t.formulario_Especialidad.invalid),l.xp6(2),l.hij(" ",t.mensaje," ")}}function Aj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"form",8),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw(2).aceptarEspecialista()}),l.TgZ(2,"div",9),l._UZ(3,"input",25),l.YNc(4,_j,2,0,"small",11),l.qZA(),l.TgZ(5,"div",9),l._UZ(6,"input",12),l.YNc(7,yj,2,0,"small",11),l.qZA(),l.TgZ(8,"div",9),l._UZ(9,"input",13),l.YNc(10,vj,2,0,"small",11),l.YNc(11,bj,2,0,"small",14),l.YNc(12,wj,2,0,"small",14),l.qZA(),l.TgZ(13,"div",9),l._UZ(14,"input",15),l.YNc(15,Ej,2,0,"small",11),l.qZA(),l.TgZ(16,"label"),l._uU(17,"Elegir una opcion: "),l.qZA(),l.TgZ(18,"select",26),l.TgZ(19,"option",27),l._uU(20,"Seleccionar..."),l.qZA(),l.YNc(21,Cj,2,1,"option",28),l.qZA(),l._UZ(22,"br"),l.TgZ(23,"button",29),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).mostrarModalEditar()}),l._uU(24,"Crear especialidad"),l.qZA(),l._UZ(25,"br"),l.TgZ(26,"div",9),l._UZ(27,"input",17),l.YNc(28,Dj,2,0,"small",11),l.qZA(),l.TgZ(29,"div",9),l._UZ(30,"input",18),l.YNc(31,Tj,2,0,"small",11),l.qZA(),l.TgZ(32,"div",9),l.TgZ(33,"input",30),l.NdJ("change",function(o){return l.CHM(t),l.oxw(2).cambioArchivo(o)}),l.qZA(),l._UZ(34,"img",20),l.YNc(35,Ij,2,0,"small",11),l.qZA(),l.TgZ(36,"button",22),l._uU(37,"ENVIAR"),l.qZA(),l.qZA(),l._uU(38),l.YNc(39,Sj,19,3,"ng-template",null,31,l.W1O),l.qZA()}if(2&n){const t=l.oxw(2);let r,o,c,h,m,b,T,A,M;l.xp6(1),l.Q6J("formGroup",t.formularioEspecialista),l.xp6(3),l.Q6J("ngIf",(null==(r=t.formularioEspecialista.get("nombre_"))?null:r.hasError("required"))&&(null==(r=t.formularioEspecialista.get("nombre_"))?null:r.touched)),l.xp6(3),l.Q6J("ngIf",(null==(o=t.formularioEspecialista.get("apellido"))?null:o.hasError("apellido"))&&(null==(o=t.formularioEspecialista.get("apellido"))?null:o.touched)),l.xp6(3),l.Q6J("ngIf",(null==(c=t.formularioEspecialista.get("edad"))?null:c.hasError("required"))&&(null==(c=t.formularioEspecialista.get("edad"))?null:c.touched)),l.xp6(1),l.Q6J("ngIf",(null==(h=t.formularioEspecialista.get("edad"))?null:h.hasError("min"))&&(null==(h=t.formularioEspecialista.get("edad"))?null:h.touched)),l.xp6(1),l.Q6J("ngIf",(null==(m=t.formularioEspecialista.get("edad"))?null:m.hasError("max"))&&(null==(m=t.formularioEspecialista.get("edad"))?null:m.touched)),l.xp6(3),l.Q6J("ngIf",(null==(b=t.formularioEspecialista.get("dni"))?null:b.hasError("dni"))&&(null==(b=t.formularioEspecialista.get("dni"))?null:b.touched)),l.xp6(6),l.Q6J("ngForOf",t.especialidades),l.xp6(7),l.Q6J("ngIf",(null==(T=t.formularioEspecialista.get("email"))?null:T.hasError("email"))&&(null==(T=t.formularioEspecialista.get("email"))?null:T.touched)),l.xp6(3),l.Q6J("ngIf",(null==(A=t.formularioEspecialista.get("clave"))?null:A.hasError("clave"))&&(null==(A=t.formularioEspecialista.get("clave"))?null:A.touched)),l.xp6(3),l.s9C("src",t.img,l.LSH),l.xp6(1),l.Q6J("ngIf",(null==(M=t.formularioEspecialista.get("archivo"))?null:M.hasError("archivo"))&&(null==(M=t.formularioEspecialista.get("archivo"))?null:M.touched)),l.xp6(1),l.Q6J("disabled",t.formularioEspecialista.invalid),l.xp6(2),l.hij(" ",t.mensaje," ")}}function Nj(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,mj,36,16,"div",6),l.YNc(2,Aj,41,14,"div",6),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.paciente&&null!=t.paciente),l.xp6(1),l.Q6J("ngIf",!t.paciente&&null!=t.paciente)}}const Mj=[{path:"",component:uB},{path:"registro",component:(()=>{class n{constructor(t,r,o,c,h,m,b,T,A){this.fb=t,this.fbesp=r,this.router=o,this.pacienteSrv=c,this.especialistasSrv=h,this.especialidadesSrv=m,this.authSrv=b,this.fileSrv=T,this.modalService=A,this.tipoUsuario=["Especialista","Paciente"],this.especialidades=[],this.opcionSeleccionado="0",this.verSeleccion="",this.completarForm=!0,this.mensaje="",this.img="",this.mensajeArchivo="No hay un archivo seleccionado",this.nombreArchivo="",this.URLPublica="",this.porcentaje=0,this.finalizado=!1,this.paciente=null,this.formulario=t.group({nombre:["",[Ht.required]],apellido:["",[Ht.required]],edad:["",[Ht.required,Ht.min(18),Ht.max(99)]],dni:["",[Ht.required,Ht.pattern("^[0-9]*$"),Ht.maxLength(10),Ht.minLength(10)]],obraSocial:["",Ht.required],email:["",[Ht.required,Ht.email]],clave:["",Ht.required],archivo1:[null,Ht.required],archivo2:[null,Ht.required]}),this.formularioEspecialista=r.group({nombre_:["",Ht.required],apellido:["",Ht.required],edad:["",[Ht.required,Ht.min(18),Ht.max(99)]],dni:["",[Ht.required,Ht.pattern("^[0-9]*$"),Ht.maxLength(10),Ht.minLength(10)]],especialidad:["",Ht.required],email:["",[Ht.required,Ht.email]],clave:["",Ht.required],archivo:[null,Ht.required]}),this.formulario_Especialidad=t.group({nombre:["",[Ht.required]]}),this.especialidadesSrv.traerEspecialidades().subscribe(M=>{this.especialidades=M})}ngOnInit(){}capturar(){this.verSeleccion=this.opcionSeleccionado,this.paciente="Paciente"==this.verSeleccion}aceptarPaciente(){var t=this;return(0,pe.Z)(function*(){const r=t.formulario.value;t.completarForm=!1;let o={nombre:r.nombre,apellido:r.apellido,edad:r.edad,dni:r.dni,email:r.email,obraSocial:r.obraSocial,clave:r.clave,archivo2:r.archivo1,archivo1:r.archivo2,perfil:"paciente"};try{(yield t.authSrv.registerUser(o.email,o.clave))&&t.pacienteSrv.registrarPaciente(o).then(h=>{console.log(o),t.mensaje="Usuario creado"})}catch(c){console.log(c),t.mensaje=""+c}})()}aceptarEspecialista(){var t=this;return(0,pe.Z)(function*(){const r=t.formularioEspecialista.value;t.completarForm=!1;let o={nombre:r.nombre_,apellido:r.apellido,edad:r.edad,dni:r.dni,email:r.email,especialidad:r.especialidad,clave:r.clave,archivo:t.nombreArchivo,perfil:"especialista",estado:"pendiente"};try{(yield t.authSrv.registerUser(o.email,o.clave))&&t.especialistasSrv.registrarEspecialista(o).then(h=>{console.log(o),t.mensaje="Usuario creado"})}catch(c){console.log(c),t.mensaje=""+c}})()}aceptarEspecialidad(){const t=this.formulario_Especialidad.value;this.completarForm=!1;let r={nombre:t.nombre};this.especialidadesSrv.registrarEspecialidad(r).then(o=>{console.log(r),this.mensaje="Especialidad creada",this.modalService.open(this.myModalConf).close("Si")})}cambioArchivo(t){if(t.target.files.length>0)for(let r=0;r<t.target.files.length;r++)this.nombreArchivo=this.getFilePath(),this.subirArchivo();else this.mensajeArchivo="No hay un archivo seleccionado"}subirArchivo(){var t=this;return(0,pe.Z)(function*(){let r=t.formularioEspecialista.get("archivo");t.fileSrv.referenciaCloudStorage(t.nombreArchivo),t.fileSrv.tareaCloudStorage(t.nombreArchivo,r).then(function(){var h=(0,pe.Z)(function*(m){const b=yield m.ref.getDownloadURL();console.log(b),t.img=b});return function(m){return h.apply(this,arguments)}}())})()}getFilePath(){return(new Date).getTime()+"-usuarios"}mostrarModalEditar(){this.modalService.open(this.myModalConf).result.then(t=>{console.log("Tu respuesta ha sido: "+t)},t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(M0),l.Y36(M0),l.Y36(Mi),l.Y36(fB),l.Y36(xF),l.Y36(pB),l.Y36(RF),l.Y36(nj),l.Y36(V_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro"]],viewQuery:function(t,r){if(1&t&&l.Gf(rj,5),2&t){let o;l.iGM(o=l.CRH())&&(r.myModalConf=o.first)}},decls:13,vars:3,consts:[[1,"wrapper","fadeInDown"],["id","formContent"],[1,"active"],[3,"ngModel","ngModelChange","change"],["selected","","value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","nombre","placeholder","Nombre",1,"fadeIn","second"],["class","form-text text-muted",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"fadeIn","second"],["type","number","formControlName","edad","placeholder","Edad",1,"fadeIn","second"],["id","edadHelp2","class","form-text text-muted",4,"ngIf"],["type","number","formControlName","dni","placeholder","DNI",1,"fadeIn","second"],["type","text","formControlName","obraSocial","placeholder","Obra social",1,"fadeIn","second"],["type","email","formControlName","email","placeholder","Email",1,"fadeIn","second"],["type","password","formControlName","clave","placeholder","Clave",1,"fadeIn","third"],["type","file","formControlName","archivo1",1,"file-input",3,"change"],["width","100px",3,"src"],["type","file","formControlName","archivo2",1,"file-input",3,"change"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"form-text","text-muted"],["id","edadHelp2",1,"form-text","text-muted"],["type","text","formControlName","nombre_","placeholder","Nombre",1,"fadeIn","second"],["name","especialidad","formControlName","especialidad"],["value","","selected",""],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["type","file","formControlName","archivo",1,"file-input",3,"change"],["myModalConf",""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","nombre",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled","click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2",2),l._uU(3," Registro"),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"label"),l._uU(6,"\xbfQue tipo de usuario esta por registrar?"),l.qZA(),l.TgZ(7,"select",3),l.NdJ("ngModelChange",function(c){return r.opcionSeleccionado=c})("change",function(){return r.capturar()}),l.TgZ(8,"option",4),l._uU(9,"Elegir opcion"),l.qZA(),l.YNc(10,ij,2,2,"option",5),l.qZA(),l._UZ(11,"br"),l.YNc(12,Nj,3,2,"div",6),l.qZA(),l.qZA()),2&t&&(l.xp6(7),l.Q6J("ngModel",r.opcionSeleccionado),l.xp6(3),l.Q6J("ngForOf",r.tipoUsuario),l.xp6(2),l.Q6J("ngIf",null!=r.paciente))},directives:[c_,d0,b0,d_,f_,wt,In,w0,Xm,Mh,Gc,Fp,E0],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:40%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})()},{path:"login",component:hB},{path:"homeAdmin",component:lB}];let xj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jv.forRoot(Mj)],jv]}),n})(),Rj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar","navbar-light",2,"background-color","#e3f2fd"],[1,"nav","justify-content-end"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","registro",1,"nav-link"],["href","login",1,"nav-link"],["href","homeAdmin","tabindex","-1","aria-disabled","true",1,"nav-link"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0),l.TgZ(1,"ul",1),l.TgZ(2,"li",2),l.TgZ(3,"a",3),l._uU(4,"Inicio"),l.qZA(),l.qZA(),l.TgZ(5,"li",2),l.TgZ(6,"a",4),l._uU(7,"Registro"),l.qZA(),l.qZA(),l.TgZ(8,"li",2),l.TgZ(9,"a",5),l._uU(10,"Login"),l.qZA(),l.qZA(),l.TgZ(11,"li",2),l.TgZ(12,"a",6),l._uU(13,"Home admin"),l.qZA(),l.qZA(),l.qZA(),l.qZA())},directives:[O_],styles:[""]}),n})(),kj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:12,vars:0,consts:[["data-stellar-background-ratio","5"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-12","border-top"],[1,"col-md-4","col-sm-6"],[1,"copyright-text"],[1,"col-md-2","col-sm-2","text-align-center"],[1,"angle-up-btn"],["href","#top","data-wow-delay","1.2s",1,"smoothScroll","wow","fadeInUp"],[1,"fa","fa-angle-up"]],template:function(t,r){1&t&&(l.TgZ(0,"footer",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"p"),l._uU(7,"Copyright \xa9 2018 Your Company | Design: Tooplate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"div",7),l.TgZ(10,"a",8),l._UZ(11,"i",9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA())},styles:[""]}),n})(),Oj=(()=>{class n{constructor(){this.title="ClinicaTP"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l._UZ(1,"router-outlet"),l._UZ(2,"app-footer"))},directives:[Rj,Th,kj],styles:[""]}),n})();const gL_firebase={apiKey:"AIzaSyC22xa6jkjuAokYLpk6-yxGZqDPLCbGz7Q",authDomain:"tpclinica-282c4.firebaseapp.com",projectId:"tpclinica-282c4",storageBucket:"tpclinica-282c4.appspot.com",messagingSenderId:"280488327089",appId:"1:280488327089:web:5dd19cb67214056891af90"};class mL{}class _L{}class jd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),c=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const c=e.value;if(c){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===c.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pj{encodeKey(e){return yL(e)}encodeValue(e){return yL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Lj=/%(\d[a-f0-9])/gi,Vj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function yL(n){return encodeURIComponent(n).replace(Lj,(e,t)=>{var r;return null!==(r=Vj[t])&&void 0!==r?r:e})}function vL(n){return`${n}`}class Bf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[h,m]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],b=t.get(h)||[];b.push(m),t.set(h,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(vL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(vL(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Uj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function bL(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function wL(n){return"undefined"!=typeof Blob&&n instanceof Blob}function EL(n){return"undefined"!=typeof FormData&&n instanceof FormData}class I1{constructor(e,t,r,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new jd),this.context||(this.context=new Uj),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new Bf,this.urlWithParams=t}serializeBody(){return null===this.body?null:bL(this.body)||wL(this.body)||EL(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||EL(this.body)?null:wL(this.body)?this.body.type||null:bL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,c=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let T=e.headers||this.headers,A=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(T=Object.keys(e.setHeaders).reduce((V,U)=>V.set(U,e.setHeaders[U]),T)),e.setParams&&(A=Object.keys(e.setParams).reduce((V,U)=>V.set(U,e.setParams[U]),A)),new I1(r,o,h,{params:A,headers:T,context:M,reportProgress:b,responseType:c,withCredentials:m})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class pR{constructor(e,t=200,r="OK"){this.headers=e.headers||new jd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gR extends pR{constructor(e={}){super(e),this.type=ei.ResponseHeader}clone(e={}){return new gR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class aI extends pR{constructor(e={}){super(e),this.type=ei.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new aI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class CL extends pR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Hj=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let c;if(t instanceof I1)c=t;else{let b,T;b=o.headers instanceof jd?o.headers:new jd(o.headers),o.params&&(T=o.params instanceof Bf?o.params:new Bf({fromObject:o.params})),c=new I1(t,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,Ge.of)(c).pipe(ka(b=>this.handler.handle(b)));if(t instanceof I1||"events"===o.observe)return h;const m=h.pipe(cn(b=>b instanceof aI));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe((0,tt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,tt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,tt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return m.pipe((0,tt.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Bf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,mR(o,r))}post(t,r,o={}){return this.request("POST",t,mR(o,r))}put(t,r,o={}){return this.request("PUT",t,mR(o,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class DL{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const TL=new l.OlP("HTTP_INTERCEPTORS");let $j=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Gj=/^\)\]\}',?\n/;let IL=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Cn.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((U,Y)=>o.setRequestHeader(U,Y.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const U=t.detectContentTypeHeader();null!==U&&o.setRequestHeader("Content-Type",U)}if(t.responseType){const U=t.responseType.toLowerCase();o.responseType="json"!==U?U:"text"}const c=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const U=1223===o.status?204:o.status,Y=o.statusText||"OK",ye=new jd(o.getAllResponseHeaders()),Pe=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return h=new gR({headers:ye,status:U,statusText:Y,url:Pe}),h},b=()=>{let{headers:U,status:Y,statusText:ye,url:Pe}=m(),$e=null;204!==Y&&($e=void 0===o.response?o.responseText:o.response),0===Y&&(Y=$e?200:0);let et=Y>=200&&Y<300;if("json"===t.responseType&&"string"==typeof $e){const Mt=$e;$e=$e.replace(Gj,"");try{$e=""!==$e?JSON.parse($e):null}catch(st){$e=Mt,et&&(et=!1,$e={error:st,text:$e})}}et?(r.next(new aI({body:$e,headers:U,status:Y,statusText:ye,url:Pe||void 0})),r.complete()):r.error(new CL({error:$e,headers:U,status:Y,statusText:ye,url:Pe||void 0}))},T=U=>{const{url:Y}=m(),ye=new CL({error:U,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Y||void 0});r.error(ye)};let A=!1;const M=U=>{A||(r.next(m()),A=!0);let Y={type:ei.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(Y.total=U.total),"text"===t.responseType&&!!o.responseText&&(Y.partialText=o.responseText),r.next(Y)},V=U=>{let Y={type:ei.UploadProgress,loaded:U.loaded};U.lengthComputable&&(Y.total=U.total),r.next(Y)};return o.addEventListener("load",b),o.addEventListener("error",T),o.addEventListener("timeout",T),o.addEventListener("abort",T),t.reportProgress&&(o.addEventListener("progress",M),null!==c&&o.upload&&o.upload.addEventListener("progress",V)),o.send(c),r.next({type:ei.Sent}),()=>{o.removeEventListener("error",T),o.removeEventListener("abort",T),o.removeEventListener("load",b),o.removeEventListener("timeout",T),t.reportProgress&&(o.removeEventListener("progress",M),null!==c&&o.upload&&o.upload.removeEventListener("progress",V)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ll))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _R=new l.OlP("XSRF_COOKIE_NAME"),yR=new l.OlP("XSRF_HEADER_NAME");class SL{}let Zj=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ar(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe),l.LFG(l.Lbi),l.LFG(_R))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),vR=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SL),l.LFG(yR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zj=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(TL,[]);this.chain=r.reduceRight((o,c)=>new DL(o,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_L),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Wj=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:vR,useClass:$j}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:_R,useValue:t.cookieName}:[],t.headerName?{provide:yR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vR,{provide:TL,useExisting:vR,multi:!0},{provide:SL,useClass:Zj},{provide:_R,useValue:"XSRF-TOKEN"},{provide:yR,useValue:"X-XSRF-TOKEN"}]}),n})(),Yj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Hj,{provide:mL,useClass:zj},IL,{provide:_L,useExisting:IL}],imports:[[Wj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Oj]}),n.\u0275inj=l.cJS({providers:[],imports:[[gr,zf,xj,ME,xE,ss.hO.initializeApp(gL_firebase),KU,iB,tj,BA,Yj]]}),n})();(0,l.G48)(),Wo().bootstrapModule(Kj).catch(n=>console.error(n))},4762:(Ye,we,F)=>{"use strict";function he(se,ue){var ve={};for(var ce in se)Object.prototype.hasOwnProperty.call(se,ce)&&ue.indexOf(ce)<0&&(ve[ce]=se[ce]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ce=Object.getOwnPropertySymbols(se);Fe<ce.length;Fe++)ue.indexOf(ce[Fe])<0&&Object.prototype.propertyIsEnumerable.call(se,ce[Fe])&&(ve[ce[Fe]]=se[ce[Fe]])}return ve}function K(se,ue,ve,ce){return new(ve||(ve=Promise))(function(me,ht){function zt(yt){try{_t(ce.next(yt))}catch(vt){ht(vt)}}function Tn(yt){try{_t(ce.throw(yt))}catch(vt){ht(vt)}}function _t(yt){yt.done?me(yt.value):function(me){return me instanceof ve?me:new ve(function(ht){ht(me)})}(yt.value).then(zt,Tn)}_t((ce=ce.apply(se,ue||[])).next())})}function H(se,ue){var ce,Fe,me,ht,ve={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return ht={next:zt(0),throw:zt(1),return:zt(2)},"function"==typeof Symbol&&(ht[Symbol.iterator]=function(){return this}),ht;function zt(_t){return function(yt){return function(_t){if(ce)throw new TypeError("Generator is already executing.");for(;ve;)try{if(ce=1,Fe&&(me=2&_t[0]?Fe.return:_t[0]?Fe.throw||((me=Fe.return)&&me.call(Fe),0):Fe.next)&&!(me=me.call(Fe,_t[1])).done)return me;switch(Fe=0,me&&(_t=[2&_t[0],me.value]),_t[0]){case 0:case 1:me=_t;break;case 4:return ve.label++,{value:_t[1],done:!1};case 5:ve.label++,Fe=_t[1],_t=[0];continue;case 7:_t=ve.ops.pop(),ve.trys.pop();continue;default:if(!(me=(me=ve.trys).length>0&&me[me.length-1])&&(6===_t[0]||2===_t[0])){ve=0;continue}if(3===_t[0]&&(!me||_t[1]>me[0]&&_t[1]<me[3])){ve.label=_t[1];break}if(6===_t[0]&&ve.label<me[1]){ve.label=me[1],me=_t;break}if(me&&ve.label<me[2]){ve.label=me[2],ve.ops.push(_t);break}me[2]&&ve.ops.pop(),ve.trys.pop();continue}_t=ue.call(se,ve)}catch(yt){_t=[6,yt],Fe=0}finally{ce=me=0}if(5&_t[0])throw _t[1];return{value:_t[0]?_t[1]:void 0,done:!0}}([_t,yt])}}}function $(se){var ue="function"==typeof Symbol&&Symbol.iterator,ve=ue&&se[ue],ce=0;if(ve)return ve.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ce>=se.length&&(se=void 0),{value:se&&se[ce++],done:!se}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(se,ue){var ve="function"==typeof Symbol&&se[Symbol.iterator];if(!ve)return se;var Fe,ht,ce=ve.call(se),me=[];try{for(;(void 0===ue||ue-- >0)&&!(Fe=ce.next()).done;)me.push(Fe.value)}catch(zt){ht={error:zt}}finally{try{Fe&&!Fe.done&&(ve=ce.return)&&ve.call(ce)}finally{if(ht)throw ht.error}}return me}function De(se,ue,ve){if(ve||2===arguments.length)for(var me,ce=0,Fe=ue.length;ce<Fe;ce++)(me||!(ce in ue))&&(me||(me=Array.prototype.slice.call(ue,0,ce)),me[ce]=ue[ce]);return se.concat(me||Array.prototype.slice.call(ue))}F.d(we,{_T:()=>he,mG:()=>K,Jh:()=>H,XA:()=>$,CR:()=>le,ev:()=>De})},8239:(Ye,we,F)=>{"use strict";function l(L,he,ie,Q,oe,K,H){try{var P=L[K](H),B=P.value}catch($){return void ie($)}P.done?he(B):Promise.resolve(B).then(Q,oe)}function ne(L){return function(){var he=this,ie=arguments;return new Promise(function(Q,oe){var K=L.apply(he,ie);function H(B){l(K,Q,oe,H,P,"next",B)}function P(B){l(K,Q,oe,H,P,"throw",B)}H(void 0)})}}F.d(we,{Z:()=>ne})}},Ye=>{Ye(Ye.s=7537)}]);