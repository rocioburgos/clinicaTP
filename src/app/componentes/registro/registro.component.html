<div class="wrapper fadeInDown">
  <div id="formContent">
    <!-- Tabs Titles -->
    <h2 class="active"> Registro</h2>
    <br>
    <label>Â¿Que tipo de usuario esta por registrar?</label>

    <select [(ngModel)]="opcionSeleccionado" (change)="capturar()">
      <option selected value="0">Elegir opcion</option>
      <option *ngFor="let dato of tipoUsuario" value="{{dato}}">
        {{dato}}
      </option>
    </select>

    <br>
    <div *ngIf='paciente!= null'>
      <div *ngIf='paciente && paciente!= null'>
        <form [formGroup]='formulario' (ngSubmit)='aceptarPaciente()'>

          <div class="form-group">
            <input type="text" formControlName='nombre' class="fadeIn second" placeholder="Nombre">
            <small class="form-text text-muted"
              *ngIf="formulario.get('nombre')?.hasError('required') && formulario.get('nombre')?.touched">El Nombre es
              requerido.</small>
          </div>


          <div class="form-group">
            <input type="text" formControlName='apellido' class="fadeIn second" placeholder="Apellido">
            <small class="form-text text-muted"
              *ngIf="formulario.get('apellido')?.hasError('apellido') && formulario.get('apellido')?.touched">El
              apellido es requerido.</small>
          </div>

          <div class="form-group">
            <input type="number" formControlName='edad' class="fadeIn second" placeholder="Edad">
            <small class="form-text text-muted"
              *ngIf="formulario.get('edad')?.hasError('required') && formulario.get('edad')?.touched">La edad es
              requerida.</small>
            <small id="edadHelp2" class="form-text text-muted"
              *ngIf="formulario.get('edad')?.hasError('min') && formulario.get('edad')?.touched">La edad minima es
              18.</small>
            <small id="edadHelp2" class="form-text text-muted"
              *ngIf="formulario.get('edad')?.hasError('max') && formulario.get('edad')?.touched">La edad maxima es
              99.</small>
          </div>


          <div class="form-group">
            <input type="number" formControlName='dni' class="fadeIn second" placeholder="DNI">
            <small class="form-text text-muted"
              *ngIf="formulario.get('dni')?.hasError('dni') && formulario.get('dni')?.touched">El
              dni es requerido.</small>
          </div>

          <div class="form-group">
            <input type="text" formControlName='obraSocial' class="fadeIn second" placeholder="Obra social">
            <small class="form-text text-muted"
              *ngIf="formulario.get('obraSocial')?.hasError('obraSocial') && formulario.get('obraSocial')?.touched">La
              obraSocial es requerida.</small>
          </div>


          <div class="form-group">

            <input type="email" formControlName='email' class="fadeIn second" placeholder="Email">
            <small class="form-text text-muted"
              *ngIf="formulario.get('email')?.hasError('email') && formulario.get('email')?.touched">El email es
              requerido.</small>
          </div>

          <div class="form-group">
            <input type="password" formControlName='clave' class="fadeIn third" placeholder="Clave">
            <small class="form-text text-muted"
              *ngIf="formulario.get('clave')?.hasError('clave') && formulario.get('clave')?.touched">La clave es
              requerida.</small>
          </div>


          <div class="form-group">
            <input class="file-input" type="file"  formControlName="archivo1"
              (change)="cambioArchivo($event)">
            <img src="{{img}}" width="100px">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('archivo1')?.hasError('archivo1') && formularioEspecialista.get('archivo1')?.touched">El 
              archivo es requerida.</small>
          </div>    
          
          <div class="form-group">
            <input class="file-input" type="file"  formControlName="archivo2"
              (change)="cambioArchivo($event)">
            <img src="{{img}}" width="100px">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('archivo2')?.hasError('archivo') && formularioEspecialista.get('archivo2')?.touched">El 
              archivo es requerida.</small>
          </div>
 
           

          <button type="submit" class="btn btn-success" [disabled]='formulario.invalid'>ENVIAR</button>
        </form>
        {{mensaje}}
      </div>


      <div *ngIf='!paciente && paciente!= null'>
        <form [formGroup]='formularioEspecialista' (ngSubmit)='aceptarEspecialista()'>
          <div class="form-group">
            <input type="text" formControlName='nombre_' class="fadeIn second" placeholder="Nombre">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('nombre_')?.hasError('required') && formularioEspecialista.get('nombre_')?.touched">El
              Nombre es
              requerido.</small>
          </div>


          <div class="form-group">
            <input type="text" formControlName='apellido' class="fadeIn second" placeholder="Apellido">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('apellido')?.hasError('apellido') && formularioEspecialista.get('apellido')?.touched">El
              apellido es requerido.</small>
          </div>

          <div class="form-group">
            <input type="number" formControlName='edad' class="fadeIn second" placeholder="Edad">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('edad')?.hasError('required') && formularioEspecialista.get('edad')?.touched">La
              edad es
              requerida.</small>
            <small id="edadHelp2" class="form-text text-muted"
              *ngIf="formularioEspecialista.get('edad')?.hasError('min') && formularioEspecialista.get('edad')?.touched">La
              edad minima es
              18.</small>
            <small id="edadHelp2" class="form-text text-muted"
              *ngIf="formularioEspecialista.get('edad')?.hasError('max') && formularioEspecialista.get('edad')?.touched">La
              edad maxima es
              99.</small>
          </div>


          <div class="form-group">
            <input type="number" formControlName='dni' class="fadeIn second" placeholder="DNI">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('dni')?.hasError('dni') && formularioEspecialista.get('dni')?.touched">El
              dni es requerido.</small>
          </div>


          <label>Elegir una opcion: </label>
          <select name="especialidad" formControlName='especialidad'>
            <option  value ='' selected>Seleccionar...</option>
            <option  *ngFor='let esp of especialidades'> {{esp.nombre}} </option>
          </select>
          <br>

          <button type="button" class="btn btn-primary" (click)="mostrarModalEditar()">Crear
            especialidad</button>
          <br>
          <div class="form-group">

            <input type="email" formControlName='email' class="fadeIn second" placeholder="Email">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('email')?.hasError('email') && formularioEspecialista.get('email')?.touched">El
              email es
              requerido.</small>
          </div>

          <div class="form-group">
            <input type="password" formControlName='clave' class="fadeIn third" placeholder="Clave">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('clave')?.hasError('clave') && formularioEspecialista.get('clave')?.touched">La
              clave es
              requerida.</small>
          </div>


          <div class="form-group">
            <input class="file-input" type="file"  formControlName="archivo"
              (change)="cambioArchivo($event)">
            <img src="{{img}}" width="100px">
            <small class="form-text text-muted"
              *ngIf="formularioEspecialista.get('archivo')?.hasError('archivo') && formularioEspecialista.get('archivo')?.touched">El 
              archivo es requerida.</small>
          </div>

          <button type="submit" class="btn btn-success" [disabled]='formularioEspecialista.invalid'>ENVIAR</button>
        </form>
        {{mensaje}}

        
    <ng-template #myModalConf let-modal>
 
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modificar estado actual</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modal.close('Cerrado desde la ventana')">
              <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
          <form [formGroup]='formulario_Especialidad' (ngSubmit)='aceptarEspecialidad()'>
            <div class="mb-3">
              <label for="recipient-name" class="col-form-label">Especialidad:</label>
              <input type="text" class="form-control" id="recipient-name" formControlName='nombre'>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modal.close('No')">Cancelar</button>
          <button type="submit" class="btn btn-success" (click)="aceptarEspecialidad()" [disabled]='formulario_Especialidad.invalid'>Guardar</button>
        </div>
        {{mensaje}}
      </div>
     
    </ng-template>
 
      </div>

    </div>
  </div>
</div>